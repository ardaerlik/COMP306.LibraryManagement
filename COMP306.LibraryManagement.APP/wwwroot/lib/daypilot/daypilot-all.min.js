/**
@license
DayPilot Pro for JavaScript 2023.2.5574 (trial)
Copyright (c) 2005 - 2023 Annpoint s.r.o.
https://www.daypilot.org/
Use of this software is subject to license terms.
*/
if ("undefined" == typeof DayPilot) var DayPilot = {};
if (
  ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function (DayPilot) {
    function e(e) {
      var t = DayPilot.Date.Cache.Ticks;
      if (t[e]) return (DayPilot.Stats.cacheHitsTicks += 1), t[e];
      var n,
        i = new Date(e),
        a = i.getUTCMilliseconds();
      n = 0 === a ? "" : a < 10 ? ".00" + a : a < 100 ? ".0" + a : "." + a;
      var r = i.getUTCSeconds();
      r < 10 && (r = "0" + r);
      var o = i.getUTCMinutes();
      o < 10 && (o = "0" + o);
      var s = i.getUTCHours();
      s < 10 && (s = "0" + s);
      var l = i.getUTCDate();
      l < 10 && (l = "0" + l);
      var d = i.getUTCMonth() + 1;
      d < 10 && (d = "0" + d);
      var c = i.getUTCFullYear();
      if (c <= 0) throw "The minimum year supported is 1.";
      c < 10
        ? (c = "000" + c)
        : c < 100
        ? (c = "00" + c)
        : c < 1e3 && (c = "0" + c);
      var u = c + "-" + d + "-" + l + "T" + s + ":" + o + ":" + r + n;
      return (t[e] = u), u;
    }
    function t(e, t) {
      return (
        !DayPilot.Util.isNullOrUndefined(e) &&
        !DayPilot.Util.isNullOrUndefined(t) &&
        e.toLocaleLowerCase() === t.toLocaleLowerCase()
      );
    }
    function n(e) {
      (e = Math.min(e, 255)), (e = Math.max(e, 0));
      var t = e.toString(16);
      return e < 16 ? "0" + t : t;
    }
    if ("undefined" == typeof DayPilot.$) {
      (DayPilot.$ = function (e) {
        return document.getElementById(e);
      }),
        (DayPilot.isKhtml =
          navigator &&
          navigator.userAgent &&
          navigator.userAgent.indexOf("KHTML") !== -1),
        (DayPilot.isIE =
          navigator &&
          navigator.userAgent &&
          (navigator.userAgent.indexOf("MSIE") !== -1 ||
            navigator.userAgent.indexOf("Trident") !== -1)),
        (DayPilot.isIEQuirks =
          DayPilot.isIE &&
          document.compatMode &&
          "BackCompat" === document.compatMode),
        (DayPilot.browser = {}),
        (DayPilot.browser.ff =
          navigator &&
          navigator.userAgent &&
          navigator.userAgent.indexOf("Firefox") !== -1),
        (DayPilot.browser.chrome =
          navigator &&
          navigator.userAgent &&
          navigator.userAgent.indexOf("Chrome") !== -1),
        (DayPilot.browser.ie = DayPilot.isIE),
        (DayPilot.browser.edge =
          navigator &&
          navigator.userAgent &&
          navigator.userAgent.indexOf("Edge") !== -1),
        (DayPilot.browser.webkit =
          navigator &&
          navigator.userAgent &&
          navigator.userAgent.indexOf("WebKit") !== -1),
        (DayPilot.browser.hover =
          !window.matchMedia("(any-hover: none)").matches),
        (DayPilot.browser.passiveEvents = !1),
        (function () {
          try {
            window.addEventListener(
              "test",
              null,
              Object.defineProperty({}, "passive", {
                get: function () {
                  DayPilot.browser.passiveEvents = !0;
                },
              })
            );
          } catch (e) {}
        })(),
        (DayPilot.libs = {}),
        (DayPilot.libs.angularjs = "object" == typeof angularjs),
        (DayPilot.touch = {}),
        (DayPilot.touch.start = window.navigator.msPointerEnabled
          ? "MSPointerDown"
          : "touchstart"),
        (DayPilot.touch.move = window.navigator.msPointerEnabled
          ? "MSPointerMove"
          : "touchmove"),
        (DayPilot.touch.end = window.navigator.msPointerEnabled
          ? "MSPointerUp"
          : "touchend"),
        (DayPilot.mo2 = function (e, t) {
          if ("undefined" != typeof t.offsetX) {
            var n = { x: t.offsetX + 1, y: t.offsetY + 1 };
            if (!e) return n;
            for (var i = t.srcElement; i && i !== e; )
              "SPAN" !== i.tagName &&
                ((n.x += i.offsetLeft),
                i.offsetTop > 0 && (n.y += i.offsetTop - i.scrollTop)),
                (i = i.offsetParent);
            return i ? n : null;
          }
          if ("undefined" != typeof t.layerX) {
            var n = { x: t.layerX, y: t.layerY, src: t.target };
            if (!e) return n;
            for (
              var i = t.target;
              i &&
              "absolute" !== i.style.position &&
              "relative" !== i.style.position;

            )
              (i = i.parentNode), DayPilot.isKhtml && (n.y += i.scrollTop);
            for (; i && i !== e; )
              (n.x += i.offsetLeft),
                (n.y += i.offsetTop - i.scrollTop),
                (i = i.offsetParent);
            return i ? n : null;
          }
          return null;
        }),
        (DayPilot.mo3 = function (e, t) {
          var n,
            i = DayPilot.page(t);
          if (i)
            if (e) {
              var a = DayPilot.abs(e);
              if (!a) throw new Error("no abs");
              n = { x: i.x - a.x, y: i.y - a.y };
            } else n = { x: i.x, y: i.y };
          else if (((n = DayPilot.mo2(e, t)), !n)) return null;
          return (
            (n.shift = t.shiftKey),
            (n.meta = t.metaKey),
            (n.ctrl = t.ctrlKey),
            (n.alt = t.altKey),
            n
          );
        }),
        (DayPilot.mc = function (e) {
          if (e.touches) {
            var t = e.touches[0];
            return { x: t.pageX, y: t.pageY };
          }
          return e.pageX || e.pageY
            ? { x: e.pageX, y: e.pageY }
            : {
                x: e.clientX + document.documentElement.scrollLeft,
                y: e.clientY + document.documentElement.scrollTop,
              };
        }),
        (DayPilot.Stats = {}),
        (DayPilot.Stats.eventObjects = 0),
        (DayPilot.Stats.dateObjects = 0),
        (DayPilot.Stats.cacheHitsCtor = 0),
        (DayPilot.Stats.cacheHitsParsing = 0),
        (DayPilot.Stats.cacheHitsTicks = 0),
        (DayPilot.list = function (e, t) {
          if (e && e.isDayPilotList && !t) return e;
          var n =
              DayPilot.isArray(e) ||
              "[object NodeList]" === Object.prototype.toString.call(e),
            i = !n && !DayPilot.Util.isNullOrUndefined(e),
            a = [];
          if (
            ((a.isDayPilotList = !0),
            (a.clone = function () {
              var e = DayPilot.list();
              return (
                a.forEach(function (t) {
                  e.push(t);
                }),
                e
              );
            }),
            (a.each = function (e) {
              if (e) {
                if (a.forEach) return void a.forEach(e);
                for (var t = 0; t < this.length; t++) e(a[t], t, a);
              }
            }),
            (a.addProps = function (e) {
              var t = a.clone();
              if (e) for (var n in e) t[n] = e[n];
              return t;
            }),
            (a.last = function () {
              return 0 === a.length ? null : a[a.length - 1];
            }),
            (a.first = function () {
              return 0 === a.length ? null : a[0];
            }),
            (a.add = function (e) {
              var t = a.clone();
              return t.push(e), t;
            }),
            (a.map = function (e) {
              if ("function" != typeof e)
                throw "DayPilot.list().map(f): Function expected";
              var t = DayPilot.list();
              return (
                a.forEach(function (n, i, a) {
                  t.push(e(n, i, a));
                }),
                t
              );
            }),
            (a.filter = function (e) {
              var t = DayPilot.list();
              if ("function" != typeof e)
                throw "DayPilot.list().filter(f): Function expected";
              return (
                a.forEach(function (n, i, a) {
                  e(n, i, a) && t.push(n);
                }),
                t
              );
            }),
            (a.concat = function (e) {
              if (!e) return a;
              for (var t = a.clone(), n = 0; n < e.length; n++) t.push(e[n]);
              return t;
            }),
            a.find ||
              (a.find = function (e) {
                if ("function" != typeof e)
                  throw "DayPilot.list().find(f): Function expected";
                for (var t = 0; t < this.length; t++) if (e(a[t])) return a[t];
              }),
            a.findIndex ||
              (a.findIndex = function (e) {
                if ("function" != typeof e)
                  throw "DayPilot.list().findIndex(f): Function expected";
                for (var t = 0; t < this.length; t++) if (e(a[t])) return t;
                return -1;
              }),
            a.some ||
              (a.some = function (e) {
                if ("function" != typeof e)
                  throw "DayPilot.list().some(f): Function expected";
                for (var t = 0; t < this.length; t++) if (e(a[t])) return !0;
                return !1;
              }),
            a.reduce ||
              (a.reduce = function (e, t) {
                if ("function" != typeof e)
                  throw "DayPilot.list().reduce(f): Function expected";
                var n,
                  i = 0;
                if ("undefined" != typeof t) n = t;
                else {
                  if (((i = 1), 0 === a.length))
                    throw "DayPilot.list().reduce(f): No initial value and empty list";
                  n = a[0];
                }
                for (var r = i; r < this.length; r++) n = e(n, a[r], r, this);
                return n;
              }),
            (a.isEmpty = function () {
              return 0 === a.length;
            }),
            n)
          )
            for (var r = 0; r < e.length; r++) a[r] = e[r];
          else i && (a[0] = e);
          return a;
        }),
        (DayPilot.list.for = function (e, t) {
          for (var n = DayPilot.list(), i = 0; i < e; i++)
            "function" == typeof t ? n.push(t(i)) : n.push(i);
          return n;
        }),
        (DayPilot.line = function (e, t, n, i, a) {
          a = a || {};
          var r = { x: e, y: t },
            o = { x: n, y: i, deg: DayPilot.deg(e, t, n, i) },
            s = !1;
          if (t < i) {
            var l = t;
            (t = i), (i = l), (l = e), (e = n), (n = l), (s = !0);
          }
          var d = DayPilot.deg(e, t, n, i),
            c = { x: e, y: t },
            u = { x: n, y: i },
            h = (function () {
              var a = Math.abs(e - n),
                r = Math.abs(t - i),
                o = (e + n) / 2;
              return o - Math.sqrt(a * a + r * r) / 2;
            })(),
            f = (function () {
              return (t + i) / 2;
            })(),
            v = DayPilot.distance(c, u),
            p = document.createElement("div");
          p.setAttribute(
            "style",
            "width:" +
              v +
              "px;height:0px;-moz-transform:rotate(" +
              d +
              "deg);-webkit-transform:rotate(" +
              d +
              "deg);-ms-transform:rotate(" +
              d +
              "deg);transform:rotate(" +
              d +
              "deg);position:absolute;top:" +
              f +
              "px;left:" +
              h +
              "px;"
          ),
            a.cssClass && (p.className = a.cssClass);
          var m = document.createElement("div");
          m.appendChild(p);
          var g,
            y,
            d,
            b,
            w = !!a.arrow;
          if (w) {
            var g = o.y - 5,
              y = o.x - 5,
              d = d;
            o.y > r.y && (d -= 180);
            var b = document.createElement("div");
            (b.style.borderColor = "black"),
              (b.style.width = "10px"),
              (b.style.height = "10px"),
              (b.style.borderRadius = "10px"),
              (b.style.position = "absolute"),
              (b.style.left = y + "px"),
              (b.style.top = g + "px"),
              a.cssClass
                ? (b.className = a.cssClass + "_circle")
                : (b.style.backgroundColor = "black"),
              m.appendChild(b);
          }
          return m;
        }),
        (DayPilot.deg = function (e, t, n, i) {
          var a,
            r = Math.abs(e - n),
            o = Math.abs(t - i),
            s = (e + n) / 2,
            l = (t + i) / 2,
            d = Math.sqrt(r * r + o * o),
            c = s - d / 2,
            u = l;
          (r = d / 2),
            (a = Math.abs(s - c)),
            (o = Math.sqrt(
              Math.abs(e - c) * Math.abs(e - c) +
                Math.abs(t - u) * Math.abs(t - u)
            ));
          var h = (o * o - r * r - a * a) / (2 * r * a);
          return (180 * Math.acos(h)) / Math.PI;
        }),
        (DayPilot.complete = function (e) {
          return "complete" === document.readyState
            ? void e()
            : (DayPilot.complete.list ||
                ((DayPilot.complete.list = []),
                DayPilot.re(document, "readystatechange", function () {
                  if ("complete" === document.readyState) {
                    for (var e = 0; e < DayPilot.complete.list.length; e++) {
                      (0, DayPilot.complete.list[e])();
                    }
                    DayPilot.complete.list = [];
                  }
                })),
              void DayPilot.complete.list.push(e));
        }),
        (DayPilot.page = function (e) {
          var t =
            e.changedTouches && e.changedTouches[0] ? e.changedTouches[0] : e;
          return "undefined" == typeof t.pageX || DayPilot.browser.ie
            ? "undefined" != typeof e.clientX &&
              document.body &&
              document.documentElement
              ? {
                  x:
                    e.clientX +
                    document.body.scrollLeft +
                    document.documentElement.scrollLeft,
                  y:
                    e.clientY +
                    document.body.scrollTop +
                    document.documentElement.scrollTop,
                }
              : null
            : { x: t.pageX, y: t.pageY };
        }),
        (DayPilot.rel = function (e, t) {
          var n = DayPilot.abs(e),
            i = DayPilot.abs(t);
          return {
            x: n.x - i.x,
            y: n.y - i.y,
            w: e.offsetWidth,
            h: e.offsetHeight,
          };
        }),
        (DayPilot.abs = function (e, t) {
          if (!e) return null;
          if (e.getBoundingClientRect) {
            var n = DayPilot.absBoundingClientBased(e);
            if (t) {
              var i = DayPilot.absOffsetBased(e, !1),
                t = DayPilot.absOffsetBased(e, !0);
              (n.x += t.x - i.x), (n.y += t.y - i.y), (n.w = t.w), (n.h = t.h);
            }
            return n;
          }
          return DayPilot.absOffsetBased(e, t);
        }),
        (DayPilot.absBoundingClientBased = function (e) {
          var t = e.getBoundingClientRect();
          return {
            x: t.left + window.pageXOffset,
            y: t.top + window.pageYOffset,
            w: e.clientWidth,
            h: e.clientHeight,
            toString: function () {
              return (
                "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h
              );
            },
          };
        }),
        (DayPilot.isArray = function (e) {
          return "[object Array]" === Object.prototype.toString.call(e);
        }),
        (DayPilot.absOffsetBased = function (e, t) {
          for (
            var n = {
              x: e.offsetLeft,
              y: e.offsetTop,
              w: e.clientWidth,
              h: e.clientHeight,
              toString: function () {
                return (
                  "x:" +
                  this.x +
                  " y:" +
                  this.y +
                  " w:" +
                  this.w +
                  " h:" +
                  this.h
                );
              },
            };
            DayPilot.op(e);

          )
            (e = DayPilot.op(e)),
              (n.x -= e.scrollLeft),
              (n.y -= e.scrollTop),
              t &&
                (n.x < 0 && ((n.w += n.x), (n.x = 0)),
                n.y < 0 && ((n.h += n.y), (n.y = 0)),
                e.scrollLeft > 0 &&
                  n.x + n.w > e.clientWidth &&
                  (n.w -= n.x + n.w - e.clientWidth),
                e.scrollTop &&
                  n.y + n.h > e.clientHeight &&
                  (n.h -= n.y + n.h - e.clientHeight)),
              (n.x += e.offsetLeft),
              (n.y += e.offsetTop);
          var i = DayPilot.pageOffset();
          return (n.x += i.x), (n.y += i.y), n;
        }),
        (DayPilot.wd = function () {
          var e = DayPilot.isIEQuirks,
            t = document.documentElement.clientHeight;
          e && (t = document.body.clientHeight);
          var n = document.documentElement.clientWidth;
          e && (n = document.body.clientWidth);
          var i =
              (document.documentElement &&
                document.documentElement.scrollTop) ||
              document.body.scrollTop,
            a =
              (document.documentElement &&
                document.documentElement.scrollLeft) ||
              document.body.scrollLeft,
            r = {};
          return (
            (r.width = n),
            (r.height = t),
            (r.scrollTop = i),
            (r.scrollLeft = a),
            r
          );
        }),
        (DayPilot.op = function (e) {
          try {
            return e.offsetParent;
          } catch (e) {
            return document.body;
          }
        }),
        (DayPilot.distance = function (e, t) {
          return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2));
        }),
        (DayPilot.doc = function () {
          var e = document.documentElement;
          return e && e.clientHeight ? e : document.body;
        }),
        (DayPilot.pageOffset = function () {
          if ("undefined" != typeof window.pageXOffset)
            return { x: window.pageXOffset, y: window.pageYOffset };
          var e = DayPilot.doc();
          return { x: e.scrollLeft, y: e.scrollTop };
        }),
        (DayPilot.ac = function (e, t) {
          if (!t) var t = [];
          for (var n = 0; e.children && n < e.children.length; n++)
            t.push(e.children[n]), DayPilot.ac(e.children[n], t);
          return t;
        }),
        (DayPilot.indexOf = function (e, t, n) {
          if (!e || !e.length) return -1;
          for (var i = 0; i < e.length; i++)
            if (n) {
              if (n(e[i], t)) return i;
            } else if (e[i] === t) return i;
          return -1;
        }),
        (DayPilot.contains = function (e, t) {
          if (2 !== arguments.length)
            throw new DayPilot.Exception(
              "DayPilot.contains() requires two arguments."
            );
          return (
            !!e &&
            ((e === t && !DayPilot.isArray(e)) || DayPilot.indexOf(e, t) !== -1)
          );
        }),
        (DayPilot.rfa = function (e, t) {
          var n = DayPilot.indexOf(e, t);
          n !== -1 && e.splice(n, 1);
        }),
        (DayPilot.sheet = function (e) {
          e = e || window.document;
          var t = e.createElement("style");
          t.setAttribute("type", "text/css"),
            t.styleSheet || t.appendChild(e.createTextNode("")),
            (e.head || e.getElementsByTagName("head")[0]).appendChild(t);
          var n = !!t.styleSheet,
            i = {};
          return (
            (i.rules = []),
            (i.commit = function () {
              try {
                n && (t.styleSheet.cssText = this.rules.join("\n"));
              } catch (e) {}
            }),
            (i.add = function (e, a, r) {
              if (n) return void this.rules.push(e + "{" + a + "}");
              if (t.sheet.insertRule)
                "undefined" == typeof r && (r = t.sheet.cssRules.length),
                  t.sheet.insertRule(e + "{" + a + "}", r);
              else {
                if (!t.sheet.addRule) throw "No CSS registration method found";
                t.sheet.addRule(e, a, r);
              }
              return i;
            }),
            (i.print = function () {
              for (var e = t.sheet.cssRules, n = [], i = 0; i < e.length; i++)
                n.push(e[i].cssText);
              return n.join("\n");
            }),
            i
          );
        }),
        (DayPilot.Args = function (e) {
          var t = this;
          (this.isArgs = !0),
            (this.preventDefault = function () {
              e && e.preventDefault(), (t.preventDefault.value = !0);
            });
        }),
        (DayPilot.Debug = function (e) {
          var t = this;
          (this.printToBrowserConsole = !1),
            (this.enabled = !1),
            (this.messages = []),
            (this.target = null),
            (this.c = null),
            (this.clear = function () {
              (this.messages = []), t.c && (t.c.innerHTML = "");
            }),
            (this.hide = function () {
              DayPilot.de(t.c), (t.c = null);
            }),
            (this.show = function () {
              t.c && t.hide();
              var n = e.nav.top,
                i = document.createElement("div");
              (i.style.position = "absolute"),
                (i.style.top = "0px"),
                (i.style.bottom = "0px"),
                (i.style.left = "0px"),
                (i.style.right = "0px"),
                (i.style.backgroundColor = "black"),
                (i.style.color = "#ccc"),
                (i.style.overflow = "auto"),
                (i.style.webkitUserSelect = "auto"),
                (i.style.MozUserSelect = "all"),
                (i.onclick = function () {
                  t.hide();
                });
              for (var a = 0; a < this.messages.length; a++) {
                var r = t.messages[a],
                  o = r.f();
                i.appendChild(o);
              }
              (this.c = i), n.appendChild(i);
            }),
            (this.log = function () {
              if (t.target) {
                for (var e = [], n = 0; n < arguments.length; n++) {
                  var i = arguments[n];
                  e.push(i);
                }
                var a = e.join(" ");
                (t.target.style.whiteSpace = "pre"),
                  (t.target.innerText += a + "\n");
              }
            }),
            (this.message = function (e, t) {
              if (this.enabled) {
                var n = {};
                (n.time = new DayPilot.Date()),
                  (n.level = t || "debug"),
                  (n.text = DayPilot.Util.escapeHtml(e)),
                  (n.f = function () {
                    var e = document.createElement("div");
                    switch (
                      ((e.innerHTML = n.time + " (" + n.level + "): " + n.text),
                      n.level)
                    ) {
                      case "error":
                        e.style.color = "red";
                        break;
                      case "warning":
                        e.style.color = "orange";
                        break;
                      case "info":
                        e.style.color = "white";
                        break;
                      case "debug":
                    }
                    return e;
                  }),
                  this.messages.push(n),
                  this.printToBrowserConsole &&
                    "undefined" != typeof console &&
                    console.log(n);
              }
            });
        }),
        (DayPilot.re = function (e, t, n) {
          n && e && e.addEventListener(t, n, !1);
        }),
        (DayPilot.rePassive = function (e, t, n) {
          n && e && e.addEventListener(t, n, { passive: !0 });
        }),
        (DayPilot.reNonPassive = function (e, t, n) {
          n && e && e.addEventListener(t, n, { passive: !1 });
        }),
        (DayPilot.ue = function (e, t, n) {
          e.removeEventListener(t, n, !1);
        }),
        (DayPilot.ds = function (e) {
          return DayPilot.Date.toStringSortable(e);
        }),
        (DayPilot.gs = function (e, t) {
          return window.getComputedStyle(e, null).getPropertyValue(t) || "";
        }),
        (DayPilot.StyleReader = function (e) {
          (this.get = function (t) {
            return e ? DayPilot.gs(e, t) : null;
          }),
            (this.getPx = function (e) {
              var t = this.get(e);
              return t.indexOf("px") === -1 ? void 0 : parseInt(t, 10);
            }),
            (this.getFont = function () {
              var e = this.get("font-weight"),
                t = "italic" === this.get("font-style") ? "italic" : "";
              return {
                family: this.get("font-family"),
                size: this.get("font-size"),
                style: t + " " + e,
                asString: function () {
                  return DayPilot.Util.fontString(this);
                },
              };
            }),
            (this.getBackColor = function (e) {
              "undefined" == typeof e && (e = "white");
              var t = this.get("background-color");
              return DayPilot.Util.isTransparentColor(t) ? e : t;
            });
        }),
        (DayPilot.he = function (e) {
          var t = e.replace(/&/g, "&amp;");
          return (
            (t = t.replace(/</g, "&lt;")),
            (t = t.replace(/>/g, "&gt;")),
            (t = t.replace(/"/g, "&quot;"))
          );
        }),
        (DayPilot.he2 = function (e) {
          var t = document.createTextNode(e),
            n = document.createElement("div");
          return n.appendChild(t), n.innerHTML;
        }),
        (DayPilot.us = function (e) {
          if (e) {
            e.setAttribute("unselectable", "on"),
              (e.style.userSelect = "none"),
              (e.style.MozUserSelect = "none"),
              (e.style.KhtmlUserSelect = "none"),
              (e.style.webkitUserSelect = "none");
            for (var t = 0; t < e.childNodes.length; t++)
              1 === e.childNodes[t].nodeType && DayPilot.us(e.childNodes[t]);
          }
        }),
        (DayPilot.pu = function (e) {
          var t,
            n,
            i,
            a = e.attributes;
          if (a)
            for (n = a.length, t = 0; t < n; t += 1)
              a[t] &&
                ((i = a[t].name), "function" == typeof e[i] && (e[i] = null));
          if ((a = e.childNodes))
            for (n = a.length, t = 0; t < n; t += 1) {
              DayPilot.pu(e.childNodes[t]);
            }
        }),
        (DayPilot.puc = function (e) {
          var t,
            n,
            i = e.childNodes;
          if (i) {
            var n = i.length;
            for (t = 0; t < n; t += 1) DayPilot.pu(e.childNodes[t]);
          }
        }),
        (DayPilot.de = function (e) {
          if (e)
            if (DayPilot.isArray(e))
              for (var t = 0; t < e.length; t++) DayPilot.de(e[t]);
            else
              e.parentNode &&
                e.parentNode.contains(e) &&
                e.parentNode.removeChild(e);
        }),
        (DayPilot.fade = function (e, t, n) {
          if (e) {
            clearTimeout(e.messageTimeout);
            var i = "none" !== e.style.display,
              a = t > 0,
              r = t < 0;
            if (0 !== t) {
              if ((a ? (e.status = "in") : r && (e.status = "out"), a && !i))
                (e.target = parseFloat(e.style.opacity)),
                  (e.opacity = 0),
                  (e.style.opacity = 0),
                  (e.style.display = "");
              else if (r && !e.target) e.target = e.style.opacity;
              else {
                var o = e.opacity,
                  s = Math.floor(10 * (o + t)) / 10;
                a && s > e.target && (s = e.target), r && s < 0 && (s = 0);
                (e.opacity = s), (e.style.opacity = s);
              }
              (a && (e.opacity >= e.target || e.opacity >= 1)) ||
              (r && e.opacity <= 0)
                ? ((e.target = null),
                  r &&
                    ((e.style.opacity = e.target),
                    (e.opacity = e.target),
                    (e.style.display = "none")),
                  n && "function" == typeof n && ((e.status = null), n()))
                : (e.messageTimeout = setTimeout(function () {
                    DayPilot.fade(e, t, n);
                  }, 50));
            }
          }
        }),
        (DayPilot.sw = function (e) {
          return e ? e.offsetWidth - e.clientWidth : 0;
        }),
        (DayPilot.swa = function () {
          var e = document.createElement("div");
          (e.style.position = "absolute"),
            (e.style.top = "-2000px"),
            (e.style.left = "-2000px"),
            (e.style.width = "200px"),
            (e.style.height = "100px"),
            (e.style.overflow = "auto");
          var t = document.createElement("div");
          (t.style.width = "300px"),
            (t.style.height = "300px"),
            e.appendChild(t),
            document.body.appendChild(e);
          var n = DayPilot.sw(e);
          return document.body.removeChild(e), n;
        }),
        (DayPilot.sh = function (e) {
          return e ? e.offsetHeight - e.clientHeight : 0;
        }),
        (DayPilot.guid = function () {
          var e = function () {
            return ((65536 * (1 + Math.random())) | 0)
              .toString(16)
              .substring(1);
          };
          return (
            "" +
            e() +
            e() +
            "-" +
            e() +
            "-" +
            e() +
            "-" +
            e() +
            "-" +
            e() +
            e() +
            e()
          );
        }),
        (DayPilot.ua = function (e) {
          if (!DayPilot.isArray(e))
            throw new DayPilot.Exception("DayPilot.ua() - array required");
          var t = [];
          return (
            e.forEach(function (e) {
              DayPilot.contains(t, e) || t.push(e);
            }),
            t
          );
        }),
        (DayPilot.am = function () {
          return "undefined" == typeof angular
            ? null
            : (DayPilot.am.cached ||
                (DayPilot.am.cached = angular.module("daypilot", [])),
              DayPilot.am.cached);
        }),
        (function () {
          function e(e, i) {
            var a = {
              w: e.offsetWidth,
              h: e.offsetHeight,
              x: parseInt(e.style.left),
              y: parseInt(e.style.top),
            };
            (a.height = e.style.height),
              (a.width = e.style.width),
              (a.top = e.style.top),
              (a.left = e.style.left),
              (a.toString = function () {
                return "w: " + this.w + " h:" + this.h;
              });
            var r = {};
            if (
              ((r.finished = null),
              (r.vertical = "center"),
              (r.horizontal = "center"),
              i)
            )
              for (var o in i) r[o] = i[o];
            (e.style.visibility = "hidden"), (e.style.display = "");
            var s = i.animation || "fast",
              l = t(s);
            (l.div = e), (l.i = 0), (l.target = a), (l.config = r), n(l);
          }
          function t(e) {
            var t = function () {
                var e = [];
                e.time = 10;
                var t,
                  n = 0.08;
                t = 0.1;
                for (var i = t; i < 1.2; i += n) e.push(i), (t = i);
                n = 0.03;
                for (var i = t; i > 0.8; i -= n) e.push(i), (t = i);
                for (var i = t; i <= 1; i += n) e.push(i), (t = i);
                return e;
              },
              n = function () {
                var e = [];
                e.time = 10;
                var t,
                  n = 0.04;
                t = 0.1;
                for (var i = t; i <= 1; i += n) e.push(i), (t = i);
                return e;
              },
              i = function () {
                var e = [];
                e.time = 10;
                var t,
                  n = 0.08;
                t = 0.1;
                for (var i = t; i <= 1; i += n) e.push(i), (t = i);
                return e;
              },
              a = { fast: i, slow: n, jump: t };
            return a[e] || (e = "fast"), a[e]();
          }
          function n(e) {
            var t,
              i = e.div,
              a = e[e.i],
              r = a * e.target.h;
            switch (e.config.vertical) {
              case "center":
                t = e.target.y - (r - e.target.h) / 2;
                break;
              case "top":
                t = e.target.y;
                break;
              case "bottom":
                t = e.target.y - (r - e.target.h);
                break;
              default:
                throw "Unexpected 'vertical' value.";
            }
            var o,
              s = a * e.target.w;
            switch (e.config.horizontal) {
              case "left":
                o = e.target.x;
                break;
              case "center":
                o = e.target.x - (s - e.target.w) / 2;
                break;
              case "right":
                o = e.target.x - (s - e.target.w);
                break;
              default:
                throw "Unexpected 'horizontal' value.";
            }
            (i.style.height = r + "px"),
              (i.style.top = t + "px"),
              (i.style.width = s + "px"),
              (i.style.left = o + "px"),
              (i.style.visibility = "visible"),
              e.i++,
              e.i < e.length - 1
                ? setTimeout(
                    (function (e) {
                      return function () {
                        n(e);
                      };
                    })(e),
                    e.time
                  )
                : ((i.style.width = e.target.width),
                  (i.style.height = e.target.height),
                  (i.style.top = e.target.top),
                  (i.style.left = e.target.left),
                  "function" == typeof e.config.finished &&
                    e.config.finished());
          }
          DayPilot.pop = e;
        })(),
        (DayPilot.Util = {}),
        (DayPilot.Util.addClass = function (e, t) {
          if (t && e)
            if (DayPilot.isArray(e))
              for (var n = 0; n < e.length; n++)
                DayPilot.Util.addClass(e[n], t);
            else {
              if (!e.className) return void (e.className = t);
              var i = new RegExp("(^|\\s)" + t + "($|\\s)");
              i.test(e.className) || (e.className = e.className + " " + t);
            }
        }),
        (DayPilot.Util.normalizeColor = function (e) {
          function t(e) {
            return (
              (e = e.replace(/[^\d,]/g, "").split(",")),
              "#" +
                ((1 << 24) + (+e[0] << 16) + (+e[1] << 8) + +e[2])
                  .toString(16)
                  .slice(1)
            );
          }
          return 0 === e.indexOf("rgb") ? t(e) : e;
        }),
        (DayPilot.Util.addClassToString = function (e, t) {
          return e
            ? new RegExp("(^|\\s)" + t + "($|\\s)").test(e)
              ? e
              : e + " " + t
            : t;
        }),
        (DayPilot.Util.removeClassFromString = function (e, t) {
          if (!e) return "";
          var n = new RegExp("(^|\\s)" + t + "($|\\s)");
          return e
            .replace(n, " ")
            .replace(/^\s\s*/, "")
            .replace(/\s\s*$/, "");
        }),
        (DayPilot.Util.removeClass = function (e, t) {
          if (e)
            if (DayPilot.isArray(e))
              for (var n = 0; n < e.length; n++)
                DayPilot.Util.removeClass(e[n], t);
            else if (e.className) {
              var i = new RegExp("(^|\\s)" + t + "($|\\s)");
              e.className = e.className
                .replace(i, " ")
                .replace(/^\s\s*/, "")
                .replace(/\s\s*$/, "");
            }
        }),
        (DayPilot.Util.props = function (e) {
          var t = [];
          for (var n in e) t.push(n), t.push(e[n]);
          return t.join("-");
        }),
        (DayPilot.Util.propArray = function (e, t, n) {
          return DayPilot.list(e).map(function (e) {
            return e[t] ? e[t] : n;
          });
        }),
        (DayPilot.Util.updatePropsFromArray = function (e, t, n) {
          for (var i = 0; i < n.length; i++) e[i][t] = n[i];
        }),
        (DayPilot.Util.copyProps = function (e, t, n) {
          if ((t || (t = {}), !e)) return t;
          if ("undefined" == typeof n)
            for (var i in e)
              e.hasOwnProperty(i) &&
                "undefined" != typeof e[i] &&
                (t[i] = e[i]);
          else
            for (var a = 0; a < n.length; a++) {
              var i = n[a];
              "undefined" != typeof e[i] && (t[i] = e[i]);
            }
          return t;
        }),
        (DayPilot.Util.ownPropsAsArray = function (e) {
          var t = [];
          if (!e) return t;
          for (var n in e)
            if (e.hasOwnProperty(n)) {
              var i = {};
              (i.key = n), (i.val = e[n]), t.push(i);
            }
          return t;
        }),
        (DayPilot.Util.firstPropValue = function (e) {
          for (var t in e) return e[t];
        }),
        (DayPilot.Util.isOnlyProperty = function (e, t) {
          if (!e) return !1;
          for (var n in e) if (e.hasOwnProperty(n) && n !== t) return !1;
          return !0;
        }),
        (DayPilot.Util.createArrayCopy = function (e, t) {
          if (!DayPilot.isArray(e)) return [];
          for (var n = [], i = 0; i < e.length; i++) {
            var a = {};
            DayPilot.Util.copyProps(e[i], a, t), n.push(a);
          }
          return n;
        }),
        (DayPilot.Util.atLeast = function (e, t) {
          return Math.max(e, t);
        }),
        (DayPilot.Util.atMost = function (e, t) {
          return Math.min(e, t);
        }),
        (DayPilot.Util.avg = function (e, t) {
          return (e + t) / 2;
        }),
        (DayPilot.Util.div = function (e, t, n, i, a) {
          var r = document.createElement("div");
          return (
            (t || n || i || a) &&
              (i < 0 && ((t += i), (i *= -1)),
              a < 0 && ((n += a), (a *= -1)),
              (r.style.position = "absolute"),
              "number" == typeof t
                ? (r.style.left = t + "px")
                : "string" == typeof t && (r.style.left = t),
              "number" == typeof n
                ? (r.style.top = n + "px")
                : "string" == typeof n && (r.style.top = n),
              "number" == typeof i
                ? (r.style.width = i + "px")
                : "string" == typeof i && (r.style.width = i),
              "number" == typeof a
                ? (r.style.height = a + "px")
                : "string" == typeof a && (r.style.height = a)),
            e && e.appendChild(r),
            r
          );
        }),
        (DayPilot.Util.overlaps = function (e, t, n, i) {
          return !(t <= n || e >= i);
        }),
        (DayPilot.Util.isMouseEvent = function (e) {
          return (
            !!navigator.msPointerEnabled &&
            !!e.pointerType &&
            ("mouse" === e.pointerType || 4 === e.pointerType)
          );
        }),
        (DayPilot.Util.mouseButton = function (e) {
          var t = {};
          switch (e.button) {
            case 0:
              t.left = !0;
              break;
            case 1:
              t.middle = !0;
              break;
            case 2:
              t.right = !0;
          }
          return t;
        }),
        (DayPilot.Util.membersPlain = function (e) {
          var t = DayPilot.Util.members(e, 2),
            n = function (e) {
              for (var t = 0; t < e.length; t++) {
                var n = e[t],
                  i = n.name;
                n.obsolete && (i += " (obsolete)"),
                  n.noCssOnly && (i += " (!cssOnly)"),
                  n.aspnet && (i += " (ASP.NET)"),
                  n.mvc && (i += "(MVC)"),
                  (e[t] = i);
              }
            };
          return n(t.events), n(t.methods), n(t.properties), t;
        }),
        (DayPilot.Util.shouldApply = function (e) {
          if (!e) return !1;
          var t = e.toLowerCase();
          return (
            !(t.indexOf("before") >= 0) &&
            !(t.indexOf("after") >= 0) &&
            "onrowfilter" !== t &&
            "oneventfilter" !== t
          );
        }),
        (DayPilot.Util.safeApply = function (e, t) {
          var n = e["$root"]["$$phase"];
          "$apply" === n || "$digest" === n ? e["$eval"](t) : e["$apply"](t);
        }),
        (DayPilot.Util.members = function (e, t) {
          var n = DayPilot.list(),
            i = DayPilot.list(),
            a = DayPilot.list(),
            r = e && e.members ? e.members.obsolete : [],
            o = e && e.members ? e.members.noCssOnly : [],
            s = e && e.members ? e.members.ignore : [],
            l =
              e && e.members && e.members.ignoreFilter
                ? e.members.ignoreFilter
                : function () {
                    return !1;
                  };
          for (var d in e)
            if (
              0 !== d.indexOf("$") &&
              0 !== d.indexOf("_") &&
              0 !== d.indexOf("number") &&
              0 !== d.indexOf("is") &&
              "v" !== d &&
              !DayPilot.contains(s, d) &&
              !l(d)
            )
              if (0 !== d.indexOf("on"))
                if ("function" != typeof e[d])
                  if ("object" != typeof e[d]) a.push(d);
                  else {
                    var c = e[d];
                    if (0 === t) {
                      a.push(d);
                      continue;
                    }
                    if (c && c.nodeType > 0) {
                      a.push(d);
                      continue;
                    }
                    if (c instanceof DayPilot.Bubble) {
                      a.push(d);
                      continue;
                    }
                    if (c instanceof DayPilot.Date) {
                      a.push(d);
                      continue;
                    }
                    if (c instanceof DayPilot.Menu) {
                      a.push(d);
                      continue;
                    }
                    if (c instanceof DayPilot.Scheduler) {
                      a.push(d);
                      continue;
                    }
                    if (DayPilot.isArray(c)) {
                      a.push(d);
                      continue;
                    }
                    null === c && a.push(d);
                    var u = null;
                    "number" == typeof t && (u = t - 1);
                    for (
                      var h = DayPilot.Util.members(c, u), f = 0;
                      f < h.events.length;
                      f++
                    )
                      n.push(d + "." + h.events[f].name);
                    for (var f = 0; f < h.methods.length; f++)
                      i.push(d + "." + h.methods[f].name);
                    for (var f = 0; f < h.properties.length; f++)
                      a.push(d + "." + h.properties[f].name);
                  }
                else i.push(d);
              else n.push(d);
          n.sort(), i.sort(), a.sort();
          var v = function (e) {
            for (var t = 0; t < e.length; t++) {
              var n = e[t],
                i = {};
              (i.name = n),
                (e[t] = i),
                DayPilot.contains(r, n) && (i.obsolete = !0),
                DayPilot.contains(o, n) && (i.noCssOnly = !0),
                n.indexOf("CallBack") !== -1 && ((i.aspnet = !0), (i.mvc = !0)),
                n.indexOf("PostBack") !== -1 && (i.aspnet = !0),
                n.indexOf("Notify") !== -1 && ((i.aspnet = !0), (i.mvc = !0));
            }
          };
          return v(n), v(i), v(a), { events: n, methods: i, properties: a };
        }),
        (DayPilot.Util.replaceCharAt = function (e, t, n) {
          return e.substr(0, t) + n + e.substr(t + n.length);
        }),
        (DayPilot.Util.evalVariable = function (e, t) {
          if (((t = t || ["object"]), null === e || "undefined" == typeof e))
            return null;
          if (DayPilot.indexOf(t, typeof e) !== -1) return e;
          if ("string" != typeof e)
            throw "Unable to resolve a variable name (not a string).";
          if (!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e))
            throw "Invalid variable name: " + e;
          return eval(e);
        }),
        (DayPilot.Util.evalFunction = function (e) {
          if (null === e) return null;
          if ("function" == typeof e) return e;
          if ("string" != typeof e)
            throw "Unable to resolve a function (not a string).";
          if (!/^\(?function/.test(e)) throw "Invalid function string";
          return eval("(" + e + ")");
        }),
        (DayPilot.Util.isNullOrUndefined = function (e) {
          return null === e || "undefined" == typeof e;
        }),
        (DayPilot.Util.log = function (e) {
          window.console && window.console.log && window.console.log(e);
        }),
        (DayPilot.Util.workerFrom = function (e) {
          var t = e.toString(),
            n = t.slice(t.indexOf("{") + 1, t.lastIndexOf("}")),
            i = new Blob([n]),
            a = window.URL.createObjectURL(i);
          return new Worker(a);
        }),
        (DayPilot.Util.dataUriToBlob = function (e) {
          if ("string" != typeof e)
            throw "DayPilot.Util.dataUriToBlob(): dataURI string expected";
          for (
            var t = e.split(","),
              n = t[0],
              i = t[1],
              a = n.indexOf("base64") !== -1,
              r = a ? atob : decodeURI,
              o = n.split(":")[1].split(";")[0],
              s = r(i),
              l = new window.Uint8Array(s.length),
              d = 0;
            d < s.length;
            d++
          )
            l[d] = s.charCodeAt(d);
          return new Blob([l], { type: o });
        }),
        (DayPilot.Util.downloadDataUri = function (e, t) {
          var n = DayPilot.Util.dataUriToBlob(e);
          DayPilot.Util.downloadBlob(n, t);
        }),
        (DayPilot.Util.downloadBlob = function (e, t) {
          var t = t || "download";
          if (window.navigator.msSaveBlob) window.navigator.msSaveBlob(e, t);
          else {
            var n = window.URL.createObjectURL(e),
              i = document.createElement("a");
            (i.download = t),
              (i.href = n),
              (i.style.display = "none"),
              document.body.appendChild(i),
              i.click(),
              setTimeout(function () {
                document.body.removeChild(i), window.URL.revokeObjectURL(n);
              });
          }
        }),
        (DayPilot.Util.monitor = function (e, t, n) {
          var i = e[t];
          e[t] = function () {
            n.apply(e, arguments), i.apply(e, arguments);
          };
        }),
        (DayPilot.Util.isTransparentColor = function (e) {
          return "transparent" === e || "rgba(0, 0, 0, 0)" === e;
        }),
        (DayPilot.Util.stripTags = function (e) {
          if (DayPilot.Util.isNullOrUndefined(e)) return e;
          if ("string" == typeof e) return e.replace(/<(?:.|\n)*?>/gm, "");
          throw new DayPilot.Exception(
            "Unable to strip tags from a non-string"
          );
        }),
        (DayPilot.Util.escapeHtml = function (e) {
          var t = document.createElement("div");
          return (t.innerText = e), t.innerHTML;
        }),
        (DayPilot.Util.escapeTextHtml = function (e, t) {
          return DayPilot.Util.isNullOrUndefined(t)
            ? DayPilot.Util.isNullOrUndefined(e)
              ? ""
              : DayPilot.Util.escapeHtml(e)
            : t;
        }),
        (DayPilot.Util.isSameEvent = function (e, t) {
          return (
            !(!e || !t) &&
            ((e = e instanceof DayPilot.Event ? e.data : e),
            (t = t instanceof DayPilot.Event ? t.data : t),
            e === t ||
              (!DayPilot.Util.isNullOrUndefined(e.id) && e.id === t.id) ||
              (!(
                !DayPilot.Util.isNullOrUndefined(e.id) ||
                DayPilot.Util.isNullOrUndefined(e.recurrentMasterId)
              ) &&
                e.recurrentMasterId === t.recurrentMasterId &&
                new DayPilot.Date(e.start) === new DayPilot.Date(t.start)))
          );
        }),
        (DayPilot.Util.isReactComponent = function (e) {
          return (
            e &&
            e.$$typeof ===
              (("function" == typeof Symbol &&
                Symbol.for &&
                Symbol.for("react.element")) ||
                60103)
          );
        }),
        (DayPilot.Util.fontString = function (e) {
          return (e.style + " " + e.size + " " + e.family).trim();
        }),
        (DayPilot.Util.fontHeight = function (e) {
          var t = DayPilot.Util.fontString(e);
          if ("number" != typeof DayPilot.Util.fontHeight.cache[t]) {
            var n = document.createElement("div");
            (n.style.position = "fixed"),
              (n.style.left = "-2000px;"),
              (n.style.top = "-2000px"),
              (n.style.padding = "0px"),
              (n.style.font = t),
              (n.innerText = "X"),
              document.body.appendChild(n),
              (DayPilot.Util.fontHeight.cache[t] = new DayPilot.StyleReader(
                n
              ).getPx("height")),
              document.body.removeChild(n);
          }
          return DayPilot.Util.fontHeight.cache[t];
        }),
        (DayPilot.Util.fontHeight.cache = {}),
        (DayPilot.Areas = {}),
        (DayPilot.Areas.attach = function (e, t, n) {
          var n = n || {},
            a = n.areas,
            r =
              n.allowed ||
              function () {
                return !0;
              },
            o = n.offsetX || 0;
          (a = i(t, a)),
            a &&
              DayPilot.isArray(a) &&
              0 !== a.length &&
              (DayPilot.re(e, "mousemove", function (i) {
                e.active ||
                  e.areasDisabled ||
                  !r() ||
                  DayPilot.Areas.showAreas(e, t, i, a, {
                    offsetX: o,
                    eventDiv: n.eventDiv,
                  });
              }),
              DayPilot.re(e, "mouseleave", function (t) {
                DayPilot.Areas.hideAreas(e, t);
              }),
              DayPilot.list(a).forEach(function (i) {
                if (DayPilot.Areas.isVisible(i)) {
                  var a = DayPilot.Areas.createArea(e, t, i, {
                    offsetX: o,
                    eventDiv: n.eventDiv,
                  });
                  e.appendChild(a);
                }
              }));
        }),
        (DayPilot.Areas.disable = function (e) {
          (e.areasDisabled = !0),
            DayPilot.list(e.childNodes)
              .filter(function (e) {
                return e.isActiveArea && !e.area.start;
              })
              .forEach(function (e) {
                (e.j = e.style.display), (e.style.display = "none");
              });
        }),
        (DayPilot.Areas.enable = function (e) {
          (e.areasDisabled = !1),
            DayPilot.list(e.childNodes)
              .filter(function (e) {
                return e.isActiveArea && !e.area.start;
              })
              .forEach(function (e) {
                e.j ? (e.style.display = e.j) : (e.style.display = "");
              });
        }),
        (DayPilot.Areas.remove = function (e) {
          var t = DayPilot.list(e.childNodes).filter(function (e) {
            return e.isActiveArea;
          });
          DayPilot.de(t);
        }),
        (DayPilot.Areas.isVisible = function (e) {
          var t = e.visibility || e.v || "Visible";
          return (
            "Visible" === t || ("TouchVisible" === t && !DayPilot.browser.hover)
          );
        }),
        (DayPilot.Areas.copy = function (e) {
          return DayPilot.isArray(e)
            ? e.map(function (e) {
                return DayPilot.Util.copyProps(e, {});
              })
            : [];
        }),
        (DayPilot.Areas.resolvePosition = function (e, t, n, i) {
          var a = DayPilot.Areas.copy(e),
            r = t;
          return (
            a.forEach(function (e) {
              e.start &&
                (e.left = r.getPixels(new DayPilot.Date(e.start)).left - n),
                "number" == typeof e.offsetX && (e.left += e.offsetX),
                e.end &&
                  (e.right =
                    n + i - r.getPixels(new DayPilot.Date(e.end)).left);
            }),
            a
          );
        });
      var i = function (e, t) {
        return (
          DayPilot.isArray(t) ||
            ((t = e.areas),
            t ||
              (e.cache ? (t = e.cache.areas) : e.data && (t = e.data.areas))),
          t
        );
      };
      (DayPilot.Areas.showAreas = function (e, t, n, i, a) {
        if (
          !DayPilot.Global.resizing &&
          !DayPilot.Global.moving &&
          !DayPilot.Global.selecting &&
          !e.active &&
          DayPilot.browser.hover
        ) {
          if (DayPilot.Areas.all && DayPilot.Areas.all.length > 0)
            for (var r = 0; r < DayPilot.Areas.all.length; r++) {
              var o = DayPilot.Areas.all[r];
              o !== e && DayPilot.Areas.hideAreas(o, n);
            }
          if (
            ((e.active = {}),
            DayPilot.isArray(i) ||
              ((i = t.areas),
              i ||
                (t.cache ? (i = t.cache.areas) : t.data && (i = t.data.areas))),
            i && 0 !== i.length && !(e.areas && e.areas.length > 0))
          ) {
            e.areas = [];
            for (var r = 0; r < i.length; r++) {
              var s = i[r];
              if (!DayPilot.Areas.isVisible(s)) {
                var l = DayPilot.Areas.createArea(e, t, s, a);
                e.areas.push(l), e.appendChild(l), DayPilot.Areas.all.push(e);
              }
            }
            e.active.children = DayPilot.ac(e);
          }
        }
      }),
        (DayPilot.Areas.createArea = function (e, t, n, i) {
          function a(e, t, n) {
            var i = {};
            return (
              (i.area = e),
              (i.source = t),
              (i.originalEvent = n),
              (i.preventDefault = function () {
                i.preventDefault.value = !0;
              }),
              "function" == typeof e.onClick && e.onClick(i),
              i
            );
          }
          function r(e, t, n) {
            DayPilot.Bubble && DayPilot.Bubble.touchPosition(n),
              e.calendar.bubble && e.calendar.bubble.showEvent(e, !0);
          }
          function o(e, t, n, i) {
            DayPilot.Menu && DayPilot.Menu.touchPosition(i);
            var a = n.contextMenu || n.menu;
            if (
              (a instanceof DayPilot.Menu ||
                ("string" == typeof a
                  ? (a = DayPilot.Util.evalVariable(a))
                  : t.isEvent && t.client.contextMenu()
                  ? (a = t.client.contextMenu())
                  : t.isEvent && t.calendar.contextMenu
                  ? (a = DayPilot.Util.evalVariable(t.calendar.contextMenu))
                  : t.isRow &&
                    t.calendar.contextMenuResource &&
                    (a = DayPilot.Util.evalVariable(
                      t.calendar.contextMenuResource
                    ))),
              a && a.show)
            ) {
              var r = { type: "area", div: e, e: t, area: n, a: d };
              a.show(t, { initiator: r });
            }
          }
          function s(e) {
            return "string" == typeof e && isNaN(e)
              ? e
              : "undefined" != typeof e
              ? e + "px"
              : void 0;
          }
          var i = i || {},
            l = (i.offsetX || 0, i.eventDiv || e),
            d = document.createElement("div");
          (d.isActiveArea = !0),
            (d.area = n),
            d.setAttribute("unselectable", "on");
          var c = n.w || n.width,
            u = n.h || n.height,
            h = n.cssClass || n.css || n.className;
          if (
            ("undefined" != typeof n.style && d.setAttribute("style", n.style),
            (d.style.position = "absolute"),
            (d.style.width = s(c)),
            (d.style.height = s(u)),
            (d.style.right = s(n.right)),
            (d.style.top = s(n.top)),
            (d.style.left = s(n.left)),
            (d.style.bottom = s(n.bottom)),
            "undefined" != typeof n.html || "undefined" != typeof n.text)
          )
            d.innerHTML = DayPilot.Util.escapeTextHtml(n.text, n.html);
          else if (n.icon) {
            var f = document.createElement("i");
            (f.className = n.icon), d.appendChild(f);
          } else if (n.image) {
            var v = document.createElement("img");
            (v.src = n.image), d.appendChild(v);
          } else if (n.symbol) {
            var p = "http://www.w3.org/2000/svg",
              m = document.createElementNS(p, "svg");
            m.setAttribute("width", "100%"), m.setAttribute("height", "100%");
            var g = document.createElementNS(p, "use");
            g.setAttribute("href", n.symbol),
              m.appendChild(g),
              d.appendChild(m);
          }
          if (
            (h && (d.className = h),
            n.toolTip && d.setAttribute("title", n.toolTip),
            n.backColor && (d.style.background = n.backColor),
            n.background && (d.style.background = n.background),
            n.fontColor && (d.style.color = n.fontColor),
            n.padding &&
              ((d.style.padding = n.padding + "px"),
              (d.style.boxSizing = "border-box")),
            n.verticalAlignment)
          )
            switch (((d.style.display = "flex"), n.verticalAlignment)) {
              case "center":
                d.style.alignItems = "center";
                break;
              case "top":
                d.style.alignItems = "flex-start";
                break;
              case "bottom":
                d.style.alignItems = "flex-end";
            }
          if (n.horizontalAlignment)
            switch (((d.style.display = "flex"), n.horizontalAlignment)) {
              case "right":
                d.style.justifyContent = "flex-end";
                break;
              case "left":
                d.style.justifyContent = "flex-start";
                break;
              case "center":
                d.style.justifyContent = "center";
            }
          if (
            "ResizeEnd" === n.action ||
            "ResizeStart" === n.action ||
            "Move" === n.action
          ) {
            if (t.calendar.isCalendar)
              switch (n.action) {
                case "ResizeEnd":
                  (n.cursor = "s-resize"), (n.dpBorder = "bottom");
                  break;
                case "ResizeStart":
                  (n.cursor = "n-resize"), (n.dpBorder = "top");
                  break;
                case "Move":
                  n.cursor = "move";
              }
            if (t.calendar.isScheduler || t.calendar.isMonth)
              switch (n.action) {
                case "ResizeEnd":
                  (n.cursor = "e-resize"), (n.dpBorder = "right");
                  break;
                case "ResizeStart":
                  (n.cursor = "w-resize"), (n.dpBorder = "left");
                  break;
                case "Move":
                  n.cursor = "move";
              }
            (d.onmousemove = (function (e, t, n) {
              return function (i) {
                (t.calendar.internal &&
                  t.calendar.internal.dragInProgress &&
                  t.calendar.internal.dragInProgress()) ||
                  ((i.cancelBubble = !0),
                  (e.style.cursor = n.cursor),
                  n.dpBorder && (e.dpBorder = n.dpBorder));
              };
            })(l, t, n)),
              (d.onmouseout = (function (e, t, n) {
                return function (t) {
                  e.style.cursor = "";
                };
              })(l, t, n));
          }
          if (
            ("ResizeEnd" === n.action || "ResizeStart" === n.action) &&
            t.isEvent &&
            t.calendar.internal.touch
          ) {
            var y = (function (e, t, n) {
              return function (i) {
                i.cancelBubble = !0;
                var a = t.calendar.internal.touch,
                  r = i.touches ? i.touches[0] : i,
                  o = { x: r.pageX, y: r.pageY };
                (t.calendar.coords = a.relativeCoords(i)),
                  (a.preventEventTap = !0),
                  t.calendar.isScheduler
                    ? a.startResizing(
                        e,
                        "ResizeEnd" === n.action ? "right" : "left"
                      )
                    : t.calendar.isCalendar &&
                      a.startResizing(
                        e,
                        "ResizeEnd" === n.action ? "bottom" : "top",
                        o
                      );
              };
            })(l, t, n);
            DayPilot.rePassive(d, DayPilot.touch.start, y);
          }
          if (
            "ContextMenu" === n.action &&
            t.isEvent &&
            t.calendar.internal.touch
          ) {
            var y = (function (e, t, n) {
                return function (i) {
                  (i.cancelBubble = !0),
                    i.preventDefault(),
                    o(e, t, n, i),
                    (t.calendar.internal.touch.preventEventTap = !0);
                };
              })(l, t, n),
              b = (function (e, t, n) {
                return function (e) {
                  (e.cancelBubble = !0), e.preventDefault();
                };
              })(l, t, n);
            DayPilot.reNonPassive(d, DayPilot.touch.start, y),
              DayPilot.reNonPassive(d, DayPilot.touch.end, b);
          }
          if ("Bubble" === n.action && t.isEvent && t.calendar.internal.touch) {
            var y = (function (e, t, n) {
                return function (e) {
                  (e.cancelBubble = !0), e.preventDefault();
                  var i = a(n, t, e);
                  if (!i.preventDefault.value) {
                    r(t, n, e);
                    (t.calendar.internal.touch.preventEventTap = !0),
                      "function" == typeof n.onClicked && n.onClicked(i);
                  }
                };
              })(l, t, n),
              b = (function (e, t, n) {
                return function (e) {
                  (e.cancelBubble = !0), e.preventDefault();
                };
              })(l, t, n);
            DayPilot.reNonPassive(d, DayPilot.touch.start, y),
              DayPilot.reNonPassive(d, DayPilot.touch.end, b);
          }
          if ("Move" === n.action && t.isEvent && t.calendar.internal.touch) {
            var y = (function (e, t, n) {
              return function (n) {
                n.cancelBubble = !0;
                var i = t.calendar.internal.touch,
                  a = n.touches ? n.touches[0] : n,
                  r = { x: a.pageX, y: a.pageY };
                (t.calendar.coords = i.relativeCoords(n)),
                  DayPilot.Global &&
                    DayPilot.Global.touch &&
                    (DayPilot.Global.touch.active = !0),
                  (i.preventEventTap = !0),
                  i.startMoving(e, r);
              };
            })(l, t, n);
            DayPilot.rePassive(d, DayPilot.touch.start, y);
          }
          if (
            ("Move" === n.action && t.isRow && t.calendar.internal.touch,
            "Bubble" === n.action && t.isEvent
              ? ((d.onmousemove = (function (e, t, n) {
                  return function (e) {
                    n.bubble
                      ? n.bubble.showEvent(t, !0)
                      : t.calendar.bubble && t.calendar.bubble.showEvent(t, !0);
                  };
                })(e, t, n)),
                (d.onmouseout = (function (e, t, n) {
                  return function (e) {
                    "undefined" != typeof DayPilot.Bubble &&
                      (n.bubble
                        ? n.bubble.hideOnMouseOut()
                        : t.calendar.bubble &&
                          t.calendar.bubble.hideOnMouseOut());
                  };
                })(e, t, n)))
              : "Bubble" === n.action && t.isRow
              ? ((d.onmousemove = (function (e, t, n) {
                  return function (e) {
                    n.bubble
                      ? n.bubble.showResource(t, !0)
                      : t.calendar.resourceBubble &&
                        t.calendar.resourceBubble.showResource(t, !0);
                  };
                })(e, t, n)),
                (d.onmouseout = (function (e, t, n) {
                  return function (e) {
                    "undefined" != typeof DayPilot.Bubble &&
                      (n.bubble
                        ? n.bubble.hideOnMouseOut()
                        : t.calendar.resourceBubble &&
                          t.calendar.resourceBubble.hideOnMouseOut());
                  };
                })(e, t, n)))
              : "Bubble" === n.action &&
                "undefined" != typeof DayPilot.Bubble &&
                n.bubble instanceof DayPilot.Bubble &&
                ((d.onmousemove = (function (e, t, n) {
                  return function (e) {
                    n.bubble.showHtml(null, null);
                  };
                })(e, t, n)),
                (d.onmouseout = (function (e, t, n) {
                  return function (e) {
                    "undefined" != typeof DayPilot.Bubble &&
                      n.bubble &&
                      n.bubble.hideOnMouseOut();
                  };
                })(e, t, n))),
            "HoverMenu" === n.action &&
              ((d.onmousemove = (function (e, t, n) {
                return function (e) {
                  var i = n.menu;
                  "string" == typeof i && (i = DayPilot.Util.evalVariable(i)),
                    i &&
                      i.show &&
                      (i.visible
                        ? i.source &&
                          "undefined" != typeof i.source.id &&
                          i.source.id !== t.id &&
                          i.show(t)
                        : i.show(t),
                      i.cancelHideTimeout());
                };
              })(e, t, n)),
              (d.onmouseout = (function (e, t, n) {
                return function (e) {
                  var t = n.menu;
                  "string" == typeof t && (t = DayPilot.Util.evalVariable(t)),
                    t && t.hideOnMouseOver && t.delayedHide();
                };
              })(e, t, n))),
            "JavaScript" === n.action)
          ) {
            var y = (function (e, t, n) {
                return function (e) {
                  if (!DayPilot.Util.isMouseEvent(e)) {
                    (e.cancelBubble = !0), e.preventDefault();
                    t.calendar.internal.touch;
                    DayPilot.Global &&
                      DayPilot.Global.touch &&
                      (DayPilot.Global.touch.start = !0);
                  }
                };
              })(l, t, n),
              b = (function (e, t, n) {
                return function (e) {
                  if (!DayPilot.Util.isMouseEvent(e)) {
                    (e.cancelBubble = !0), e.preventDefault();
                    t.calendar.internal.touch;
                    DayPilot.Global &&
                      DayPilot.Global.touch &&
                      (DayPilot.Global.touch.start = !1);
                    var i = n.js;
                    if (
                      ("string" == typeof i &&
                        (i = DayPilot.Util.evalFunction(n.js)),
                      "function" == typeof i)
                    ) {
                      var a = n.target || t;
                      i.call(this, a);
                    }
                  }
                };
              })(l, t, n);
            DayPilot.reNonPassive(d, DayPilot.touch.start, y),
              DayPilot.reNonPassive(d, DayPilot.touch.end, b);
          }
          if ("None" === n.action) {
            var y = (function (e, t, n) {
              return function (e) {
                var i = a(n, t, e);
                "function" == typeof n.onClicked && n.onClicked(i),
                  e.preventDefault(),
                  e.stopPropagation();
              };
            })(l, t, n);
            DayPilot.reNonPassive(d, DayPilot.touch.start, y);
          }
          return (
            (d.onmousedown = (function (e, t, n) {
              return function (i) {
                if (
                  ("function" == typeof n.onmousedown && n.onmousedown(i),
                  "function" == typeof n.mousedown)
                ) {
                  var a = {};
                  (a.area = n),
                    (a.div = e),
                    (a.originalEvent = i),
                    (a.source = t),
                    n.mousedown(a);
                }
                if ("Move" === n.action && t.isRow) {
                  var r = t.$.row;
                  (0, t.calendar.internal.rowStartMoving)(r);
                }
                "undefined" != typeof DayPilot.Bubble &&
                  DayPilot.Bubble.hideActive(),
                  "Move" === n.action &&
                    (DayPilot.Global.movingAreaData = n.data),
                  "Move" === n.action &&
                    t.isEvent &&
                    t.calendar.internal &&
                    t.calendar.internal.startMoving &&
                    t.calendar.internal.startMoving(e, i);
                "Move" !== n.action &&
                  "ResizeEnd" !== n.action &&
                  "ResizeStart" !== n.action &&
                  n.action &&
                  "Default" !== n.action &&
                  (i.preventDefault(), (i.cancelBubble = !0));
              };
            })(e, t, n)),
            (d.onclick = (function (e, t, n) {
              return function (i) {
                var r = a(n, t, i);
                if (!r.preventDefault.value) {
                  switch (n.action) {
                    case "JavaScript":
                      var s = n.js;
                      if (
                        ("string" == typeof s &&
                          (s = DayPilot.Util.evalFunction(n.js)),
                        "function" == typeof s)
                      ) {
                        var l = n.target || t;
                        s.call(this, l);
                      }
                      i.cancelBubble = !0;
                      break;
                    case "ContextMenu":
                      o(e, t, n, i), (i.cancelBubble = !0);
                      break;
                    case "CallBack":
                      alert("callback not implemented yet, id: " + n.id),
                        (i.cancelBubble = !0);
                      break;
                    case "None":
                      i.cancelBubble = !0;
                  }
                  "function" == typeof n.onClicked && n.onClicked(r);
                }
              };
            })(e, t, n)),
            "function" == typeof n.onMouseEnter &&
              d.addEventListener(
                "mouseenter",
                (function (e, t, n) {
                  return function (e) {
                    var i = {};
                    (i.area = n),
                      (i.source = t),
                      (i.originalEvent = e),
                      n.onMouseEnter(i);
                  };
                })(e, t, n)
              ),
            "function" == typeof n.onMouseLeave &&
              d.addEventListener(
                "mouseleave",
                (function (e, t, n) {
                  return function (e) {
                    var i = {};
                    (i.area = n),
                      (i.source = t),
                      (i.originalEvent = e),
                      n.onMouseLeave(i);
                  };
                })(e, t, n)
              ),
            d
          );
        }),
        (DayPilot.Areas.all = []),
        (DayPilot.Areas.hideAreas = function (e, t) {
          if (e && e && e.active) {
            var n = e.active,
              i = e.areas;
            if (n && n.children && t) {
              var a = t.toElement || t.relatedTarget;
              if (~DayPilot.indexOf(n.children, a)) return;
            }
            if (!i || 0 === i.length) return void (e.active = null);
            DayPilot.de(i),
              (e.active = null),
              (e.areas = []),
              DayPilot.rfa(DayPilot.Areas.all, e),
              (n.children = null);
          }
        }),
        (DayPilot.Areas.hideAll = function (e) {
          if (DayPilot.Areas.all && 0 !== DayPilot.Areas.all.length)
            for (var t = 0; t < DayPilot.Areas.all.length; t++)
              DayPilot.Areas.hideAreas(DayPilot.Areas.all[t], e);
        }),
        (DayPilot.Action = function (e, t, n, i) {
          var a = this;
          (this.calendar = e),
            (this.isAction = !0),
            (this.action = t),
            (this.params = n),
            (this.data = i),
            (this.notify = function () {
              a.calendar.internal.invokeEvent(
                "Immediate",
                this.action,
                this.params,
                this.data
              );
            }),
            (this.auto = function () {
              a.calendar.internal.invokeEvent(
                "Notify",
                this.action,
                this.params,
                this.data
              );
            }),
            (this.queue = function () {
              a.calendar.queue.add(this);
            }),
            (this.toJSON = function () {
              var e = {};
              return (
                (e.name = this.action),
                (e.params = this.params),
                (e.data = this.data),
                e
              );
            });
        }),
        (DayPilot.Selection = function (e, t, n, i) {
          (this.menuType = "selection"),
            (this.start = new DayPilot.Date(e)),
            (this.end = new DayPilot.Date(t)),
            (this.resource = n),
            (this.root = i),
            (this.calendar = i),
            (this.toJSON = function (e) {
              var t = {};
              return (
                (t.start = this.start),
                (t.end = this.end),
                (t.resource = this.resource),
                t
              );
            });
        }),
        (DayPilot.Link = function (e, t) {
          (this.isLink = !0),
            (this.data = e),
            (this.calendar = t),
            (this.to = function () {
              return this.data.to;
            }),
            (this.from = function () {
              return this.data.from;
            }),
            (this.type = function () {
              return this.data.type;
            }),
            (this.id = function () {
              return this.data.id;
            }),
            (this.toJSON = function () {
              var e = {};
              return (
                (e.from = this.data.from),
                (e.to = this.data.to),
                (e.id = this.data.id),
                (e.type = this.data.type),
                e
              );
            });
        }),
        (DayPilot.Event = function (e, t, n) {
          var i = this;
          (this.calendar = t),
            (this.data = e ? e : {}),
            (this.part = n ? n : {}),
            "undefined" == typeof this.data.id &&
              (this.data.id = this.data.value);
          var a = {},
            r = ["id", "text", "start", "end", "resource"];
          (this.isEvent = !0),
            (DayPilot.Stats.eventObjects += 1),
            (this.temp = function () {
              if (a.dirty) return a;
              for (var e = 0; e < r.length; e++) a[r[e]] = i.data[r[e]];
              return (a.dirty = !0), a;
            }),
            (this.copy = function () {
              var e = {};
              return DayPilot.Util.copyProps(i.data, e), e;
            }),
            (this.commit = function () {
              if (a.dirty) {
                for (var e = 0; e < r.length; e++) i.data[r[e]] = a[r[e]];
                "function" == typeof i.data.commitCallback &&
                  i.data.commitCallback(),
                  (a.dirty = !1);
              }
            }),
            (this.dirty = function () {
              return a.dirty;
            }),
            (this.id = function (e) {
              return "undefined" == typeof e
                ? i.data.id
                : void (this.temp().id = e);
            }),
            (this.value = function (e) {
              return "undefined" == typeof e ? i.id() : void i.id(e);
            }),
            (this.text = function (e) {
              if ("undefined" == typeof e) return i.data.text;
              this.temp().text = e;
              var t = DayPilot.Util.escapeHtml(e);
              this.client.innerHTML(t);
            }),
            (this.start = function (e) {
              return "undefined" == typeof e
                ? new DayPilot.Date(i.data.start)
                : void (this.temp().start = new DayPilot.Date(e));
            }),
            (this.end = function (e) {
              return "undefined" == typeof e
                ? t && t.internal.adjustEndNormalize
                  ? t.internal.adjustEndNormalize(new DayPilot.Date(i.data.end))
                  : new DayPilot.Date(i.data.end)
                : void (this.temp().end = new DayPilot.Date(e));
            }),
            (this.duration = function () {
              return new DayPilot.Duration(this.start(), this.end());
            }),
            (this.rawend = function (e) {
              if ("undefined" == typeof e)
                return t && t.internal.adjustEndIn
                  ? t.internal.adjustEndIn(new DayPilot.Date(i.data.end))
                  : new DayPilot.Date(i.data.end);
              throw new DayPilot.Exception(
                "DayPilot.Event.rawend() is readonly"
              );
            }),
            (this.partStart = function () {
              return new DayPilot.Date(this.part.start);
            }),
            (this.partEnd = function () {
              return new DayPilot.Date(this.part.end);
            }),
            (this.row = function () {
              return this.resource();
            }),
            (this.allday = function () {
              return "undefined" == typeof val
                ? i.data.allday
                : void (this.temp().allday = val);
            }),
            (this.isAllDay = this.allday),
            (this.resource = function (e) {
              return "undefined" == typeof e
                ? i.data.resource
                : void (this.temp().resource = e);
            }),
            (this.recurrent = function () {
              return i.data.recurrent;
            }),
            (this.recurrentMasterId = function () {
              return i.data.recurrentMasterId;
            }),
            (this.useBox = function () {
              return this.part.box;
            }),
            (this.staticBubbleHTML = function () {
              return this.bubbleHtml();
            }),
            (this.bubbleHtml = function () {
              return i.cache
                ? i.cache.bubbleHtml || i.data.bubbleHtml
                : i.data.bubbleHtml;
            }),
            (this.tag = function (e) {
              if (i.data.tags) return i.data.tags[e];
              var t = i.data.tag;
              if (!t) return null;
              if ("undefined" == typeof e) return i.data.tag;
              for (
                var n = i.calendar.tagFields, a = -1, r = 0;
                r < n.length;
                r++
              )
                e === n[r] && (a = r);
              if (a === -1) throw "Field name not found.";
              return t[a];
            }),
            (this.client = {}),
            (this.client.innerHTML = function (e) {
              if ("undefined" == typeof e) {
                var t = i.cache || i.data,
                  n =
                    i.calendar &&
                    i.calendar.internal &&
                    i.calendar.internal.xssTextHtml;
                return n
                  ? n(t.text, t.html)
                  : DayPilot.Util.escapeTextHtml(t.text, t.html);
              }
              (i.data.html = e), i.cache && (i.cache.html = e);
            }),
            (this.client.html = this.client.innerHTML),
            (this.client.header = function (e) {
              return "undefined" == typeof e
                ? i.data.header
                : void (i.data.header = e);
            }),
            (this.client.cssClass = function (e) {
              return "undefined" == typeof e
                ? i.data.cssClass
                : void (i.data.cssClass = e);
            }),
            (this.client.toolTip = function (e) {
              if ("undefined" == typeof e) {
                var t = null;
                return (t =
                  i.cache && "undefined" != typeof i.cache.toolTip
                    ? i.cache.toolTip
                    : "undefined" != typeof i.data.toolTip
                    ? i.data.toolTip
                    : i.data.text);
              }
              i.data.toolTip = e;
            }),
            (this.client.backColor = function (e) {
              return "undefined" == typeof e
                ? i.cache && "undefined" != typeof i.cache.backColor
                  ? i.cache.backColor
                  : "undefined" != typeof i.data.backColor
                  ? i.data.backColor
                  : i.calendar.eventBackColor
                : void (i.data.backColor = e);
            }),
            (this.client.borderColor = function (e) {
              return "undefined" == typeof e
                ? i.cache && "undefined" != typeof i.cache.borderColor
                  ? i.cache.borderColor
                  : "undefined" != typeof i.data.borderColor
                  ? i.data.borderColor
                  : i.calendar.eventBorderColor
                : void (i.data.borderColor = e);
            }),
            (this.client.barColor = function (e) {
              return "undefined" == typeof e
                ? i.cache && "undefined" != typeof i.cache.barColor
                  ? i.cache.barColor
                  : "undefined" != typeof i.data.barColor
                  ? i.data.barColor
                  : i.calendar.durationBarColor
                : void (i.data.barColor = e);
            }),
            (this.client.barVisible = function (e) {
              return "undefined" == typeof e
                ? i.cache && "undefined" != typeof i.cache.barHidden
                  ? !i.cache.barHidden
                  : i.calendar.durationBarVisible && !i.data.barHidden
                : void (i.data.barHidden = !e);
            }),
            (this.client.contextMenu = function (e) {
              if ("undefined" == typeof e) {
                if (i.oContextMenu) return i.oContextMenu;
                var t = i.cache ? i.cache.contextMenu : i.data.contextMenu;
                return t ? DayPilot.Util.evalVariable(t) : null;
              }
              i.oContextMenu = e;
            }),
            (this.client.moveEnabled = function (e) {
              return "undefined" == typeof e
                ? i.cache && "undefined" != typeof i.cache.moveDisabled
                  ? !i.cache.moveDisabled
                  : "Disabled" !== i.calendar.eventMoveHandling &&
                    !i.data.moveDisabled
                : void (i.data.moveDisabled = !e);
            }),
            (this.client.resizeEnabled = function (e) {
              return "undefined" == typeof e
                ? "Milestone" !== i.data.type &&
                    (i.cache && "undefined" != typeof i.cache.resizeDisabled
                      ? !i.cache.resizeDisabled
                      : "Disabled" !== i.calendar.eventResizeHandling &&
                        !i.data.resizeDisabled)
                : void (i.data.resizeDisabled = !e);
            }),
            (this.client.rightClickEnabled = function (e) {
              return "undefined" == typeof e
                ? i.cache && "undefined" != typeof i.cache.rightClickDisabled
                  ? !i.cache.rightClickDisabled
                  : "Disabled" !== i.calendar.eventRightClickHandling &&
                    !i.data.rightClickDisabled
                : void (i.data.rightClickDisabled = !e);
            }),
            (this.client.clickEnabled = function (e) {
              return "undefined" == typeof e
                ? i.cache && "undefined" != typeof i.cache.clickDisabled
                  ? !i.cache.clickDisabled
                  : "Disabled" !== i.calendar.eventClickHandling &&
                    !i.data.clickDisabled
                : void (i.data.clickDisabled = !e);
            }),
            (this.client.deleteEnabled = function (e) {
              return "undefined" == typeof e
                ? i.cache && "undefined" != typeof i.cache.deleteDisabled
                  ? !i.cache.deleteDisabled
                  : "Disabled" !== i.calendar.eventDeleteHandling &&
                    !i.data.deleteDisabled
                : void (i.data.deleteDisabled = !e);
            }),
            (this.client.doubleClickEnabled = function (e) {
              return "undefined" == typeof e
                ? i.cache && "undefined" != typeof i.cache.doubleClickDisabled
                  ? !i.cache.doubleClickDisabled
                  : "Disabled" !== i.calendar.eventDoubleClickHandling &&
                    !i.data.doubleClickDisabled
                : void (i.data.doubleClickDisabled = !e);
            }),
            (this.client.deleteClickEnabled = function (e) {
              return "undefined" == typeof e
                ? i.cache && "undefined" != typeof i.cache.deleteDisabled
                  ? !i.cache.deleteDisabled
                  : "Disabled" !== i.calendar.eventDeleteHandling &&
                    !i.data.deleteDisabled
                : void (i.data.deleteDisabled = !e);
            }),
            (this.toJSON = function (e) {
              var t = {};
              if (
                ((t.value = this.id()),
                (t.id = this.id()),
                (t.text = this.text()),
                (t.start = this.start().toJSON()),
                (t.end = this.end().toJSON()),
                (t.resource = this.resource()),
                (t.isAllDay = !1),
                (t.recurrentMasterId = this.recurrentMasterId()),
                (t.join = this.data.join),
                (t.tag = {}),
                i.data.tags)
              )
                for (var n in i.data.tags)
                  i.data.tags.hasOwnProperty(n) &&
                    (t.tag[n] = "" + i.data.tags[n]);
              else if (i.calendar && i.calendar.tagFields)
                for (var a = i.calendar.tagFields, r = 0; r < a.length; r++)
                  t.tag[a[r]] = this.tag(a[r]);
              return t;
            });
        }),
        (DayPilot.Task = function (e, t) {
          if (!e)
            throw "Trying to initialize DayPilot.Task with null data parameter";
          var n = this,
            i = null;
          if (e instanceof DayPilot.Event) (i = e), (this.data = e.data.task);
          else {
            if (e instanceof DayPilot.Task) return e;
            e.isTaskWrapper ? (this.data = e.data) : (this.data = e);
          }
          var a = {},
            r = ["id", "text", "start", "end", "complete", "type"];
          (this.isTask = !0),
            (this.calendar = t),
            (this.temp = function () {
              if (a.dirty) return a;
              for (var e = 0; e < r.length; e++) a[r[e]] = n.data[r[e]];
              return (a.dirty = !0), a;
            }),
            (this.copy = function () {
              var e = {};
              return DayPilot.Util.copyProps(n.data, e), e;
            }),
            (this.commit = function () {
              if (a.dirty) {
                for (var e = 0; e < r.length; e++) n.data[r[e]] = a[r[e]];
                a.dirty = !1;
              }
            }),
            (this.dirty = function () {
              return a.dirty;
            }),
            (this.id = function (e) {
              return "undefined" == typeof e
                ? n.data.id
                : void (this.temp().id = e);
            }),
            (this.text = function (e) {
              if ("undefined" == typeof e) return n.data.text;
              this.temp().text = e;
              var t = DayPilot.Util.escapeHtml(e);
              this.client.innerHTML(t);
            }),
            (this.start = function (e) {
              return "undefined" == typeof e
                ? new DayPilot.Date(n.data.start)
                : void (this.temp().start = new DayPilot.Date(e));
            }),
            (this.duration = function () {
              return new DayPilot.Duration(this.start(), this.end());
            }),
            (this.end = function (e) {
              return "undefined" == typeof e
                ? t && "Date" === t.eventEndSpec
                  ? new DayPilot.Date(n.data.end).getDatePart().addDays(1)
                  : new DayPilot.Date(n.data.end)
                : void (this.temp().end = new DayPilot.Date(e));
            }),
            (this.type = function (e) {
              return "undefined" == typeof e
                ? i
                  ? i.data.type || "Task"
                  : n.data.type
                : void (this.temp().type = e);
            }),
            (this.complete = function (e) {
              return "undefined" == typeof e
                ? n.data.complete
                  ? n.data.complete
                  : 0
                : void (this.temp().complete = e);
            }),
            (this.children = function () {
              var e = [];
              e.add = function (e) {
                var t = new DayPilot.Task(e);
                this.data.children || (this.data.children = []),
                  this.children.push(t.data);
              };
              for (
                var n = 0;
                this.data.children && n < this.data.children.length;
                n++
              )
                e.push(new DayPilot.Task(this.data.children[n], t));
              return e;
            }),
            (this.toJSON = function (e) {
              var t = {};
              return (
                (t.id = this.id()),
                (t.text = this.text()),
                (t.start = this.start().toJSON()),
                (t.end = this.end().toJSON()),
                (t.type = this.type()),
                (t.tags = {}),
                DayPilot.Util.copyProps(this.data.tags, t.tags),
                t
              );
            }),
            (this.row = {});
          var o = this.row;
          (o.expanded = function (e) {
            return "undefined" == typeof e
              ? !n.data.row || !n.data.row.collapsed
              : (n.data.row || (n.data.row = {}),
                !!n.data.row.collapsed != !e &&
                  t.internal.rowObjectForTaskData(n.data).toggle(),
                (n.data.row.collapsed = !e),
                void 0);
          }),
            (o.expand = function () {
              o.expanded(!0);
            }),
            (o.collapse = function () {
              o.expanded(!1);
            }),
            (o.toggle = function () {
              o.expanded(!o.expanded());
            });
        }),
        (DayPilot.request = function (e, t, n, i) {
          var a = DayPilot.createXmlHttp();
          a &&
            (a.open("POST", e, !0),
            a.setRequestHeader("Content-type", "text/plain"),
            (a.onreadystatechange = function () {
              if (4 === a.readyState)
                return 200 !== a.status && 304 !== a.status
                  ? void (i
                      ? i(a)
                      : window.console && console.log("HTTP error " + a.status))
                  : void t(a);
            }),
            4 !== a.readyState &&
              ("object" == typeof n && (n = JSON.stringify(n)), a.send(n)));
        }),
        (DayPilot.ajax = function (e) {
          if (!e) throw new DayPilot.Exception("Parameter object required.");
          if ("string" != typeof e.url)
            throw new DayPilot.Exception(
              "The parameter object must have 'url' property."
            );
          var t = DayPilot.createXmlHttp();
          if (!t)
            throw new DayPilot.Exception(
              "Unable to create XMLHttpRequest object"
            );
          var n = "object" == typeof e.data,
            i = e.data,
            a = e.method || (e.data ? "POST" : "GET"),
            r = e.success || function () {},
            o = e.error || function () {},
            s = e.url,
            l = e.contentType || (n ? "application/json" : "text/plain"),
            d = e.headers || {};
          t.open(a, s, !0),
            t.setRequestHeader("Content-type", l),
            DayPilot.Util.ownPropsAsArray(d).forEach(function (e) {
              t.setRequestHeader(e.key, e.val);
            }),
            (t.onreadystatechange = function () {
              if (4 === t.readyState)
                if (
                  200 === t.status ||
                  201 === t.status ||
                  204 === t.status ||
                  304 === t.status
                ) {
                  var e = {};
                  (e.request = t),
                    t.responseText && (e.data = JSON.parse(t.responseText)),
                    r(e);
                } else if (o) {
                  var e = {};
                  (e.request = t), o(e);
                } else window.console && console.log("HTTP error " + t.status);
            }),
            4 !== t.readyState && (n && (i = JSON.stringify(i)), t.send(i));
        }),
        (DayPilot.createXmlHttp = function () {
          return new XMLHttpRequest();
        }),
        (DayPilot.Http = {}),
        (DayPilot.Http.ajax = function (e) {
          DayPilot.ajax(e);
        }),
        (DayPilot.Http.get = function (e, t) {
          return (
            (t = t || {}),
            new Promise(function (n, i) {
              var a = {};
              (a.url = e),
                (a.method = "GET"),
                (a.success = function (e) {
                  n(e);
                }),
                (a.error = function (e) {
                  i(e);
                }),
                (a.contentType = t.contentType),
                (a.headers = t.headers),
                DayPilot.ajax(a);
            })
          );
        }),
        (DayPilot.Http.post = function (e, t, n) {
          return (
            (n = n || {}),
            new Promise(function (i, a) {
              var r = {};
              (r.url = e),
                (r.method = "POST"),
                (r.data = t),
                (r.success = function (e) {
                  i(e);
                }),
                (r.error = function (e) {
                  a(e);
                }),
                (r.contentType = n.contentType),
                (r.headers = n.headers),
                DayPilot.ajax(r);
            })
          );
        }),
        (DayPilot.Http.put = function (e, t, n) {
          return (
            (n = n || {}),
            new Promise(function (i, a) {
              var r = {};
              (r.url = e),
                (r.method = "PUT"),
                (r.data = t),
                (r.success = function (e) {
                  i(e);
                }),
                (r.error = function (e) {
                  a(e);
                }),
                (r.contentType = n.contentType),
                (r.headers = n.headers),
                DayPilot.ajax(r);
            })
          );
        }),
        (DayPilot.Http.delete = function (e, t) {
          return (
            (t = t || {}),
            new Promise(function (n, i) {
              var a = {};
              (a.url = e),
                (a.method = "DELETE"),
                (a.success = function (e) {
                  n(e);
                }),
                (a.error = function (e) {
                  i(e);
                }),
                (a.contentType = t.contentType),
                (a.headers = t.headers),
                DayPilot.ajax(a);
            })
          );
        }),
        (DayPilot.Http.patch = function (e, t, n) {
          return (
            (n = n || {}),
            new Promise(function (i, a) {
              var r = {};
              (r.url = e),
                (r.method = "PATCH"),
                (r.data = t),
                (r.success = function (e) {
                  i(e);
                }),
                (r.error = function (e) {
                  a(e);
                }),
                (r.contentType = n.contentType),
                (r.headers = n.headers),
                DayPilot.ajax(r);
            })
          );
        }),
        (DayPilot.Duration = function (e) {
          var t = this,
            n = 864e5,
            i = 36e5,
            a = 6e4,
            r = 1e3;
          if (2 === arguments.length) {
            var o = arguments[0],
              s = arguments[1];
            if (!(o instanceof DayPilot.Date) && "string" != typeof o)
              throw "DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";
            if (!(s instanceof DayPilot.Date) && "string" != typeof s)
              throw "DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";
            "string" == typeof o && (o = new DayPilot.Date(o)),
              "string" == typeof s && (s = new DayPilot.Date(s)),
              (e = s.getTime() - o.getTime());
          }
          return (
            (this.ticks = e || 0),
            DayPilot.Date.Cache.DurationCtor["" + e]
              ? DayPilot.Date.Cache.DurationCtor["" + e]
              : ((DayPilot.Date.Cache.DurationCtor["" + e] = this),
                (this.toString = function (e) {
                  if (!e)
                    return (
                      t.days() +
                      "." +
                      t.hours() +
                      ":" +
                      t.minutes() +
                      ":" +
                      t.seconds() +
                      "." +
                      t.milliseconds()
                    );
                  var n = t.minutes();
                  n = (n < 10 ? "0" : "") + n;
                  var i = e;
                  return (
                    (i = i.replace("mm", n)),
                    (i = i.replace("m", t.minutes())),
                    (i = i.replace("H", t.hours())),
                    (i = i.replace("h", t.hours())),
                    (i = i.replace("d", t.days())),
                    (i = i.replace("s", t.seconds()))
                  );
                }),
                (this.totalHours = function () {
                  return t.ticks / i;
                }),
                (this.totalDays = function () {
                  return t.ticks / n;
                }),
                (this.totalMinutes = function () {
                  return t.ticks / a;
                }),
                (this.totalSeconds = function () {
                  return t.ticks / r;
                }),
                (this.totalMilliseconds = function () {
                  return t.ticks;
                }),
                (this.days = function () {
                  return Math.floor(t.totalDays());
                }),
                (this.hours = function () {
                  var e = t.ticks - t.days() * n;
                  return Math.floor(e / i);
                }),
                (this.minutes = function () {
                  var e = t.ticks - Math.floor(t.totalHours()) * i;
                  return Math.floor(e / a);
                }),
                (this.seconds = function () {
                  var e = t.ticks - Math.floor(t.totalMinutes()) * a;
                  return Math.floor(e / r);
                }),
                (this.milliseconds = function () {
                  return t.ticks % r;
                }),
                void (this.add = function (e) {
                  return new DayPilot.Duration(t.ticks + e.ticks);
                }))
          );
        }),
        (DayPilot.Duration.ofWeeks = function (e) {
          return new DayPilot.Duration(1e3 * e * 60 * 60 * 24 * 7);
        }),
        (DayPilot.Duration.ofDays = function (e) {
          return new DayPilot.Duration(1e3 * e * 60 * 60 * 24);
        }),
        (DayPilot.Duration.ofHours = function (e) {
          return new DayPilot.Duration(1e3 * e * 60 * 60);
        }),
        (DayPilot.Duration.ofMinutes = function (e) {
          return new DayPilot.Duration(1e3 * e * 60);
        }),
        (DayPilot.Duration.ofSeconds = function (e) {
          return new DayPilot.Duration(1e3 * e);
        }),
        (DayPilot.Duration.weeks = function (e) {
          return DayPilot.Duration.ofWeeks(e);
        }),
        (DayPilot.Duration.days = function (e) {
          return DayPilot.Duration.ofDays(e);
        }),
        (DayPilot.Duration.hours = function (e) {
          return DayPilot.Duration.ofHours(e);
        }),
        (DayPilot.Duration.minutes = function (e) {
          return DayPilot.Duration.ofMinutes(e);
        }),
        (DayPilot.Duration.seconds = function (e) {
          return DayPilot.Duration.ofSeconds(e);
        }),
        (DayPilot.TimeSpan = function () {
          throw "Please use DayPilot.Duration class instead of DayPilot.TimeSpan.";
        });
      try {
        DayPilot.TimeSpan.prototype = Object.create(
          DayPilot.Duration.prototype
        );
      } catch (e) {}
      (DayPilot.Date = function (t, n) {
        if (t instanceof DayPilot.Date) return t;
        var i;
        DayPilot.Util.isNullOrUndefined(t) &&
          ((i = DayPilot.DateUtil.fromLocal().getTime()), (t = i));
        var a = DayPilot.Date.Cache.Ctor;
        if (a[t]) return (DayPilot.Stats.cacheHitsCtor += 1), a[t];
        var r = !1;
        if ("string" == typeof t) {
          try {
            i = DayPilot.DateUtil.fromStringSortable(t, n).getTime();
          } catch (e) {
            throw new DayPilot.Exception(
              "DayPilot.Date - Unable to parse ISO8601 date/time string: " + t
            );
          }
          r = !0;
        } else if ("number" == typeof t) {
          if (isNaN(t)) throw "Cannot create DayPilot.Date from NaN";
          i = t;
        } else {
          if (!(t instanceof Date))
            throw "Unrecognized parameter: use Date, number or string in ISO 8601 format";
          i = n ? DayPilot.DateUtil.fromLocal(t).getTime() : t.getTime();
        }
        var o = e(i);
        return a[o]
          ? a[o]
          : ((a[o] = this),
            (a[i] = this),
            r && o !== t && DayPilot.DateUtil.hasTzSpec(t) && (a[t] = this),
            Object.defineProperty
              ? (Object.defineProperty(this, "ticks", {
                  get: function () {
                    return i;
                  },
                }),
                Object.defineProperty(this, "value", {
                  value: o,
                  writable: !1,
                  enumerable: !0,
                }))
              : ((this.ticks = i), (this.value = o)),
            DayPilot.Date.Config.legacyShowD && (this.d = new Date(i)),
            void (DayPilot.Stats.dateObjects += 1));
      }),
        (DayPilot.Date.Config = {}),
        (DayPilot.Date.Config.legacyShowD = !1),
        (DayPilot.Date.Cache = {}),
        (DayPilot.Date.Cache.Parsing = {}),
        (DayPilot.Date.Cache.Ctor = {}),
        (DayPilot.Date.Cache.Ticks = {}),
        (DayPilot.Date.Cache.DurationCtor = {}),
        (DayPilot.Date.Cache.clear = function () {
          (DayPilot.Date.Cache.Parsing = {}),
            (DayPilot.Date.Cache.Ctor = {}),
            (DayPilot.Date.Cache.Ticks = {}),
            (DayPilot.Date.Cache.DurationCtor = {});
        }),
        (DayPilot.Date.prototype.addDays = function (e) {
          return e
            ? new DayPilot.Date(this.ticks + 24 * e * 60 * 60 * 1e3)
            : this;
        }),
        (DayPilot.Date.prototype.addHours = function (e) {
          return e ? this.addTime(60 * e * 60 * 1e3) : this;
        }),
        (DayPilot.Date.prototype.addMilliseconds = function (e) {
          return e ? this.addTime(e) : this;
        }),
        (DayPilot.Date.prototype.addMinutes = function (e) {
          return e ? this.addTime(60 * e * 1e3) : this;
        }),
        (DayPilot.Date.prototype.addMonths = function (e) {
          if (!e) return this;
          var t = new Date(this.ticks),
            n = t.getUTCFullYear(),
            i = t.getUTCMonth() + 1;
          if (e > 0) {
            for (; e >= 12; ) (e -= 12), n++;
            e > 12 - i ? (n++, (i = e - (12 - i))) : (i += e);
          } else {
            for (; e <= -12; ) (e += 12), n--;
            i + e <= 0 ? (n--, (i = 12 + i + e)) : (i += e);
          }
          var a = new Date(t.getTime());
          a.setUTCDate(1), a.setUTCFullYear(n), a.setUTCMonth(i - 1);
          var r = new DayPilot.Date(a).daysInMonth();
          return (
            a.setUTCDate(Math.min(r, t.getUTCDate())), new DayPilot.Date(a)
          );
        }),
        (DayPilot.Date.prototype.addSeconds = function (e) {
          return e ? this.addTime(1e3 * e) : this;
        }),
        (DayPilot.Date.prototype.addTime = function (e) {
          return e
            ? (e instanceof DayPilot.Duration && (e = e.ticks),
              new DayPilot.Date(this.ticks + e))
            : this;
        }),
        (DayPilot.Date.prototype.addYears = function (e) {
          var t = new Date(this.ticks),
            n = new Date(this.ticks),
            i = this.getYear() + e,
            a = this.getMonth();
          n.setUTCDate(1), n.setUTCFullYear(i), n.setUTCMonth(a);
          var r = new DayPilot.Date(n).daysInMonth();
          return (
            n.setUTCDate(Math.min(r, t.getUTCDate())), new DayPilot.Date(n)
          );
        }),
        (DayPilot.Date.prototype.dayOfWeek = function () {
          return new Date(this.ticks).getUTCDay();
        }),
        (DayPilot.Date.prototype.dayOfWeekISO = function () {
          return new Date(this.ticks).getUTCDay() || 7;
        }),
        (DayPilot.Date.prototype.getDayOfWeek = function () {
          return new Date(this.ticks).getUTCDay();
        }),
        (DayPilot.Date.prototype.getDayOfYear = function () {
          var e = this.firstDayOfYear();
          return DayPilot.DateUtil.daysDiff(e, this) + 1;
        }),
        (DayPilot.Date.prototype.daysInMonth = function () {
          var e = new Date(this.ticks),
            t = e.getUTCMonth() + 1,
            n = e.getUTCFullYear(),
            i = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
          return 2 !== t
            ? i[t - 1]
            : n % 4 !== 0
            ? i[1]
            : n % 100 === 0 && n % 400 !== 0
            ? i[1]
            : i[1] + 1;
        }),
        (DayPilot.Date.prototype.daysInYear = function () {
          var e = this.getYear();
          return e % 4 !== 0 ? 365 : e % 100 === 0 && e % 400 !== 0 ? 365 : 366;
        }),
        (DayPilot.Date.prototype.dayOfYear = function () {
          return (
            Math.ceil(
              (this.getDatePart().getTime() - this.firstDayOfYear().getTime()) /
                864e5
            ) + 1
          );
        }),
        (DayPilot.Date.prototype.equals = function (e) {
          if (null === e) return !1;
          if (e instanceof DayPilot.Date) return this === e;
          throw "The parameter must be a DayPilot.Date object (DayPilot.Date.equals())";
        }),
        (DayPilot.Date.prototype.firstDayOfMonth = function () {
          var e = new Date();
          return (
            e.setUTCFullYear(this.getYear(), this.getMonth(), 1),
            e.setUTCHours(0),
            e.setUTCMinutes(0),
            e.setUTCSeconds(0),
            e.setUTCMilliseconds(0),
            new DayPilot.Date(e)
          );
        }),
        (DayPilot.Date.prototype.firstDayOfYear = function () {
          var e = this.getYear(),
            t = new Date();
          return (
            t.setUTCFullYear(e, 0, 1),
            t.setUTCHours(0),
            t.setUTCMinutes(0),
            t.setUTCSeconds(0),
            t.setUTCMilliseconds(0),
            new DayPilot.Date(t)
          );
        }),
        (DayPilot.Date.prototype.firstDayOfWeek = function (e) {
          var t = this;
          if (e instanceof DayPilot.Locale) e = e.weekStarts;
          else if ("string" == typeof e && DayPilot.Locale.find(e)) {
            var n = DayPilot.Locale.find(e);
            e = n.weekStarts;
          } else e = e || 0;
          for (var i = t.dayOfWeek(); i !== e; )
            (t = t.addDays(-1)), (i = t.dayOfWeek());
          return new DayPilot.Date(t);
        }),
        (DayPilot.Date.prototype.getDay = function () {
          return new Date(this.ticks).getUTCDate();
        }),
        (DayPilot.Date.prototype.getDatePart = function () {
          var e = new Date(this.ticks);
          return (
            e.setUTCHours(0),
            e.setUTCMinutes(0),
            e.setUTCSeconds(0),
            e.setUTCMilliseconds(0),
            new DayPilot.Date(e)
          );
        }),
        (DayPilot.Date.prototype.getYear = function () {
          return new Date(this.ticks).getUTCFullYear();
        }),
        (DayPilot.Date.prototype.getHours = function () {
          return new Date(this.ticks).getUTCHours();
        }),
        (DayPilot.Date.prototype.getMilliseconds = function () {
          return new Date(this.ticks).getUTCMilliseconds();
        }),
        (DayPilot.Date.prototype.getMinutes = function () {
          return new Date(this.ticks).getUTCMinutes();
        }),
        (DayPilot.Date.prototype.getMonth = function () {
          return new Date(this.ticks).getUTCMonth();
        }),
        (DayPilot.Date.prototype.getSeconds = function () {
          return new Date(this.ticks).getUTCSeconds();
        }),
        (DayPilot.Date.prototype.getTotalTicks = function () {
          return this.getTime();
        }),
        (DayPilot.Date.prototype.getTime = function () {
          return this.ticks;
        }),
        (DayPilot.Date.prototype.getTimePart = function () {
          var e = this.getDatePart();
          return DayPilot.DateUtil.diff(this, e);
        }),
        (DayPilot.Date.prototype.lastDayOfMonth = function () {
          var e = new Date(this.firstDayOfMonth().getTime()),
            t = this.daysInMonth();
          return e.setUTCDate(t), new DayPilot.Date(e);
        }),
        (DayPilot.Date.prototype.weekNumber = function () {
          var e = this.firstDayOfYear(),
            t = (this.getTime() - e.getTime()) / 864e5;
          return Math.ceil((t + e.dayOfWeek() + 1) / 7);
        }),
        (DayPilot.Date.prototype.weekNumberISO = function () {
          var e = !1,
            t = this.dayOfYear(),
            n = this.firstDayOfYear().dayOfWeek(),
            i = this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();
          0 === n && (n = 7), 0 === i && (i = 7);
          var a = 8 - n;
          (4 !== n && 4 !== i) || (e = !0);
          var r = Math.ceil((t - a) / 7),
            o = r;
          return (
            a >= 4 && (o += 1),
            o > 52 && !e && (o = 1),
            0 === o && (o = this.firstDayOfYear().addDays(-1).weekNumberISO()),
            o
          );
        }),
        (DayPilot.Date.prototype.toDateLocal = function () {
          var e = new Date(this.ticks),
            t = new Date();
          return (
            t.setFullYear(e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate()),
            t.setHours(e.getUTCHours()),
            t.setMinutes(e.getUTCMinutes()),
            t.setSeconds(e.getUTCSeconds()),
            t.setMilliseconds(e.getUTCMilliseconds()),
            t
          );
        }),
        (DayPilot.Date.prototype.toDate = function () {
          return new Date(this.ticks);
        }),
        (DayPilot.Date.prototype.toJSON = function () {
          return this.value;
        }),
        (DayPilot.Date.prototype.toString = function (e, t) {
          return e ? new r(e, t).print(this) : this.toStringSortable();
        }),
        (DayPilot.Date.prototype.toStringSortable = function () {
          return e(this.ticks);
        }),
        (DayPilot.Date.parse = function (e, t, n) {
          return new r(t, n).parse(e);
        });
      var a = 0;
      (DayPilot.Date.today = function () {
        return new DayPilot.Date(DayPilot.DateUtil.localToday(), !0);
      }),
        (DayPilot.Date.now = function () {
          return new DayPilot.Date();
        }),
        (DayPilot.Date.fromYearMonthDay = function (e, t, n) {
          (t = t || 1), (n = n || 1);
          var i = new Date(0);
          return (
            i.setUTCFullYear(e),
            i.setUTCMonth(t - 1),
            i.setUTCDate(n),
            new DayPilot.Date(i)
          );
        }),
        (DayPilot.DateUtil = {}),
        (DayPilot.DateUtil.fromStringSortable = function (e, t) {
          var n = function () {
            return new DayPilot.Exception(
              "Invalid string format (use '2010-12-31' or '2010-12-31T23:50:00'): '" +
                e +
                "'"
            );
          };
          if (!e)
            throw new DayPilot.Exception(
              "Can't create DayPilot.Date from an empty string"
            );
          var i = e.length,
            a = 10 === i,
            r = 19 === i,
            o = i > 19;
          if (!a && !r && !o) throw n();
          if (DayPilot.Date.Cache.Parsing[e] && !t)
            return (
              (DayPilot.Stats.cacheHitsParsing += 1),
              DayPilot.Date.Cache.Parsing[e]
            );
          var s = e.substring(0, 4);
          if (isNaN(s)) throw n();
          var l = e.substring(5, 7);
          if (isNaN(l)) throw n();
          var d = e.substring(8, 10);
          if (isNaN(d)) throw n();
          var c = new Date(0);
          if ((c.setUTCFullYear(s, l - 1, d), a))
            return (DayPilot.Date.Cache.Parsing[e] = c), c;
          var u = e.substring(11, 13);
          if (isNaN(u)) throw n();
          var h = e.substring(14, 16);
          if (isNaN(h)) throw n();
          var f = e.substring(17, 19);
          if (isNaN(f)) throw n();
          if ((c.setUTCHours(u), c.setUTCMinutes(h), c.setUTCSeconds(f), r))
            return (DayPilot.Date.Cache.Parsing[e] = c), c;
          var v = e[19],
            p = 0;
          if ("." === v) {
            var m = parseInt(e.substring(20, 23));
            if (isNaN(m)) throw n();
            c.setUTCMilliseconds(m),
              (p = DayPilot.DateUtil.getTzOffsetMinutes(e.substring(23)));
          } else p = DayPilot.DateUtil.getTzOffsetMinutes(e.substring(19));
          var g = new DayPilot.Date(c);
          return (
            t || (g = g.addMinutes(-p)),
            (c = g.toDate()),
            (DayPilot.Date.Cache.Parsing[e] = c),
            c
          );
        }),
        (DayPilot.DateUtil.getTzOffsetMinutes = function (e) {
          if (DayPilot.Util.isNullOrUndefined(e) || "" === e) return 0;
          if ("Z" === e) return 0;
          var t = e[0],
            n = parseInt(e.substring(1, 3)),
            i = parseInt(e.substring(4)),
            a = 60 * n + i;
          if ("-" === t) return -a;
          if ("+" === t) return a;
          throw "Invalid timezone spec: " + e;
        }),
        (DayPilot.DateUtil.hasTzSpec = function (e) {
          return !!e.indexOf("+") || !!e.indexOf("-");
        }),
        (DayPilot.DateUtil.daysDiff = function (e, t) {
          if (
            ((e && t) ||
              (function () {
                throw "two parameters required";
              })(),
            (e = new DayPilot.Date(e)),
            (t = new DayPilot.Date(t)),
            e.getTime() > t.getTime())
          )
            return null;
          for (var n = 0, i = e.getDatePart(), a = t.getDatePart(); i < a; )
            (i = i.addDays(1)), n++;
          return n;
        }),
        (DayPilot.DateUtil.daysSpan = function (e, t) {
          if (
            ((e && t) ||
              (function () {
                throw "two parameters required";
              })(),
            (e = new DayPilot.Date(e)),
            (t = new DayPilot.Date(t)),
            e === t)
          )
            return 0;
          var n = DayPilot.DateUtil.daysDiff(e, t);
          return t == t.getDatePart() && n--, n;
        }),
        (DayPilot.DateUtil.diff = function (e, t) {
          if (!(e && t && e.getTime && t.getTime))
            throw "Both compared objects must be Date objects (DayPilot.Date.diff).";
          return e.getTime() - t.getTime();
        }),
        (DayPilot.DateUtil.fromLocal = function (e) {
          e || (e = new Date());
          var t = new Date();
          return (
            t.setUTCFullYear(e.getFullYear(), e.getMonth(), e.getDate()),
            t.setUTCHours(e.getHours()),
            t.setUTCMinutes(e.getMinutes()),
            t.setUTCSeconds(e.getSeconds()),
            t.setUTCMilliseconds(e.getMilliseconds()),
            t
          );
        }),
        (DayPilot.DateUtil.localToday = function () {
          var e = new Date();
          return (
            e.setHours(0),
            e.setMinutes(0),
            e.setSeconds(0),
            e.setMilliseconds(0),
            e
          );
        }),
        (DayPilot.DateUtil.hours = function (e, t) {
          var n = e.getUTCMinutes();
          n < 10 && (n = "0" + n);
          var i = e.getUTCHours();
          if (t) {
            var a = i < 12,
              i = i % 12;
            0 === i && (i = 12);
            return i + ":" + n + " " + (a ? "AM" : "PM");
          }
          return i + ":" + n;
        }),
        (DayPilot.DateUtil.max = function (e, t) {
          return e.getTime() > t.getTime() ? e : t;
        }),
        (DayPilot.DateUtil.min = function (e, t) {
          return e.getTime() < t.getTime() ? e : t;
        });
      var r = function (e, n) {
        "string" == typeof n && (n = DayPilot.Locale.find(n));
        var n = n || DayPilot.Locale.US,
          i = [
            {
              seq: "yyyy",
              expr: "[0-9]{4,4}",
              str: function (e) {
                return e.getYear();
              },
            },
            {
              seq: "yy",
              expr: "[0-9]{2,2}",
              str: function (e) {
                return e.getYear() % 100;
              },
              transform: function (e) {
                return parseInt(e) + 2e3;
              },
            },
            {
              seq: "mm",
              expr: "[0-9]{2,2}",
              str: function (e) {
                var t = e.getMinutes();
                return t < 10 ? "0" + t : t;
              },
            },
            {
              seq: "m",
              expr: "[0-9]{1,2}",
              str: function (e) {
                return e.getMinutes();
              },
            },
            {
              seq: "HH",
              expr: "[0-9]{2,2}",
              str: function (e) {
                var t = e.getHours();
                return t < 10 ? "0" + t : t;
              },
            },
            {
              seq: "H",
              expr: "[0-9]{1,2}",
              str: function (e) {
                return e.getHours();
              },
            },
            {
              seq: "hh",
              expr: "[0-9]{2,2}",
              str: function (e) {
                var t = e.getHours(),
                  t = t % 12;
                0 === t && (t = 12);
                var n = t;
                return n < 10 ? "0" + n : n;
              },
            },
            {
              seq: "h",
              expr: "[0-9]{1,2}",
              str: function (e) {
                var t = e.getHours(),
                  t = t % 12;
                return 0 === t && (t = 12), t;
              },
            },
            {
              seq: "ss",
              expr: "[0-9]{2,2}",
              str: function (e) {
                var t = e.getSeconds();
                return t < 10 ? "0" + t : t;
              },
            },
            {
              seq: "s",
              expr: "[0-9]{1,2}",
              str: function (e) {
                return e.getSeconds();
              },
            },
            {
              seq: "MMMM",
              expr: "[^\\s0-9]*",
              str: function (e) {
                return n.monthNames[e.getMonth()];
              },
              transform: function (e) {
                var i = DayPilot.indexOf(n.monthNames, e, t);
                return i < 0 ? null : i + 1;
              },
            },
            {
              seq: "MMM",
              expr: "[^\\s0-9]*",
              str: function (e) {
                return n.monthNamesShort[e.getMonth()];
              },
              transform: function (e) {
                var i = DayPilot.indexOf(n.monthNamesShort, e, t);
                return i < 0 ? null : i + 1;
              },
            },
            {
              seq: "MM",
              expr: "[0-9]{2,2}",
              str: function (e) {
                var t = e.getMonth() + 1;
                return t < 10 ? "0" + t : t;
              },
            },
            {
              seq: "M",
              expr: "[0-9]{1,2}",
              str: function (e) {
                return e.getMonth() + 1;
              },
            },
            {
              seq: "dddd",
              expr: "[^\\s0-9]*",
              str: function (e) {
                return n.dayNames[e.getDayOfWeek()];
              },
            },
            {
              seq: "ddd",
              expr: "[^\\s0-9]*",
              str: function (e) {
                return n.dayNamesShort[e.getDayOfWeek()];
              },
            },
            {
              seq: "dd",
              expr: "[0-9]{2,2}",
              str: function (e) {
                var t = e.getDay();
                return t < 10 ? "0" + t : t;
              },
            },
            {
              seq: "%d",
              expr: "[0-9]{1,2}",
              str: function (e) {
                return e.getDay();
              },
            },
            {
              seq: "d",
              expr: "[0-9]{1,2}",
              str: function (e) {
                return e.getDay();
              },
            },
            {
              seq: "tt",
              expr: "(AM|PM|am|pm)",
              str: function (e) {
                return e.getHours() < 12 ? "AM" : "PM";
              },
              transform: function (e) {
                return e.toUpperCase();
              },
            },
          ],
          a = function (e) {
            return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&");
          };
        (this.init = function () {
          (this.year = this.findSequence("yyyy") || this.findSequence("yy")),
            (this.month =
              this.findSequence("MMMM") ||
              this.findSequence("MMM") ||
              this.findSequence("MM") ||
              this.findSequence("M")),
            (this.day = this.findSequence("dd") || this.findSequence("d")),
            (this.hours = this.findSequence("HH") || this.findSequence("H")),
            (this.minutes = this.findSequence("mm") || this.findSequence("m")),
            (this.seconds = this.findSequence("ss") || this.findSequence("s")),
            (this.ampm = this.findSequence("tt")),
            (this.hours12 = this.findSequence("hh") || this.findSequence("h"));
        }),
          (this.findSequence = function (t) {
            function n(e) {
              return parseInt(e);
            }
            return e.indexOf(t) === -1
              ? null
              : {
                  findValue: function (r) {
                    for (var o = a(e), s = null, l = 0; l < i.length; l++) {
                      var d = (i[l].length, t === i[l].seq),
                        c = i[l].expr;
                      d && ((c = "(" + c + ")"), (s = i[l].transform)),
                        (o = o.replace(i[l].seq, c));
                    }
                    o = "^" + o + "$";
                    try {
                      var u = new RegExp(o),
                        h = u.exec(r);
                      return h ? (s = s || n)(h[1]) : null;
                    } catch (e) {
                      throw "unable to create regex from: " + o;
                    }
                  },
                };
          }),
          (this.print = function (t) {
            for (
              var n = function (e) {
                  for (var t = 0; t < i.length; t++)
                    if (i[t] && i[t].seq === e) return i[t];
                  return null;
                },
                a = e.length <= 0,
                r = 0,
                o = [];
              !a;

            ) {
              var s = e.substring(r),
                l = /%?(.)\1*/.exec(s);
              if (l && l.length > 0) {
                var d = l[0],
                  c = n(d);
                c ? o.push(c) : o.push(d), (r += d.length), (a = e.length <= r);
              } else a = !0;
            }
            for (var u = 0; u < o.length; u++) {
              var h = o[u];
              "string" != typeof h && (o[u] = h.str(t));
            }
            return o.join("");
          }),
          (this.parse = function (e) {
            var t = this.year.findValue(e);
            if (!t) return null;
            var n = this.month.findValue(e);
            if (DayPilot.Util.isNullOrUndefined(n)) return null;
            if (n > 12 || n < 1) return null;
            var i = this.day.findValue(e),
              a = DayPilot.Date.fromYearMonthDay(t, n).daysInMonth();
            if (i < 1 || i > a) return null;
            var r = this.hours ? this.hours.findValue(e) : 0,
              o = this.minutes ? this.minutes.findValue(e) : 0,
              s = this.seconds ? this.seconds.findValue(e) : 0,
              l = this.ampm ? this.ampm.findValue(e) : null;
            if (this.ampm && this.hours12) {
              var d = this.hours12.findValue(e);
              if (d < 1 || d > 12) return null;
              r = "PM" === l ? (12 === d ? 12 : d + 12) : 12 === d ? 0 : d;
            }
            if (r < 0 || r > 23) return null;
            if (o < 0 || o > 59) return null;
            if (s < 0 || s > 59) return null;
            var c = new Date();
            return (
              c.setUTCFullYear(t, n - 1, i),
              c.setUTCHours(r),
              c.setUTCMinutes(o),
              c.setUTCSeconds(s),
              c.setUTCMilliseconds(0),
              new DayPilot.Date(c)
            );
          }),
          this.init();
      };
      (DayPilot.ColorUtil = {}),
        (DayPilot.ColorUtil.hexToRgb = function (e) {
          if (!/^#[0-9a-f]{6}$/i.test(e))
            throw new DayPilot.Exception(
              "Invalid color, only full hex color string accepted, eg. '#ffaaff'."
            );
          return (
            (e = e.replace("#", "")),
            {
              r: parseInt(e.substring(0, 2), 16),
              g: parseInt(e.substring(2, 4), 16),
              b: parseInt(e.substring(4, 6), 16),
            }
          );
        }),
        (DayPilot.ColorUtil.rgbToHex = function (e) {
          return "#" + n(e.r) + n(e.g) + n(e.b);
        }),
        (DayPilot.ColorUtil.adjustLuminance = function (e, t) {
          return { r: e.r + t, g: e.g + t, b: e.b + t };
        }),
        (DayPilot.ColorUtil.darker = function (e, t) {
          var n = DayPilot.ColorUtil.hexToRgb(e);
          "number" != typeof t && (t = 1);
          var i = 17,
            a = Math.round(t * i),
            r = DayPilot.ColorUtil.adjustLuminance(n, -a);
          return DayPilot.ColorUtil.rgbToHex(r);
        }),
        (DayPilot.ColorUtil.lighter = function (e, t) {
          return (
            "number" != typeof t && (t = 1), DayPilot.ColorUtil.darker(e, -t)
          );
        }),
        (DayPilot.ColorUtil.pl = function (e) {
          var t = DayPilot.ColorUtil.hexToRgb(e),
            n = t.r / 255,
            i = t.g / 255,
            a = t.b / 255;
          return Math.sqrt(0.299 * n * n + 0.587 * i * i + 0.114 * a * a);
        }),
        (DayPilot.ColorUtil.contrasting = function (e, t, n) {
          var i = DayPilot.ColorUtil.pl(e);
          return (t = t || "#ffffff"), (n = n || "#000000"), i > 0.5 ? n : t;
        }),
        (DayPilot.Canvas = function (e, t, n, i, a) {
          function r(e, t, n) {
            for (
              var i = t.split(" "), a = [], r = i[0], o = 1;
              o < i.length;
              o++
            ) {
              var s = i[o];
              e.measureText(r + " " + s).width < n
                ? (r += " " + s)
                : (a.push(r), (r = s));
            }
            return a.push(r), a;
          }
          var i = i || 1,
            s = document.createElement("canvas");
          (s.width = e * i), (s.height = t * i);
          var l = s.getContext("2d");
          l.scale(i, i),
            (this.defaultFileName = "image.png"),
            "image/jpeg" === n &&
              ((this.defaultFileName = "image.jpg"), (a = a || 0.92)),
            (this.groupStart = function (e) {}),
            (this.groupEnd = function () {}),
            (this.fillRect = function (e, t) {
              l.save(),
                (l.strokeStyle = "rgb(0,0,0,0)"),
                (l.fillStyle = t),
                l.fillRect(e.x, e.y, e.w, e.h),
                l.restore();
            }),
            (this.rect = function (e, t) {
              l.save(),
                (l.strokeStyle = t),
                l.beginPath(),
                l.rect(e.x + 0.5, e.y + 0.5, e.w - 1, e.h - 1),
                l.stroke(),
                l.restore();
            }),
            (this.diamond = function (e, t) {
              l.save(),
                (l.strokeStyle = "rgb(0,0,0,0)"),
                (l.fillStyle = t),
                l.beginPath(),
                l.moveTo(e.x + e.w / 2, e.y + 0.5),
                l.lineTo(e.x + e.w - 0.5, e.y + e.h / 2),
                l.lineTo(e.x + e.w / 2, e.y + e.h - 0.5),
                l.lineTo(e.x + 0.5, e.y + e.h / 2),
                l.closePath(),
                l.fill(),
                l.restore();
            }),
            (this.triangle = function (e, t, n) {
              for (n = n || 0; n < 0; ) n += 360;
              for (; n >= 360; ) n -= 360;
              switch (
                (l.save(),
                (l.strokeStyle = "rgb(0,0,0,0)"),
                (l.fillStyle = t),
                l.beginPath(),
                n)
              ) {
                case 0:
                  l.moveTo(e.x + e.w / 3, e.y + 0.5),
                    l.lineTo(e.x + e.w + 0.5, e.y + e.h / 2),
                    l.lineTo(e.x + e.w / 3, e.y + e.h - 0.5);
                  break;
                case 90:
                  l.moveTo(e.x - 0.5, e.y + e.h / 3),
                    l.lineTo(e.x + e.w + 0.5, e.y + e.h / 3),
                    l.lineTo(e.x + e.w / 2, e.y + e.h + 0.5);
                  break;
                case 180:
                  l.moveTo(e.x + (2 * e.w) / 3, e.y + 0.5),
                    l.lineTo(e.x + (2 * e.w) / 3, e.y + e.h),
                    l.lineTo(e.x, e.y + e.h / 2);
                  break;
                case 270:
                  l.moveTo(e.x + e.w / 2, e.y + e.w / 2 + 0.5),
                    l.lineTo(e.x + e.w - 0.5, e.y + (2 * e.h) / 3),
                    l.lineTo(e.x, e.y + (2 * e.h) / 3);
                  break;
                default:
                  throw new DayPilot.Exception("Unsupported rotation angle");
              }
              l.closePath(), l.fill(), l.restore();
            }),
            (this.upperLeftCorner = function (e, t) {
              l.save(),
                (l.strokeStyle = "rgb(0,0,0,0)"),
                (l.fillStyle = t),
                l.beginPath(),
                l.moveTo(e.x, e.y),
                l.lineTo(e.x + e.w, e.y),
                l.lineTo(e.x, e.y + e.h),
                l.closePath(),
                l.fill(),
                l.restore();
            }),
            (this.upperRightCorner = function (e, t) {
              l.save(),
                (l.strokeStyle = "rgb(0,0,0,0)"),
                (l.fillStyle = t),
                l.beginPath(),
                l.moveTo(e.x, e.y),
                l.lineTo(e.x + e.w, e.y),
                l.lineTo(e.x + e.w, e.y + e.h),
                l.closePath(),
                l.fill(),
                l.restore();
            }),
            (this.textWidth = function (e, t) {
              l.save(), (l.font = t.style + " " + t.size + " " + t.family);
              var n = l.measureText(e).width + 1;
              return l.restore(), n;
            }),
            (this.text = function (e, t, n, i, a, o, s) {
              if (t) {
                if (
                  ("number" == typeof t && (t = "" + t), "string" != typeof t)
                )
                  throw "String expected, supplied: " + typeof t;
                (a = a || "left"),
                  (o = o || 0),
                  (i = i || "#000"),
                  (s = s || "top"),
                  l.save();
                var d = DayPilot.Util.fontHeight(n),
                  c = DayPilot.browser.ff ? 3 : 0;
                (c += 0.2 * d),
                  (c += DayPilot.browser.chrome ? 1 : 0),
                  (c += DayPilot.browser.ie ? 1 : 0),
                  l.beginPath(),
                  l.rect(
                    e.x + 0.5 + o,
                    e.y + 0.5 + o,
                    e.w - 1 - o,
                    e.h - 1 - o
                  ),
                  l.clip(),
                  (l.fillStyle = i),
                  (l.font = n.style + " " + n.size + " " + n.family),
                  (l.textBaseline = "top"),
                  (l.textAlign = a);
                var u = e.x;
                switch (a) {
                  case "left":
                    u += o;
                    break;
                  case "center":
                    u += e.w / 2;
                    break;
                  case "right":
                    u += e.w - o;
                }
                var h = 1.2 * d,
                  f = t.split("\n"),
                  v = [];
                DayPilot.list(f).forEach(function (t) {
                  var n = r(l, t, e.w);
                  DayPilot.list(n).forEach(function (e) {
                    v.push(e);
                  });
                });
                var p = h - d,
                  m = h * v.length - p,
                  g = e.h - 2 * o,
                  y = e.y + o;
                switch (s) {
                  case "top":
                    y += c;
                    break;
                  case "center":
                    y += (g - m) / 2 + 0.1 * d;
                    break;
                  case "bottom":
                    y += g - m;
                }
                for (var b = 0; b < v.length; b++) {
                  var w = v[b];
                  l.fillText(w, u, y), (y += h);
                }
                l.restore();
              }
            }),
            (this.line = function (e, t, n, i, a) {
              l.save(),
                (l.lineWidth = 1),
                (l.strokeStyle = a),
                l.beginPath(),
                l.moveTo(e + 0.5, t + 0.5),
                l.lineTo(n + 0.5, i + 0.5),
                l.stroke(),
                l.restore();
            }),
            (this.image = function (e, t) {
              if (t) {
                if ("string" == typeof t) {
                  var n = t,
                    t = document.createElement("img");
                  if ((0 !== n.indexOf("data:"), !0))
                    return (
                      (t.onload = function () {
                        l.save(), l.drawImage(t, e.x, e.y), l.restore();
                      }),
                      void (t.src = n)
                    );
                  t.src = n;
                }
                l.save(), l.drawImage(t, e.x, e.y), l.restore();
              }
            }),
            (this.symbol = function (e, t, n) {
              var i = "http://www.w3.org/2000/svg",
                a = document.createElementNS(i, "svg"),
                r = this;
              n = n || {};
              var s = n.color;
              new o(t).k().then(function (t) {
                if (s) {
                  var n = document.createElementNS(i, "style");
                  (n.innerHTML = "svg { color: " + s + "; }"), a.appendChild(n);
                }
                a.setAttribute("viewBox", t.getAttribute("viewBox")),
                  a.setAttribute("width", e.w),
                  a.setAttribute("height", e.h);
                var o = document.createElementNS(i, "g");
                (o.innerHTML = t.innerHTML), a.appendChild(o);
                var l = new XMLSerializer().serializeToString(a),
                  d = "data:image/svg+xml;base64," + btoa(l);
                r.image(e, d);
              });
            }),
            (this.getWidth = function () {
              return s.width;
            }),
            (this.getHeight = function () {
              return s.height;
            }),
            (this.getElement = function () {
              return s;
            }),
            (this.getSource = function () {
              return "<img src='" + s.toDataURL(n, a) + "' />";
            }),
            (this.getDataUri = function () {
              return s.toDataURL(n, a);
            }),
            (this.getDefaultFileName = function () {
              return this.defaultFileName;
            }),
            (this.getBlob = function () {
              return s.msToBlob
                ? s.msToBlob()
                : DayPilot.Util.dataUriToBlob(this.getDataUri());
            });
        }),
        (DayPilot.Svg = function (e, t) {
          function n(e, t) {
            var n = document.createElementNS(a, "clipPath");
            n.id = "clip" + DayPilot.guid();
            var i = document.createElementNS(a, "rect");
            i.setAttribute("x", 0),
              i.setAttribute("y", 0),
              i.setAttribute("width", e),
              i.setAttribute("height", t),
              n.appendChild(i),
              s.defs.appendChild(n);
            var o = document.createElementNS(a, "g");
            o.setAttribute("clip-path", "url(#" + n.id + ")"),
              r.appendChild(o),
              (r = o);
          }
          function i(e, t) {
            var n = null;
            if (e) {
              if ("string" == typeof e) {
                if (0 === e.indexOf("data:")) {
                  var i = {};
                  (i.dataUri = e), t(i);
                }
                n = e;
              } else n = e.src;
              var e = document.createElement("img");
              (e.onload = function () {
                var e = document.createElement("canvas");
                (e.width = this.naturalWidth),
                  (e.height = this.naturalHeight),
                  e.getContext("2d").drawImage(this, 0, 0);
                var n = {};
                (n.dataUri = e.toDataURL("image/png")), t(n);
              }),
                (e.src = n);
            }
          }
          var a = "http://www.w3.org/2000/svg",
            r = document.createElementNS(a, "svg"),
            s = this;
          (this.l = r),
            (this.groups = []),
            r.outerHTML && r.setAttribute("xmlns", a),
            r.setAttribute("viewBox", "0 0 " + e + " " + t);
          var l = document.createElementNS(a, "defs");
          r.appendChild(l),
            (s.defs = l),
            n(e, t),
            (this.defaultFileName = "image.svg"),
            (this.groupStart = function (e) {
              var t = document.createElementNS(a, "g");
              for (var n in e) t.setAttribute("data-" + n, e[n]);
              (r = t),
                this.group && this.groups.push(this.group),
                (this.group = t);
            }),
            (this.groupEnd = function () {
              if (!this.group)
                throw new DayPilot.Exception("SVG export = group not open");
              var e = this.group;
              (this.group = this.groups.pop()),
                (r = this.group),
                r || (r = this.l),
                r.appendChild(e);
            }),
            (this.fillRect = function (e, t) {
              var n = document.createElementNS(a, "rect");
              n.setAttribute("x", e.x),
                n.setAttribute("y", e.y),
                n.setAttribute("width", e.w),
                n.setAttribute("height", e.h),
                n.setAttribute("fill", t),
                r.appendChild(n);
            }),
            (this.diamond = function (e, t) {
              var n = document.createElementNS(a, "path"),
                i = "";
              (i += "M " + (e.x + e.w / 2) + " " + e.y),
                (i += " "),
                (i += "L " + (e.x + e.w) + " " + (e.y + e.h / 2)),
                (i += " "),
                (i += "L " + (e.x + e.w / 2) + " " + (e.y + e.h)),
                (i += " "),
                (i += "L " + e.x + " " + (e.y + e.h / 2)),
                (i += " Z"),
                n.setAttribute("d", i),
                n.setAttribute("fill", t),
                r.appendChild(n);
            }),
            (this.triangle = function (e, t, n) {
              var i = document.createElementNS(a, "path"),
                o = "";
              (o += "M " + (e.x + e.w / 3) + " " + e.y),
                (o += " "),
                (o += "L " + (e.x + e.w) + " " + (e.y + e.h / 2)),
                (o += " "),
                (o += "L " + (e.x + e.w / 3) + " " + (e.y + e.h)),
                (o += " Z"),
                i.setAttribute("d", o),
                i.setAttribute("fill", t),
                "number" == typeof n &&
                  i.setAttribute(
                    "transform",
                    "rotate(" +
                      n +
                      "," +
                      (e.x + e.w / 2) +
                      "," +
                      (e.y + e.h / 2) +
                      ")"
                  ),
                r.appendChild(i);
            }),
            (this.upperLeftCorner = function (e, t) {
              var n = document.createElementNS(a, "path"),
                i = "";
              (i += "M " + e.x + " " + e.y),
                (i += " "),
                (i += "L " + (e.x + e.w) + " " + e.y),
                (i += " "),
                (i += "L " + e.x + " " + (e.y + e.h)),
                (i += " Z"),
                n.setAttribute("d", i),
                n.setAttribute("fill", t),
                r.appendChild(n);
            }),
            (this.upperRightCorner = function (e, t) {
              var n = document.createElementNS(a, "path"),
                i = "";
              (i += "M " + e.x + " " + e.y),
                (i += " "),
                (i += "L " + (e.x + e.w) + " " + e.y),
                (i += " "),
                (i += "L " + (e.x + e.w) + " " + (e.y + e.h)),
                (i += " Z"),
                n.setAttribute("d", i),
                n.setAttribute("fill", t),
                r.appendChild(n);
            }),
            (this.rect = function (e, t) {
              if (!(e.w <= 0 || e.h <= 0)) {
                var n = document.createElementNS(a, "rect");
                n.setAttribute("x", e.x + 0.5),
                  n.setAttribute("y", e.y + 0.5),
                  n.setAttribute("width", e.w - 1),
                  n.setAttribute("height", e.h - 1),
                  n.setAttribute("stroke", t),
                  n.setAttribute("stroke-width", "1"),
                  n.setAttribute("fill", "transparent"),
                  r.appendChild(n);
              }
            }),
            (this.text = function (e, t, n, i, o, l, d) {
              function c(e, t, o) {
                var s = document.createElementNS(a, "text");
                s.setAttribute("fill", i),
                  s.setAttribute("font-family", n.family),
                  s.setAttribute("font-size", n.size),
                  s.setAttribute("font-style", u),
                  s.setAttribute("font-weight", h),
                  s.setAttribute("x", t),
                  s.setAttribute("y", o),
                  s.setAttribute("dy", "0.8em"),
                  s.setAttribute("text-anchor", p),
                  s.setAttribute("clip-path", "url(#" + m.id + ")");
                var l = document.createTextNode(e);
                s.appendChild(l), r.appendChild(s);
              }
              if (t) {
                if (
                  ("number" == typeof t && (t = "" + t), "string" != typeof t)
                )
                  throw "String expected, supplied: " + typeof t;
                if (!(e.w < 0)) {
                  (o = o || "left"), (l = l || 0), (d = d || "top");
                  var u = n.style;
                  u.indexOf("italic") !== -1 && (u = "bold");
                  var h = n.style;
                  if (n.style) var f = 3;
                  var v = e.x,
                    p = "start";
                  switch (o) {
                    case "center":
                      (v += e.w / 2), (p = "middle");
                      break;
                    case "right":
                      (v += e.w), (p = "end");
                  }
                  var m = document.createElementNS(a, "clipPath");
                  m.id = "clip" + DayPilot.guid();
                  var g = document.createElementNS(a, "rect");
                  g.setAttribute("x", e.x),
                    g.setAttribute("y", e.y),
                    g.setAttribute("width", e.w),
                    g.setAttribute("height", e.h),
                    m.appendChild(g),
                    s.defs.appendChild(m);
                  var y = DayPilot.Util.fontHeight(n),
                    b = 1.2 * y,
                    w = t.split("\n"),
                    x = b - y,
                    k = b * w.length - x,
                    C = e.h - 2 * l,
                    D = e.y + l;
                  switch (d) {
                    case "top":
                      D += f;
                      break;
                    case "center":
                      D += (C - k) / 2 + 0.1 * y;
                      break;
                    case "bottom":
                      D += C - k;
                  }
                  for (var S = 0; S < w.length; S++) {
                    c(w[S], v + l, D), (D += b);
                  }
                }
              }
            }),
            (this.line = function (e, t, n, i, o) {
              var s = document.createElementNS(a, "line");
              s.setAttribute("x1", e + 0.5),
                s.setAttribute("y1", t + 0.5),
                s.setAttribute("x2", n + 0.5),
                s.setAttribute("y2", i + 0.5),
                s.setAttribute("stroke", o),
                r.appendChild(s);
            }),
            (this.image = function (e, t) {
              function n(t) {
                var n = document.createElementNS(a, "image");
                n.setAttribute("href", t.dataUri),
                  n.setAttribute("x", e.x),
                  n.setAttribute("y", e.y),
                  n.setAttribute("width", e.w),
                  n.setAttribute("height", e.h),
                  o.appendChild(n);
              }
              var o = document.createElementNS(a, "g");
              r.appendChild(o), i(t, n);
            }),
            (this.symbol = function (e, t, n) {
              var i = "http://www.w3.org/2000/svg",
                a = document.createElementNS(i, "symbol"),
                s = this;
              n = n || {};
              var l = n.color;
              new o(t).k().then(function (t) {
                if (l) {
                  var n = document.createElementNS(i, "style");
                  (n.innerHTML = "svg { color: " + l + "; }"), a.appendChild(n);
                }
                var o = DayPilot.guid();
                a.setAttribute("viewBox", t.getAttribute("viewBox")),
                  a.setAttribute("width", e.w),
                  a.setAttribute("height", e.h),
                  a.setAttribute("id", o);
                var d = document.createElementNS(i, "g");
                (d.innerHTML = t.innerHTML),
                  a.appendChild(d),
                  s.l.appendChild(a);
                var c = document.createElementNS(i, "use");
                c.setAttribute("href", "#" + o),
                  c.setAttribute("x", e.x),
                  c.setAttribute("y", e.y),
                  r.appendChild(c);
              });
            }),
            (this.m = {}),
            (this.textWidth = function (e, t) {
              var n = "#" + e + "#" + JSON.stringify(t),
                i = this.m[n];
              if ("number" == typeof i) return i;
              var a = "http://www.w3.org/2000/svg",
                r = document.createElementNS(a, "svg");
              (r.style.position = "absolute"),
                (r.style.left = "-10000px"),
                (r.style.width = "100px"),
                r.outerHTML && r.setAttribute("xmlns", a),
                r.setAttribute("viewBox", "0 0 100 100");
              var o = document.createElementNS(a, "text");
              o.setAttribute("font-family", t.family),
                o.setAttribute("font-size", t.size),
                o.setAttribute("font-style", t.style),
                o.setAttribute("x", 0),
                o.setAttribute("y", 0),
                o.setAttribute("dy", "1em");
              var s = document.createTextNode(e);
              o.appendChild(s), r.appendChild(o), document.body.appendChild(r);
              var l = o.getComputedTextLength();
              return (this.m[n] = l), document.body.removeChild(r), l;
            }),
            (this.getWidth = function () {
              return e;
            }),
            (this.getHeight = function () {
              return t;
            }),
            (this.getElement = function () {
              return this.l;
            }),
            (this.getSource = function () {
              if (this.l.outerHTML) return this.l.outerHTML;
              var e = document.createElement("div"),
                t = this.l.cloneNode(!0);
              return e.appendChild(t), e.innerHTML;
            }),
            (this.getDataUri = function () {
              return (
                "data:application/octet-stream," +
                encodeURIComponent(this.getSource())
              );
            }),
            (this.getDefaultFileName = function () {
              return this.defaultFileName;
            }),
            (this.getBlob = function () {
              return new Blob([this.getSource()]);
            });
        }),
        (DayPilot.Excel = function () {
          var e = this,
            t = null,
            n = null,
            i = null,
            a = {};
          (a.xmlns = "urn:schemas-microsoft-com:office:spreadsheet"),
            (a.o = "urn:schemas-microsoft-com:office:office"),
            (a.x = "urn:schemas-microsoft-com:office:excel"),
            (a.ss = "urn:schemas-microsoft-com:office:spreadsheet"),
            (a.html = "http://www.w3.org/TR/REC-html40"),
            (this.init = function () {
              (t = document.implementation.createDocument(
                a.xmlns,
                "Workbook",
                null
              )),
                t.documentElement.setAttribute("xmlns:o", a.o),
                t.documentElement.setAttribute("xmlns:x", a.x),
                t.documentElement.setAttribute("xmlns:ss", a.ss),
                t.documentElement.setAttribute("xmlns:html", a.html);
              var r = t.createElement("x:ExcelWorkbook");
              t.documentElement.appendChild(r),
                (n = t.createElement("ss:Styles")),
                t.documentElement.appendChild(n),
                (i = e.styles.create()),
                i.setId("Default"),
                i.setName("Normal");
            }),
            (this.worksheets = []),
            (this.worksheets.create = function (t) {
              var n = e.el(a.ss, "Worksheet"),
                i = new r(n);
              return i.setName(t), this.push(i), i;
            }),
            (this.styles = []),
            (this.styles.create = function (e) {
              var i = t.createElement("ss:Style");
              n.appendChild(i);
              var a = new o(i);
              return this.push(a), a;
            }),
            (this.styles.getDefault = function () {
              return i;
            }),
            (this.el = function (e, n) {
              var i = t.createElementNS(e, n);
              return t.documentElement.appendChild(i), i;
            }),
            (this.getSource = function () {
              return (
                '<?xml version="1.0"?>' +
                new XMLSerializer().serializeToString(t)
              );
            }),
            (this.getDataUri = function () {
              return (
                "data:application/vnd.ms-excel," +
                encodeURIComponent(this.getSource())
              );
            }),
            (this.getElement = function () {
              return t;
            }),
            (this.getDefaultFileName = function () {
              return "spreadsheet.xls";
            }),
            (this.getBlob = function () {
              return new Blob([this.getSource()]);
            });
          var r = function (e) {
              var n = t.createElement("Table");
              e.appendChild(n);
              var i = t.createElement("x:WorksheetOptions");
              e.appendChild(i),
                (this.rows = []),
                (this.setName = function (t) {
                  e.setAttribute("ss:Name", t);
                }),
                (this.cell = function (e, i) {
                  for (; i >= this.rows.length; ) {
                    var r = t.createElement("Row");
                    n.appendChild(r), this.rows.push(new a(r));
                  }
                  return this.rows[i].cell(e);
                }),
                (this.enableGridlines = function (e) {
                  var n = DayPilot.list(i.childNodes).find(function (e) {
                    return "x:DoNotDisplayGridlines" === e.tagName;
                  });
                  if (!n && !e) {
                    var a = t.createElement("x:DoNotDisplayGridlines");
                    i.appendChild(a);
                  }
                  n && e && i.removeChild(n);
                });
              var a = function (e) {
                (this.cells = []),
                  (this.getElement = function () {
                    return e;
                  }),
                  (this.cell = function (i) {
                    for (; i >= this.cells.length; ) {
                      var a = t.createElement("Cell");
                      e.appendChild(a), this.cells.push(new n(a));
                    }
                    return this.cells[i];
                  });
                var n = function (e) {
                  (this.setText = function (n) {
                    var i = t.createElement("Data");
                    i.setAttribute("ss:Type", "String");
                    var a = t.createTextNode(n);
                    for (i.appendChild(a); e.firstChild; )
                      e.removeChild(e.firstChild);
                    return e.appendChild(i), this;
                  }),
                    (this.setColspan = function (t) {
                      return (
                        t > 1
                          ? e.setAttribute("ss:MergeAcross", t - 1)
                          : e.removeAttribute("ss:MergeAcross"),
                        this
                      );
                    }),
                    (this.setRowspan = function (t) {
                      return (
                        t > 1
                          ? e.setAttribute("ss:MergeDown", t - 1)
                          : e.removeAttribute("ss:MergeDown"),
                        this
                      );
                    }),
                    (this.setStyle = function (t) {
                      if (!(t instanceof o))
                        throw "Invalid argument, Style expected";
                      return e.setAttribute("ss:StyleID", t.getId()), this;
                    });
                };
              };
            },
            o = function (e) {
              var n = DayPilot.guid();
              e.setAttribute("ss:ID", n);
              var i = t.createElement("ss:Alignment");
              e.appendChild(i);
              var a = t.createElement("ss:Interior");
              e.appendChild(a);
              var r = t.createElement("ss:Borders");
              e.appendChild(r),
                (this.setHorizontalAlignment = function (e) {
                  i.setAttribute("ss:Horizontal", e);
                }),
                (this.setVerticalAlignment = function (e) {
                  i.setAttribute("ss:Vertical", e);
                }),
                (this.setBackColor = function (e) {
                  var t = DayPilot.Util.normalizeColor(e);
                  a.setAttribute("ss:Color", t),
                    a.setAttribute("ss:Pattern", "Solid");
                }),
                (this.setBorderColor = function (e) {
                  function n(e, n) {
                    var i = t.createElement("ss:Border");
                    return (
                      i.setAttribute("ss:Position", e),
                      i.setAttribute("ss:LineStyle", "Continuous"),
                      i.setAttribute(
                        "ss:Color",
                        DayPilot.Util.normalizeColor(n)
                      ),
                      i
                    );
                  }
                  this.clearBorders();
                  var i = n("Left", e);
                  r.appendChild(i);
                  var a = n("Right", e);
                  r.appendChild(a);
                  var o = n("Top", e);
                  r.appendChild(o);
                  var s = n("Bottom", e);
                  r.appendChild(s);
                }),
                (this.clearBorders = function () {
                  for (; r.firstChild; ) r.removeChild(r.firstChild);
                }),
                (this.getId = function () {
                  return n;
                }),
                (this.setId = function (t) {
                  (n = t), e.setAttribute("ss:ID", n);
                }),
                (this.setName = function (t) {
                  e.setAttribute("ss:Name", t);
                });
            };
          this.init();
        }),
        (DayPilot.Export = function (e) {
          (this.toElement = function () {
            return e.getElement();
          }),
            (this.dimensions = function () {
              return { width: e.getWidth(), height: e.getHeight() };
            }),
            (this.toHtml = function () {
              return e.getSource();
            }),
            (this.toDataUri = function () {
              return e.getDataUri();
            }),
            (this.toBlob = function () {
              return e.getBlob();
            }),
            (this.print = function (t) {
              (t = t || {}), (t.orientation = t.orientation || "portrait");
              var n = document.createElement("iframe");
              n.setAttribute("width", 0),
                n.setAttribute("height", 0),
                n.setAttribute("frameborder", 0),
                n.setAttribute("src", "about:blank"),
                (n.onload = function () {
                  var i = n.contentWindow.document;
                  if (
                    (i.body.appendChild(e.getElement()),
                    "landscape" === t.orientation)
                  ) {
                    var a = DayPilot.sheet(i);
                    a.add("@page", "size: landscape;"), a.commit();
                  }
                  n.contentWindow.document.execCommand("print", !1, null) ||
                    (n.contentWindow.focus(), n.contentWindow.print()),
                    setTimeout(function () {
                      document.body.removeChild(n);
                    }, 10);
                }),
                document.body.appendChild(n);
            }),
            (this.download = function (t) {
              var t = t || e.getDefaultFileName(),
                n = e.getBlob();
              DayPilot.Util.downloadBlob(n, t);
            });
        }),
        (DayPilot.Exception = function (e) {
          return new Error(e);
        }),
        (DayPilot.Locale = function (e, t) {
          if (
            ((this.id = e),
            (this.dayNames = [
              "Sunday",
              "Monday",
              "Tuesday",
              "Wednesday",
              "Thursday",
              "Friday",
              "Saturday",
            ]),
            (this.dayNamesShort = ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"]),
            (this.monthNames = [
              "January",
              "February",
              "March",
              "April",
              "May",
              "June",
              "July",
              "August",
              "September",
              "October",
              "November",
              "December",
            ]),
            (this.monthNamesShort = [
              "Jan",
              "Feb",
              "Mar",
              "Apr",
              "May",
              "Jun",
              "Jul",
              "Aug",
              "Sep",
              "Oct",
              "Nov",
              "Dec",
            ]),
            (this.datePattern = "M/d/yyyy"),
            (this.timePattern = "H:mm"),
            (this.dateTimePattern = "M/d/yyyy H:mm"),
            (this.timeFormat = "Clock12Hours"),
            (this.weekStarts = 0),
            t)
          )
            for (var n in t) this[n] = t[n];
        }),
        (DayPilot.Locale.all = {}),
        (DayPilot.Locale.find = function (e) {
          if (!e) return null;
          var t = e.toLowerCase();
          return (
            t.length > 2 && (t = DayPilot.Util.replaceCharAt(t, 2, "-")),
            DayPilot.Locale.all[t]
          );
        }),
        (DayPilot.Locale.register = function (e) {
          DayPilot.Locale.all[e.id] = e;
        }),
        DayPilot.Locale.register(
          new DayPilot.Locale("ca-es", {
            dayNames: [
              "diumenge",
              "dilluns",
              "dimarts",
              "dimecres",
              "dijous",
              "divendres",
              "dissabte",
            ],
            dayNamesShort: ["dg", "dl", "dt", "dc", "dj", "dv", "ds"],
            monthNames: [
              "gener",
              "febrer",
              "març",
              "abril",
              "maig",
              "juny",
              "juliol",
              "agost",
              "setembre",
              "octubre",
              "novembre",
              "desembre",
              "",
            ],
            monthNamesShort: [
              "gen.",
              "febr.",
              "març",
              "abr.",
              "maig",
              "juny",
              "jul.",
              "ag.",
              "set.",
              "oct.",
              "nov.",
              "des.",
              "",
            ],
            timePattern: "H:mm",
            datePattern: "dd/MM/yyyy",
            dateTimePattern: "dd/MM/yyyy H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("cs-cz", {
            dayNames: [
              "neděle",
              "pondělí",
              "úterý",
              "středa",
              "čtvrtek",
              "pátek",
              "sobota",
            ],
            dayNamesShort: ["ne", "po", "út", "st", "čt", "pá", "so"],
            monthNames: [
              "leden",
              "únor",
              "březen",
              "duben",
              "květen",
              "červen",
              "červenec",
              "srpen",
              "září",
              "říjen",
              "listopad",
              "prosinec",
              "",
            ],
            monthNamesShort: [
              "I",
              "II",
              "III",
              "IV",
              "V",
              "VI",
              "VII",
              "VIII",
              "IX",
              "X",
              "XI",
              "XII",
              "",
            ],
            timePattern: "H:mm",
            datePattern: "d. M. yyyy",
            dateTimePattern: "d. M. yyyy H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("da-dk", {
            dayNames: [
              "søndag",
              "mandag",
              "tirsdag",
              "onsdag",
              "torsdag",
              "fredag",
              "lørdag",
            ],
            dayNamesShort: ["sø", "ma", "ti", "on", "to", "fr", "lø"],
            monthNames: [
              "januar",
              "februar",
              "marts",
              "april",
              "maj",
              "juni",
              "juli",
              "august",
              "september",
              "oktober",
              "november",
              "december",
              "",
            ],
            monthNamesShort: [
              "jan",
              "feb",
              "mar",
              "apr",
              "maj",
              "jun",
              "jul",
              "aug",
              "sep",
              "okt",
              "nov",
              "dec",
              "",
            ],
            timePattern: "HH:mm",
            datePattern: "dd-MM-yyyy",
            dateTimePattern: "dd-MM-yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("de-at", {
            dayNames: [
              "Sonntag",
              "Montag",
              "Dienstag",
              "Mittwoch",
              "Donnerstag",
              "Freitag",
              "Samstag",
            ],
            dayNamesShort: ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"],
            monthNames: [
              "Jänner",
              "Februar",
              "März",
              "April",
              "Mai",
              "Juni",
              "Juli",
              "August",
              "September",
              "Oktober",
              "November",
              "Dezember",
              "",
            ],
            monthNamesShort: [
              "Jän",
              "Feb",
              "Mär",
              "Apr",
              "Mai",
              "Jun",
              "Jul",
              "Aug",
              "Sep",
              "Okt",
              "Nov",
              "Dez",
              "",
            ],
            timePattern: "HH:mm",
            datePattern: "dd.MM.yyyy",
            dateTimePattern: "dd.MM.yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("de-ch", {
            dayNames: [
              "Sonntag",
              "Montag",
              "Dienstag",
              "Mittwoch",
              "Donnerstag",
              "Freitag",
              "Samstag",
            ],
            dayNamesShort: ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"],
            monthNames: [
              "Januar",
              "Februar",
              "März",
              "April",
              "Mai",
              "Juni",
              "Juli",
              "August",
              "September",
              "Oktober",
              "November",
              "Dezember",
              "",
            ],
            monthNamesShort: [
              "Jan",
              "Feb",
              "Mrz",
              "Apr",
              "Mai",
              "Jun",
              "Jul",
              "Aug",
              "Sep",
              "Okt",
              "Nov",
              "Dez",
              "",
            ],
            timePattern: "HH:mm",
            datePattern: "dd.MM.yyyy",
            dateTimePattern: "dd.MM.yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("de-de", {
            dayNames: [
              "Sonntag",
              "Montag",
              "Dienstag",
              "Mittwoch",
              "Donnerstag",
              "Freitag",
              "Samstag",
            ],
            dayNamesShort: ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"],
            monthNames: [
              "Januar",
              "Februar",
              "März",
              "April",
              "Mai",
              "Juni",
              "Juli",
              "August",
              "September",
              "Oktober",
              "November",
              "Dezember",
              "",
            ],
            monthNamesShort: [
              "Jan",
              "Feb",
              "Mrz",
              "Apr",
              "Mai",
              "Jun",
              "Jul",
              "Aug",
              "Sep",
              "Okt",
              "Nov",
              "Dez",
              "",
            ],
            timePattern: "HH:mm",
            datePattern: "dd.MM.yyyy",
            dateTimePattern: "dd.MM.yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("de-lu", {
            dayNames: [
              "Sonntag",
              "Montag",
              "Dienstag",
              "Mittwoch",
              "Donnerstag",
              "Freitag",
              "Samstag",
            ],
            dayNamesShort: ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"],
            monthNames: [
              "Januar",
              "Februar",
              "März",
              "April",
              "Mai",
              "Juni",
              "Juli",
              "August",
              "September",
              "Oktober",
              "November",
              "Dezember",
              "",
            ],
            monthNamesShort: [
              "Jan",
              "Feb",
              "Mrz",
              "Apr",
              "Mai",
              "Jun",
              "Jul",
              "Aug",
              "Sep",
              "Okt",
              "Nov",
              "Dez",
              "",
            ],
            timePattern: "HH:mm",
            datePattern: "dd.MM.yyyy",
            dateTimePattern: "dd.MM.yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("en-au", {
            dayNames: [
              "Sunday",
              "Monday",
              "Tuesday",
              "Wednesday",
              "Thursday",
              "Friday",
              "Saturday",
            ],
            dayNamesShort: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
            monthNames: [
              "January",
              "February",
              "March",
              "April",
              "May",
              "June",
              "July",
              "August",
              "September",
              "October",
              "November",
              "December",
              "",
            ],
            monthNamesShort: [
              "Jan",
              "Feb",
              "Mar",
              "Apr",
              "May",
              "Jun",
              "Jul",
              "Aug",
              "Sep",
              "Oct",
              "Nov",
              "Dec",
              "",
            ],
            timePattern: "h:mm tt",
            datePattern: "d/MM/yyyy",
            dateTimePattern: "d/MM/yyyy h:mm tt",
            timeFormat: "Clock12Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("en-ca", {
            dayNames: [
              "Sunday",
              "Monday",
              "Tuesday",
              "Wednesday",
              "Thursday",
              "Friday",
              "Saturday",
            ],
            dayNamesShort: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
            monthNames: [
              "January",
              "February",
              "March",
              "April",
              "May",
              "June",
              "July",
              "August",
              "September",
              "October",
              "November",
              "December",
              "",
            ],
            monthNamesShort: [
              "Jan",
              "Feb",
              "Mar",
              "Apr",
              "May",
              "Jun",
              "Jul",
              "Aug",
              "Sep",
              "Oct",
              "Nov",
              "Dec",
              "",
            ],
            timePattern: "h:mm tt",
            datePattern: "yyyy-MM-dd",
            dateTimePattern: "yyyy-MM-dd h:mm tt",
            timeFormat: "Clock12Hours",
            weekStarts: 0,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("en-gb", {
            dayNames: [
              "Sunday",
              "Monday",
              "Tuesday",
              "Wednesday",
              "Thursday",
              "Friday",
              "Saturday",
            ],
            dayNamesShort: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
            monthNames: [
              "January",
              "February",
              "March",
              "April",
              "May",
              "June",
              "July",
              "August",
              "September",
              "October",
              "November",
              "December",
              "",
            ],
            monthNamesShort: [
              "Jan",
              "Feb",
              "Mar",
              "Apr",
              "May",
              "Jun",
              "Jul",
              "Aug",
              "Sep",
              "Oct",
              "Nov",
              "Dec",
              "",
            ],
            timePattern: "HH:mm",
            datePattern: "dd/MM/yyyy",
            dateTimePattern: "dd/MM/yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("en-us", {
            dayNames: [
              "Sunday",
              "Monday",
              "Tuesday",
              "Wednesday",
              "Thursday",
              "Friday",
              "Saturday",
            ],
            dayNamesShort: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
            monthNames: [
              "January",
              "February",
              "March",
              "April",
              "May",
              "June",
              "July",
              "August",
              "September",
              "October",
              "November",
              "December",
              "",
            ],
            monthNamesShort: [
              "Jan",
              "Feb",
              "Mar",
              "Apr",
              "May",
              "Jun",
              "Jul",
              "Aug",
              "Sep",
              "Oct",
              "Nov",
              "Dec",
              "",
            ],
            timePattern: "h:mm tt",
            datePattern: "M/d/yyyy",
            dateTimePattern: "M/d/yyyy h:mm tt",
            timeFormat: "Clock12Hours",
            weekStarts: 0,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("es-es", {
            dayNames: [
              "domingo",
              "lunes",
              "martes",
              "miércoles",
              "jueves",
              "viernes",
              "sábado",
            ],
            dayNamesShort: ["D", "L", "M", "X", "J", "V", "S"],
            monthNames: [
              "enero",
              "febrero",
              "marzo",
              "abril",
              "mayo",
              "junio",
              "julio",
              "agosto",
              "septiembre",
              "octubre",
              "noviembre",
              "diciembre",
              "",
            ],
            monthNamesShort: [
              "ene.",
              "feb.",
              "mar.",
              "abr.",
              "may.",
              "jun.",
              "jul.",
              "ago.",
              "sep.",
              "oct.",
              "nov.",
              "dic.",
              "",
            ],
            timePattern: "H:mm",
            datePattern: "dd/MM/yyyy",
            dateTimePattern: "dd/MM/yyyy H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("es-mx", {
            dayNames: [
              "domingo",
              "lunes",
              "martes",
              "miércoles",
              "jueves",
              "viernes",
              "sábado",
            ],
            dayNamesShort: ["do.", "lu.", "ma.", "mi.", "ju.", "vi.", "sá."],
            monthNames: [
              "enero",
              "febrero",
              "marzo",
              "abril",
              "mayo",
              "junio",
              "julio",
              "agosto",
              "septiembre",
              "octubre",
              "noviembre",
              "diciembre",
              "",
            ],
            monthNamesShort: [
              "ene.",
              "feb.",
              "mar.",
              "abr.",
              "may.",
              "jun.",
              "jul.",
              "ago.",
              "sep.",
              "oct.",
              "nov.",
              "dic.",
              "",
            ],
            timePattern: "hh:mm tt",
            datePattern: "dd/MM/yyyy",
            dateTimePattern: "dd/MM/yyyy hh:mm tt",
            timeFormat: "Clock12Hours",
            weekStarts: 0,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("eu-es", {
            dayNames: [
              "igandea",
              "astelehena",
              "asteartea",
              "asteazkena",
              "osteguna",
              "ostirala",
              "larunbata",
            ],
            dayNamesShort: ["ig", "al", "as", "az", "og", "or", "lr"],
            monthNames: [
              "urtarrila",
              "otsaila",
              "martxoa",
              "apirila",
              "maiatza",
              "ekaina",
              "uztaila",
              "abuztua",
              "iraila",
              "urria",
              "azaroa",
              "abendua",
              "",
            ],
            monthNamesShort: [
              "urt.",
              "ots.",
              "mar.",
              "api.",
              "mai.",
              "eka.",
              "uzt.",
              "abu.",
              "ira.",
              "urr.",
              "aza.",
              "abe.",
              "",
            ],
            timePattern: "H:mm",
            datePattern: "yyyy/MM/dd",
            dateTimePattern: "yyyy/MM/dd H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("fi-fi", {
            dayNames: [
              "sunnuntai",
              "maanantai",
              "tiistai",
              "keskiviikko",
              "torstai",
              "perjantai",
              "lauantai",
            ],
            dayNamesShort: ["su", "ma", "ti", "ke", "to", "pe", "la"],
            monthNames: [
              "tammikuu",
              "helmikuu",
              "maaliskuu",
              "huhtikuu",
              "toukokuu",
              "kesäkuu",
              "heinäkuu",
              "elokuu",
              "syyskuu",
              "lokakuu",
              "marraskuu",
              "joulukuu",
              "",
            ],
            monthNamesShort: [
              "tammi",
              "helmi",
              "maalis",
              "huhti",
              "touko",
              "kesä",
              "heinä",
              "elo",
              "syys",
              "loka",
              "marras",
              "joulu",
              "",
            ],
            timePattern: "H:mm",
            datePattern: "d.M.yyyy",
            dateTimePattern: "d.M.yyyy H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("fr-be", {
            dayNames: [
              "dimanche",
              "lundi",
              "mardi",
              "mercredi",
              "jeudi",
              "vendredi",
              "samedi",
            ],
            dayNamesShort: ["di", "lu", "ma", "me", "je", "ve", "sa"],
            monthNames: [
              "janvier",
              "février",
              "mars",
              "avril",
              "mai",
              "juin",
              "juillet",
              "août",
              "septembre",
              "octobre",
              "novembre",
              "décembre",
              "",
            ],
            monthNamesShort: [
              "janv.",
              "févr.",
              "mars",
              "avr.",
              "mai",
              "juin",
              "juil.",
              "août",
              "sept.",
              "oct.",
              "nov.",
              "déc.",
              "",
            ],
            timePattern: "HH:mm",
            datePattern: "dd-MM-yy",
            dateTimePattern: "dd-MM-yy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("fr-ca", {
            dayNames: [
              "dimanche",
              "lundi",
              "mardi",
              "mercredi",
              "jeudi",
              "vendredi",
              "samedi",
            ],
            dayNamesShort: ["di", "lu", "ma", "me", "je", "ve", "sa"],
            monthNames: [
              "janvier",
              "février",
              "mars",
              "avril",
              "mai",
              "juin",
              "juillet",
              "août",
              "septembre",
              "octobre",
              "novembre",
              "décembre",
              "",
            ],
            monthNamesShort: [
              "janv.",
              "févr.",
              "mars",
              "avr.",
              "mai",
              "juin",
              "juil.",
              "août",
              "sept.",
              "oct.",
              "nov.",
              "déc.",
              "",
            ],
            timePattern: "HH:mm",
            datePattern: "yyyy-MM-dd",
            dateTimePattern: "yyyy-MM-dd HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 0,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("fr-ch", {
            dayNames: [
              "dimanche",
              "lundi",
              "mardi",
              "mercredi",
              "jeudi",
              "vendredi",
              "samedi",
            ],
            dayNamesShort: ["di", "lu", "ma", "me", "je", "ve", "sa"],
            monthNames: [
              "janvier",
              "février",
              "mars",
              "avril",
              "mai",
              "juin",
              "juillet",
              "août",
              "septembre",
              "octobre",
              "novembre",
              "décembre",
              "",
            ],
            monthNamesShort: [
              "janv.",
              "févr.",
              "mars",
              "avr.",
              "mai",
              "juin",
              "juil.",
              "août",
              "sept.",
              "oct.",
              "nov.",
              "déc.",
              "",
            ],
            timePattern: "HH:mm",
            datePattern: "dd.MM.yyyy",
            dateTimePattern: "dd.MM.yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("fr-fr", {
            dayNames: [
              "dimanche",
              "lundi",
              "mardi",
              "mercredi",
              "jeudi",
              "vendredi",
              "samedi",
            ],
            dayNamesShort: ["di", "lu", "ma", "me", "je", "ve", "sa"],
            monthNames: [
              "janvier",
              "février",
              "mars",
              "avril",
              "mai",
              "juin",
              "juillet",
              "août",
              "septembre",
              "octobre",
              "novembre",
              "décembre",
              "",
            ],
            monthNamesShort: [
              "janv.",
              "févr.",
              "mars",
              "avr.",
              "mai",
              "juin",
              "juil.",
              "août",
              "sept.",
              "oct.",
              "nov.",
              "déc.",
              "",
            ],
            timePattern: "HH:mm",
            datePattern: "dd/MM/yyyy",
            dateTimePattern: "dd/MM/yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("fr-lu", {
            dayNames: [
              "dimanche",
              "lundi",
              "mardi",
              "mercredi",
              "jeudi",
              "vendredi",
              "samedi",
            ],
            dayNamesShort: ["di", "lu", "ma", "me", "je", "ve", "sa"],
            monthNames: [
              "janvier",
              "février",
              "mars",
              "avril",
              "mai",
              "juin",
              "juillet",
              "août",
              "septembre",
              "octobre",
              "novembre",
              "décembre",
              "",
            ],
            monthNamesShort: [
              "janv.",
              "févr.",
              "mars",
              "avr.",
              "mai",
              "juin",
              "juil.",
              "août",
              "sept.",
              "oct.",
              "nov.",
              "déc.",
              "",
            ],
            timePattern: "HH:mm",
            datePattern: "dd/MM/yyyy",
            dateTimePattern: "dd/MM/yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("gl-es", {
            dayNames: [
              "domingo",
              "luns",
              "martes",
              "mércores",
              "xoves",
              "venres",
              "sábado",
            ],
            dayNamesShort: ["do", "lu", "ma", "mé", "xo", "ve", "sá"],
            monthNames: [
              "xaneiro",
              "febreiro",
              "marzo",
              "abril",
              "maio",
              "xuño",
              "xullo",
              "agosto",
              "setembro",
              "outubro",
              "novembro",
              "decembro",
              "",
            ],
            monthNamesShort: [
              "xan",
              "feb",
              "mar",
              "abr",
              "maio",
              "xuño",
              "xul",
              "ago",
              "set",
              "out",
              "nov",
              "dec",
              "",
            ],
            timePattern: "H:mm",
            datePattern: "dd/MM/yyyy",
            dateTimePattern: "dd/MM/yyyy H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("it-it", {
            dayNames: [
              "domenica",
              "lunedì",
              "martedì",
              "mercoledì",
              "giovedì",
              "venerdì",
              "sabato",
            ],
            dayNamesShort: ["do", "lu", "ma", "me", "gi", "ve", "sa"],
            monthNames: [
              "gennaio",
              "febbraio",
              "marzo",
              "aprile",
              "maggio",
              "giugno",
              "luglio",
              "agosto",
              "settembre",
              "ottobre",
              "novembre",
              "dicembre",
              "",
            ],
            monthNamesShort: [
              "gen",
              "feb",
              "mar",
              "apr",
              "mag",
              "giu",
              "lug",
              "ago",
              "set",
              "ott",
              "nov",
              "dic",
              "",
            ],
            timePattern: "HH:mm",
            datePattern: "dd/MM/yyyy",
            dateTimePattern: "dd/MM/yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("it-ch", {
            dayNames: [
              "domenica",
              "lunedì",
              "martedì",
              "mercoledì",
              "giovedì",
              "venerdì",
              "sabato",
            ],
            dayNamesShort: ["do", "lu", "ma", "me", "gi", "ve", "sa"],
            monthNames: [
              "gennaio",
              "febbraio",
              "marzo",
              "aprile",
              "maggio",
              "giugno",
              "luglio",
              "agosto",
              "settembre",
              "ottobre",
              "novembre",
              "dicembre",
              "",
            ],
            monthNamesShort: [
              "gen",
              "feb",
              "mar",
              "apr",
              "mag",
              "giu",
              "lug",
              "ago",
              "set",
              "ott",
              "nov",
              "dic",
              "",
            ],
            timePattern: "HH:mm",
            datePattern: "dd.MM.yyyy",
            dateTimePattern: "dd.MM.yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("ja-jp", {
            dayNames: [
              "日曜日",
              "月曜日",
              "火曜日",
              "水曜日",
              "木曜日",
              "金曜日",
              "土曜日",
            ],
            dayNamesShort: ["日", "月", "火", "水", "木", "金", "土"],
            monthNames: [
              "1月",
              "2月",
              "3月",
              "4月",
              "5月",
              "6月",
              "7月",
              "8月",
              "9月",
              "10月",
              "11月",
              "12月",
              "",
            ],
            monthNamesShort: [
              "1",
              "2",
              "3",
              "4",
              "5",
              "6",
              "7",
              "8",
              "9",
              "10",
              "11",
              "12",
              "",
            ],
            timePattern: "H:mm",
            datePattern: "yyyy/MM/dd",
            dateTimePattern: "yyyy/MM/dd H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 0,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("ko-kr", {
            dayNames: [
              "일요일",
              "월요일",
              "화요일",
              "수요일",
              "목요일",
              "금요일",
              "토요일",
            ],
            dayNamesShort: ["일", "월", "화", "수", "목", "금", "토"],
            monthNames: [
              "1월",
              "2월",
              "3월",
              "4월",
              "5월",
              "6월",
              "7월",
              "8월",
              "9월",
              "10월",
              "11월",
              "12월",
              "",
            ],
            monthNamesShort: [
              "1",
              "2",
              "3",
              "4",
              "5",
              "6",
              "7",
              "8",
              "9",
              "10",
              "11",
              "12",
              "",
            ],
            timePattern: "tt h:mm",
            datePattern: "yyyy-MM-dd",
            dateTimePattern: "yyyy-MM-dd tt h:mm",
            timeFormat: "Clock12Hours",
            weekStarts: 0,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("nb-no", {
            dayNames: [
              "søndag",
              "mandag",
              "tirsdag",
              "onsdag",
              "torsdag",
              "fredag",
              "lørdag",
            ],
            dayNamesShort: ["sø", "ma", "ti", "on", "to", "fr", "lø"],
            monthNames: [
              "januar",
              "februar",
              "mars",
              "april",
              "mai",
              "juni",
              "juli",
              "august",
              "september",
              "oktober",
              "november",
              "desember",
              "",
            ],
            monthNamesShort: [
              "jan",
              "feb",
              "mar",
              "apr",
              "mai",
              "jun",
              "jul",
              "aug",
              "sep",
              "okt",
              "nov",
              "des",
              "",
            ],
            timePattern: "HH:mm",
            datePattern: "dd.MM.yyyy",
            dateTimePattern: "dd.MM.yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("nl-nl", {
            dayNames: [
              "zondag",
              "maandag",
              "dinsdag",
              "woensdag",
              "donderdag",
              "vrijdag",
              "zaterdag",
            ],
            dayNamesShort: ["zo", "ma", "di", "wo", "do", "vr", "za"],
            monthNames: [
              "januari",
              "februari",
              "maart",
              "april",
              "mei",
              "juni",
              "juli",
              "augustus",
              "september",
              "oktober",
              "november",
              "december",
              "",
            ],
            monthNamesShort: [
              "jan",
              "feb",
              "mrt",
              "apr",
              "mei",
              "jun",
              "jul",
              "aug",
              "sep",
              "okt",
              "nov",
              "dec",
              "",
            ],
            timePattern: "HH:mm",
            datePattern: "d-M-yyyy",
            dateTimePattern: "d-M-yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("nl-be", {
            dayNames: [
              "zondag",
              "maandag",
              "dinsdag",
              "woensdag",
              "donderdag",
              "vrijdag",
              "zaterdag",
            ],
            dayNamesShort: ["zo", "ma", "di", "wo", "do", "vr", "za"],
            monthNames: [
              "januari",
              "februari",
              "maart",
              "april",
              "mei",
              "juni",
              "juli",
              "augustus",
              "september",
              "oktober",
              "november",
              "december",
              "",
            ],
            monthNamesShort: [
              "jan",
              "feb",
              "mrt",
              "apr",
              "mei",
              "jun",
              "jul",
              "aug",
              "sep",
              "okt",
              "nov",
              "dec",
              "",
            ],
            timePattern: "H:mm",
            datePattern: "d/MM/yyyy",
            dateTimePattern: "d/MM/yyyy H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("nn-no", {
            dayNames: [
              "søndag",
              "måndag",
              "tysdag",
              "onsdag",
              "torsdag",
              "fredag",
              "laurdag",
            ],
            dayNamesShort: ["sø", "må", "ty", "on", "to", "fr", "la"],
            monthNames: [
              "januar",
              "februar",
              "mars",
              "april",
              "mai",
              "juni",
              "juli",
              "august",
              "september",
              "oktober",
              "november",
              "desember",
              "",
            ],
            monthNamesShort: [
              "jan",
              "feb",
              "mar",
              "apr",
              "mai",
              "jun",
              "jul",
              "aug",
              "sep",
              "okt",
              "nov",
              "des",
              "",
            ],
            timePattern: "HH:mm",
            datePattern: "dd.MM.yyyy",
            dateTimePattern: "dd.MM.yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("pt-br", {
            dayNames: [
              "domingo",
              "segunda-feira",
              "terça-feira",
              "quarta-feira",
              "quinta-feira",
              "sexta-feira",
              "sábado",
            ],
            dayNamesShort: ["D", "S", "T", "Q", "Q", "S", "S"],
            monthNames: [
              "janeiro",
              "fevereiro",
              "março",
              "abril",
              "maio",
              "junho",
              "julho",
              "agosto",
              "setembro",
              "outubro",
              "novembro",
              "dezembro",
              "",
            ],
            monthNamesShort: [
              "jan",
              "fev",
              "mar",
              "abr",
              "mai",
              "jun",
              "jul",
              "ago",
              "set",
              "out",
              "nov",
              "dez",
              "",
            ],
            timePattern: "HH:mm",
            datePattern: "dd/MM/yyyy",
            dateTimePattern: "dd/MM/yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 0,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("pl-pl", {
            dayNames: [
              "niedziela",
              "poniedziałek",
              "wtorek",
              "środa",
              "czwartek",
              "piątek",
              "sobota",
            ],
            dayNamesShort: ["N", "Pn", "Wt", "Śr", "Cz", "Pt", "So"],
            monthNames: [
              "styczeń",
              "luty",
              "marzec",
              "kwiecień",
              "maj",
              "czerwiec",
              "lipiec",
              "sierpień",
              "wrzesień",
              "październik",
              "listopad",
              "grudzień",
              "",
            ],
            monthNamesShort: [
              "sty",
              "lut",
              "mar",
              "kwi",
              "maj",
              "cze",
              "lip",
              "sie",
              "wrz",
              "paź",
              "lis",
              "gru",
              "",
            ],
            timePattern: "HH:mm",
            datePattern: "yyyy-MM-dd",
            dateTimePattern: "yyyy-MM-dd HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("pt-pt", {
            dayNames: [
              "domingo",
              "segunda-feira",
              "terça-feira",
              "quarta-feira",
              "quinta-feira",
              "sexta-feira",
              "sábado",
            ],
            dayNamesShort: ["D", "S", "T", "Q", "Q", "S", "S"],
            monthNames: [
              "janeiro",
              "fevereiro",
              "março",
              "abril",
              "maio",
              "junho",
              "julho",
              "agosto",
              "setembro",
              "outubro",
              "novembro",
              "dezembro",
              "",
            ],
            monthNamesShort: [
              "jan",
              "fev",
              "mar",
              "abr",
              "mai",
              "jun",
              "jul",
              "ago",
              "set",
              "out",
              "nov",
              "dez",
              "",
            ],
            timePattern: "HH:mm",
            datePattern: "dd/MM/yyyy",
            dateTimePattern: "dd/MM/yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 0,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("ro-ro", {
            dayNames: [
              "duminică",
              "luni",
              "marți",
              "miercuri",
              "joi",
              "vineri",
              "sâmbătă",
            ],
            dayNamesShort: ["D", "L", "Ma", "Mi", "J", "V", "S"],
            monthNames: [
              "ianuarie",
              "februarie",
              "martie",
              "aprilie",
              "mai",
              "iunie",
              "iulie",
              "august",
              "septembrie",
              "octombrie",
              "noiembrie",
              "decembrie",
              "",
            ],
            monthNamesShort: [
              "ian.",
              "feb.",
              "mar.",
              "apr.",
              "mai.",
              "iun.",
              "iul.",
              "aug.",
              "sep.",
              "oct.",
              "nov.",
              "dec.",
              "",
            ],
            timePattern: "H:mm",
            datePattern: "dd.MM.yyyy",
            dateTimePattern: "dd.MM.yyyy H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("ru-ru", {
            dayNames: [
              "воскресенье",
              "понедельник",
              "вторник",
              "среда",
              "четверг",
              "пятница",
              "суббота",
            ],
            dayNamesShort: ["Вс", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"],
            monthNames: [
              "Январь",
              "Февраль",
              "Март",
              "Апрель",
              "Май",
              "Июнь",
              "Июль",
              "Август",
              "Сентябрь",
              "Октябрь",
              "Ноябрь",
              "Декабрь",
              "",
            ],
            monthNamesShort: [
              "янв",
              "фев",
              "мар",
              "апр",
              "май",
              "июн",
              "июл",
              "авг",
              "сен",
              "окт",
              "ноя",
              "дек",
              "",
            ],
            timePattern: "H:mm",
            datePattern: "dd.MM.yyyy",
            dateTimePattern: "dd.MM.yyyy H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("sk-sk", {
            dayNames: [
              "nedeľa",
              "pondelok",
              "utorok",
              "streda",
              "štvrtok",
              "piatok",
              "sobota",
            ],
            dayNamesShort: ["ne", "po", "ut", "st", "št", "pi", "so"],
            monthNames: [
              "január",
              "február",
              "marec",
              "apríl",
              "máj",
              "jún",
              "júl",
              "august",
              "september",
              "október",
              "november",
              "december",
              "",
            ],
            monthNamesShort: [
              "1",
              "2",
              "3",
              "4",
              "5",
              "6",
              "7",
              "8",
              "9",
              "10",
              "11",
              "12",
              "",
            ],
            timePattern: "H:mm",
            datePattern: "d.M.yyyy",
            dateTimePattern: "d.M.yyyy H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("sv-se", {
            dayNames: [
              "söndag",
              "måndag",
              "tisdag",
              "onsdag",
              "torsdag",
              "fredag",
              "lördag",
            ],
            dayNamesShort: ["sö", "må", "ti", "on", "to", "fr", "lö"],
            monthNames: [
              "januari",
              "februari",
              "mars",
              "april",
              "maj",
              "juni",
              "juli",
              "augusti",
              "september",
              "oktober",
              "november",
              "december",
              "",
            ],
            monthNamesShort: [
              "jan",
              "feb",
              "mar",
              "apr",
              "maj",
              "jun",
              "jul",
              "aug",
              "sep",
              "okt",
              "nov",
              "dec",
              "",
            ],
            timePattern: "HH:mm",
            datePattern: "yyyy-MM-dd",
            dateTimePattern: "yyyy-MM-dd HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("tr-tr", {
            dayNames: [
              "Pazar",
              "Pazartesi",
              "Salı",
              "Çarşamba",
              "Perşembe",
              "Cuma",
              "Cumartesi",
            ],
            dayNamesShort: ["Pz", "Pt", "Sa", "Ça", "Pe", "Cu", "Ct"],
            monthNames: [
              "Ocak",
              "Şubat",
              "Mart",
              "Nisan",
              "Mayıs",
              "Haziran",
              "Temmuz",
              "Ağustos",
              "Eylül",
              "Ekim",
              "Kasım",
              "Aralık",
              "",
            ],
            monthNamesShort: [
              "Oca",
              "Şub",
              "Mar",
              "Nis",
              "May",
              "Haz",
              "Tem",
              "Ağu",
              "Eyl",
              "Eki",
              "Kas",
              "Ara",
              "",
            ],
            timePattern: "HH:mm",
            datePattern: "d.M.yyyy",
            dateTimePattern: "d.M.yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("uk-ua", {
            dayNames: [
              "неділя",
              "понеділок",
              "вівторок",
              "середа",
              "четвер",
              "п'ятниця",
              "субота",
            ],
            dayNamesShort: ["Нд", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"],
            monthNames: [
              "січень",
              "лютий",
              "березень",
              "квітень",
              "травень",
              "червень",
              "липень",
              "серпень",
              "вересень",
              "жовтень",
              "листопад",
              "грудень",
              "",
            ],
            monthNamesShort: [
              "Січ",
              "Лют",
              "Бер",
              "Кві",
              "Тра",
              "Чер",
              "Лип",
              "Сер",
              "Вер",
              "Жов",
              "Лис",
              "Гру",
              "",
            ],
            timePattern: "H:mm",
            datePattern: "dd.MM.yyyy",
            dateTimePattern: "dd.MM.yyyy H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("zh-cn", {
            dayNames: [
              "星期日",
              "星期一",
              "星期二",
              "星期三",
              "星期四",
              "星期五",
              "星期六",
            ],
            dayNamesShort: ["日", "一", "二", "三", "四", "五", "六"],
            monthNames: [
              "一月",
              "二月",
              "三月",
              "四月",
              "五月",
              "六月",
              "七月",
              "八月",
              "九月",
              "十月",
              "十一月",
              "十二月",
              "",
            ],
            monthNamesShort: [
              "1月",
              "2月",
              "3月",
              "4月",
              "5月",
              "6月",
              "7月",
              "8月",
              "9月",
              "10月",
              "11月",
              "12月",
              "",
            ],
            timePattern: "H:mm",
            datePattern: "yyyy/M/d",
            dateTimePattern: "yyyy/M/d H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1,
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale("zh-tw", {
            dayNames: [
              "星期日",
              "星期一",
              "星期二",
              "星期三",
              "星期四",
              "星期五",
              "星期六",
            ],
            dayNamesShort: ["日", "一", "二", "三", "四", "五", "六"],
            monthNames: [
              "一月",
              "二月",
              "三月",
              "四月",
              "五月",
              "六月",
              "七月",
              "八月",
              "九月",
              "十月",
              "十一月",
              "十二月",
              "",
            ],
            monthNamesShort: [
              "一月",
              "二月",
              "三月",
              "四月",
              "五月",
              "六月",
              "七月",
              "八月",
              "九月",
              "十月",
              "十一月",
              "十二月",
              "",
            ],
            timePattern: "tt hh:mm",
            datePattern: "yyyy/M/d",
            dateTimePattern: "yyyy/M/d tt hh:mm",
            timeFormat: "Clock12Hours",
            weekStarts: 0,
          })
        ),
        (DayPilot.Locale.US = DayPilot.Locale.find("en-us")),
        (DayPilot.Switcher = function (e) {
          function t(e, t, i) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.day = i),
              (a.target = n.s.control),
              (a.preventDefault = function () {
                this.preventDefault.value = !0;
              });
            var r = n.N;
            (r &&
              r.start === a.start &&
              r.end === a.end &&
              r.day === a.day &&
              r.target === a.target) ||
              ((n.N = a),
              ("function" == typeof n.onChange &&
                (n.onChange(a), a.preventDefault.value)) ||
                ("function" == typeof n.onTimeRangeSelect &&
                  (n.onTimeRangeSelect(a), a.preventDefault.value)) ||
                (n.s.C(n.t),
                "function" == typeof n.onChanged && n.onChanged(a),
                "function" == typeof n.onTimeRangeSelected &&
                  n.onTimeRangeSelected(a)));
          }
          var n = this;
          (this.n = []),
            (this.p = []),
            (this.q = {}),
            (this.selectedClass = null),
            (this.s = null),
            (this.t = DayPilot.Date.today()),
            (this.onChange = null),
            (this.onChanged = null),
            (this.onSelect = null),
            (this.q.updateMode = function (e) {
              var t = n.q.control;
              t && ((t.selectMode = e), t.select(n.t));
            }),
            (this.addView = function (e, t) {
              var i;
              if ("string" == typeof e) {
                if (((i = document.getElementById(e)), !i))
                  throw "Element not found: " + e;
              } else i = e;
              var a = i,
                r = {};
              return (
                (r.u = !0),
                (r.z = a.id),
                (r.control = a),
                (r.A = t || {}),
                (r.B = function () {
                  a.hide
                    ? a.hide()
                    : a.nav && a.nav.top
                    ? (a.nav.top.style.display = "none")
                    : (a.style.display = "none");
                }),
                (r.C = function (e) {
                  (function () {
                    return (
                      !!a.backendUrl ||
                      !("function" != typeof WebForm_DoCallback || !a.uniqueID)
                    );
                  })()
                    ? a.commandCallBack &&
                      a.commandCallBack("navigate", { day: e })
                    : ((a.startDate = e), a.update());
                }),
                (r.D = function () {
                  n.E(),
                    a.show
                      ? a.show()
                      : a.nav && a.nav.top
                      ? (a.nav.top.style.display = "")
                      : (a.style.display = "");
                }),
                (r.F = function () {
                  if (r.A.navigatorSelectMode) return r.A.navigatorSelectMode;
                  if (a.isCalendar)
                    switch (a.viewType) {
                      case "Day":
                        return "day";
                      case "Week":
                        return "week";
                      case "WorkWeek":
                        return "week";
                      default:
                        return "day";
                    }
                  else if (a.isMonth)
                    switch (a.viewType) {
                      case "Month":
                        return "month";
                      case "Weeks":
                        return "week";
                      default:
                        return "day";
                    }
                  return "day";
                }),
                this.n.push(r),
                r
              );
            }),
            (this.addTrigger = function (e, t) {
              var i;
              if ("string" == typeof e) {
                if (((i = document.getElementById(e)), !i))
                  throw "Element not found: " + e;
              } else i = e;
              var a = this.G(t);
              a || (a = this.addView(t));
              var r = {};
              return (
                (r.H = !0),
                (r.I = i),
                (r.z = i.id),
                (r.J = a),
                (r.K = function (e) {
                  n.show(r),
                    n.L(r),
                    e &&
                      (e.preventDefault
                        ? e.preventDefault()
                        : (e.returnValue = !1));
                }),
                DayPilot.re(i, "click", r.K),
                this.p.push(r),
                r
              );
            }),
            (this.addButton = this.addTrigger),
            (this.select = function (e) {
              var t = this.M(e);
              t ? t.K() : this.p.length > 0 && this.p[0].K();
            }),
            (this.M = function (e) {
              for (var t = 0; t < this.p.length; t++) {
                var n = this.p[t];
                if (n.z === e) return n;
              }
              return null;
            }),
            (this.L = function (e) {
              if (this.selectedClass) {
                for (var t = 0; t < this.p.length; t++) {
                  var n = this.p[t];
                  DayPilot.Util.removeClass(n.I, this.selectedClass);
                }
                DayPilot.Util.addClass(e.I, this.selectedClass);
              }
            }),
            (this.addNavigator = function (e) {
              (n.q.control = e),
                (e.timeRangeSelectedHandling = "JavaScript"),
                (e.onTimeRangeSelected = function () {
                  var i, a, r;
                  if (1 === e.api)
                    (i = arguments[0]), (a = arguments[1]), (r = arguments[2]);
                  else {
                    var o = arguments[0];
                    (i = o.start), (a = o.end), (r = o.day);
                  }
                  (n.t = r), t(i, a, r);
                });
            }),
            (this.show = function (e) {
              var i, a;
              if (e.H) (a = e), (i = a.J);
              else if (((i = e.u ? e : this.G(e)), this.s === i)) return;
              if (n.onSelect) {
                var r = {};
                (r.source = a ? a.I : null),
                  (r.target = i.control),
                  n.onSelect(r);
              }
              (this.s = i), i.D();
              var o = i.F();
              n.q.updateMode(o),
                t(
                  n.q.control.selectionStart,
                  n.q.control.selectionEnd.addDays(1),
                  n.q.control.selectionDay
                );
            }),
            (this.G = function (e) {
              for (var t = 0; t < this.n.length; t++)
                if (this.n[t].control === e) return this.n[t];
              return null;
            }),
            (this.E = function () {
              for (var e = 0; e < this.n.length; e++) this.n[e].B();
            }),
            Object.defineProperty(this, "active", {
              get: function () {
                return n.s;
              },
            }),
            (this.events = {}),
            (this.events.load = function (e, t, i) {
              if (!n.s || !n.s.control)
                throw "DayPilot.Switcher.events.load(): Active view not found";
              n.s.control.events.load(e, t, i);
            }),
            (this.N = null),
            (this.O = function () {
              if (e)
                for (var t in e)
                  if ("triggers" === t) {
                    var i = e.triggers || [];
                    i.forEach(function (e) {
                      n.addTrigger(e.id, e.view);
                    });
                  } else
                    "navigator" === t
                      ? n.addNavigator(e.navigator)
                      : (n[t] = e[t]);
            }),
            this.O();
        }),
        (function () {
          if (!DayPilot.Global.defaultCss) {
            var e = DayPilot.sheet();
            e.add(
              ".bubble_default_main",
              "cursor: default; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"
            ),
              e.add(
                ".bubble_default_main_inner",
                'border-radius: 5px; padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);'
              ),
              e.add(
                ".bubble_default_arrow_top",
                "fill: #ffffff; stroke: #cccccc; stroke-width: 1;"
              ),
              e.add(
                ".bubble_default_arrow_bottom",
                "fill: #eeeeee; stroke: #cccccc; stroke-width: 2;"
              ),
              e.add(
                ".bubble_default_arrow_left",
                "fill: #ffffff; stroke: #cccccc; stroke-width: 1;"
              ),
              e.add(
                ".bubble_default_arrow_right",
                "fill: #ffffff; stroke: #cccccc; stroke-width: 1;"
              ),
              e.add(
                ".calendar_default_main",
                "border: 1px solid #c0c0c0; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"
              ),
              e.add(
                ".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after",
                "box-sizing: content-box;"
              ),
              e.add(
                ".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner",
                "color: #333;background: #f3f3f3;"
              ),
              e.add(
                ".calendar_default_colheader_back",
                "background: #f3f3f3; border-bottom: 1px solid red;"
              ),
              e.add(
                ".calendar_default_colheader_back_inner",
                "position: absolute; inset: 0; border-bottom: 1px solid #c0c0c0;"
              ),
              e.add(
                ".calendar_default_cornerright_inner",
                "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px; border-bottom: 1px solid #c0c0c0;"
              ),
              e.add(
                ".calendar_default_direction_rtl .calendar_default_cornerright_inner",
                "border-right: 1px solid #c0c0c0;"
              ),
              e.add(
                ".calendar_default_rowheader_inner",
                "font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0; padding: 3px;"
              ),
              e.add(
                ".calendar_default_direction_rtl .calendar_default_rowheader_inner",
                "border-right: none;"
              ),
              e.add(
                ".calendar_default_corner_inner",
                "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"
              ),
              e.add(
                ".calendar_default_direction_rtl .calendar_default_corner_inner",
                "border-right: none;"
              ),
              e.add(
                ".calendar_default_rowheader_minutes",
                "font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;"
              ),
              e.add(
                ".calendar_default_colheader_inner",
                "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0; display: flex; align-items: center; justify-content: center;"
              ),
              e.add(
                ".calendar_default_cell_inner",
                "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;"
              ),
              e.add(
                ".calendar_default_cell_business .calendar_default_cell_inner",
                "background: #fff"
              ),
              e.add(
                ".calendar_default_alldayheader_inner",
                "text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"
              ),
              e.add(
                ".calendar_default_message",
                "opacity: 0.9; padding: 10px; color: #ffffff;background: #ffa216;"
              ),
              e.add(
                ".calendar_default_alldayevent_inner,.calendar_default_event_inner",
                "color: #333; border: 1px solid #999;"
              ),
              e.add(
                ".calendar_default_event_bar",
                "top: 0px;bottom: 0px;left: 0px;width: 6px;background-color: #9dc8e8;"
              ),
              e.add(
                ".calendar_default_event_bar_inner",
                "position: absolute;width: 6px;background-color: #1066a8;"
              ),
              e.add(
                ".calendar_default_alldayevent_inner,.calendar_default_event_inner",
                'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
              ),
              e.add(
                ".calendar_default_selected .calendar_default_event_inner",
                "background: #ddd;"
              ),
              e.add(
                ".calendar_default_alldayevent_inner",
                "position: absolute;top: 0px;bottom: 0px;left: 0px;right: 0px;overflow:hidden;padding: 4px;margin-right: 0px; display: flex; align-items: center;"
              ),
              e.add(
                ".calendar_default_event_withheader .calendar_default_event_inner",
                "padding-top: 15px;"
              ),
              e.add(".calendar_default_event", "cursor: default;"),
              e.add(
                ".calendar_default_event_inner",
                "position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 8px;"
              ),
              e.add(
                ".calendar_default_shadow_inner",
                "position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color: #666666; opacity: 0.5;"
              ),
              e.add(
                ".calendar_default_event_delete",
                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"
              ),
              e.add(
                ".calendar_default_event_delete:hover",
                "opacity: 1;-ms-filter: none;"
              ),
              e.add(
                ".calendar_default_scroll_up",
                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);"
              ),
              e.add(
                ".calendar_default_scroll_down",
                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);"
              ),
              e.add(".calendar_default_now", "background-color: red;"),
              e.add(
                ".calendar_default_now:before",
                "content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);"
              ),
              e.add(
                ".calendar_default_shadow_forbidden .calendar_default_shadow_inner",
                "background-color: #cc4125;"
              ),
              e.add(
                ".calendar_default_shadow_top",
                'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
              ),
              e.add(
                ".calendar_default_shadow_bottom",
                'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
              ),
              e.add(
                ".calendar_default_crosshair_vertical, .calendar_default_crosshair_horizontal, .calendar_default_crosshair_left, .calendar_default_crosshair_top",
                "background-color: gray; opacity: 0.2;"
              ),
              e.add(
                ".calendar_default_loading",
                "background-color: orange; color: white; padding: 2px;"
              ),
              e.add(".calendar_default_scroll", "background-color: #f3f3f3;"),
              e.add(".calendar_default_event_moving_source", "opacity: 0.5;"),
              e.add(
                ".calendar_default_colmove_handle",
                "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"
              ),
              e.add(
                ".calendar_default_colheader:hover .calendar_default_colheader_splitter",
                "background-color: #c0c0c0;"
              ),
              e.add(
                ".calendar_default_colmove_source",
                "background-color: black; opacity: 0.5;"
              ),
              e.add(
                ".calendar_default_colmove_position_before",
                "box-sizing: border-box; border-left: 2px solid #999999;"
              ),
              e.add(
                ".calendar_default_colmove_position_before:before",
                "content: ''; border-width: 6px; border-color: transparent #999999 transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"
              ),
              e.add(
                ".calendar_default_colmove_position_after",
                "box-sizing: border-box; border-right: 2px solid #999999;"
              ),
              e.add(
                ".calendar_default_colmove_position_after:before",
                "content: ''; border-width: 6px; border-color: transparent transparent transparent #999999; border-style: solid; width: 0px; height:0px; position: absolute;"
              ),
              e.add(
                ".calendar_default_colmove_position_child",
                "box-sizing: border-box; border-bottom: 2px solid #999999;"
              ),
              e.add(
                ".calendar_default_colmove_position_child:before",
                "content: ''; border-width: 6px; border-color: #999999 transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"
              ),
              e.add(
                ".calendar_default_colmove_position_forbidden",
                "border-top: 2px solid red;"
              ),
              e.add(
                ".calendar_default_colheader .calendar_default_colheader_splitter:hover",
                "background-color: #999999;"
              ),
              e.add(
                ".menu_default_main",
                "user-select:none; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;font-size: 13px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);"
              ),
              e.add(
                ".menu_default_main, .menu_default_main *, .menu_default_main *:before, .menu_default_main *:after",
                "box-sizing: content-box;"
              ),
              e.add(
                ".menu_default_title",
                "background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;"
              ),
              e.add(
                ".menu_default_main a",
                "padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;"
              ),
              e.add(
                ".menu_default_main.menu_default_withchildren a",
                "padding: 2px 35px 2px 35px;"
              ),
              e.add(
                ".menu_default_main a img",
                "margin-left: 6px;margin-top: 2px;"
              ),
              e.add(
                ".menu_default_item_text",
                "display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px; white-space: nowrap;"
              ),
              e.add(".menu_default_main a:hover", "background-color: #f3f3f3;"),
              e.add(
                ".menu_default_main div div",
                "border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;"
              ),
              e.add(
                ".menu_default_main a.menu_default_item_disabled",
                "color: #ccc"
              ),
              e.add(
                ".menu_default_item_haschildren.menu_default_item_haschildren_active",
                "background-color: #f3f3f3;"
              ),
              e.add(
                ".menu_default_item_haschildren a:before",
                "content: ''; border-width: 5px; border-color: transparent transparent transparent #666; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 5px;"
              ),
              e.add(
                ".menu_default_item_icon",
                "position: absolute; top:0px; left: 0px; padding: 2px 2px 2px 8px;"
              ),
              e.add(
                ".menu_default_item a i",
                "height: 20px;line-height: 20px;"
              ),
              e.add(
                ".menu_default_item .menu_default_item_symbol",
                "width: 18px; height: 18px; color: #999; margin-left: 6px;margin-top: 2px;"
              ),
              e.add(
                ".menubar_default_main",
                "border-bottom: 1px solid #ccc; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px; user-select:none;"
              ),
              e.add(
                ".menubar_default_item",
                "display: inline-block;  padding: 6px 10px; cursor: default;"
              ),
              e.add(
                ".menubar_default_item:hover",
                "background-color: #f2f2f2;"
              ),
              e.add(
                ".menubar_default_item_active",
                "background-color: #f2f2f2;"
              ),
              e.add(
                ".month_default_main",
                "border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;color: #333;"
              ),
              e.add(
                ".month_default_main *, .month_default_main *:before, .month_default_main *:after",
                "box-sizing: content-box;"
              ),
              e.add(
                ".month_default_cell_inner",
                "border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;"
              ),
              e.add(
                ".month_default_cell_business .month_default_cell_inner",
                "background-color: #fff;"
              ),
              e.add(
                ".month_default_cell_header",
                "text-align: right; padding: 4px; box-sizing: border-box;"
              ),
              e.add(
                ".month_default_header_inner",
                "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;cursor: default;color: #333;background: #f3f3f3; overflow:hidden; display: flex; align-items: center; justify-content: center;"
              ),
              e.add(
                ".month_default_message",
                "padding: 10px;opacity: 0.9; color: #ffffff;background: #ffa216;"
              ),
              e.add(
                ".month_default_event_inner",
                "position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 10px;color: #333;background: #fff;background: linear-gradient(to bottom, #ffffff 0%, #eeeeee);border: 1px solid #999;border-radius: 0px;display: flex; align-items: center;"
              ),
              e.add(
                ".month_default_event_continueright .month_default_event_inner",
                "border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;"
              ),
              e.add(
                ".month_default_event_continueleft .month_default_event_inner",
                "border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;"
              ),
              e.add(
                ".month_default_event_bar",
                "top: 0px;bottom: 0px;left: 0px;width: 6px;"
              ),
              e.add(
                ".month_default_event_bar_inner",
                "position: absolute;width: 6px;background-color: #1066a8;"
              ),
              e.add(
                ".month_default_event_continueleft .month_default_event_bar",
                "display: none;"
              ),
              e.add(
                ".month_default_selected .month_default_event_inner",
                "background: #ddd;"
              ),
              e.add(
                ".month_default_shadow_inner",
                "background-color: #666666;opacity: 0.5;height: 100%;"
              ),
              e.add(
                ".month_default_event_delete",
                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"
              ),
              e.add(
                ".month_default_event_delete:hover",
                "opacity: 1;-ms-filter: none;"
              ),
              e.add(
                ".month_default_event_timeleft",
                "color: #ccc; font-size: 11px; display: flex; align-items: center;"
              ),
              e.add(
                ".month_default_event_timeright",
                "color: #ccc; font-size: 11px; display: flex; align-items: center; justify-content: end;"
              ),
              e.add(
                ".month_default_loading",
                "background-color: orange; color: white; padding: 2px;"
              ),
              e.add(
                ".month_default_shadow_forbidden .month_default_shadow_inner",
                "background-color: #cc4125;"
              ),
              e.add(
                ".navigator_default_main",
                "border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"
              ),
              e.add(
                ".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after",
                "box-sizing: content-box;"
              ),
              e.add(
                ".navigator_default_month",
                "font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 12px;"
              ),
              e.add(".navigator_default_day", "color: black;"),
              e.add(".navigator_default_weekend", "background-color: #f0f0f0;"),
              e.add(".navigator_default_dayheader", "color: black;"),
              e.add(
                ".navigator_default_line",
                "border-bottom: 1px solid #c0c0c0;"
              ),
              e.add(".navigator_default_dayother", "color: gray;"),
              e.add(".navigator_default_todaybox", "border: 1px solid red;"),
              e.add(
                ".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright",
                "border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"
              ),
              e.add(".navigator_default_busy", "font-weight: bold;"),
              e.add(".navigator_default_cell", "text-align: center;"),
              e.add(
                ".navigator_default_select .navigator_default_cell_box",
                "background-color: #FFE794; opacity: 0.5;"
              ),
              e.add(".navigator_default_title", "text-align: center;"),
              e.add(
                ".navigator_default_titleleft, .navigator_default_titleright",
                "text-align: center;"
              ),
              e.add(".navigator_default_dayheader", "text-align: center;"),
              e.add(
                ".navigator_default_weeknumber",
                "text-align: center; color: #999;"
              ),
              e.add(".navigator_default_cell_text", "cursor: pointer;"),
              e.add(
                ".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after",
                "box-sizing: content-box;"
              ),
              e.add(
                ".scheduler_default_main",
                "box-sizing: content-box; border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"
              ),
              e.add(
                ".scheduler_default_selected .scheduler_default_event_inner",
                "background: #ddd;"
              ),
              e.add(
                ".scheduler_default_timeheader_scroll",
                "background: #f3f3f3;"
              ),
              e.add(
                ".scheduler_default_message",
                "opacity: 0.9; padding: 10px; color: #ffffff; background: #ffa216;"
              ),
              e.add(
                ".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol",
                "color: #333;background: #f3f3f3;"
              ),
              e.add(
                ".scheduler_default_rowheader,.scheduler_default_corner",
                "color: #333;background: #f3f3f3;"
              ),
              e.add(
                ".scheduler_default_rowheader.scheduler_default_rowheader_selected",
                "background-color: #aaa; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"
              ),
              e.add(
                ".scheduler_default_rowheader_inner",
                "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #e0e0e0;padding: 7px;display: flex; align-items: center;"
              ),
              e.add(
                ".scheduler_default_timeheadergroup_inner",
                "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"
              ),
              e.add(
                ".scheduler_default_timeheadercol_inner",
                "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"
              ),
              e.add(
                ".scheduler_default_timeheader_float",
                "display: flex; align-items: center; justify-content: center;"
              ),
              e.add(
                ".scheduler_default_divider, .scheduler_default_splitter",
                "background-color: #c0c0c0;"
              ),
              e.add(
                ".scheduler_default_divider_horizontal",
                "background-color: #c0c0c0;"
              ),
              e.add(
                ".scheduler_default_matrix_vertical_line",
                "background-color: #eee;"
              ),
              e.add(
                ".scheduler_default_matrix_vertical_break",
                "background-color: #999;"
              ),
              e.add(
                ".scheduler_default_matrix_horizontal_line",
                "background-color: #eee;"
              ),
              e.add(
                ".scheduler_default_resourcedivider",
                "background-color: #c0c0c0;"
              ),
              e.add(
                ".scheduler_default_shadow_inner",
                "background-color: #666666;opacity: 0.5;height: 100%;"
              ),
              e.add(".scheduler_default_event", "font-size:13px;color:#333;"),
              e.add(
                ".scheduler_default_event_inner",
                "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 2px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"
              ),
              e.add(
                ".scheduler_default_event_bar",
                "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"
              ),
              e.add(
                ".scheduler_default_event_bar_inner",
                "position:absolute;height:4px;background-color:#1066a8;"
              ),
              e.add(
                ".scheduler_default_event_inner",
                'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
              ),
              e.add(
                ".scheduler_default_event_float",
                "display: flex; align-items: center;"
              ),
              e.add(
                ".scheduler_default_event_float_inner",
                "padding:2px 2px 2px 8px; position: relative;"
              ),
              e.add(
                ".scheduler_default_event_float_inner:after",
                'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:5px;left:-4px;'
              ),
              e.add(
                ".scheduler_default_event_focus",
                "outline: red 2px solid; z-index: 100; opacity: 0.5;"
              ),
              e.add(
                ".scheduler_default_columnheader_inner",
                "font-weight: bold;"
              ),
              e.add(
                ".scheduler_default_columnheader_splitter",
                "box-sizing: border-box; border-right: 1px solid #c0c0c0;"
              ),
              e.add(
                ".scheduler_default_columnheader_splitter:hover",
                "background-color: #c0c0c0;"
              ),
              e.add(
                ".scheduler_default_columnheader_cell_inner",
                "position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"
              ),
              e.add(".scheduler_default_cell", "background-color: #f9f9f9;"),
              e.add(
                ".scheduler_default_cell.scheduler_default_cell_business",
                "background-color: #fff;"
              ),
              e.add(
                ".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected",
                "background-color: #ccc; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"
              ),
              e.add(".scheduler_default_tree_image_no_children", ""),
              e.add(
                ".scheduler_default_tree_image_expand",
                "background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"
              ),
              e.add(
                ".scheduler_default_tree_image_collapse",
                "background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"
              ),
              e.add(
                ".scheduler_default_event_delete",
                "background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTInIGhlaWdodD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgMTEuNSAxMS41IE0gMC41IDExLjUgTCAxMS41IDAuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6IzQ2NDY0NjtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=) no-repeat center center; opacity: 0.6; cursor: pointer;"
              ),
              e.add(".scheduler_default_event_delete:hover", "opacity: 1;"),
              e.add(
                ".scheduler_default_rowmove_handle",
                "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"
              ),
              e.add(
                ".scheduler_default_rowmove_source",
                "background-color: black; opacity: 0.2;"
              ),
              e.add(
                ".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after",
                "background-color: #999; height: 2px;"
              ),
              e.add(
                ".scheduler_default_rowmove_position_child",
                "margin-left: 10px; background-color: #999; height: 2px;"
              ),
              e.add(
                ".scheduler_default_rowmove_position_child:before",
                "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"
              ),
              e.add(
                ".scheduler_default_rowmove_position_forbidden",
                "background-color: red; height: 2px; margin-left: 10px;"
              ),
              e.add(
                ".scheduler_default_rowmove_position_forbidden:before",
                "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"
              ),
              e.add(
                ".scheduler_default_link_horizontal",
                "border-bottom-style: solid; border-bottom-color: #cc0000"
              ),
              e.add(
                ".scheduler_default_link_vertical",
                "border-right-style: solid; border-right-color: #cc0000"
              ),
              e.add(
                ".scheduler_default_link_arrow_right:before",
                "content: ''; border-width: 6px; border-color: transparent transparent transparent #cc0000; border-style: solid; width: 0px; height:0px; position: absolute;"
              ),
              e.add(
                ".scheduler_default_link_arrow_left:before",
                "content: ''; border-width: 6px; border-color: transparent #cc0000 transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"
              ),
              e.add(
                ".scheduler_default_link_arrow_down:before",
                "content: ''; border-width: 6px; border-color: #cc0000 transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"
              ),
              e.add(
                ".scheduler_default_link_arrow_up:before",
                "content: ''; border-width: 6px; border-color: transparent transparent #cc0000 transparent; border-style: solid; width: 0px; height:0px; position: absolute;"
              ),
              e.add(
                ".scheduler_default_shadow_overlap .scheduler_default_shadow_inner",
                "background-color: #cc4125;"
              ),
              e.add(
                ".scheduler_default_block",
                "background-color: #808080; opacity: 0.5;"
              ),
              e.add(
                ".scheduler_default_main .scheduler_default_event_group",
                "box-sizing: border-box; font-size:13px; color:#666; padding:2px; overflow:hidden; border:1px solid #ccc; background-color: #fff; display: flex; align-items: center; white-space: nowrap;"
              ),
              e.add(
                ".scheduler_default_main .scheduler_default_header_icon",
                "box-sizing: border-box; border: 1px solid #c0c0c0; background-color: #f5f5f5; color: #000;"
              ),
              e.add(
                ".scheduler_default_header_icon:hover",
                "background-color: #ccc;"
              ),
              e.add(
                ".scheduler_default_header_icon_hide:before",
                "content: '\\00AB';"
              ),
              e.add(
                ".scheduler_default_header_icon_show:before",
                "content: '\\00BB';"
              ),
              e.add(
                ".scheduler_default_row_new .scheduler_default_rowheader_inner",
                "padding-left: 10px; color: #666; cursor: text; background-position: 0px 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"
              ),
              e.add(
                ".scheduler_default_row_new .scheduler_default_rowheader_inner:hover",
                "background: white; color: white;"
              ),
              e.add(".scheduler_default_rowheader textarea", "padding: 3px;"),
              e.add(
                ".scheduler_default_rowheader_scroll",
                "cursor: default; background: #f3f3f3;"
              ),
              e.add(
                ".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner",
                "background-color: #cc4125;"
              ),
              e.add(
                ".scheduler_default_shadow_invalid .scheduler_default_shadow_inner",
                "background-color: #cc4125;"
              ),
              e.add(".scheduler_default_event_moving_source", "opacity: 0.5;"),
              e.add(
                ".scheduler_default_linkpoint",
                "background-color: white; border: 1px solid gray; border-radius: 5px;"
              ),
              e.add(
                ".scheduler_default_linkpoint.scheduler_default_linkpoint_hover",
                "background-color: black;"
              ),
              e.add(
                ".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner",
                "overflow:hidden; background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"
              ),
              e.add(
                ".scheduler_default_crosshair_vertical, .scheduler_default_crosshair_horizontal, .scheduler_default_crosshair_left, .scheduler_default_crosshair_top",
                "background-color: gray; opacity: 0.2;"
              ),
              e.add(
                ".scheduler_default_link_dot",
                "border-radius: 10px; background-color: #cc0000"
              ),
              e.add(
                ".scheduler_default_task_milestone .scheduler_default_event_inner",
                "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"
              ),
              e.add(
                ".scheduler_default_event_left",
                "white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"
              ),
              e.add(
                ".scheduler_default_event_right",
                "white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"
              ),
              e.add(".scheduler_default_main:focus", "outline: none;"),
              e.add(
                ".scheduler_default_cell_focus",
                "outline: red 2px solid; outline-offset: -2px; z-index: 100; opacity: 0.5;"
              ),
              e.add(
                ".scheduler_default_cell_focus.scheduler_default_cell_focus_top",
                "border-top: 4px solid red;"
              ),
              e.add(
                ".scheduler_default_cell_focus.scheduler_default_cell_focus_bottom",
                "border-bottom: 4px solid red;"
              ),
              e.add(
                ".scheduler_default_selectionrectangle",
                "background-color: #0000ff; border: 1px solid #000033; opacity: 0.4;"
              ),
              e.add(
                ".scheduler_default_link_shadow",
                "border:1px solid black;"
              ),
              e.add(
                ".scheduler_default_link_shadow_circle",
                "background-color:black;"
              ),
              e.add(
                ".scheduler_default_event_move_left",
                "box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"
              ),
              e.add(
                ".scheduler_default_event_move_right",
                "box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"
              ),
              e.add(
                ".scheduler_default_link_hover",
                "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"
              );
            e.add(
              ".scheduler_default_sorticon",
              "opacity: 0.2;background-position: center center; background-repeat: no-repeat; cursor: pointer;"
            );
            e.add(
              ".scheduler_default_sorticon.scheduler_default_sorticon_asc",
              "background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDEuNSwgMTAgMTAsIDAgMTAiLz48L3N2Zz4=');"
            ),
              e.add(
                ".scheduler_default_sorticon.scheduler_default_sorticon_desc",
                "background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDguNSwgMCAwLCAxMCAwIi8+PC9zdmc+');"
              ),
              e.add(
                ".scheduler_default_sorticon.scheduler_default_sorticon_active",
                "opacity: 1;"
              ),
              e.add(
                ".scheduler_default_loading",
                "background-color: orange; color: white; padding: 2px;"
              ),
              e.add(
                ".gantt_default_selected .gantt_default_event_inner",
                "background: #ddd;"
              ),
              e.add(
                ".gantt_default_main",
                "border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"
              ),
              e.add(
                ".gantt_default_main *, .gantt_default_main *:before, .gantt_default_main *:after",
                "box-sizing: content-box;"
              ),
              e.add(
                ".gantt_default_timeheader",
                "cursor: default;color: #666;"
              ),
              e.add(
                ".gantt_default_message",
                "opacity: 0.9;padding: 10px; color: #ffffff;background: #ffa216;"
              ),
              e.add(
                ".gantt_default_timeheadergroup,.gantt_default_timeheadercol",
                "color: #333;background: #f3f3f3;"
              ),
              e.add(
                ".gantt_default_rowheader,.gantt_default_corner",
                "color: #333;background: #f3f3f3;"
              ),
              e.add(
                ".gantt_default_rowheader.gantt_default_rowheader_selected",
                "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"
              ),
              e.add(
                ".gantt_default_rowheader_inner",
                "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #e0e0e0;padding: 7px;display: flex; align-items: center;"
              ),
              e.add(
                ".gantt_default_timeheadergroup_inner",
                "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"
              ),
              e.add(
                ".gantt_default_timeheadercol_inner",
                "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"
              ),
              e.add(
                ".gantt_default_timeheader_float",
                "display: flex; align-items: center; justify-content: center;"
              ),
              e.add(
                ".gantt_default_divider, .gantt_default_splitter",
                "background-color: #c0c0c0;"
              ),
              e.add(
                ".gantt_default_divider_horizontal",
                "background-color: #c0c0c0;"
              ),
              e.add(
                ".gantt_default_matrix_vertical_line",
                "background-color: #eee;"
              ),
              e.add(
                ".gantt_default_matrix_vertical_break",
                "background-color: #000;"
              ),
              e.add(
                ".gantt_default_matrix_horizontal_line",
                "background-color: #eee;"
              ),
              e.add(
                ".gantt_default_resourcedivider",
                "background-color: #c0c0c0;"
              ),
              e.add(
                ".gantt_default_shadow_inner",
                "background-color: #666666;opacity: 0.5;height: 100%;"
              ),
              e.add(".gantt_default_event", "color:#666;"),
              e.add(
                ".gantt_default_event_inner",
                "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 2px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"
              ),
              e.add(
                ".gantt_default_event_bar",
                "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"
              ),
              e.add(
                ".gantt_default_event_bar_inner",
                "position:absolute;height:4px;background-color:#1066a8;"
              ),
              e.add(
                ".gantt_default_event_inner",
                'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
              ),
              e.add(
                ".gantt_default_event_float_inner",
                "padding:6px 2px 2px 8px;"
              ),
              e.add(
                ".gantt_default_event_float_inner:after",
                'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'
              ),
              e.add(".gantt_default_columnheader_inner", "font-weight: bold;"),
              e.add(
                ".gantt_default_columnheader_splitter",
                "background-color: #666;opacity: 0.5;"
              ),
              e.add(
                ".gantt_default_columnheader_cell_inner",
                "position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"
              ),
              e.add(".gantt_default_cell", "background-color: #f9f9f9;"),
              e.add(
                ".gantt_default_cell.gantt_default_cell_business",
                "background-color: #fff;"
              ),
              e.add(
                ".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected",
                "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"
              ),
              e.add(".gantt_default_tree_image_no_children", ""),
              e.add(
                ".gantt_default_tree_image_expand",
                "background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"
              ),
              e.add(
                ".gantt_default_tree_image_collapse",
                "background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"
              ),
              e.add(
                ".gantt_default_event_move_left",
                'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
              ),
              e.add(
                ".gantt_default_event_move_right",
                'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
              ),
              e.add(
                ".gantt_default_event_delete",
                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"
              ),
              e.add(
                ".gantt_default_event_delete:hover",
                "opacity: 1;-ms-filter: none;"
              ),
              e.add(
                ".gantt_default_rowmove_handle",
                "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"
              ),
              e.add(
                ".gantt_default_rowmove_source",
                "background-color: black; opacity: 0.2;"
              ),
              e.add(
                ".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after",
                "background-color: #999; height: 2px;"
              ),
              e.add(
                ".gantt_default_rowmove_position_child",
                "margin-left: 10px; background-color: #999; height: 2px;"
              ),
              e.add(
                ".gantt_default_rowmove_position_child:before",
                "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"
              ),
              e.add(
                ".gantt_default_rowmove_position_forbidden",
                "background-color: red; height: 2px; margin-left: 10px;"
              ),
              e.add(
                ".gantt_default_rowmove_position_forbidden:before",
                "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"
              ),
              e.add(
                ".gantt_default_task_group .gantt_default_event_inner",
                "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: #0b5394; filter: none; border: 0px none;"
              ),
              e.add(
                ".gantt_default_task_group.gantt_default_event:before",
                "content:''; border-color: transparent transparent transparent #0b5394; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"
              ),
              e.add(
                ".gantt_default_task_group.gantt_default_event:after",
                "content:''; border-color: transparent #0b5394 transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;"
              ),
              e.add(
                ".gantt_default_task_milestone .gantt_default_event_inner",
                "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"
              ),
              e.add(
                ".gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner",
                "-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""
              ),
              e.add(
                ".gantt_default_event_left",
                "white-space: nowrap; color: #666; cursor: default;  display: flex; align-items: center;"
              ),
              e.add(
                ".gantt_default_event_right",
                "white-space: nowrap; color: #666; cursor: default;  display: flex; align-items: center;"
              ),
              e.add(
                ".gantt_default_link_horizontal",
                "border-bottom-style: solid; border-bottom-color: #cc0000;"
              ),
              e.add(
                ".gantt_default_link_vertical",
                "border-right-style: solid; border-right-color: #cc0000;"
              ),
              e.add(
                ".gantt_default_link_arrow_right:before",
                "content: ''; border-width: 6px; border-color: transparent transparent transparent #cc0000; border-style: solid; width: 0px; height:0px; position: absolute;"
              ),
              e.add(
                ".gantt_default_link_arrow_left:before",
                "content: ''; border-width: 6px; border-color: transparent #cc0000 transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"
              ),
              e.add(
                ".gantt_default_link_arrow_down:before",
                "content: ''; border-width: 6px; border-color: #cc0000 transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"
              ),
              e.add(
                ".gantt_default_link_arrow_up:before",
                "content: ''; border-width: 6px; border-color: transparent transparent #cc0000 transparent; border-style: solid; width: 0px; height:0px; position: absolute;"
              ),
              e.add(
                ".gantt_default_shadow_overlap .gantt_default_shadow_inner",
                "background-color: #cc4125;"
              ),
              e.add(
                ".gantt_default_block",
                "background-color: gray; opacity: 0.5;"
              ),
              e.add(
                ".gantt_default_link_hover",
                "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"
              ),
              e.add(
                ".gantt_default_main .gantt_default_header_icon",
                "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"
              ),
              e.add(
                ".gantt_default_header_icon:hover",
                "background-color: #ccc;"
              ),
              e.add(
                ".gantt_default_header_icon_hide:before",
                "content: '\\00AB';"
              ),
              e.add(
                ".gantt_default_header_icon_show:before",
                "content: '\\00BB';"
              ),
              e.add(
                ".gantt_default_row_new .gantt_default_rowheader_inner",
                "cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"
              ),
              e.add(
                ".gantt_default_row_new .gantt_default_rowheader_inner:hover",
                "background: white;"
              ),
              e.add(".gantt_default_rowheader textarea", "padding: 5px;"),
              e.add(
                ".gantt_default_rowheader_scroll",
                "cursor: default; background: #f3f3f3;"
              ),
              e.add(
                ".gantt_default_shadow_forbidden .gantt_default_shadow_inner",
                "background-color: #cc4125;"
              ),
              e.add(".gantt_default_event_moving_source", "opacity: 0.5;"),
              e.add(
                ".gantt_default_event.gantt_default_event_version .gantt_default_event_inner",
                "background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"
              ),
              e.add(
                ".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event:before",
                "border:0;"
              ),
              e.add(
                ".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",
                'content:"";border-color: transparent #fff transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;left:-4px;'
              ),
              e.add(
                ".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner",
                "padding-left: 8px;"
              ),
              e.add(
                ".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",
                'content:"";border-color: transparent #000 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;left:-4px;'
              ),
              e.add(
                ".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event:after",
                "border:0;"
              ),
              e.add(
                ".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",
                'content:"";border-color: transparent transparent transparent #fff;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;right:-2px;'
              ),
              e.add(
                ".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner",
                "padding-right: 8px;"
              ),
              e.add(
                ".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",
                'content:"";border-color: transparent transparent transparent #000;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;right:-2px;'
              ),
              e.add(
                ".gantt_default_linkpoint",
                "background-color: white; border: 1px solid gray; border-radius: 5px;"
              ),
              e.add(
                ".gantt_default_linkpoint.gantt_default_linkpoint_hover",
                "background-color: black;"
              ),
              e.add(
                ".gantt_default_crosshair_vertical, .gantt_default_crosshair_horizontal, .gantt_default_crosshair_left, .gantt_default_crosshair_top",
                "background-color: gray; opacity: 0.2; "
              ),
              e.add(
                ".gantt_default_selectionrectangle",
                "background-color: #0000ff; border: 1px solid #000033; opacity: 0.4;"
              ),
              e.add(".gantt_default_link_shadow", "border:1px solid black;"),
              e.add(
                ".gantt_default_link_shadow_circle",
                "background-color:black;"
              ),
              e.add(
                ".gantt_default_link_hover",
                "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"
              ),
              e.add(
                ".kanban_default_main *, .kanban_default_main *:before, .kanban_default_main *:after",
                "box-sizing: content-box;"
              ),
              e.add(
                ".kanban_default_main",
                "box-sizing: content-box; border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"
              ),
              e.add(
                ".kanban_default_selected .kanban_default_event_inner",
                "background: #ddd;"
              ),
              e.add(
                ".kanban_default_timeheader",
                "cursor: default;color: #333;"
              ),
              e.add(
                ".kanban_default_message",
                "opacity: 0.9;padding: 10px; color: #ffffff;background: #ffa216;"
              ),
              e.add(
                ".kanban_default_colheadercell",
                "color: #333;background: #f3f3f3;"
              ),
              e.add(
                ".kanban_default_rowheader,.kanban_default_corner",
                "color: #333;background: #f3f3f3;"
              ),
              e.add(
                ".kanban_default_rowheader.kanban_default_rowheader_selected",
                "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"
              ),
              e.add(
                ".kanban_default_rowheader_inner",
                "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #f3f3f3;padding: 2px;"
              ),
              e.add(".kanban_default_colheadercell", "text-align: center;"),
              e.add(
                ".kanban_default_colheadercell_inner",
                "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;"
              ),
              e.add(
                ".kanban_default_divider, .kanban_default_splitter",
                "background-color: #c0c0c0;"
              ),
              e.add(
                ".kanban_default_divider_horizontal",
                "background-color: #c0c0c0;"
              ),
              e.add(
                ".kanban_default_matrix_vertical_line",
                "background-color: #eee;"
              ),
              e.add(
                ".kanban_default_matrix_vertical_break",
                "background-color: #000;"
              ),
              e.add(
                ".kanban_default_matrix_horizontal_line",
                "background-color: #eee;"
              ),
              e.add(
                ".kanban_default_rowheaderdivider",
                "background-color: #c0c0c0;"
              ),
              e.add(
                ".kanban_default_shadow_inner",
                "background-color: #666666;opacity: 0.5;height: 100%;"
              ),
              e.add(".kanban_default_card", "color:#333;"),
              e.add(
                ".kanban_default_card_inner",
                "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"
              ),
              e.add(
                ".kanban_default_card_inner",
                'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
              ),
              e.add(".kanban_default_cell", "background-color: #fff;"),
              e.add(
                ".kanban_default_cell.kanban_default_cell_selected",
                "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"
              ),
              e.add(
                ".kanban_default_tree_image_no_children",
                "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"
              ),
              e.add(
                ".kanban_default_tree_image_expand",
                "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"
              ),
              e.add(
                ".kanban_default_tree_image_collapse",
                "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"
              ),
              e.add(
                ".kanban_default_card_delete",
                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"
              ),
              e.add(
                ".kanban_default_card_delete:hover",
                "opacity: 1;-ms-filter: none;"
              ),
              e.add(
                ".kanban_default_rowmove_source",
                "background-color: black; opacity: 0.2;"
              ),
              e.add(
                ".kanban_default_rowmove_position_before, .kanban_default_rowmove_position_after",
                "background-color: #999; height: 2px;"
              ),
              e.add(
                ".kanban_default_rowmove_position_forbidden",
                "background-color: red; height: 2px; margin-left: 10px;"
              ),
              e.add(
                ".kanban_default_rowmove_position_forbidden:before",
                "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"
              ),
              e.add(
                ".kanban_default_block",
                "background-color: gray; opacity: 0.5;"
              ),
              e.add(
                ".kanban_default_main .kanban_default_header_icon",
                "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"
              ),
              e.add(
                ".kanban_default_header_icon:hover",
                "background-color: #ccc;"
              ),
              e.add(
                ".kanban_default_header_icon_hide:before",
                "content: '\\00AB';"
              ),
              e.add(
                ".kanban_default_header_icon_show:before",
                "content: '\\00BB';"
              ),
              e.add(
                ".kanban_default_row_new .kanban_default_rowheader_inner",
                "cursor: text; background-position: 0px 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"
              ),
              e.add(
                ".kanban_default_row_new .kanban_default_rowheader_inner:hover",
                "background: white;"
              ),
              e.add(".kanban_default_rowheader textarea", "padding: 3px;"),
              e.add(".kanban_default_rowheader_scroll", "cursor: default;"),
              e.add(".kanban_default_card_moving_source", "opacity: 0.5;"),
              e.add(
                ".kanban_default_card .kanban_default_card_inner",
                "padding: 5px 5px 5px 10px;"
              ),
              e.add(".kanban_default_cell", "background-color: #fff;"),
              e.add(
                ".kanban_default_rowmove_handle",
                "opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"
              ),
              e.add(
                ".kanban_default_card_header",
                "font-size: 120%; font-weight: bold;"
              ),
              e.add(
                ".kanban_default_card_bar",
                "background-color: #cc0000; cursor:move;"
              ),
              e.add(
                ".kanban_default_cell.kanban_default_collapsed",
                "background-color: #eee;"
              ),
              e.add(
                ".kanban_default_swimlane_collapse",
                "cursor:pointer; border: 1px solid #ccc; text-align:center;"
              ),
              e.add(
                ".kanban_default_swimlane_collapse:before",
                "content: '^';"
              ),
              e.add(
                ".kanban_default_swimlane_expand",
                "cursor:pointer; border: 1px solid #ccc; text-align:center;"
              ),
              e.add(".kanban_default_swimlane_expand:before", "content: '>';"),
              e.add(
                ".kanban_default_columnmove_handle",
                "opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"
              ),
              e.add(
                ".kanban_default_columnmove_position",
                "background-color: #333;"
              ),
              e.add(
                ".kanban_default_crosshair_vertical, .kanban_default_crosshair_horizontal, .kanban_default_crosshair_left, .kanban_default_crosshair_top",
                "background-color: gray; opacity: 0.2;"
              ),
              e.add(
                ".queue_default_main",
                "min-width: 100px; border: 1px solid #ccc; padding: 5px; min-height: 200px; overflow-y: auto; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"
              ),
              e.add(
                ".queue_default_event_bar",
                "left: 0px; top: 0px; bottom: 0px; width: 5px; background-color: #1066a8;"
              ),
              e.add(
                ".queue_default_event_inner",
                "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 10px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"
              ),
              e.add(
                ".queue_default_event_inner",
                "background:#fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee);"
              ),
              e.add(
                ".queue_default_selected .queue_default_event_inner",
                "background: #ddd;"
              ),
              e.add(".queue_default_shadow", "background-color: #ccc;"),
              e.commit(),
              (DayPilot.Global.defaultCss = !0);
          }
        })();
      var o = function (e) {
          function t() {
            var t = new URL(e, location.href);
            return (
              t.origin + t.pathname !== location.origin + location.pathname
            );
          }
          var n = this;
          (this.k = function () {
            return t()
              ? fetch(e)
                  .then(function (e) {
                    return e.text();
                  })
                  .then(function (e) {
                    var t = document.createElement("div");
                    return (
                      (t.innerHTML = e),
                      new Promise(function (e, i) {
                        e(t.querySelector(n.P()));
                      })
                    );
                  })
              : new Promise(function (e, t) {
                  e(document.querySelector(n.P()));
                });
          }),
            (this.P = function () {
              return new URL(e, location.href).hash;
            });
        },
        s = function (e) {
          var t = this;
          (this.id = e),
            (this.widths = []),
            (this.titles = []),
            (this.data = []),
            (this.height = null),
            (this.splitterWidth = 3),
            (this.splitterWidthLast = null),
            (this.css = {}),
            (this.css.title = null),
            (this.css.titleInner = null),
            (this.css.splitter = null),
            (this.enabled = !0),
            (this.blocks = []),
            (this.drag = {}),
            (this.updated = function () {}),
            (this.updating = function () {}),
            (this.started = function () {});
          var n = {};
          (n.splitterWidth = function (e) {
            var n =
              e && "number" == typeof t.splitterWidthLast
                ? t.splitterWidthLast
                : t.splitterWidth;
            return t.enabled ? n : 1;
          }),
            (this.init = function () {
              var i;
              if (!e) throw "error: id not provided";
              if ("string" == typeof e) i = document.getElementById(e);
              else {
                if (!e.appendChild) throw "error: invalid object provided";
                i = e;
              }
              (this.div = i), (this.blocks = []);
              for (var a = 0; a < this.widths.length; a++) {
                var r = a === this.widths.length - 1,
                  o = n.splitterWidth(r),
                  s = document.createElement("div");
                (s.style.display = "inline-block"),
                  null !== t.height
                    ? (s.style.height = t.height + "px")
                    : (s.style.height = "100%"),
                  (s.style.width = this.widths[a] - o + "px"),
                  (s.style.overflow = "hidden"),
                  (s.style.position = "relative"),
                  s.setAttribute("unselectable", "on"),
                  (s.className = this.css.title),
                  i.appendChild(s);
                var l = this.titles[a],
                  d = null,
                  c = [],
                  u = null;
                "object" == typeof l &&
                  ((d = l.html), (c = l.areas), (u = l.cssClass)),
                  u && DayPilot.Util.addClass(s, u);
                var h = document.createElement("div");
                (h.innerHTML = d),
                  h.setAttribute("unselectable", "on"),
                  (h.className = this.css.titleInner),
                  s.appendChild(h),
                  DayPilot.Areas.attach(s, t.data[a], { areas: c });
                var f = document.createElement("div");
                (f.style.display = "inline-block"),
                  null !== t.height
                    ? (f.style.height = t.height + "px")
                    : (f.style.height = "100%"),
                  (f.style.width = o + "px"),
                  (f.style.position = "relative"),
                  f.appendChild(document.createElement("div")),
                  t.enabled && (f.style.cursor = "col-resize"),
                  f.setAttribute("unselectable", "on"),
                  (f.className = this.css.splitter);
                var v = {};
                (v.index = a),
                  (v.width = this.widths[a]),
                  (f.data = v),
                  (f.onmousedown = function (e) {
                    if ((e.preventDefault(), t.enabled)) {
                      var n = DayPilot.page(e);
                      n &&
                        ((t.drag.start = n),
                        (t.drag.data = this.data),
                        (t.div.style.cursor = "col-resize"),
                        t.started());
                    }
                  }),
                  i.appendChild(f);
                var p = {};
                (p.section = s), (p.handle = f), this.blocks.push(p);
              }
              this.registerGlobalHandlers();
            }),
            (this.updateWidths = function () {
              for (var e = 0; e < this.blocks.length; e++) {
                var t = this.blocks[e],
                  n = this.widths[e];
                (t.handle.data.width = n), this.Q(e);
              }
            }),
            (this.Q = function (e) {
              var t = this.blocks[e],
                i = this.widths[e],
                a = e === this.widths.length - 1;
              t.section.style.width = i - n.splitterWidth(a) + "px";
            }),
            (this.totalWidth = function () {
              for (var e = 0, t = 0; t < this.widths.length; t++)
                e += this.widths[t];
              return e;
            }),
            (this.gMouseMove = function (e) {
              if (t.drag.start) {
                var n = t.drag.data,
                  i = DayPilot.page(e);
                if (i) {
                  var a = i.x - t.drag.start.x,
                    r = n.index;
                  (t.widths[r] = Math.max(5, n.width + a)), t.Q(r);
                  var o = {};
                  (o.widths = this.widths), (o.index = n.index), t.updating(o);
                }
              }
            }),
            (this.gMouseUp = function (e) {
              if (t.drag.start) {
                (t.drag.start = null),
                  (document.body.style.cursor = ""),
                  (t.div.style.cursor = "");
                var n = t.drag.data;
                n.width = t.widths[n.index];
                var i = {};
                (i.widths = this.widths), (i.index = n.index), t.updated(i);
              }
            }),
            (this.dispose = function () {
              DayPilot.list(this.blocks).forEach(function (e) {
                (e.handle.onmousedown = null),
                  DayPilot.de(e.section),
                  DayPilot.de(e.handle);
              }),
                this.unregisterGlobalHandlers();
            }),
            (this.registerGlobalHandlers = function () {
              DayPilot.re(document, "mousemove", this.gMouseMove),
                DayPilot.re(document, "mouseup", this.gMouseUp);
            }),
            (this.unregisterGlobalHandlers = function () {
              DayPilot.ue(document, "mousemove", this.gMouseMove),
                DayPilot.ue(document, "mouseup", this.gMouseUp);
            });
        };
      DayPilot.Splitter = s;
    }
  })(DayPilot),
  (function () {
    "undefined" != typeof Sys &&
      Sys.Application &&
      Sys.Application.notifyScriptLoaded &&
      Sys.Application.notifyScriptLoaded();
  })(),
  "undefined" == typeof DayPilot)
)
  var DayPilot = {};
if (
  ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function (DayPilot) {
    if ("undefined" == typeof DayPilot.Bubble || !DayPilot.Bubble.def) {
      var e = {};
      (e.mouseMove = function (t) {
        if ("undefined" != typeof e) {
          e.mouse = e.mousePosition(t);
          var n = e.active;
          if (n && n.R.showPosition) {
            var i = n.R.showPosition,
              a = e.mouse;
            i.clientX !== a.clientX || i.clientY !== a.clientY;
          }
        }
      }),
        (e.touchPosition = function (e) {
          if (!e || !e.touches) return null;
          var t = e.touches[0],
            n = {};
          return (
            (n.x = t.pageX),
            (n.y = t.pageY),
            (n.clientX = t.clientX),
            (n.clientY = t.clientY),
            n
          );
        }),
        (e.mousePosition = function (e) {
          var t = DayPilot.mo3(null, e);
          return e && ((t.clientY = e.clientY), (t.clientX = e.clientX)), t;
        }),
        (DayPilot.Bubble = function (t) {
          this.v = "2023.2.5574";
          var n = this,
            i = {};
          if (
            ((this.hideAfter = 500),
            (this.loadingText = "Loading..."),
            (this.animated = !0),
            (this.animation = "fast"),
            (this.position = "Above"),
            (this.hideOnClick = !0),
            (this.hideOnHover = !1),
            (this.showAfter = 500),
            (this.showLoadingLabel = !0),
            (this.showArrow = !0),
            (this.zIndex = 10),
            (this.theme = "bubble_default"),
            (this.onLoad = null),
            (this.onBeforeDomAdd = null),
            (this.onBeforeDomRemove = null),
            (this.R = function () {}),
            (this.S = 10),
            (this.T = 10),
            (this.callBack = function (e) {
              this.aspnet()
                ? WebForm_DoCallback(
                    this.uniqueID,
                    JSON.stringify(e),
                    this.updateView,
                    this,
                    this.callbackError,
                    !0
                  )
                : e.calendar.internal.bubbleCallBack
                ? e.calendar.internal.bubbleCallBack(e, this)
                : e.calendar.bubbleCallBack(e, this);
            }),
            (this.callbackError = function (e, t) {
              alert(e);
            }),
            (this.updateView = function (t, a) {
              if (n !== a) throw "Callback object mismatch (internal error)";
              if (!t) return void n.U();
              var r = null,
                o = null,
                s = null;
              if (
                ("string" == typeof t
                  ? (o = t)
                  : "object" == typeof t &&
                    ((r = t), (o = t.html), (s = t.element)),
                (e.active = n),
                n)
              ) {
                var l = !1,
                  d = !1;
                if (i.div) {
                  if (s) {
                    i.V.innerHTML = "";
                    if (DayPilot.Util.isReactComponent(s)) {
                      if (
                        !(
                          n.W.calendar &&
                          n.W.calendar.internal.reactRefs().reactDOM
                        )
                      )
                        throw new DayPilot.Exception("Can't reach ReactDOM");
                      n.Y.X(s, i.V), (d = n.Y.Z());
                    } else i.V.appendChild(s);
                    l = !0;
                  } else o && ((i.V.innerHTML = o), (l = !0));
                  i.div.domArgs = r;
                }
                l &&
                  (d
                    ? setTimeout(function () {
                        n._();
                      })
                    : n._());
              }
            }),
            (this.init = function () {}),
            (this.aspnet = function () {
              return "undefined" != typeof WebForm_DoCallback;
            }),
            (this.showEvent = function (t, n) {
              var i = new e.CallBackArgs(
                t.calendar || t.root,
                "Event",
                t,
                t.bubbleHtml ? t.bubbleHtml() : null
              );
              n ? this.show(i) : this.showOnMouseOver(i);
            }),
            (this.showGroup = function (e) {
              this.showOnMouseOver(e);
            }),
            (this.showCell = function (t, n) {
              e.cancelShowing();
              var i = new e.CallBackArgs(
                t.calendar || t.root,
                "Cell",
                t,
                t.staticBubbleHTML ? t.staticBubbleHTML() : null
              );
              (i.div = n), this.showOnMouseOver(i);
            }),
            (this.showLink = function (t) {
              e.cancelShowing();
              var n = new e.CallBackArgs(
                t.calendar || t.root,
                "Cell",
                t,
                t.data && t.data.bubbleHtml
              );
              this.showOnMouseOver(n);
            }),
            (this.showTime = function (t) {
              var n = new e.CallBackArgs(
                t.calendar || t.root,
                "Time",
                t,
                t.staticBubbleHTML ? t.staticBubbleHTML() : null
              );
              this.showOnMouseOver(n);
            }),
            (this.showResource = function (t, n) {
              var i = {};
              (i.calendar = t.calendar),
                (i.id = t.id),
                (i.name = t.name),
                (i.start = t.start),
                t.bubbleHtml
                  ? (i.bubbleHtml = function () {
                      return t.bubbleHtml;
                    })
                  : t.data &&
                    t.data.bubbleHtml &&
                    (i.bubbleHtml = function () {
                      return t.data.bubbleHtml;
                    }),
                (i.toJSON = function () {
                  var e = {};
                  return (e.id = this.id), e;
                });
              var a = new e.CallBackArgs(
                i.calendar || i.root,
                "Resource",
                i,
                i.bubbleHtml ? i.bubbleHtml() : null
              );
              (a.div = t.div), n ? this.show(a) : this.showOnMouseOver(a);
            }),
            (this.showHtml = function (t, n) {
              var i = new e.CallBackArgs(null, "Html", null, t);
              (i.div = n), this.show(i);
            }),
            (this.hide = function () {
              e.active === this && DayPilot.Bubble.hide();
            }),
            (this.toJSON = function () {
              return null;
            }),
            (this.show = function (t) {
              if (n.aa(t)) {
                var a = this.animated;
                if (
                  ((this.R.showPosition = e.mouse),
                  (e.showing = null),
                  !e.mouse)
                )
                  return void setTimeout(function () {
                    n.show(t);
                  }, 100);
                var r = e.mouse;
                (r.h = 0), (r.w = 0);
                var o = this.getDiv(t),
                  s = n.ba(),
                  l = "Above" === s,
                  d = "Right" === s;
                if ((l || d) && o) {
                  var c = 2,
                    u = DayPilot.abs(o, !0);
                  if (!u) return;
                  (r.x = u.x), (r.y = u.y), (r.h = u.h + c), (r.w = u.w);
                }
                this.R.mouse = r;
                var h;
                try {
                  h = JSON.stringify(t.object);
                } catch (e) {
                  return;
                }
                if (
                  !(
                    (e.active === this && this.R.sourceId === h) ||
                    ("undefined" != typeof DayPilot.Menu &&
                      DayPilot.Menu.active)
                  )
                ) {
                  e.hideActive(), (e.active = this), (this.R.sourceId = h);
                  var f = document.createElement("div");
                  f.setAttribute("unselectable", "on"),
                    (f.style.position = "absolute"),
                    this.showLoadingLabel || (f.style.display = "none"),
                    (f.className = this.ca("_main")),
                    (f.style.top = "-3000px"),
                    (f.style.left = "-3000px"),
                    (f.style.zIndex = this.zIndex + 1),
                    a && (f.style.visibility = "hidden"),
                    this.hideOnClick &&
                      (f.onclick = function () {
                        e.hideActive();
                      }),
                    (f.onmousemove = function (t) {
                      n.hideOnHover && e.hideActive(),
                        e.cancelShowing(),
                        e.cancelHiding();
                      var t = t || window.event;
                      t.cancelBubble = !0;
                    }),
                    (f.oncontextmenu = function () {
                      return !1;
                    }),
                    (f.onmouseleave = function () {
                      n.delayedHide();
                    });
                  var v = this.T,
                    p = this.S,
                    m = "http://www.w3.org/2000/svg",
                    g = document.createElementNS(m, "svg");
                  g.setAttribute("viewBox", "0 0 12 10"),
                    g.setAttribute("class", this.ca("_arrow_top")),
                    (g.style.width = "12px"),
                    (g.style.height = "10px"),
                    (g.style.position = "absolute"),
                    (g.style.top = "0px"),
                    (g.style.left = v + "px"),
                    (g.style.display = "none"),
                    (g.innerHTML =
                      '<polyline points="0 10 6 0 12 10"></polyline>');
                  var y = document.createElementNS(m, "svg");
                  y.setAttribute("viewBox", "0 0 12 10"),
                    y.setAttribute("class", this.ca("_arrow_bottom")),
                    (y.style.width = "12px"),
                    (y.style.height = "10px"),
                    (y.style.position = "absolute"),
                    (y.style.bottom = "0px"),
                    (y.style.left = v + "px"),
                    (y.style.display = "none"),
                    (y.innerHTML =
                      '<polyline points="0 0 6 10 12 0"></polyline>');
                  var b = document.createElementNS(m, "svg");
                  b.setAttribute("viewBox", "0 0 10 12"),
                    b.setAttribute("class", this.ca("_arrow_left")),
                    (b.style.width = "10px"),
                    (b.style.height = "12px"),
                    (b.style.position = "absolute"),
                    (b.style.top = p + "px"),
                    (b.style.left = "0px"),
                    (b.style.display = "none"),
                    (b.innerHTML =
                      '<polyline points="10 0 0 6 10 12"></polyline>');
                  var w = document.createElementNS(m, "svg");
                  w.setAttribute("viewBox", "0 0 10 12"),
                    w.setAttribute("class", this.ca("_arrow_right")),
                    (w.style.width = "10px"),
                    (w.style.height = "12px"),
                    (w.style.position = "absolute"),
                    (w.style.top = p + "px"),
                    (w.style.right = "0px"),
                    (w.style.display = "none"),
                    (w.innerHTML =
                      '<polyline points="0 0 10 6 0 12"></polyline>');
                  var x = document.createElement("div");
                  f.appendChild(x),
                    f.appendChild(g),
                    f.appendChild(y),
                    f.appendChild(b),
                    f.appendChild(w),
                    (x.className = this.ca("_main_inner")),
                    (x.innerHTML = this.loadingText),
                    document.body.appendChild(f),
                    (i.div = f),
                    (i.V = x),
                    (i.da = g),
                    (i.ea = y),
                    (i.fa = b),
                    (i.ga = w),
                    (n.W = function () {}),
                    (n.W.calendar = t.calendar);
                  var k = {};
                  (k.source = t.object),
                    (k.async = !1),
                    (k.html = t.staticHTML),
                    (k.loaded = function () {
                      this.async && n.ha(k);
                    }),
                    this.showLoadingLabel && !a && this._(),
                    t.staticHTML && "function" != typeof this.onLoad
                      ? n.ha(k)
                      : "function" == typeof this.onLoad
                      ? (this.onLoad(k), k.async || n.ha(k))
                      : "function" == typeof n.onDomAdd ||
                        "function" == typeof n.onBeforeDomAdd
                      ? n.ha(k)
                      : this.ia(t) && this.callBack(t);
                }
              }
            }),
            (this.aa = function (e) {
              return (
                !!e.staticHTML ||
                "function" == typeof this.onLoad ||
                "function" == typeof n.onDomAdd ||
                "function" == typeof n.onBeforeDomAdd ||
                !!this.ia(e)
              );
            }),
            (this.ha = function (e) {
              var t = {};
              (t.source = e.source),
                (t.html = e.html),
                (t.element = null),
                "function" == typeof n.onDomAdd && n.onDomAdd(t),
                "function" == typeof n.onBeforeDomAdd && n.onBeforeDomAdd(t),
                n.updateView(t, n);
            }),
            (this.getDiv = function (e) {
              return e.div
                ? e.div
                : "Event" === e.type &&
                  e.calendar &&
                  e.calendar.internal.findEventDiv
                ? e.calendar.internal.findEventDiv(e.object)
                : void 0;
            }),
            (this.ca = function (e) {
              var t = this.theme || this.cssClassPrefix;
              return t ? t + e : "";
            }),
            (this.ba = function () {
              var e = n.position;
              if (!e) return "Above";
              if ("eventtop" === e.toLowerCase()) return "Above";
              if ("above" === e.toLowerCase()) return "Above";
              if ("mouse" === e.toLowerCase()) return "Mouse";
              if ("right" === e.toLowerCase()) return "Right";
              throw new DayPilot.Exception(
                "Unrecognized DayPilot.Bubble.position value: " + e
              );
            }),
            (this._ = function () {
              var t = this.animated,
                a = this.R.mouse,
                r = n.ba(),
                o = 10,
                s = 0;
              if (i.div && a) {
                if (!a.x || !a.y) return void e.hideActive();
                var l = i.div,
                  d = i.V;
                l.style.display = "";
                var c = l.offsetHeight;
                this.showArrow && (c += 9);
                var u = l.offsetWidth;
                this.showArrow && (u += 9), (l.style.display = "none");
                var h = DayPilot.wd(),
                  f = h.width,
                  v = h.height,
                  p = "bottom",
                  m = "left";
                if ("Mouse" === r) {
                  var g = 0;
                  if (a.clientY > v - c + o) {
                    a.clientY - (v - c) + o;
                    g = a.y - c - 10;
                  } else g = a.y + 22;
                  if (
                    ("number" == typeof g &&
                      (l.style.top = Math.max(g, 0) + "px"),
                    a.clientX > f - u + o)
                  ) {
                    var y = a.clientX - (f - u) + o;
                    l.style.left = a.x - y + "px";
                  } else l.style.left = a.x + "px";
                } else if ("Above" === r) {
                  var b = 2,
                    g = a.y - c - b,
                    w = h.scrollTop;
                  g < w && ((g = a.y + a.h), (p = "top")),
                    "number" == typeof g &&
                      (l.style.top = Math.max(g, 0) + "px");
                  var x = a.x;
                  a.x + u + o > f && ((x = f - u - o), (m = "right")),
                    (l.style.left = x + "px");
                } else if ("Right" === r) {
                  p = "top";
                  var g = a.y,
                    x = a.x + a.w;
                  x + u + o > f &&
                    u < a.x &&
                    ((x = x - u - a.w), (m = "right"));
                  var k = g + c + o - v;
                  k > 0 && ((g -= k), (s = k), g < 0 && ((s += g), (g = 0))),
                    (l.style.top = g + "px"),
                    (l.style.left = x + "px");
                }
                if (
                  ((l.style.display = ""),
                  this.showArrow &&
                    ("Above" === r || "Mouse" === r
                      ? "bottom" === p
                        ? ((i.da.style.display = "none"),
                          (i.ea.style.display = ""),
                          (d.style.marginTop = "0px"),
                          (d.style.marginBottom = "9px"))
                        : ((i.da.style.display = ""),
                          (i.ea.style.display = "none"),
                          (d.style.marginTop = "9px"),
                          (d.style.marginBottom = "0px"))
                      : "left" === m
                      ? ((i.ga.style.display = "none"),
                        (i.fa.style.display = ""),
                        (i.fa.style.top = this.S + s + "px"),
                        (d.style.marginRight = "0px"),
                        (d.style.marginLeft = "9px"))
                      : ((i.ga.style.display = ""),
                        (i.fa.style.display = "none"),
                        (i.ga.style.top = this.S + s + "px"),
                        (d.style.marginRight = "9px"),
                        (d.style.marginLeft = "0px"))),
                  t)
                ) {
                  l.style.display = "";
                  var C = {};
                  (C.color = d.style.color),
                    (C.overflow = l.style.overflow),
                    (d.style.color = "transparent"),
                    (l.style.overflow = "hidden"),
                    DayPilot.pop(l, {
                      finished: function () {
                        (d.style.color = C.color),
                          (l.style.overflow = C.overflow);
                      },
                      vertical: p,
                      horizontal: m,
                      animation: n.animation,
                    });
                }
              }
            }),
            (this.delayedHide = function () {
              e.showing === this && e.cancelShowing();
              var t = e.active;
              if (t === this && (e.cancelHiding(), t.hideAfter > 0)) {
                var n = t.hideAfter;
                e.timeoutHide = window.setTimeout(e.hideActive, n);
              }
            }),
            (this.showOnMouseOver = function (t) {
              e.active === this && e.cancelHiding();
              var i = function (e) {
                return function () {
                  n.show(e);
                };
              };
              clearTimeout(e.timeoutShow),
                (e.timeoutShow = window.setTimeout(i(t), this.showAfter)),
                (e.showing = this);
            }),
            (this.hideOnMouseOut = function () {
              this.delayedHide();
            }),
            (this.ia = function (e) {
              return (
                !!e.calendar.backendUrl ||
                !("function" != typeof WebForm_DoCallback || !this.uniqueID)
              );
            }),
            (this.U = function () {
              if (i.div) {
                var e = i.div.domArgs;
                if (
                  ((i.div.domArgs = null),
                  e &&
                    ("function" == typeof n.onDomRemove && n.onDomRemove(e),
                    "function" == typeof n.onBeforeDomRemove &&
                      n.onBeforeDomRemove(e),
                    "function" == typeof n.onDomAdd ||
                      "function" == typeof n.onBeforeDomAdd))
                ) {
                  var t = i.V;
                  if (t) {
                    if (DayPilot.Util.isReactComponent(e.element)) {
                      if (
                        !(
                          n.W.calendar &&
                          n.W.calendar.internal.reactRefs().reactDOM
                        )
                      )
                        throw new DayPilot.Exception("Can't reach ReactDOM");
                      n.Y.ja(t);
                    }
                  }
                }
                document.body.removeChild(i.div), (i.div = null);
              }
            }),
            (this.Y = {}),
            (this.Y.X = function (e, t) {
              var i =
                n.W.calendar && n.W.calendar.internal.reactRefs().reactDOM;
              if ("function" == typeof i.createRoot) {
                var a = t.ka;
                a || ((a = i.createRoot(t)), (t.ka = a)), a.render(e);
              } else i.render(e, t);
            }),
            (this.Y.Z = function () {
              var e =
                n.W.calendar && n.W.calendar.internal.reactRefs().reactDOM;
              return e && "function" == typeof e.createRoot;
            }),
            (this.Y.ja = function (e) {
              var t =
                n.W.calendar && n.W.calendar.internal.reactRefs().reactDOM;
              if ("function" == typeof t.createRoot) {
                var i = e.ka;
                setTimeout(function () {
                  i.unmount();
                }, 0);
              } else t.unmountComponentAtNode(e);
            }),
            t)
          )
            for (var a in t) this[a] = t[a];
          this.init();
        }),
        (DayPilot.Bubble.touchPosition = function (t) {
          t.touches && (e.mouse = e.touchPosition(t));
        }),
        (e.cancelShowing = function () {
          (e.showing = null),
            e.timeoutShow &&
              (window.clearTimeout(e.timeoutShow), (e.timeoutShow = null));
        }),
        (e.cancelHiding = function () {
          e.timeoutHide && window.clearTimeout(e.timeoutHide);
        }),
        (e.hideActive = function () {
          e.cancelHiding();
          var t = e.active;
          t && t.U(), (e.active = null);
        }),
        (e.CallBackArgs = function (e, t, n, i) {
          (this.calendar = e),
            (this.type = t),
            (this.object = n),
            (this.staticHTML = i),
            (this.toJSON = function () {
              var e = {};
              return (
                (e.uid = this.calendar.uniqueID),
                (e.type = this.type),
                (e.object = n),
                e
              );
            });
        }),
        DayPilot.re(document, "mousemove", e.mouseMove),
        (DayPilot.Bubble.hideActive = e.hideActive),
        (DayPilot.Bubble.cancelShowing = e.cancelShowing),
        (DayPilot.Bubble.hide = function (t) {
          if (((t = t || {}), t.calendar)) {
            var n = e.active;
            n && n.W.calendar === t.calendar && DayPilot.Bubble.hide();
          } else e.hideActive();
        }),
        (DayPilot.Bubble.getActive = function () {
          return e.active;
        }),
        (DayPilot.Bubble.def = {}),
        "undefined" != typeof Sys &&
          Sys.Application &&
          Sys.Application.notifyScriptLoaded &&
          Sys.Application.notifyScriptLoaded();
    }
  })(DayPilot),
  "undefined" == typeof DayPilot)
)
  var DayPilot = {};
if (
  ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function (DayPilot) {
    if ("undefined" == typeof DayPilot.Calendar || !DayPilot.Calendar.def) {
      var e = 10,
        t = function () {
          return document.createElement("div");
        },
        n = DayPilot.rePassive,
        i = DayPilot.reNonPassive,
        a = DayPilot.re,
        r = DayPilot.Util.addClass,
        o = DayPilot.Util.removeClass,
        s = DayPilot.Util.isMouseEvent,
        l = DayPilot.Util.copyProps,
        d = DayPilot.Util.isReactComponent,
        c = DayPilot.Util.overlaps,
        u = DayPilot.list,
        h = DayPilot.Global,
        f = DayPilot.de;
      DayPilot.Calendar = function (p, m) {
        this.v = "2023.2.5574";
        var g = !1;
        if (
          (this instanceof DayPilot.Calendar &&
            !this.la &&
            ((g = !0), (this.la = !0)),
          !g)
        )
          throw new DayPilot.Exception(
            "DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'"
          );
        var y = this;
        (this.uniqueID = null),
          (this.clientName = p),
          (this.id = p),
          (this.isCalendar = !0),
          (this.allDayEnd = "DateTime"),
          (this.allDayEventHeight = 30),
          (this.allDayEventTextWrappingEnabled = !1),
          (this.allowEventOverlap = !0),
          (this.allowMultiSelect = !0),
          (this.api = 2),
          (this.autoRefreshCommand = "refresh"),
          (this.autoRefreshEnabled = !1),
          (this.autoRefreshInterval = 60),
          (this.autoRefreshMaxCount = 20),
          (this.autoScroll = "Drag"),
          (this.backendUrl = null),
          "function" == typeof DayPilot.Bubble
            ? (this.bubble = new DayPilot.Bubble())
            : (this.bubble = null),
          (this.cellBubble = null),
          (this.columnBubble = null),
          (this.businessBeginsHour = 9),
          (this.businessEndsHour = 18),
          (this.cellHeight = 30),
          (this.cellDuration = 30),
          (this.clientState = {}),
          (this.columnMarginRight = 5),
          (this.columnMoveSameLevelOnly = !1),
          (this.columnWidth = 200),
          (this.columnWidthMin = 10),
          (this.columnWidthSpec = "Auto"),
          (this.columnsLoadMethod = "GET"),
          (this.contextMenu = null),
          (this.contextMenuSelection = null),
          (this.cornerText = ""),
          (this.cornerHtml = null),
          (this.crosshairType = "Header"),
          (this.cssClass = null),
          (this.dayBeginsHour = 0),
          (this.dayEndsHour = 24),
          (this.days = 1),
          (this.doubleClickTimeout = 300),
          (this.durationBarVisible = !0),
          (this.dynamicEventRendering = "Disabled"),
          (this.dynamicEventRenderingMarginX = 0),
          (this.dynamicEventRenderingMarginY = 0),
          (this.eventArrangement = "Cascade"),
          (this.eventsLoadMethod = "GET"),
          (this.headerHeight = 30),
          (this.headerTextWrappingEnabled = !1),
          (this.headerHeightAutoFit = !1),
          (this.headerLevels = "Auto"),
          (this.height = 300),
          (this.heightSpec = "BusinessHours"),
          (this.hideFreeCells = !1),
          (this.hideUntilInit = !0),
          (this.headerDateFormat = null),
          (this.hourWidth = 60),
          (this.initEventEnabled = !1),
          (this.initScrollPos = null),
          (this.loadingLabelText = "Loading..."),
          (this.loadingLabelHtml = null),
          (this.loadingLabelVisible = !0),
          (this.locale = "en-us"),
          (this.messageHideAfter = 5e3),
          (this.moveBy = "Full"),
          (this.notifyCommit = "Immediate"),
          (this.rtl = !1),
          (this.scrollDelayCells = 0),
          (this.scrollDelayEvents = 10),
          (this.scrollLabelsVisible = !1),
          (this.showToolTip = !0),
          (this.showAllDayEvents = !1),
          (this.showEventStartEnd = !1),
          (this.showHeader = !0),
          (this.showHours = !0),
          (this.showCurrentTime = !0),
          (this.showCurrentTimeMode = "Day"),
          (this.showCurrentTimeOffset = 0),
          (this.startDate = DayPilot.Date.today()),
          (this.cssClassPrefix = "calendar_default"),
          (this.tapAndHoldTimeout = 300),
          (this.theme = null),
          (this.timeFormat = "Auto"),
          (this.timeHeaderCellDuration = 60),
          (this.timeRangeSelectingStartEndEnabled = !1),
          (this.timeRangeSelectingStartEndFormat = "Auto"),
          (this.eventMovingStartEndEnabled = !1),
          (this.eventMovingStartEndFormat = "Auto"),
          (this.eventResizingStartEndEnabled = !1),
          (this.eventResizingStartEndFormat = "Auto"),
          (this.useEventBoxes = "Always"),
          (this.viewType = "Days"),
          (this.visible = !0),
          (this.watchWidthChanges = !0),
          (this.weekStarts = "Auto"),
          (this.width = null),
          (this.xssProtection = "Enabled"),
          (this.columnMoveHandling = "Disabled"),
          (this.columnResizeHandling = "Disabled"),
          (this.eventClickHandling = "Enabled"),
          (this.eventDoubleClickHandling = "Disabled"),
          (this.eventRightClickHandling = "ContextMenu"),
          (this.eventDeleteHandling = "Disabled"),
          (this.eventEditHandling = "Update"),
          (this.eventHoverHandling = "Bubble"),
          (this.eventResizeHandling = "Update"),
          (this.eventMoveHandling = "Update"),
          (this.eventSelectHandling = "Update"),
          (this.eventTapAndHoldHandling = "Move"),
          (this.headerClickHandling = "Enabled"),
          (this.timeRangeTapAndHoldHandling = "Select"),
          (this.timeRangeSelectedHandling = "Enabled"),
          (this.timeRangeDoubleClickHandling = "Disabled"),
          (this.timeRangeRightClickHandling = "ContextMenu"),
          (this.onAutoRefresh = null),
          (this.onColumnFilter = null),
          (this.onColumnResize = null),
          (this.onColumnResized = null),
          (this.onEventFilter = null),
          (this.onEventClick = null),
          (this.onEventClicked = null),
          (this.onEventDelete = null),
          (this.onEventDeleted = null),
          (this.onEventEdit = null),
          (this.onEventEdited = null),
          (this.onEventMove = null),
          (this.onEventMoved = null),
          (this.onEventMoving = null),
          (this.onEventResize = null),
          (this.onEventResized = null),
          (this.onEventResizing = null),
          (this.onEventSelect = null),
          (this.onEventSelected = null),
          (this.onEventRightClick = null),
          (this.onEventRightClicked = null),
          (this.onEventDoubleClick = null),
          (this.onEventDoubleClicked = null),
          (this.onHeaderClick = null),
          (this.onHeaderClicked = null),
          (this.onTimeRangeRightClick = null),
          (this.onTimeRangeRightClicked = null),
          (this.onTimeRangeDoubleClick = null),
          (this.onTimeRangeDoubleClicked = null),
          (this.onTimeRangeSelect = null),
          (this.onTimeRangeSelected = null),
          (this.onTimeRangeSelecting = null),
          (this.onAfterRender = null),
          (this.onAfterEventRender = null),
          (this.onAfterCellRender = null),
          (this.onBeforeEventRender = null),
          (this.onBeforeEventExport = null),
          (this.onBeforeEventDomAdd = null),
          (this.onBeforeEventDomRemove = null),
          (this.onBeforeCellRender = null),
          (this.onBeforeCellExport = null),
          (this.onBeforeCornerDomAdd = null),
          (this.onBeforeCornerDomRemove = null),
          (this.onBeforeCornerRender = null),
          (this.onBeforeHeaderRender = null),
          (this.onBeforeHeaderExport = null),
          (this.onBeforeTimeHeaderRender = null),
          (this.ma = !0),
          (this.na = e),
          (this.oa = !0),
          (this.pa = !0),
          (this.qa = !0),
          (this.ra = {}),
          (this.ra.pixels = {}),
          (this.ra.events = []),
          (this.ra.drawArea = null),
          (this.ra.sa = null),
          (this.elements = {}),
          (this.elements.events = []),
          (this.elements.separators = []),
          (this.elements.selection = []),
          (this.elements.cells = {}),
          (this.elements.crosshair = []),
          (this.elements.timeHeaders = []),
          (this.events = {}),
          (this.events.list = []),
          (this.nav = {}),
          (this.ta = 0),
          (this.va = !1),
          (this.wa = !1),
          (this.members = {}),
          (this.members.obsolete = [
            "Init",
            "cleanSelection",
            "cssClassPrefix",
            "clientName",
            "uniqueID",
          ]),
          (this.members.ignore = [
            "internal",
            "nav",
            "debug",
            "temp",
            "elements",
            "members",
            "onCallbackError",
          ]),
          (this.xa = "javasc"),
          (this.ya = {}),
          (this.ya.ie =
            navigator &&
            navigator.userAgent &&
            navigator.userAgent.indexOf("MSIE") !== -1),
          (this.ya.ff =
            navigator &&
            navigator.userAgent &&
            navigator.userAgent.indexOf("Firefox") !== -1),
          (this.clearSelection = function () {
            return this.za
              ? ((v.Aa = null),
                (v.Ba = null),
                (h.selecting = null),
                this.Ca(),
                void (this.za = []))
              : void (this.za = []);
          }),
          (this.Ca = function () {
            this.za &&
              (f(y.elements.selection),
              (y.elements.selection = []),
              (y.nav.activeSelection = null));
          }),
          (this.cleanSelection = this.clearSelection),
          (this.Da = function () {
            if (y.ra.drawArea) return y.ra.drawArea;
            var e = y.Ea();
            if (!e) return null;
            var t = {};
            (t.pixels = {}),
              (t.pixels.left = e.scrollLeft),
              (t.pixels.right = e.scrollLeft + e.clientWidth),
              (t.pixels.top = e.scrollTop),
              (t.pixels.bottom = e.scrollTop + e.clientHeight),
              (t.pixels.width = e.scrollWidth);
            var n = y.dynamicEventRenderingMarginX;
            n &&
              ((t.pixels.left -= n),
              (t.pixels.right += n),
              t.pixels.left < 0 && (t.pixels.left = 0),
              t.pixels.right > t.pixels.width &&
                (t.pixels.right = t.pixels.width));
            var i = y.dynamicEventRenderingMarginY;
            if (i) {
              (t.pixels.top -= i), (t.pixels.bottom += i);
              var a = y.Fa();
              t.pixels.top < 0 && (t.pixels.top = 0),
                t.pixels.bottom > a && (t.pixels.bottom = a);
            }
            for (var r = y.Ga(), o = null, s = null, l = 0; l < r.length; l++) {
              var d = r[l],
                c = d.left + d.width;
              if (
                (null === o && c > t.pixels.left && (o = l),
                null !== o &&
                  null === s &&
                  (c >= t.pixels.right || l === r.length - 1))
              ) {
                s = l;
                break;
              }
            }
            var u = Math.floor(t.pixels.top / y.cellHeight);
            u = DayPilot.Util.atLeast(0, u);
            var h = Math.ceil(t.pixels.bottom / y.cellHeight);
            return (
              (h = DayPilot.Util.atMost(y.Ha() - 1, h)),
              (t.xStart = o),
              (t.xEnd = s),
              (t.yStart = u),
              (t.yEnd = h),
              (y.ra.drawArea = t),
              t
            );
          }),
          (this.Ia = function (e) {
            return y.ra.sa || (y.ra.sa = y.Ga()), y.ra.sa[e];
          }),
          (this.Ja = function () {
            (y.ra.drawArea = null), (y.ra.sa = null);
          }),
          (this.Ka = function (e, t) {
            return y.Ma.La()
              ? DayPilot.Util.escapeTextHtml(e, t)
              : DayPilot.Util.isNullOrUndefined(t)
              ? DayPilot.Util.isNullOrUndefined(e)
                ? ""
                : e
              : t;
          }),
          (this.Na = function (e, t, n) {
            var i = {};
            (i.action = e),
              (i.parameters = n),
              (i.data = t),
              (i.header = this.Oa());
            var a = "JSON" + JSON.stringify(i);
            __doPostBack(y.uniqueID, a);
          }),
          (this.Pa = function (e, t, n, i) {
            if (!this.ia())
              return void y.debug.message(
                "Callback invoked without the server-side backend specified. Callback canceled.",
                "warning"
              );
            "undefined" == typeof i && (i = "CallBack"), y.Qa();
            var a = {};
            (a.action = e),
              (a.type = i),
              (a.parameters = t),
              (a.data = n),
              (a.header = this.Oa());
            var r = "JSON" + JSON.stringify(a);
            this.backendUrl
              ? DayPilot.request(this.backendUrl, this.Ra, r, this.Sa)
              : "function" == typeof WebForm_DoCallback &&
                WebForm_DoCallback(
                  this.uniqueID,
                  r,
                  this.Ta,
                  this.clientName,
                  this.onCallbackError,
                  !0
                );
          }),
          (this.ia = function () {
            return (
              ("javasc" !== y.xa && y.xa.indexOf("DCODE") === -1) || y.devsb
            );
          });
        this.Ua = function () {
          return !("function" != typeof WebForm_DoCallback || !this.uniqueID);
        };
        (this.Sa = function (e) {
          if ("function" == typeof y.onAjaxError) {
            var t = {};
            (t.request = e), y.onAjaxError(t);
          } else "function" == typeof y.ajaxError && y.ajaxError(e);
        }),
          (this.dispose = function () {
            var e = y;
            if ((clearInterval(e.Va), e.va && !e.wa)) {
              (e.wa = !0),
                e.Wa && e.Wa.disconnect(),
                e.Xa(),
                e.Ya(),
                e.nav.messageClose && (e.nav.messageClose.onclick = null),
                e.nav.hourTable &&
                  ((e.nav.hourTable.oncontextmenu = null),
                  (e.nav.hourTable.onmousemove = null)),
                e.nav.header && (e.nav.header.oncontextmenu = null),
                e.nav.corner && (e.nav.corner.oncontextmenu = null),
                e.nav.zoom &&
                  ((e.nav.zoom.onmousemove = null),
                  (e.nav.zoom.oncontextmenu = null)),
                e.nav.scroll &&
                  ((e.nav.scroll.onscroll = null), (e.nav.scroll.root = null)),
                DayPilot.pu(e.nav.loading),
                e.Za(),
                e.$a(),
                e._a(),
                e.ab(),
                (e.nav.select = null),
                (e.nav.cornerRight = null),
                (e.nav.scrollable = null),
                (e.nav.bottomLeft = null),
                (e.nav.bottomRight = null),
                (e.nav.allday = null),
                (e.nav.zoom = null),
                (e.nav.loading = null),
                (e.nav.events = null),
                (e.nav.header = null),
                (e.nav.hourTable = null),
                (e.nav.scrolltop = null),
                (e.nav.scroll = null),
                (e.nav.vsph = null),
                (e.nav.main = null),
                (e.nav.message = null),
                (e.nav.messageClose = null),
                e.nav.top.removeAttribute("style"),
                e.nav.top.removeAttribute("class"),
                e.nav.top.removeEventListener("mouseleave", y.bb);
              !(y.Y.reactDOM && DayPilot.browser.ie) &&
                (e.nav.top.innerHTML = ""),
                (e.nav.top.dp = null),
                (e.nav.top = null),
                DayPilot.ue(window, "resize", e.cb),
                v.db(e),
                "undefined" != typeof DayPilot.Bubble &&
                  (DayPilot.Bubble.cancelShowing(),
                  DayPilot.Bubble.hide({ calendar: e })),
                "undefined" != typeof DayPilot.Menu &&
                  DayPilot.Menu.hide({ calendar: e });
            }
          }),
          (this.eb = function () {
            this.nav.top.dispose = this.dispose;
          }),
          (this.Ra = function (e) {
            y.Ta(e.responseText);
          }),
          (this.Oa = function () {
            var e = {};
            return (
              (e.v = this.v),
              (e.control = "dpc"),
              (e.id = this.id),
              (e.clientState = y.clientState),
              (e.columns = this.fb()),
              (e.days = y.days),
              (e.startDate = y.startDate),
              (e.cellDuration = y.cellDuration),
              (e.cssClassPrefix = y.cssClassPrefix),
              (e.heightSpec = y.heightSpec),
              (e.businessBeginsHour = y.businessBeginsHour),
              (e.businessEndsHour = y.businessEndsHour),
              (e.viewType = y.viewType),
              (e.dayBeginsHour = y.dayBeginsHour),
              (e.dayEndsHour = y.dayEndsHour),
              (e.headerLevels = y.headerLevels),
              (e.eventHeaderVisible = y.eventHeaderVisible),
              (e.timeFormat = y.timeFormat),
              (e.timeHeaderCellDuration = y.timeHeaderCellDuration),
              (e.locale = y.locale),
              (e.scrollY = y.scrollPos),
              (e.showAllDayEvents = y.showAllDayEvents),
              (e.tagFields = y.tagFields),
              (e.weekStarts = y.weekStarts),
              (e.selected = y.multiselect.events()),
              (e.hashes = y.hashes),
              e
            );
          }),
          (this.gb = function () {
            y.hb(), y.ib(), (y.jb = null);
          }),
          (this.fb = function () {
            var e = [];
            if (((e.ignoreToJSON = !0), !this.kb)) return e;
            for (var t = 0; t < this.kb.length; t++) {
              var n = this.kb[t],
                i = this.lb(n);
              e.push(i);
            }
            return e;
          }),
          (this.lb = function (e) {
            var t = {};
            return (
              (t.Value = e.id),
              (t.Name = e.name),
              (t.ToolTip = e.toolTip),
              (t.Date = e.start),
              (t.Children = this.mb(e.children)),
              t
            );
          }),
          (this.mb = function (e) {
            var t = [];
            if (((t.ignoreToJSON = !0), !e)) return t;
            for (var n = 0; n < e.length; n++) t.push(this.lb(e[n]));
            return t;
          }),
          (this.Ta = function (e, t) {
            var e = JSON.parse(e);
            if (e.BubbleGuid) {
              var n = e.BubbleGuid,
                i = this.bubbles[n];
              return (
                delete this.bubbles[n],
                y.nb(),
                void (
                  "undefined" != typeof e.Result.BubbleHTML &&
                  i.updateView(e.Result.BubbleHTML, i)
                )
              );
            }
            if (e.CallBackRedirect)
              return void (document.location.href = e.CallBackRedirect);
            if (
              ("undefined" != typeof e.ClientState &&
                (y.clientState = e.ClientState),
              "None" === e.UpdateType)
            )
              return (
                y.nb(),
                y.ob(e.CallBackData, !0),
                void (e.Message && y.message(e.Message))
              );
            if ((y.Ja(), e.VsUpdate)) {
              var a = document.createElement("input");
              (a.type = "hidden"),
                (a.name = y.id + "_vsupdate"),
                (a.id = a.name),
                (a.value = e.VsUpdate),
                (y.nav.vsph.innerHTML = ""),
                y.nav.vsph.appendChild(a);
            }
            if (
              (y.Ya(),
              y.multiselect.clear(!0),
              (y.multiselect.pb = e.SelectedEvents),
              "undefined" != typeof e.TagFields && (y.tagFields = e.TagFields),
              "undefined" != typeof e.SortDirections &&
                (y.sortDirections = e.SortDirections),
              "Full" === e.UpdateType &&
                ((y.colors = e.Colors),
                (y.palette = e.Palette),
                (y.dirtyColors = e.DirtyColors),
                (y.cellProperties = e.CellProperties),
                (y.cellConfig = e.CellConfig),
                y.qb() === y.columns
                  ? (y.columns = e.Columns)
                  : (y.columns.list = e.Columns),
                (y.days = e.Days),
                (y.startDate = new DayPilot.Date(e.StartDate).getDatePart()),
                (y.cellDuration = e.CellDuration),
                (y.heightSpec = e.HeightSpec ? e.HeightSpec : y.heightSpec),
                (y.businessBeginsHour = e.BusinessBeginsHour
                  ? e.BusinessBeginsHour
                  : y.businessBeginsHour),
                (y.businessEndsHour = e.BusinessEndsHour
                  ? e.BusinessEndsHour
                  : y.businessEndsHour),
                (y.viewType = e.ViewType),
                (y.headerLevels = e.HeaderLevels),
                (y.backColor = e.BackColor ? e.BackColor : y.backColor),
                (y.nonBusinessBackColor = e.NonBusinessBackColor
                  ? e.NonBusinessBackColor
                  : y.nonBusinessBackColor),
                (y.eventHeaderVisible = e.EventHeaderVisible
                  ? e.EventHeaderVisible
                  : y.eventHeaderVisible),
                (y.timeFormat = e.TimeFormat ? e.TimeFormat : y.timeFormat),
                (y.timeHeaderCellDuration =
                  "undefined" != typeof e.TimeHeaderCellDuration
                    ? e.TimeHeaderCellDuration
                    : y.timeHeaderCellDuration),
                (y.locale = e.Locale ? e.Locale : y.locale),
                (y.dayBeginsHour =
                  "undefined" != typeof e.DayBeginsHour
                    ? e.DayBeginsHour
                    : y.dayBeginsHour),
                (y.dayEndsHour =
                  "undefined" != typeof e.DayEndsHour
                    ? e.DayEndsHour
                    : y.dayEndsHour),
                (y.cornerHtml = e.CornerHTML),
                (y.hours = e.Hours),
                y.rb(),
                y.sb()),
              e.Hashes)
            )
              for (var r in e.Hashes) y.hashes[r] = e.Hashes[r];
            if (
              (y.tb(e.Events),
              y.ub(),
              ("Full" === e.UpdateType || y.hideFreeCells) &&
                (y.vb(),
                y.wb(),
                y.xb(),
                y.yb(),
                y.zb(),
                y.Ab(),
                y.Bb(),
                y.Cb(),
                y.clearSelection(),
                y.Db(),
                "undefined" != typeof e.ScrollY
                  ? y.scrollToY(e.ScrollY)
                  : y.scrollToY(y.initScrollPos)),
              y.Eb(),
              y.D(),
              y.Fb(),
              y.Gb(),
              "Parent100Pct" === y.heightSpec && y.Hb(),
              "HoldForever" !== y.timeRangeSelectedHandling &&
                y.clearSelection(),
              y.Ib(),
              y.todo && y.todo.del)
            ) {
              var o = y.todo.del;
              o.parentNode.removeChild(o), (y.todo.del = null);
            }
            y.ob(e.CallBackData, !0),
              y.nb(),
              y.Jb(),
              e.Message && y.message(e.Message);
          }),
          (this.ob = function (e, t) {
            var n = function (e, t) {
              return function () {
                if (y.Kb()) {
                  if ("function" == typeof y.onAfterRender) {
                    var n = {};
                    (n.isCallBack = t), (n.data = e), y.onAfterRender(n);
                  }
                } else y.afterRender && y.afterRender(e, t);
              };
            };
            window.setTimeout(n(e, t), 0);
          }),
          (this.Lb = function (e, n) {
            var i = y.nav.events,
              a = i.rows[0].cells.length,
              r = y.Mb(y.coords.x);
            r < 0 && (r = 0),
              r >= a && (r = a - 1),
              y.rtl && (r = y.Nb.length - r - 1);
            var o = i.rows[0].cells[r],
              s = 0,
              l = 0,
              d = 0;
            if ("undefined" != typeof e.duration) {
              var c = e.duration;
              (d =
                Math.floor((y.coords.y - s + y.cellHeight / 2) / y.cellHeight) *
                  y.cellHeight +
                s),
                (l = (c * y.cellHeight) / (60 * y.cellDuration)),
                (l = Math.max(l, y.cellHeight));
            } else {
              var u = e.event;
              (l = u.part.height), (d = u.part.top);
            }
            var h = t();
            h.setAttribute("unselectable", "on"),
              (h.style.position = "absolute"),
              (h.style.width = "100%"),
              (h.style.height = l + "px"),
              (h.style.left = "0px"),
              (h.style.top = d + "px"),
              (h.style.zIndex = y.na),
              (h.exclude = !0);
            var f = t();
            return (
              h.appendChild(f),
              (h.className = y.ca("_shadow")),
              (f.className = this.ca("_shadow_inner")),
              o.events.appendChild(h),
              h
            );
          }),
          (this.Ob = function () {
            return this.Pb() / 36e5;
          }),
          (this.Qb = function () {
            return this.businessBeginsHour > this.businessEndsHour
              ? 24 - this.businessBeginsHour + this.businessEndsHour
              : this.businessEndsHour - this.businessBeginsHour;
          }),
          (this.Rb = function () {
            return this.dayBeginsHour >= this.dayEndsHour
              ? 24 - this.dayBeginsHour + this.dayEndsHour
              : this.dayEndsHour - this.dayBeginsHour;
          }),
          (this.Pb = function (e) {
            var t = 0;
            if ("BusinessHoursNoScroll" === this.heightSpec) t = this.Qb();
            else if (this.hideFreeCells && !e) {
              var n = ((this.Sb - 1) * this.cellDuration) / this.cellHeight,
                i = Math.ceil(n / 60),
                a =
                  this.businessBeginsHour > this.businessEndsHour
                    ? this.businessEndsHour + 24
                    : this.businessEndsHour;
              t = Math.max(this.dayBeginsHour + i, a) - this.Tb();
            } else t = this.Rb();
            return 60 * t * 60 * 1e3;
          }),
          (this.message = function (e, n) {
            if (null !== e && y.va) {
              var i,
                a = {};
              "object" == typeof arguments[1]
                ? ((a = arguments[1]), (i = a.delay))
                : (i = n);
              var o = "";
              (o = a.rawHtml ? e : DayPilot.Util.escapeHtml(e)),
                (i = i || this.messageHideAfter || 2e3);
              var s,
                l = this.Ub(),
                d = this.showHours ? this.hourWidth : 0,
                c = DayPilot.sw(y.Vb());
              if (y.rtl) {
                var u = d;
                (d = c), (c = u);
              }
              if (this.nav.message)
                (s = y.nav.message), (this.nav.message.style.top = l + "px");
              else {
                (s = t()),
                  (s.style.position = "absolute"),
                  (s.style.left = d + "px"),
                  (s.style.top = l + "px"),
                  (s.style.right = "0px"),
                  (s.style.display = "none"),
                  (s.onmousemove = function () {
                    s.messageTimeout &&
                      !s.status &&
                      clearTimeout(s.messageTimeout);
                  }),
                  (s.onmouseout = function () {
                    "none" !== y.nav.message.style.display &&
                      (s.messageTimeout = setTimeout(y.Wb, 500));
                  });
                var h = t();
                (h.onclick = function () {
                  y.nav.message.style.display = "none";
                }),
                  (h.className = this.ca("_message")),
                  s.appendChild(h);
                var f = t();
                (f.style.position = "absolute"),
                  (f.className = this.ca("_message_close")),
                  (f.onclick = function () {
                    y.nav.message.style.display = "none";
                  }),
                  s.appendChild(f),
                  this.nav.top.insertBefore(s, this.nav.loading),
                  (this.nav.message = s),
                  (this.nav.messageClose = f);
              }
              this.nav.cornerRight
                ? (this.nav.message.style.right = c + "px")
                : (this.nav.message.style.right = "0px");
              var v = function () {
                if (y.nav.message) {
                  var e = y.nav.message.firstChild;
                  (e.className = y.ca("_message")),
                    a.cssClass && r(e, a.cssClass),
                    (e.innerHTML = o);
                  var t = function () {
                    s.messageTimeout = setTimeout(y.Wb, i);
                  };
                  DayPilot.fade(y.nav.message, 0.2, t);
                }
              };
              clearTimeout(s.messageTimeout),
                "none" !== this.nav.message.style.display
                  ? DayPilot.fade(y.nav.message, -0.2, v)
                  : v();
            }
          }),
          (this.message.show = function (e) {
            y.message(e);
          }),
          (this.message.hide = function () {
            y.Wb();
          }),
          (this.Wb = function () {
            var e = function () {
              y.nav.message.style.display = "none";
            };
            DayPilot.fade(y.nav.message, -0.2, e);
          }),
          (this.yb = function () {
            this.nav.message && (this.nav.message.style.top = this.Ub() + "px");
          }),
          (this.Ha = function () {
            return this.Pb() / (6e4 * this.cellDuration);
          }),
          (this.eventClickPostBack = function (e, t) {
            this.Na("EventClick", t, e);
          }),
          (this.eventClickCallBack = function (e, t) {
            this.Pa("EventClick", e, t);
          }),
          (this.Xb = function (e) {
            var t = this,
              e = e || window.event,
              n = e.ctrlKey,
              i = e.metaKey;
            if (
              ("undefined" != typeof DayPilot.Bubble &&
                DayPilot.Bubble.hideActive(),
              "Disabled" === y.eventDoubleClickHandling)
            )
              return void y.Yb(t, n, i, e);
            if (y.timeouts) {
              for (var a in y.timeouts) window.clearTimeout(y.timeouts[a]);
              y.timeouts = [];
            } else y.timeouts = [];
            var r = function (e, t, n, i) {
              return function () {
                y.Yb(e, t, n, i);
              };
            };
            y.timeouts.push(
              window.setTimeout(r(this, n, i, e), y.doubleClickTimeout)
            );
          }),
          (this.Yb = function (e, t, n, i) {
            var a = e.event;
            if (a.client.clickEnabled())
              if (y.Kb()) {
                var r = {};
                if (
                  ((r.e = a),
                  (r.control = y),
                  (r.ctrl = t),
                  (r.meta = n),
                  (r.originalEvent = i),
                  (r.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  "function" == typeof y.onEventClick &&
                    (y.onEventClick(r), r.preventDefault.value))
                )
                  return;
                switch (y.eventClickHandling) {
                  case "PostBack":
                    y.eventClickPostBack(a);
                    break;
                  case "CallBack":
                    y.eventClickCallBack(a);
                    break;
                  case "Edit":
                    y.Zb(e);
                    break;
                  case "Select":
                    y.$b(e, a, t, n);
                    break;
                  case "Bubble":
                    y.bubble && y.bubble.showEvent(a);
                    break;
                  case "ContextMenu":
                    var o = a.client.contextMenu();
                    o ? o.show(a) : y.contextMenu && y.contextMenu.show(a);
                }
                "function" == typeof y.onEventClicked && y.onEventClicked(r);
              } else
                switch (y.eventClickHandling) {
                  case "PostBack":
                    y.eventClickPostBack(a);
                    break;
                  case "CallBack":
                    y.eventClickCallBack(a);
                    break;
                  case "JavaScript":
                    y.onEventClick(a);
                    break;
                  case "Edit":
                    y.Zb(e);
                    break;
                  case "Select":
                    y.$b(e, a, t, n);
                    break;
                  case "Bubble":
                    y.bubble && y.bubble.showEvent(a);
                    break;
                  case "ContextMenu":
                    var o = a.client.contextMenu();
                    o ? o.show(a) : y.contextMenu && y.contextMenu.show(a);
                }
          }),
          (this.eventDoubleClickPostBack = function (e, t) {
            this.Na("EventDoubleClick", t, e);
          }),
          (this.eventDoubleClickCallBack = function (e, t) {
            this.Pa("EventDoubleClick", e, t);
          }),
          (this._b = function (e) {
            if (
              ("undefined" != typeof DayPilot.Bubble &&
                DayPilot.Bubble.hideActive(),
              y.timeouts)
            ) {
              for (var t in y.timeouts) window.clearTimeout(y.timeouts[t]);
              y.timeouts = null;
            }
            var n = this.event,
              e = e || window.event;
            if (y.Kb()) {
              var i = {};
              if (
                ((i.e = n),
                (i.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof y.onEventDoubleClick &&
                  (y.onEventDoubleClick(i), i.preventDefault.value))
              )
                return;
              switch (y.eventDoubleClickHandling) {
                case "PostBack":
                  y.eventDoubleClickPostBack(n);
                  break;
                case "CallBack":
                  y.eventDoubleClickCallBack(n);
                  break;
                case "Edit":
                  n.allday() || y.Zb(this);
                  break;
                case "Select":
                  n.allday() || y.$b(this, n, e.ctrlKey);
                  break;
                case "Bubble":
                  y.bubble && y.bubble.showEvent(n);
              }
              "function" == typeof y.onEventDoubleClicked &&
                y.onEventDoubleClicked(i);
            } else
              switch (y.eventDoubleClickHandling) {
                case "PostBack":
                  y.eventDoubleClickPostBack(n);
                  break;
                case "CallBack":
                  y.eventDoubleClickCallBack(n);
                  break;
                case "JavaScript":
                  y.onEventDoubleClick(n);
                  break;
                case "Edit":
                  n.allday() || y.Zb(this);
                  break;
                case "Select":
                  n.allday() || y.$b(this, n, e.ctrlKey);
                  break;
                case "Bubble":
                  y.bubble && y.bubble.showEvent(n);
              }
          }),
          (this.eventRightClickPostBack = function (e, t) {
            this.Na("EventRightClick", t, e);
          }),
          (this.eventRightClickCallBack = function (e, t) {
            this.Pa("EventRightClick", e, t);
          }),
          (this.bc = function (e) {
            var t = this.event;
            if (
              (e.stopPropagation && e.stopPropagation(),
              !t.client.rightClickEnabled())
            )
              return !1;
            if (y.Kb()) {
              var n = {};
              if (
                ((n.e = t),
                (n.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof y.onEventRightClick &&
                  (y.onEventRightClick(n), n.preventDefault.value))
              )
                return !1;
              switch (y.eventRightClickHandling) {
                case "PostBack":
                  y.eventRightClickPostBack(t);
                  break;
                case "CallBack":
                  y.eventRightClickCallBack(t);
                  break;
                case "ContextMenu":
                  var i = t.client.contextMenu();
                  i
                    ? i.show(t)
                    : y.contextMenu && y.contextMenu.show(this.event);
                  break;
                case "Bubble":
                  y.bubble && y.bubble.showEvent(t);
              }
              "function" == typeof y.onEventRightClicked &&
                y.onEventRightClicked(n);
            } else
              switch (y.eventRightClickHandling) {
                case "PostBack":
                  y.eventRightClickPostBack(t);
                  break;
                case "CallBack":
                  y.eventRightClickCallBack(t);
                  break;
                case "JavaScript":
                  y.onEventRightClick(t);
                  break;
                case "ContextMenu":
                  var i = t.client.contextMenu();
                  i
                    ? i.show(t)
                    : y.contextMenu && y.contextMenu.show(this.event);
                  break;
                case "Bubble":
                  y.bubble && y.bubble.showEvent(t);
              }
            return e.preventDefault && e.preventDefault(), !1;
          }),
          (this.cc = function (e) {
            return new DayPilot.Column(e, y);
          }),
          (this.headerClickPostBack = function (e, t) {
            this.Na("HeaderClick", t, e);
          }),
          (this.headerClickCallBack = function (e, t) {
            this.Pa("HeaderClick", e, t);
          }),
          (this.dc = function (e) {
            var t = this.data,
              n = y.cc(t, y);
            if (y.Kb()) {
              var i = {};
              if (
                ((i.header = {}),
                (i.header.id = t.id),
                (i.header.name = t.name),
                (i.header.start = t.start),
                (i.column = n),
                (i.originalEvent = e),
                (i.shift = e.shiftKey),
                (i.ctrl = e.ctrlKey),
                (i.meta = e.metaKey),
                (i.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof y.onHeaderClick &&
                  (y.onHeaderClick(i), i.preventDefault.value))
              )
                return;
              switch (y.headerClickHandling) {
                case "PostBack":
                  y.headerClickPostBack(n);
                  break;
                case "CallBack":
                  y.headerClickCallBack(n);
              }
              "function" == typeof y.onHeaderClicked && y.onHeaderClicked(i);
            } else
              switch (y.headerClickHandling) {
                case "PostBack":
                  y.headerClickPostBack(n);
                  break;
                case "CallBack":
                  y.headerClickCallBack(n);
                  break;
                case "JavaScript":
                  y.onHeaderClick(n);
              }
          }),
          (this.ec = function (e) {
            if ("undefined" != typeof DayPilot.Bubble && y.columnBubble)
              if ("Resources" === y.viewType) {
                var t = {};
                (t.calendar = y),
                  (t.start = this.data.start),
                  (t.name = this.data.name),
                  (t.id = this.data.id),
                  (t.toJSON = function () {
                    var e = {};
                    return (
                      (e.id = this.id),
                      (e.start = this.start),
                      (e.name = this.name),
                      e
                    );
                  }),
                  y.columnBubble.showResource(t);
              } else {
                var n = new DayPilot.Date(this.data.start),
                  i = n.addDays(1),
                  a = {};
                (a.calendar = y),
                  (a.start = n),
                  (a.end = i),
                  (a.toJSON = function () {
                    var e = {};
                    return (e.start = this.start), (e.end = this.end), e;
                  }),
                  y.columnBubble.showTime(a);
              }
            var r = this,
              o = r.firstChild;
            if (!o.active) {
              var s = r.data,
                l = y.cc(s);
              (l.areas = r.data.areas), DayPilot.Areas.showAreas(o, l);
            }
            "undefined" != typeof b && b.s && b.fc(e, r);
          }),
          (this.gc = function (e) {
            "undefined" != typeof DayPilot.Bubble &&
              y.columnBubble &&
              y.columnBubble.hideOnMouseOut(),
              DayPilot.Areas.hideAreas(this.firstChild, e);
          }),
          (this.eventDeletePostBack = function (e, t) {
            this.Na("EventDelete", t, e);
          }),
          (this.eventDeleteCallBack = function (e, t) {
            this.Pa("EventDelete", e, t);
          }),
          (this.hc = function (e) {
            var t;
            if (
              ((t = e && e.isEvent ? e : e.parentNode.parentNode.event),
              "undefined" != typeof DayPilot.Bubble &&
                (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing()),
              y.Kb())
            ) {
              var n = {};
              if (
                ((n.e = t),
                (n.control = y),
                (n.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof y.onEventDelete &&
                  (y.onEventDelete(n), n.preventDefault.value))
              )
                return;
              switch (y.eventDeleteHandling) {
                case "PostBack":
                  y.eventDeletePostBack(t);
                  break;
                case "CallBack":
                  y.eventDeleteCallBack(t);
                  break;
                case "Update":
                  y.events.remove(t);
              }
              "function" == typeof y.onEventDeleted && y.onEventDeleted(n);
            } else
              switch (y.eventDeleteHandling) {
                case "PostBack":
                  y.eventDeletePostBack(t);
                  break;
                case "CallBack":
                  y.eventDeleteCallBack(t);
                  break;
                case "JavaScript":
                  y.onEventDelete(t);
              }
          }),
          (this.eventResizePostBack = function (e, t, n, i) {
            if (!t) throw "newStart is null";
            if (!n) throw "newEnd is null";
            var a = {};
            (a.e = e),
              (a.newStart = t),
              (a.newEnd = n),
              this.Na("EventResize", i, a);
          }),
          (this.eventResizeCallBack = function (e, t, n, i) {
            if (!t) throw "newStart is null";
            if (!n) throw "newEnd is null";
            var a = {};
            (a.e = e),
              (a.newStart = t),
              (a.newEnd = n),
              this.Pa("EventResize", a, i);
          }),
          (this.ic = function (e, t, n, i) {
            if ("PostBack" === e) y.postBack2(t, n, i);
            else if ("CallBack" === e) y.Pa(t, n, i, "CallBack");
            else if ("Immediate" === e) y.Pa(t, n, i, "Notify");
            else if ("Queue" === e)
              y.queue.add(new DayPilot.Action(this, t, n, i));
            else {
              if ("Notify" !== e)
                throw new DayPilot.Exception("Invalid event invocation type");
              "Notify" === k.jc()
                ? y.Pa(t, n, i, "Notify")
                : y.queue.add(new DayPilot.Action(y, t, n, i));
            }
          }),
          (this.Tb = function (e) {
            if ("BusinessHoursNoScroll" === this.heightSpec)
              return this.businessBeginsHour;
            if (this.hideFreeCells && !e) {
              var t = (this.kc * this.cellDuration) / this.cellHeight,
                n = Math.floor(t / 60);
              return (
                (n = Math.max(0, n)),
                Math.min(this.dayBeginsHour + n, this.businessBeginsHour)
              );
            }
            return this.dayBeginsHour;
          }),
          (this.visibleStart = function () {
            if ("Resources" === y.viewType) {
              if (y.Nb.isEmpty()) return DayPilot.Date.today();
              var e = u(y.Nb).map(function (e) {
                  return e.start.getTime();
                }),
                t = Math.min.apply(null, e);
              return new DayPilot.Date(t);
            }
            return this.Nb[0].start;
          }),
          (this.visibleEnd = function () {
            if ("Resources" === y.viewType) {
              if (y.Nb.isEmpty()) return DayPilot.Date.today().addDays(1);
              var e = u(y.Nb).map(function (e) {
                  return e.start.getTime();
                }),
                t = Math.max.apply(null, e);
              return new DayPilot.Date(t).addDays(1);
            }
            var n = this.Nb,
              t = n.length - 1;
            return n[t].start.addDays(1);
          }),
          (this.Kb = function () {
            return 2 === y.api;
          }),
          (this.lc = function (e, t) {
            var n = (e.start(), y.Nb[e.part.dayIndex].start),
              i = Math.floor(t / y.cellHeight),
              a = i * y.cellDuration,
              r = 60 * a * 1e3,
              o = 60 * y.Tb() * 60 * 1e3;
            return n.addTime(r + o);
          }),
          (this.nc = function (e, t) {
            var n = Math.floor(t / y.cellHeight),
              i = n * y.cellDuration,
              a = 60 * i * 1e3,
              r = 60 * y.Tb() * 60 * 1e3;
            return y.Nb[e.part.dayIndex].start.addTime(a + r);
          }),
          (this.oc = function (e, t, n, i) {
            if ("Disabled" !== this.eventResizeHandling) {
              var a, r;
              if (
                ("top" === i
                  ? ((a = y.lc(e, n)), (r = e.end()))
                  : "bottom" === i && ((a = e.start()), (r = y.nc(e, n + t))),
                y.Kb())
              ) {
                var o = {},
                  s = function () {
                    if (
                      ((o.loaded = function () {}),
                      y.pc(),
                      !o.preventDefault.value)
                    ) {
                      switch (y.eventResizeHandling) {
                        case "PostBack":
                          y.eventResizePostBack(e, a, r);
                          break;
                        case "CallBack":
                          y.eventResizeCallBack(e, a, r);
                          break;
                        case "Notify":
                          y.eventResizeNotify(e, a, r);
                          break;
                        case "Update":
                          e.start(a), e.end(r), y.events.update(e);
                      }
                      "function" == typeof y.onEventResized &&
                        y.onEventResized(o);
                    }
                  };
                if (
                  ((o.e = e),
                  (o.control = y),
                  (o.newStart = a),
                  (o.newEnd = r),
                  (o.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  (o.async = !1),
                  (o.hideShadow = function () {
                    y.pc();
                  }),
                  (o.loaded = function () {
                    s();
                  }),
                  "function" == typeof y.onEventResize &&
                    (y.onEventResize(o), o.preventDefault.value))
                )
                  return void y.pc();
                o.async || s();
              } else
                switch ((y.pc(), y.eventResizeHandling)) {
                  case "PostBack":
                    y.eventResizePostBack(e, a, r);
                    break;
                  case "CallBack":
                    y.eventResizeCallBack(e, a, r);
                    break;
                  case "JavaScript":
                    y.onEventResize(e, a, r);
                    break;
                  case "Notify":
                    y.eventResizeNotify(e, a, r);
                }
            }
          }),
          (this.eventResizeNotify = function (e, t, n, i) {
            var a = new DayPilot.Event(e.copy(), this);
            e.start(t),
              e.end(n),
              e.commit(),
              y.update(),
              this.qc("Notify", a, t, n, i);
          }),
          (this.qc = function (e, t, n, i, a) {
            var r = {};
            (r.e = t),
              (r.newStart = n),
              (r.newEnd = i),
              this.ic(e, "EventResize", r, a);
          }),
          (this.eventMovePostBack = function (e, t, n, i, a) {
            if (!t) throw "newStart is null";
            if (!n) throw "newEnd is null";
            var r = {};
            (r.e = e),
              (r.newStart = t),
              (r.newEnd = n),
              (r.newResource = i),
              this.Na("EventMove", a, r);
          }),
          (this.eventMoveCallBack = function (e, t, n, i, a) {
            if (!t) throw "newStart is null";
            if (!n) throw "newEnd is null";
            var r = {};
            (r.e = e),
              (r.newStart = t),
              (r.newEnd = n),
              (r.newResource = i),
              this.Pa("EventMove", r, a);
          }),
          (this.rc = function (e, t, n) {
            var i = 0,
              a = Math.floor((n - i) / y.cellHeight),
              r = y.cellDuration,
              o = a * r * 60 * 1e3,
              s = e.start(),
              l = e.end(),
              d = new Date();
            s instanceof DayPilot.Date && (s = s.toDate()),
              d.setTime(
                Date.UTC(s.getUTCFullYear(), s.getUTCMonth(), s.getUTCDate())
              );
            var c =
                "Never" !== y.useEventBoxes
                  ? s.getTime() -
                    (d.getTime() +
                      3600 * s.getUTCHours() * 1e3 +
                      Math.floor(s.getUTCMinutes() / r) * r * 60 * 1e3)
                  : 0,
              u = l.getTime() - s.getTime(),
              h = 3600 * y.Tb() * 1e3;
            "undefined" == typeof t && (t = e.part.dayIndex);
            var f = this.Nb[t],
              v = f.start.getTime(),
              p = new Date();
            p.setTime(v + o + c + h);
            var m = new DayPilot.Date(p);
            return { start: m, end: m.addTime(u), resource: f.id };
          }),
          (this.sc = function (e, t, n, i, a) {
            if ("Disabled" !== y.eventMoveHandling) {
              var r = y.rc(e, t, n),
                o = r.start,
                s = r.end,
                l = r.resource,
                d = !!a;
              if (y.Kb()) {
                var c = {},
                  u = function () {
                    if (
                      ((c.loaded = function () {}),
                      y.tc(),
                      !c.preventDefault.value)
                    ) {
                      switch (y.eventMoveHandling) {
                        case "PostBack":
                          y.eventMovePostBack(e, o, s, l);
                          break;
                        case "CallBack":
                          y.eventMoveCallBack(e, o, s, l);
                          break;
                        case "Notify":
                          y.eventMoveNotify(e, o, s, l);
                          break;
                        case "Update":
                          e.start(o),
                            e.end(s),
                            e.resource(l),
                            d
                              ? (e.commit(), y.events.add(e))
                              : y.events.update(e),
                            y.uc();
                      }
                      "function" == typeof y.onEventMoved && y.onEventMoved(c);
                    }
                  };
                if (
                  ((c.e = e),
                  (c.control = y),
                  (c.newStart = r.start),
                  (c.newEnd = r.end),
                  (c.newResource = r.resource),
                  (c.external = d),
                  (c.areaData = h.movingAreaData),
                  (c.ctrl = !1),
                  i && (c.ctrl = i.ctrlKey),
                  (c.shift = !1),
                  i && (c.shift = i.shiftKey),
                  (c.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  (c.async = !1),
                  (c.hideShadow = function () {
                    y.tc();
                  }),
                  (c.loaded = function () {
                    u();
                  }),
                  "function" == typeof y.onEventMove &&
                    (y.onEventMove(c), c.preventDefault.value))
                )
                  return void y.tc();
                c.async || u();
              } else
                switch ((y.tc(), y.eventMoveHandling)) {
                  case "PostBack":
                    y.eventMovePostBack(e, o, s, l);
                    break;
                  case "CallBack":
                    y.eventMoveCallBack(e, o, s, l);
                    break;
                  case "JavaScript":
                    y.onEventMove(
                      e,
                      o,
                      s,
                      l,
                      d,
                      !!i && i.ctrlKey,
                      !!i && i.shiftKey
                    );
                    break;
                  case "Notify":
                    y.eventMoveNotify(e, o, s, l, null);
                }
            }
          }),
          (this.eventMoveNotify = function (e, t, n, i, a) {
            var r = new DayPilot.Event(e.copy(), this);
            e.start(t),
              e.end(n),
              e.resource(i),
              e.commit(),
              y.update(),
              this.vc("Notify", r, t, n, i, a);
          }),
          (this.vc = function (e, t, n, i, a, r) {
            var o = {};
            (o.e = t),
              (o.newStart = n),
              (o.newEnd = i),
              (o.newResource = a),
              this.ic(e, "EventMove", o, r);
          }),
          (this.uc = function () {
            if (y.todo && y.todo.del) {
              var e = y.todo.del;
              e.parentNode.removeChild(e), (y.todo.del = null);
            }
          }),
          (this.wc = function (e, t) {
            var n = y.xc(t),
              i = {};
            (i.args = e), (i.guid = n), y.Pa("Bubble", i);
          }),
          (this.xc = function (e) {
            var t = DayPilot.guid();
            return (
              this.bubbles || (this.bubbles = []), (this.bubbles[t] = e), t
            );
          }),
          (this.eventMenuClickPostBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.command = t), this.Na("EventMenuClick", n, i);
          }),
          (this.eventMenuClickCallBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.command = t), this.Pa("EventMenuClick", i, n);
          }),
          (this.yc = function (e, t, n) {
            switch (n) {
              case "PostBack":
                y.eventMenuClickPostBack(t, e);
                break;
              case "CallBack":
                y.eventMenuClickCallBack(t, e);
            }
          }),
          (this.timeRangeMenuClickPostBack = function (e, t, n) {
            var i = {};
            (i.selection = e),
              (i.command = t),
              this.Na("TimeRangeMenuClick", n, i);
          }),
          (this.timeRangeMenuClickCallBack = function (e, t, n) {
            var i = {};
            (i.selection = e),
              (i.command = t),
              this.Pa("TimeRangeMenuClick", i, n);
          }),
          (this.zc = function (e, t, n) {
            switch (n) {
              case "PostBack":
                y.timeRangeMenuClickPostBack(t, e);
                break;
              case "CallBack":
                y.timeRangeMenuClickCallBack(t, e);
            }
          }),
          (this.timeRangeSelectedPostBack = function (e, t, n, i) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = n),
              this.Na("TimeRangeSelected", i, a);
          }),
          (this.timeRangeSelectedCallBack = function (e, t, n, i) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = n),
              this.Pa("TimeRangeSelected", a, i);
          }),
          (this.Ac = function (e, t, n) {
            (e = new DayPilot.Date(e)), (t = new DayPilot.Date(t));
            var i = n;
            if (y.Kb()) {
              var a = {};
              if (
                ((a.start = e),
                (a.end = t),
                (a.resource = i),
                (a.control = y),
                (a.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                (a.toJSON = function () {
                  return l(a, {}, ["start", "end", "resource"]);
                }),
                "function" == typeof y.onTimeRangeSelect &&
                  (y.onTimeRangeSelect(a), a.preventDefault.value))
              )
                return;
              switch (y.timeRangeSelectedHandling) {
                case "PostBack":
                  y.timeRangeSelectedPostBack(e, t, i);
                  break;
                case "CallBack":
                  y.timeRangeSelectedCallBack(e, t, i);
              }
              "function" == typeof y.onTimeRangeSelected &&
                y.onTimeRangeSelected(a);
            } else
              switch (y.timeRangeSelectedHandling) {
                case "PostBack":
                  y.timeRangeSelectedPostBack(e, t, n);
                  break;
                case "CallBack":
                  y.timeRangeSelectedCallBack(e, t, n);
                  break;
                case "JavaScript":
                  y.onTimeRangeSelected(e, t, n);
              }
          }),
          (this.timeRangeDoubleClickPostBack = function (e, t, n, i) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = n),
              this.Na("TimeRangeDoubleClick", i, a);
          }),
          (this.timeRangeDoubleClickCallBack = function (e, t, n, i) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = n),
              this.Pa("TimeRangeDoubleClick", a, i);
          }),
          (this.Bc = function (e, t, n) {
            if (y.Kb()) {
              var i = n,
                a = {};
              if (
                ((a.start = e),
                (a.end = t),
                (a.resource = i),
                (a.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof y.onTimeRangeDoubleClick &&
                  (y.onTimeRangeDoubleClick(a), a.preventDefault.value))
              )
                return;
              switch (y.timeRangeDoubleClickHandling) {
                case "PostBack":
                  y.timeRangeDoubleClickPostBack(e, t, i);
                  break;
                case "CallBack":
                  y.timeRangeDoubleClickCallBack(e, t, i);
              }
              "function" == typeof y.onTimeRangeDoubleClicked &&
                y.onTimeRangeDoubleClicked(a);
            } else
              switch (y.timeRangeDoubleClickHandling) {
                case "PostBack":
                  y.timeRangeDoubleClickPostBack(e, t, n);
                  break;
                case "CallBack":
                  y.timeRangeDoubleClickCallBack(e, t, n);
                  break;
                case "JavaScript":
                  y.onTimeRangeDoubleClick(e, t, n);
              }
          }),
          (this.eventEditPostBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.newText = t), this.Na("EventEdit", n, i);
          }),
          (this.eventEditCallBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.newText = t), this.Pa("EventEdit", i, n);
          }),
          (this.Cc = function (e, t) {
            if (y.Kb()) {
              var n = {};
              if (
                ((n.control = y),
                (n.e = e),
                (n.newText = t),
                (n.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof y.onEventEdit &&
                  (y.onEventEdit(n), n.preventDefault.value))
              )
                return;
              switch (y.eventEditHandling) {
                case "PostBack":
                  y.eventEditPostBack(e, n.newText);
                  break;
                case "CallBack":
                  y.eventEditCallBack(e, n.newText);
                  break;
                case "Update":
                  e.text(n.newText), y.events.update(e);
              }
              if (
                "function" == typeof y.onEventEdited &&
                (y.onEventEdited(n), n.preventDefault.value)
              )
                return;
            } else
              switch (y.eventEditHandling) {
                case "PostBack":
                  y.eventEditPostBack(e, t);
                  break;
                case "CallBack":
                  y.eventEditCallBack(e, t);
                  break;
                case "JavaScript":
                  y.onEventEdit(e, t);
              }
          }),
          (this.eventSelectPostBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.change = t), this.Na("EventSelect", n, i);
          }),
          (this.eventSelectCallBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.change = t), this.Pa("EventSelect", i, n);
          }),
          (this.Dc = function (e, t, n, i) {
            var a = y.multiselect,
              r = a.isSelected(t);
            if (n || i || !r || 1 !== a.Ec.length)
              if (y.Kb()) {
                a.previous = a.events();
                var o = {};
                if (
                  ((o.e = t),
                  (o.selected = a.isSelected(t)),
                  (o.ctrl = n),
                  (o.meta = i),
                  (o.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  "function" == typeof y.onEventSelect &&
                    (y.onEventSelect(o), o.preventDefault.value))
                )
                  return;
                switch (y.eventSelectHandling) {
                  case "PostBack":
                    y.eventSelectPostBack(t, s);
                    break;
                  case "CallBack":
                    "undefined" != typeof WebForm_InitCallback &&
                      ((window.Fc = ""),
                      (window.Gc = []),
                      WebForm_InitCallback()),
                      y.eventSelectCallBack(t, s);
                    break;
                  case "Update":
                    a.Hc(e, n);
                }
                "function" == typeof y.onEventSelected &&
                  ((o.change = a.isSelected(t) ? "selected" : "deselected"),
                  (o.selected = a.isSelected(t)),
                  y.onEventSelected(o));
              } else {
                (a.previous = a.events()), a.Hc(e, n);
                var s = a.isSelected(t) ? "selected" : "deselected";
                switch (y.eventSelectHandling) {
                  case "PostBack":
                    y.eventSelectPostBack(t, s);
                    break;
                  case "CallBack":
                    "undefined" != typeof WebForm_InitCallback &&
                      ((window.Fc = ""),
                      (window.Gc = []),
                      WebForm_InitCallback()),
                      y.eventSelectCallBack(t, s);
                    break;
                  case "JavaScript":
                    y.onEventSelect(t, s);
                }
              }
          }),
          (this.commandCallBack = function (e, t) {
            this.Xa();
            var n = {};
            (n.command = e), this.Pa("Command", n, t);
          }),
          (this.Ic = function (e) {
            if (
              !x.active &&
              !x.using &&
              (clearTimeout(v.selectedTimeout), !h.selecting)
            ) {
              if (v.editing) return void v.editing.blur();
              if (y.za && "Disabled" !== y.timeRangeDoubleClickHandling)
                for (var t = 0; t < y.za.length; t++)
                  if (this === y.za[t]) return;
              if ("Disabled" !== y.timeRangeSelectedHandling) {
                if (DayPilot.Util.mouseButton(e).left) {
                  var n = y.Mb(y.coords.x, !0);
                  (v.Jc = y.coords),
                    (v.Jc.calendar = y),
                    y.clearSelection(),
                    (v.Aa = this),
                    (v.Ba = this),
                    (v.Kc = n),
                    y.za.push(this),
                    (v.Lc = this),
                    (h.selecting = { calendar: y }),
                    y.Mc();
                }
              }
            }
          }),
          (this.Mc = function () {
            this.getSelection() &&
              y.za &&
              !(function () {
                var e = v.Aa,
                  n = v.Ba,
                  i = (function () {
                    if (e.data) return e.data.x;
                    for (var t = e.parentNode.cells, n = 0; n < t.length; n++)
                      if (t[n] === e) return n;
                    return -1;
                  })(),
                  a = y.timeRangeSelectingStartEndFormat;
                "Auto" === a &&
                  (a = "Clock24Hours" === k.Nc() ? "H:mm" : "h:mm tt");
                var o = y.Nb[i];
                if (o) {
                  var s = v.Aa === v.Lc,
                    l = {};
                  (l.anchor = s ? e.start : n.end),
                    (l.start = e.start),
                    (l.end = n.end),
                    (l.duration = new DayPilot.Duration(l.start, l.end)),
                    (l.resource = o.id),
                    (l.allowed = !0),
                    (l.html = null),
                    (l.cssClass = null),
                    (l.top = {}),
                    (l.top.width = null),
                    (l.top.space = 5),
                    (l.top.html = l.start.toString(a, k.Oc())),
                    (l.top.enabled = y.timeRangeSelectingStartEndEnabled),
                    (l.bottom = {}),
                    (l.bottom.width = null),
                    (l.bottom.space = 5),
                    (l.bottom.html = l.end.toString(a, k.Oc())),
                    (l.bottom.enabled = y.timeRangeSelectingStartEndEnabled);
                  var d = h.selecting && h.selecting.args;
                  if (
                    !d ||
                    d.start !== l.start ||
                    d.end !== l.end ||
                    d.resource != l.resource
                  ) {
                    if (!y.allowEventOverlap) {
                      var c = {
                        id: null,
                        start: l.start,
                        end: l.end,
                        resource: l.resource,
                      };
                      y.events.Pc(c) && (l.allowed = !1);
                    }
                    y.Qc(l.start, l.end, l.resource) && (l.allowed = !1),
                      "function" == typeof y.onTimeRangeSelecting &&
                        l.allowed &&
                        y.onTimeRangeSelecting(l),
                      h.selecting && (h.selecting.args = l);
                    var u = y.Rc(l.start, o.start).boxTop - y.Sc(),
                      f = y.Rc(l.end, o.start).boxBottom - y.Sc(),
                      p = f - u,
                      m = (function () {
                        if (y.nav.activeSelection) return y.nav.activeSelection;
                        var e = t();
                        e.setAttribute("unselectable", "on"),
                          (e.style.zIndex = y.na),
                          (e.style.position = "absolute"),
                          (e.style.left = "0px"),
                          (e.style.width = "100%"),
                          (e.ondblclick = function (e) {
                            if ("Disabled" !== y.timeRangeDoubleClickHandling) {
                              clearTimeout(y.Tc);
                              var t = y.getSelection();
                              t && y.Bc(t.start, t.end, t.resource);
                            }
                          });
                        var n = t();
                        return (
                          n.setAttribute("unselectable", "on"),
                          (n.className = y.ca("_shadow_inner")),
                          e.appendChild(n),
                          y.nav.events.rows[0].cells[i].selection.appendChild(
                            e
                          ),
                          y.elements.selection.push(e),
                          (y.nav.activeSelection = e),
                          e
                        );
                      })();
                    (m.className = y.ca("_shadow")),
                      (m.firstChild.innerHTML = ""),
                      (m.style.top = u + "px"),
                      (m.style.height = p + "px");
                    var g = m.firstChild;
                    l.html && (g.innerHTML = l.html),
                      l.cssClass && r(m, l.cssClass),
                      l.allowed || r(m, y.ca("_shadow_forbidden")),
                      y.Uc(m, i, l);
                  }
                }
              })();
          }),
          (this.tc = function () {
            y.Vc(v.movingShadow), (v.movingShadow = null);
          }),
          (this.pc = function () {
            y.Vc(v.resizingShadow), (v.resizingShadow = null);
          }),
          (this.Vc = function (e) {
            f(e), f(y.nav.indicatorTop), f(y.nav.indicatorBottom);
          }),
          (this.Uc = function (e, n, i) {
            var a = y.nav.events.rows[0].cells,
              r = a[n].events,
              o = n === a.length - 1;
            if (
              (f(y.nav.indicatorTop), f(y.nav.indicatorBottom), i.top.enabled)
            ) {
              var s = t();
              (s.style.zIndex = y.na),
                (s.style.position = "absolute"),
                (s.style.top = e.offsetTop + "px"),
                o
                  ? (s.style.right = "0px")
                  : (s.style.left = e.offsetWidth + i.top.space + "px"),
                i.top.width
                  ? (s.style.width = i.top.width + "px")
                  : (s.style.whiteSpace = "nowrap"),
                i.top.html && (s.innerHTML = i.top.html),
                (s.className = y.ca("_shadow_top")),
                r.appendChild(s),
                y.elements.selection.push(s),
                (y.nav.indicatorTop = s);
            }
            if (i.bottom.enabled) {
              var l = t();
              (l.style.zIndex = y.na),
                (l.style.position = "absolute"),
                (l.style.top = e.offsetTop + e.offsetHeight + "px"),
                o
                  ? (l.style.right = "0px")
                  : (l.style.left = e.offsetWidth + i.bottom.space + "px"),
                i.bottom.width
                  ? (l.style.width = i.bottom.width + "px")
                  : (l.style.whiteSpace = "nowrap"),
                i.bottom.html && (l.innerHTML = i.bottom.html),
                (l.className = y.ca("_shadow_bottom")),
                r.appendChild(l);
              var d = l.offsetHeight;
              (l.style.top = e.offsetTop + e.offsetHeight - d + "px"),
                y.elements.selection.push(l),
                (y.nav.indicatorBottom = l);
            }
          }),
          (this.Wc = function (e) {
            "undefined" != typeof DayPilot.Bubble &&
              y.cellBubble &&
              y.cellBubble.hideOnMouseOut();
          }),
          (this.Xc = function (e) {
            if ("undefined" != typeof v && !x.active && !x.using) {
              if ("undefined" != typeof DayPilot.Bubble && y.cellBubble) {
                var t = {};
                (t.calendar = y),
                  (t.start = this.start),
                  (t.end = this.end),
                  (t.resource = this.resource),
                  (t.toJSON = function () {
                    var e = {};
                    return (
                      (e.start = this.start),
                      (e.end = this.end),
                      (e.resource = this.resource),
                      e
                    );
                  }),
                  y.cellBubble.showCell(t, this);
              }
              "undefined" != typeof w && w.s && w.Yc(t, e);
            }
          }),
          (this.getSelection = function () {
            if (!v.Aa) return null;
            if (!v.Ba) return null;
            var e = v.Aa.start,
              t = v.Ba.end,
              n = v.Aa.resource;
            return new DayPilot.Selection(e, t, n, y);
          }),
          (this.Zc = function (e) {}),
          (this.$c = function (e) {
            if ("Fixed" === y.columnWidthSpec || y.oa) {
              if (!y.nav.bottomLeft) return;
              (y.nav.bottomLeft.scrollTop = y.nav.bottomRight.scrollTop),
                y.nav.upperRight &&
                  (y.nav.upperRight.scrollLeft = y.nav.bottomRight.scrollLeft),
                (y.nav.scrollLayer.scrollLeft = y.nav.bottomRight.scrollLeft);
            }
            var t = y.Ea();
            (y.scrollPos = t.scrollTop),
              (y._c = t.clientHeight),
              (y.nav.scrollpos.value = y.scrollPos),
              y.Ib(),
              y.Ja(),
              "Progressive" === y.dynamicEventRendering &&
                (clearTimeout(y.ad),
                0 === y.scrollDelayEvents
                  ? y.bd()
                  : (y.ad = setTimeout(function () {
                      y.bd();
                    }, y.scrollDelayEvents))),
              "Fixed" === y.columnWidthSpec &&
                (clearTimeout(y.cd),
                0 === y.scrollDelayCells
                  ? y.dd()
                  : (y.cd = setTimeout(function () {
                      y.dd();
                    }, y.scrollDelayCells)));
          }),
          (this.Ib = function () {
            if (this.scrollLabelsVisible && this.ed) {
              if (
                this.nav &&
                this.nav.main &&
                this.nav.main.rows &&
                this.nav.main.rows.length > 0 &&
                this.nav.main.rows[0].cells.length > 0
              ) {
                for (
                  var e = (this.Nb, this.showHours ? this.hourWidth : 0),
                    t = this.nav.main.rows[0].cells[0].clientWidth,
                    n = 1,
                    i = 0;
                  i < this.nav.scrollUp.length;
                  i++
                ) {
                  var a = this.nav.scrollUp[i],
                    r = this.nav.scrollDown[i],
                    o = Math.floor(e + i * t + t / 2 - 5 + n);
                  o < 0 && (o = 0),
                    (o -= y.nav.bottomRight.scrollLeft),
                    a && a.style && (a.style.left = o + "px"),
                    r && r.style && (r.style.left = o + "px");
                }
                for (
                  var s = this.Sc(), i = 0;
                  i < this.nav.scrollUp.length;
                  i++
                ) {
                  var l = this.nav.scrollUp[i],
                    d = this.nav.scrollDown[i],
                    c = this.ed[i].minEnd - s,
                    u = this.ed[i].maxStart - s;
                  l &&
                    d &&
                    (c <= y.scrollPos && parseInt(l.style.left) >= y.hourWidth
                      ? ((l.style.top = this.Ub() + "px"),
                        (l.style.display = ""))
                      : (l.style.display = "none"),
                    u >= y.scrollPos + y._c &&
                    parseInt(d.style.left) >= y.hourWidth
                      ? ((d.style.top = this.Ub() + this._c - 10 + "px"),
                        (d.style.display = ""))
                      : (d.style.display = "none"));
                }
              }
            }
          }),
          (this.fd = function (e) {
            var t = e.parentNode,
              n = 0,
              i = e.offsetTop,
              a = e.parentNode.offsetWidth,
              r = e.offsetHeight;
            e.event.allday() && ((n = e.offsetLeft), (a = e.offsetWidth));
            var o = document.createElement("textarea");
            (o.style.boxSizing = "border-box"),
              (o.style.position = "absolute"),
              (o.style.width = a + "px"),
              (o.style.height = r + "px");
            var s = DayPilot.gs(e, "fontFamily");
            s || (s = DayPilot.gs(e, "font-family")), (o.style.fontFamily = s);
            var l = DayPilot.gs(e, "fontSize");
            return (
              l || (l = DayPilot.gs(e, "font-size")),
              (o.style.fontSize = l),
              (o.style.left = n + "px"),
              (o.style.top = i + "px"),
              (o.style.border = "1px solid black"),
              (o.style.padding = "0px"),
              (o.style.marginTop = "0px"),
              (o.style.backgroundColor = "white"),
              (o.value = (e.event.text() || "").trim()),
              (o.event = e.event),
              t.appendChild(o),
              o
            );
          }),
          (this.$b = function (e, t, n, i) {
            y.Dc(e, t, n, i);
          }),
          (this.zoom = {}),
          (this.zoom.active = -1),
          (this.zoom.setActive = function (e) {
            var t;
            if ("number" == typeof e) t = y.zoomLevels[e];
            else {
              if ("string" != typeof e)
                throw new DayPilot.Exception(
                  "Unexpected parameter type (string or number required): " +
                    typeof e
                );
              var n = y.zoom.gd(e);
              t = y.zoomLevels[n];
            }
            if (!t)
              throw new DayPilot.Exception(
                "Zoom level not found: " + e + " (" + typeof e + ")"
              );
            if (e !== y.zoom.active) {
              var i = y.zoom.hd();
              y.zoom.jd(e), y.va && y.update(), i && y.scrollToHour(i);
            }
          }),
          (this.zoom.gd = function (e) {
            return u(y.zoomLevels).findIndex(function (t) {
              return t.id === e;
            });
          }),
          (this.zoom.hd = function () {
            var e = y.Da();
            if (!e) return null;
            var t = e.pixels.top;
            return y.kd(t);
          }),
          (this.zoom.jd = function (e) {
            var t = y.zoomLevels.length - 1;
            e > t && (e = t), e < 0 && (e = 0), (y.zoom.active = e);
            var n = y.zoomLevels[e],
              i = {};
            return (
              (i.level = n),
              DayPilot.Util.ownPropsAsArray(n.properties).forEach(function (e) {
                if (0 !== e.key.indexOf("on"))
                  return "function" == typeof e.val
                    ? void (y[e.key] = e.val(i))
                    : void (y[e.key] = e.val);
              }),
              i
            );
          }),
          (this.multiselect = {}),
          (this.multiselect.pb = []),
          (this.multiselect.Ec = []),
          (this.multiselect.ld = []),
          (this.multiselect.md = []),
          (this.multiselect.nd = function () {
            var e = y.multiselect;
            return JSON.stringify(e.events());
          }),
          (this.multiselect.events = function () {
            var e = y.multiselect,
              t = [];
            t.ignoreToJSON = !0;
            for (var n = 0; n < e.Ec.length; n++) t.push(e.Ec[n]);
            return t;
          }),
          (this.multiselect.od = function () {
            y.nav.select.value = y.multiselect.nd();
          }),
          (this.multiselect.Hc = function (e, t) {
            var n = y.multiselect;
            if (n.isSelected(e.event))
              if (y.allowMultiSelect)
                if (t) n.remove(e.event, !0);
                else {
                  var i = n.Ec.length;
                  n.clear(!0), i > 1 && n.add(e.event, !0);
                }
              else n.clear(!0);
            else
              y.allowMultiSelect && t
                ? n.add(e.event, !0)
                : (n.clear(!0), n.add(e.event, !0));
            n.redraw(), n.od();
          }),
          (this.multiselect.pd = function (e) {
            var t = y.multiselect;
            return t.qd(e, t.pb);
          }),
          (this.multiselect.rd = function () {
            for (var e = y.multiselect, t = [], n = 0; n < e.Ec.length; n++) {
              var i = e.Ec[n];
              t.push(i.value());
            }
            alert(t.join("\n"));
          }),
          (this.multiselect.add = function (e, t) {
            var n = y.multiselect;
            n.sd(e) === -1 && n.Ec.push(e), n.od(), t || n.redraw();
          }),
          (this.multiselect.remove = function (e, t) {
            var n = y.multiselect,
              i = n.sd(e);
            i !== -1 && n.Ec.splice(i, 1), n.od(), t || n.redraw();
          }),
          (this.multiselect.clear = function (e) {
            var t = y.multiselect;
            (t.Ec = []), t.od(), e || t.redraw();
          }),
          (this.multiselect.redraw = function () {
            for (
              var e = y.multiselect, t = 0;
              t < y.elements.events.length;
              t++
            ) {
              var n = y.elements.events[t];
              e.isSelected(n.event) ? e.td(n) : e.ud(n);
            }
          }),
          (this.multiselect.td = function (e) {
            var t = y.multiselect,
              n = y.ca("_selected");
            r(t.vd(e), n), t.ld.push(e);
          }),
          (this.multiselect.vd = function (e) {
            return e;
          }),
          (this.multiselect.xd = function () {
            for (var e = y.multiselect, t = 0; t < e.ld.length; t++) {
              var n = e.ld[t];
              e.ud(n, !0);
            }
            e.ld = [];
          }),
          (this.multiselect.ud = function (e, t) {
            var n = y.multiselect,
              i = y.ca("_selected");
            if ((o(n.vd(e), i), !t)) {
              var a = DayPilot.indexOf(n.ld, e);
              a !== -1 && n.ld.splice(a, 1);
            }
          }),
          (this.multiselect.isSelected = function (e) {
            return y.multiselect.qd(e, y.multiselect.Ec);
          }),
          (this.multiselect.sd = function (e) {
            for (var t = e.data, n = 0; n < y.multiselect.Ec.length; n++) {
              var i = y.multiselect.Ec[n];
              if (y.yd(i.data, t)) return n;
            }
            return -1;
          }),
          (this.multiselect.qd = function (e, t) {
            if (!t) return !1;
            for (var n = 0; n < t.length; n++) {
              var i = t[n];
              if (y.yd(e, i)) return !0;
            }
            return !1;
          }),
          (this.Zb = function (e) {
            if (v.editing) return void v.editing.blur();
            var t = this.fd(e);
            (v.editing = t),
              a(t, DayPilot.touch.start, function (e) {
                e.stopPropagation();
              }),
              (t.onblur = function () {
                if (e.event) {
                  var n = e.event.text(),
                    i = t.value;
                  (v.editing = null),
                    (t.onblur = null),
                    f(t),
                    n !== i && ((e.style.display = "none"), y.Cc(e.event, i));
                }
              }),
              (t.onkeypress = function (e) {
                if (13 === (window.event ? event.keyCode : e.keyCode))
                  return this.onblur(), e.preventDefault(), !1;
              }),
              (t.onkeyup = function (e) {
                return (
                  27 === (window.event ? event.keyCode : e.keyCode) &&
                    ((t.onblur = null),
                    t.parentNode && t.parentNode.removeChild(t),
                    (v.editing = !1)),
                  !0
                );
              }),
              t.select(),
              t.focus();
          }),
          (this.zd = function () {
            return "Resources" !== y.viewType && (!y.qb() || !y.ia());
          }),
          (this.qb = function () {
            return DayPilot.isArray(y.columns) ? y.columns : y.columns.list;
          }),
          (this.columns = {}),
          (this.columns.list = []),
          (this.columns.Ad = !1),
          (this.columns.filter = function (e) {
            (y.Bd.params = e), y.va && y.Cd();
          }),
          (this.columns.find = function (e, t) {
            var n = "Resources" === y.viewType;
            e = new DayPilot.Date(e);
            var i = y.Nb.find(function (i) {
              var a = !n || i.id === t,
                r = i.start.addDays(1);
              return !!(a && i.start <= e && e < r);
            });
            return i ? y.cc(i, y) : null;
          }),
          (this.columns.load = function (e, t, n) {
            if (!e)
              throw new DayPilot.Exception(
                "columns.load(): 'url' parameter required"
              );
            var i = function (e) {
                var t = {};
                (t.exception = e.exception),
                  (t.request = e.request),
                  "function" == typeof n && n(t);
              },
              a = function (e) {
                var n,
                  a = e.request;
                try {
                  n = JSON.parse(a.responseText);
                } catch (e) {
                  var r = {};
                  return (r.exception = e), void i(r);
                }
                if (DayPilot.isArray(n)) {
                  var o = {};
                  if (
                    ((o.preventDefault = function () {
                      this.preventDefault.value = !0;
                    }),
                    (o.data = n),
                    "function" == typeof t && t(o),
                    o.preventDefault.value)
                  )
                    return;
                  (y.columns.list = n), y.va && y.update();
                }
              };
            y.columnsLoadMethod && "POST" === y.columnsLoadMethod.toUpperCase()
              ? DayPilot.ajax({ method: "POST", url: e, success: a, error: i })
              : DayPilot.ajax({ method: "GET", url: e, success: a, error: i });
          }),
          (this.rb = function () {
            var e = y.zd();
            if (((y.Dd = 0), e)) {
              var t = this.Ed();
              this.Nb = this.Fd(t);
            } else
              (this.kb = this.Fd(this.qb() || [])),
                (this.Nb = this.Gd(k.Hd(), !0));
          }),
          (this.Id = function () {
            return y.Nb.find(function (e) {
              return "number" == typeof e.width;
            });
          }),
          (this.Jd = function () {
            var e = this.startDate.getDatePart(),
              t = this.days;
            switch (this.viewType) {
              case "Day":
                t = 1;
                break;
              case "Week":
                (t = 7), (e = e.firstDayOfWeek(k.Kd()));
                break;
              case "WorkWeek":
                for (t = 5, e = e.firstDayOfWeek(k.Kd()); 1 !== e.dayOfWeek(); )
                  e = e.addDays(1);
            }
            var n = e.addDays(t),
              i = {};
            return (i.start = e), (i.end = n), (i.days = t), i;
          }),
          (this.Ed = function () {
            for (
              var e = [], t = this.Jd(), n = t.start, i = t.days, a = 0;
              a < i;
              a++
            ) {
              var r = {};
              r.start = n.addDays(a);
              var o = k.Oc().datePattern;
              y.headerDateFormat && (o = y.headerDateFormat),
                (r.name = r.start.toString(o, k.Oc())),
                (r.html = r.name),
                e.push(r);
            }
            return e;
          }),
          (this.Bd = {}),
          (this.Dd = 0),
          (this.Ld = function () {
            if (!y.zd()) {
              "function" == typeof y.onColumnFilter &&
                (y.tb(null, { preLoadOnly: !0 }),
                this.Md(y.Nb),
                (this.Nb = this.Gd(k.Hd(), !0)));
              y.Id() && y.Nd();
            }
          }),
          (this.Md = function (e) {
            e &&
              e.forEach(function (e) {
                y.Od(e);
              });
          }),
          (this.Od = function (e) {
            var t = e.data,
              n = !t.children || 0 === t.children.length;
            if ("function" == typeof y.onColumnFilter && y.Bd.params)
              if (n) {
                var i = e.parent,
                  a = {};
                (a.visible = !0),
                  (a.column = y.cc(e, y)),
                  (a.filter = y.Bd.params),
                  (a.filterParam = a.filter),
                  y.onColumnFilter(a),
                  a.visible ? i && i.Pd() : (e.hidden = !0);
              } else e.hidden = !0;
            y.Md(e.children);
          }),
          (this.Qd = function (e, t) {
            var n = {};
            (n.id = e.id),
              (n.start = new DayPilot.Date(
                e.start || y.startDate
              ).getDatePart()),
              (n.name = e.name),
              (n.html = e.html || e.name),
              (n.toolTip = e.toolTip),
              (n.backColor = e.backColor),
              (n.areas = e.areas),
              (n.level = t ? t.level + 1 : 0),
              (n.parent = t),
              (n.data = e),
              (n.width = e.width);
            !e.children || 0 === e.children.length;
            return (
              (y.Dd = Math.max(y.Dd, n.level)),
              (n.Pd = function () {
                (n.hidden = !1), n.parent && n.parent.Pd();
              }),
              (n.Rd = function (e, t) {
                var n = [];
                if (e <= 1) return this.hidden || n.push(this), n;
                if (!this.children || 0 === this.children.length)
                  return t ? this.hidden || n.push(this) : n.push("empty"), n;
                for (var i = 0; i < this.children.length; i++)
                  for (
                    var a = this.children[i], r = a.Rd(e - 1, t), o = 0;
                    o < r.length;
                    o++
                  )
                    n.push(r[o]);
                return n;
              }),
              (n.Sd = function (e) {
                var t = 0;
                if (!this.children || this.children.length <= 0 || e <= 1) {
                  return !this.hidden ? 1 : 0;
                }
                for (var n = 0; n < this.children.length; n++)
                  t += this.children[n].Sd(e - 1);
                return t;
              }),
              (n.Td = function (e) {
                for (var t = 0; t < this.blocks.length; t++) {
                  var n = this.blocks[t];
                  if (n.Ud(e.part.top, e.part.height))
                    return (
                      n.events.push(e),
                      (n.min = Math.min(n.min, e.part.top)),
                      (n.max = Math.max(n.max, e.part.top + e.part.height)),
                      t
                    );
                }
                var n = [];
                return (
                  (n.lines = []),
                  (n.events = []),
                  (n.Ud = function (e, t) {
                    return !(e + t - 1 < this.min || e > this.max - 1);
                  }),
                  (n.Vd = function (e) {
                    for (var t = 0; t < this.lines.length; t++) {
                      var n = this.lines[t];
                      if (n.Wd(e.part.top, e.part.height)) return n.push(e), t;
                    }
                    var n = [];
                    return (
                      (n.Wd = function (e, t) {
                        for (
                          var n = e + t - 1, i = this.length, a = 0;
                          a < i;
                          a++
                        ) {
                          var r = this[a];
                          if (
                            !(
                              n < r.part.top ||
                              e > r.part.top + r.part.height - 1
                            )
                          )
                            return !1;
                        }
                        return !0;
                      }),
                      n.push(e),
                      this.lines.push(n),
                      this.lines.length - 1
                    );
                  }),
                  n.events.push(e),
                  (n.min = e.part.top),
                  (n.max = e.part.top + e.part.height),
                  this.blocks.push(n),
                  this.blocks.length - 1
                );
              }),
              (n.Vd = function (e) {
                for (var t = 0; t < this.lines.length; t++) {
                  var n = this.lines[t];
                  if (n.Wd(e.part.top, e.part.height)) return n.push(e), t;
                }
                var n = [];
                return (
                  (n.Wd = function (e, t) {
                    for (
                      var n = e + t - 1, i = this.length, a = 0;
                      a < i;
                      a++
                    ) {
                      var r = this[a];
                      if (
                        !(n < r.part.top || e > r.part.top + r.part.height - 1)
                      )
                        return !1;
                    }
                    return !0;
                  }),
                  n.push(e),
                  this.lines.push(n),
                  this.lines.length - 1
                );
              }),
              (n.Tb = function () {
                return n.start.addHours(y.Tb(!0));
              }),
              (n.Xd = function () {
                var e = y.Pb(!0);
                return n.Tb().addTime(e);
              }),
              e.children && (n.children = this.Fd(e.children, n)),
              n
            );
          }),
          (this.Fd = function (e, t) {
            var n = u();
            return (
              u(e).forEach(function (e) {
                var i = y.Qd(e, t);
                n.push(i);
              }),
              n
            );
          }),
          (this.Gd = function (e, t) {
            for (
              var n = this.zd() ? this.Nb : this.kb, i = u(), a = 0;
              a < n.length;
              a++
            )
              for (var r = n[a].Rd(e, t), o = 0; o < r.length; o++)
                i.push(r[o]);
            return i;
          }),
          (this.selectTimeRange = function (e, t, n, i) {
            if (e && t) {
              (e = new DayPilot.Date(e)), (t = new DayPilot.Date(t));
              var a = y.Yd(e, n, !0),
                r = y.Yd(t, n);
              a &&
                r &&
                a.data.x === r.data.x &&
                ((v.Aa = a),
                (v.Lc = a),
                (v.Ba = r),
                (y.za = v.Zd(r)),
                (v.Kc = a.data.x),
                y.Mc(),
                i ||
                  setTimeout(function () {
                    y.Ac(e, t, n);
                  }, 0));
            }
          }),
          (y.Yd = function (e, t, n) {
            var i = y.Nb,
              a = y.nav.main,
              r = "Resources" === y.viewType,
              o = i.find(function (n) {
                var i = !r || n.id === t,
                  a = n.Tb() <= e && e < n.Xd();
                return i && a;
              });
            if (o) {
              var s = i.indexOf(o),
                l = (function () {
                  for (var t = 0; t < y.Ha(); t++) {
                    var i = a.rows[t].cells[s];
                    if (i) {
                      var r = i.data,
                        o = r.start <= e && e <= r.end;
                      if ((n && (o = r.start <= e && e < r.end), o)) return i;
                    }
                  }
                  return null;
                })();
              return l ? l : void 0;
            }
          }),
          (this.$d = {});
        var b = this.$d;
        (b._d = function (e) {
          var i = e.div.firstChild,
            a = t(),
            r = a.style;
          (r.position = "absolute"),
            (r.left = "2px"),
            (r.top = "2px"),
            (r.bottom = "2px"),
            (r.width = "15px"),
            (r.opacity = "0.5"),
            (r.cursor = "move"),
            (r.display = "none"),
            (a.className = y.ca("_colmove_handle")),
            n(i, "mouseenter", function (e) {
              b.s || w.s || (r.display = "");
            }),
            n(i, "mouseleave", function (e) {
              r.display = "none";
            }),
            (a.onmousedown = function (t) {
              b.ae(t, e);
            }),
            i.$ || (i.$ = {}),
            (i.$.be = function () {
              r.display = "none";
            }),
            (i.$.ce = function () {
              r.display = "";
            }),
            i.appendChild(a);
        }),
          (b.ae = function (e, t) {
            var n = y.nav.header,
              i = {};
            (i.ee = t), (i.fe = n.style.cursor);
            var a = t.div;
            (b.s = i),
              (h.colMoving = b),
              a.$ && a.$.ge && a.$.ge(),
              r(a, y.ca("_colmove_source")),
              (n.style.cursor = "move");
          }),
          (b.je = function (e) {
            var t = [],
              n = e.parent;
            return n && (t.push(n.data), (t = t.concat(b.je(n)))), t;
          }),
          (b.ke = function () {
            function e() {
              o(b.s.ee.div, y.ca("_colmove_source")),
                t && (t.style.cursor = n.fe),
                a && a.remove(),
                (b.s = null);
            }
            if (!b.s.target) return void e();
            var t = y.nav.header,
              n = b.s,
              i = n.position,
              a = n.div,
              r = b.s.ee.column,
              s = r.data,
              l = r.parent,
              d = n.target,
              c = d.data,
              u = d.parent,
              h = u ? u.data.children : y.qb(),
              f = l ? l.data.children : y.qb();
            if (b.je(d).includes(s)) return void e();
            if (c === s) return void e();
            if ("forbidden" === i) return void e();
            var v = {};
            if (
              ((v.source = y.cc(r)),
              (v.target = y.cc(d)),
              (v.position = i),
              (v.preventDefault = function () {
                v.preventDefault.value = !0;
              }),
              "function" == typeof y.onColumnMove &&
                (y.onColumnMove(v), v.preventDefault.value))
            )
              return void e();
            if (k.le("Update")) {
              DayPilot.rfa(f, s);
              var p = h.indexOf(c);
              if ("child" === i) {
                var m = c.children || [];
                m.push(s), (c.children = m);
              } else
                "before" === i
                  ? h.splice(p, 0, s)
                  : "after" === i && h.splice(p + 1, 0, s);
              y.Cd();
            }
            "function" == typeof y.onColumnMoved && y.onColumnMoved(v), e();
          }),
          (b.fc = function (e, n) {
            var i,
              a = 12,
              r = 12,
              o = n.data,
              s = y.columnMoveSameLevelOnly,
              l = b.s.div,
              d = b.s.ee.column;
            l
              ? (i = l.style)
              : ((l = t()),
                (i = l.style),
                (i.position = "absolute"),
                (i.width = "12px"),
                (i.height = "12px"),
                (i.top = "0px"),
                (b.s.div = l));
            var c = n.getBoundingClientRect(),
              u = c.width,
              h = c.height,
              f = DayPilot.mo3(n, e),
              v = o.children || [],
              p = v.length,
              m = 0 === p ? 0.25 : 0.5,
              g = null,
              w = b.je(n.data);
            l.className = "";
            var x = !1;
            d === o && (x = !0),
              s && (m = 0.5),
              w.includes(d.data)
                ? (g = "forbidden")
                : x
                ? (g = "forbidden")
                : f.x < u * m
                ? (g = "before")
                : f.x > u * (1 - m)
                ? (g = "after")
                : 0 == p && (g = "child"),
              s && d.level !== o.level && (g = "forbidden");
            var k = {};
            (k.position = g),
              (k.source = y.cc(d)),
              (k.target = y.cc(n.data)),
              "function" == typeof y.onColumnMoving && y.onColumnMoving(k),
              (g = k.position),
              "forbidden" === g
                ? ((i.left = 0.5 * u - 6 + "px"),
                  (i.top = h / 2 - 2 + "px"),
                  (l.className = y.ca("_colmove_position_forbidden")))
                : "before" === g
                ? ((i.left = "0px"),
                  (i.top = 0.5 * h - 6 + "px"),
                  (l.className = y.ca("_colmove_position_before")))
                : "after" === g
                ? ((i.left = u - a - 1 + "px"),
                  (i.top = 0.5 * h - 6 + "px"),
                  (l.className = y.ca("_colmove_position_after")))
                : "child" === g &&
                  ((i.left = 0.5 * u - 6 + "px"),
                  (i.top = h - r - 1 + "px"),
                  (l.className = y.ca("_colmove_position_child"))),
              l.parentNode !== n && (l.remove(), n.appendChild(l)),
              (b.s.target = o),
              (b.s.position = g);
          }),
          (this.me = {});
        var w = this.me;
        (w.ne = function (e) {
          var i = e.div.firstChild,
            a = t(),
            r = a.style;
          (r.position = "absolute"),
            (r.right = "0px"),
            (r.top = "0px"),
            (r.bottom = "0px"),
            (r.width = "4px"),
            (r.cursor = "e-resize"),
            (r.display = "none"),
            (a.className = y.ca("_colheader_splitter")),
            n(i, "mouseenter", function (e) {
              b.s || w.s || (r.display = "");
            }),
            n(i, "mouseleave", function (e) {
              w.s || (r.display = "none");
            }),
            (a.onmousedown = function (t) {
              w.oe(t, e);
            }),
            i.$ || (i.$ = {}),
            (i.$.ge = function () {
              r.display = "none";
            }),
            i.appendChild(a);
        }),
          (w.oe = function (e, t) {
            var n = DayPilot.mo3(y.nav.header, e),
              i = t.column,
              a = t.div.firstChild,
              r = {};
            if (
              ((r.pe = n.x),
              (r.ee = t),
              (r.qe = t.x),
              (r.se = t.column),
              a.$ && a.$.be && a.$.be(),
              t.y !== k.Hd() - 1)
            ) {
              var o = i.Rd(k.Hd() - t.y, !0),
                s = o[o.length - 1];
              s && (r.qe = y.Nb.indexOf(s));
            }
            (w.s = r), (h.colResizing = w);
          }),
          (w.Yc = function (e, t) {
            function n() {
              for (var e = 0, t = h + 1; t < a.length; t++)
                e += a[t].width || D;
              return e;
            }
            function i() {
              for (var e = n(), t = 0, i = h + 1; i < a.length; i++) {
                var r = a[i],
                  o = r.width || D,
                  s = o / e;
                (r.width = o - g * s),
                  r.width < 1 && ((t += 1 - r.width), (r.width = 1));
              }
              (x -= t), (b += t), (f = b * p);
            }
            var a = y.Nb,
              r = DayPilot.mo3(y.nav.header, t),
              o = w.s.se,
              s = r.x - w.s.pe,
              l = w.s.ee.y,
              d = l !== k.Hd() - 1,
              c = "Fixed" === y.columnWidthSpec,
              u = y.columnWidthMin,
              h = w.s.qe,
              f = 0,
              v = y.nav.main.clientWidth,
              p = v / 100,
              m = u / p,
              g = s / p,
              b = 0,
              x = 0;
            if (d) {
              var C = o.Rd(k.Hd() - l, !0),
                D = c ? y.columnWidth : 100 / a.length,
                S = C.reduce(function (e, t) {
                  return e + (t.width || D);
                }, 0),
                _ = c ? S + s : S + g,
                E = _ / S,
                T = 0;
              if (
                (C.forEach(function (e, t) {
                  var n = t === C.length - 1,
                    i = e.width || D,
                    a = i * E,
                    r = Math.round(a);
                  c && ((T += a - r), (a = r)),
                    a < u && ((f += a - u), (a = u)),
                    (e.width = a),
                    n && (e.width += T);
                }),
                !c)
              ) {
                i();
                var A = x,
                  H = C.reduce(function (e, t) {
                    return e + t.width || D;
                  }, 0);
                C.forEach(function (e) {
                  var t = e.width || D,
                    n = t / H;
                  e.width = t + A * n;
                });
              }
            } else {
              var M = y.Ga()[h].width,
                o = a[h];
              c
                ? ((x = M + s), x < u && ((f = x - u), (x = u)))
                : ((x = o.width + g),
                  x < m && ((b = x - m), (g = m - o.width), (x = m)),
                  (x = Math.max(x, 1)),
                  i()),
                (o.width = x);
            }
            (w.s.pe = r.x - f), y.Nd(), y.Ja(), w.te();
          }),
          (w.ve = function () {
            var e = y.Nb,
              t = w.s.ee.div.firstChild,
              n = w.s.se;
            t.$ && t.$.ce && t.$.ce(), (w.s = null);
            var i = {};
            return (
              (i.column = y.cc(n)),
              (i.newWidth = n.width),
              (i.preventDefault = function () {
                i.preventDefault.value = !0;
              }),
              "function" == typeof y.onColumnResize && y.onColumnResize(i),
              i.preventDefault.value
                ? void y.update()
                : (k.we("Update") &&
                    e.forEach(function (e) {
                      e.data.width = e.width;
                    }),
                  void (
                    "function" == typeof y.onColumnResized &&
                    y.onColumnResized(i)
                  ))
            );
          }),
          (w.te = function () {
            var e = y.Ga(),
              t = "Fixed" === y.columnWidthSpec,
              n = y.nav.header,
              i = y.nav.main,
              a = y.nav.events,
              r = y.nav.unifiedCornerRight;
            n.rows.forEach(function (e, t) {
              if (t !== k.Hd() - 1) {
                var n = y.xe(t);
                e.cells.forEach(function (e, t) {
                  var i = n[t];
                  (e.style.left = i.left + i.unit),
                    (e.style.width = i.width + i.unit);
                });
              }
            });
            for (var o = k.Hd() - 1, s = 0; s < y.Nb.length; s++) {
              var l = e[s],
                d = n.rows[o].cells[s];
              (d.style.left = l.left + l.unit),
                (d.style.width = l.width + l.unit),
                t && (d.firstChild.style.width = l.width + l.unit);
            }
            if (
              (i.rows.forEach(function (n) {
                n.cells.forEach(function (n, i) {
                  var a = e[i].width + e[i].unit,
                    r = e[i].left + e[i].unit;
                  n.style.width !== a &&
                    ((n.style.width = a), t && (n.firstChild.style.width = a)),
                    n.style.left !== r && (n.style.left = r);
                });
              }),
              a.rows[0].cells.forEach(function (n, i) {
                var a = e[i].width + e[i].unit,
                  r = e[i].left + e[i].unit;
                n.style.width !== a &&
                  ((n.style.width = a), t && (n.firstChild.style.width = a)),
                  n.style.left !== r && (n.style.left = r);
              }),
              t)
            ) {
              var c = e[e.length - 1],
                u = c.left + c.width;
              (r.style.left = u + "px"), (i.style.width = u + "px");
            }
          }),
          (this.Nd = function () {
            if ("Fixed" !== y.columnWidthSpec) {
              var e = y.Nb,
                t = 100 / e.length,
                n = e.reduce(function (e, n) {
                  return e + (n.width || t);
                }, 0),
                i = n / 100;
              e.forEach(function (n, a) {
                var r = (e.length - 1, n.width || t);
                n.width = r / i;
              });
            }
          }),
          (this.Gb = function () {
            if (this.showAllDayEvents) {
              var e = this.nav.header;
              if (e) {
                e.style.display = "none";
                for (
                  var n = this.Nb.length, i = 0;
                  i < this.ye.lines.length;
                  i++
                )
                  for (var s = this.ye.lines[i], l = 0; l < s.length; l++) {
                    var c = s[l],
                      u = c.cache || c.data,
                      h = t();
                    (h.style.position = "absolute"),
                      y.rtl
                        ? (h.style.right = (100 * c.part.colStart) / n + "%")
                        : (h.style.left = (100 * c.part.colStart) / n + "%"),
                      (h.style.width = (100 * c.part.colWidth) / n + "%"),
                      (h.style.height = k.ze() + "px"),
                      (h.style.top = k.Hd() * k.Ae() + i * k.ze() + "px");
                    var f = t();
                    (f.event = c),
                      f.setAttribute("unselectable", "on"),
                      (f.style.position = "absolute"),
                      (f.style.inset = "2px"),
                      (f.className = this.ca("_alldayevent")),
                      y.allDayEventTextWrappingEnabled ||
                        (f.style.whiteSpace = "nowrap"),
                      u.cssClass && r(f, u.cssClass),
                      (f.style.textAlign = "left"),
                      (f.style.lineHeight = "1.2"),
                      c.client.clickEnabled() && (f.onclick = this.Xb),
                      c.client.doubleClickEnabled() && (f.ondblclick = this._b),
                      c.client.clickEnabled() || c.client.doubleClickEnabled()
                        ? (f.style.cursor = "pointer")
                        : (f.style.cursor = "default"),
                      a(f, "contextmenu", this.bc),
                      (f.onmousemove = function (e) {
                        var t = this,
                          n = t.event,
                          i = n.cache || n.data;
                        if (!t.active) {
                          var a = [];
                          n.client.deleteEnabled() &&
                            a.push({
                              action: "JavaScript",
                              v: "Hover",
                              w: 17,
                              h: 17,
                              top: 3,
                              right: 3,
                              css: y.ca("_event_delete"),
                              js: function (e) {
                                y.hc(e);
                              },
                            });
                          var o = i.areas;
                          o && o.length > 0 && (a = a.concat(o)),
                            DayPilot.Areas.showAreas(t, n, null, a),
                            r(t, y.ca("_alldayevent_hover"));
                        }
                        "undefined" != typeof DayPilot.Bubble &&
                          y.bubble &&
                          "Disabled" !== y.eventHoverHandling &&
                          y.bubble.showEvent(this.event);
                      }),
                      (f.onmouseout = function (e) {
                        o(this, y.ca("_alldayevent_hover")),
                          DayPilot.Areas.hideAreas(this, e),
                          y.bubble && y.bubble.hideOnMouseOut();
                      }),
                      this.showToolTip &&
                        !this.bubble &&
                        f.setAttribute("title", c.client.toolTip());
                    var v = c.start().getTime() === c.part.start.getTime(),
                      p = c.end().getTime() === c.part.end.getTime(),
                      m = u.backColor,
                      g = t();
                    if (
                      (g.setAttribute("unselectable", "on"),
                      (g.className = this.ca("_alldayevent_inner")),
                      m && (g.style.background = m),
                      u.fontColor && (g.style.color = u.fontColor),
                      "darker" === u.borderColor && u.backColor
                        ? (g.style.borderColor = DayPilot.ColorUtil.darker(
                            u.backColor,
                            2
                          ))
                        : (g.style.borderColor = u.borderColor),
                      y.rtl
                        ? (v || r(f, this.ca("_alldayevent_continueright")),
                          p || r(f, this.ca("_alldayevent_continueleft")))
                        : (v || r(f, this.ca("_alldayevent_continueleft")),
                          p || r(f, this.ca("_alldayevent_continueright"))),
                      f.appendChild(g),
                      DayPilot.isArray(u.areas) &&
                        u.areas
                          .filter(function (e) {
                            return DayPilot.Areas.isVisible(e);
                          })
                          .forEach(function (e) {
                            var t = DayPilot.Areas.createArea(f, c, e);
                            f.appendChild(t);
                          }),
                      y.Kb())
                    ) {
                      if ("function" == typeof y.onAfterEventRender) {
                        var b = {};
                        (b.e = f.event), (b.div = f), y.onAfterEventRender(b);
                      }
                    } else y.afterEventRender && y.afterEventRender(f.event, f);
                    !(function () {
                      var e = {};
                      if (
                        ((e.control = y),
                        (e.e = c),
                        (e.element = null),
                        (f.domArgs = e),
                        "function" == typeof y.onBeforeEventDomAdd &&
                          y.onBeforeEventDomAdd(e),
                        e.element)
                      ) {
                        var t = g;
                        if (t) {
                          e.Be = t;
                          d(e.element)
                            ? (y.Y.Ce(), y.Y.X(e.element, t))
                            : t.appendChild(e.element);
                        }
                      } else g.innerHTML = c.client.innerHTML();
                    })(),
                      h.appendChild(f),
                      this.nav.allday.appendChild(h),
                      this.elements.events.push(f);
                  }
                e.style.display = "";
              }
            }
          }),
          (this.Ya = function (e) {
            if ((y.multiselect.xd(), this.elements.events))
              for (var t = 0; t < this.elements.events.length; t++) {
                var n = this.elements.events[t],
                  i = n.event;
                (i && e && !i.allday()) || y.De(n);
              }
            this.elements.events = [];
          }),
          (this.De = function (e) {
            var t = e.event,
              n = e.domArgs;
            if (
              ((e.domArgs = null),
              n &&
                "function" == typeof y.onBeforeEventDomRemove &&
                y.onBeforeEventDomRemove(n),
              n && "function" == typeof y.onBeforeEventDomAdd && y.Y.reactDOM)
            ) {
              var i = n && n.Be;
              if (i) {
                d(n.element) && (y.Y.Ce(), y.Y.ja(i));
              }
            }
            if (
              (t && ((t.div = null), (t.root = null), (t.rendered = !1)),
              (e.onclick = null),
              (e.onclickSave = null),
              (e.ondblclick = null),
              (e.oncontextmenu = null),
              (e.onmouseover = null),
              (e.onmouseout = null),
              (e.onmousemove = null),
              (e.onmousedown = null),
              e.firstChild &&
                e.firstChild.firstChild &&
                e.firstChild.firstChild.tagName &&
                "IMG" === e.firstChild.firstChild.tagName.toUpperCase())
            ) {
              var a = e.firstChild.firstChild;
              (a.onmousedown = null),
                (a.onmousemove = null),
                (a.onclick = null);
            }
            e !== h.moving && ((e.helper = null), (e.event = null)), f(e);
          }),
          (this.Ee = function (e) {
            if (e.isAllDay()) return !0;
            var t = y.Ia(e.part.dayIndex),
              n = this.Da(),
              i = n.pixels.left,
              a = n.pixels.right,
              r = n.pixels.top,
              o = n.pixels.bottom,
              s = (e.part.width / 100) * t.width,
              l = e.part.left + t.left,
              d = l + s,
              c = e.part.top - this.Sc(),
              u = c + e.part.height,
              h = a <= l || i >= d,
              f = o <= c || r >= u;
            return !h && !f;
          }),
          (this.Fe = function (e) {
            var o = this.nav.events,
              s = e.cache || e.data;
            if (!e.rendered) {
              var l = y.multiselect.pd(e),
                c = y.Ee(e),
                u =
                  "Progressive" === y.dynamicEventRendering &&
                  "Fixed" === y.columnWidthSpec;
              if (l || !u || c) {
                var h = t();
                h.setAttribute("unselectable", "on"),
                  (h.style.MozUserSelect = "none"),
                  (h.style.KhtmlUserSelect = "none"),
                  (h.style.WebkitUserSelect = "none"),
                  (h.style.position = "absolute"),
                  (h.className = this.ca("_event")),
                  (h.style.left = e.part.left + "%"),
                  (h.style.top = e.part.top - this.Sc() + "px"),
                  (h.style.width = e.part.width + "%"),
                  (h.style.height = Math.max(e.part.height, 2) + "px"),
                  (h.style.overflow = "hidden"),
                  (h.isFirst = e.part.start.getTime() === e.start().getTime()),
                  (h.isLast = e.part.end.getTime() === e.end().getTime()),
                  e.client.clickEnabled() && (h.onclick = this.Xb),
                  e.client.doubleClickEnabled() && (h.ondblclick = this._b),
                  a(h, "contextmenu", this.bc),
                  (h.onmousemove = this.Ge),
                  (h.onmouseout = this.He),
                  (h.onmousedown = this.Ie),
                  i(h, DayPilot.touch.start, this.Je.onEventTouchStart),
                  n(h, DayPilot.touch.move, this.Je.onEventTouchMove),
                  n(h, DayPilot.touch.end, this.Je.onEventTouchEnd),
                  s.cssClass && r(h, s.cssClass),
                  this.showToolTip &&
                    !this.bubble &&
                    h.setAttribute("title", e.client.toolTip());
                var f = t();
                if (
                  (f.setAttribute("unselectable", "on"),
                  (f.className = y.ca("_event_inner")),
                  s.fontColor && (f.style.color = s.fontColor),
                  s.backColor && (f.style.background = s.backColor),
                  s.borderColor &&
                    ("darker" === s.borderColor && s.backColor
                      ? (f.style.borderColor = DayPilot.ColorUtil.darker(
                          s.backColor,
                          2
                        ))
                      : (f.style.borderColor = s.borderColor)),
                  s.backgroundImage &&
                    ((f.style.backgroundImage =
                      "url(" + s.backgroundImage + ")"),
                    s.backgroundRepeat &&
                      (f.style.backgroundRepeat = s.backgroundRepeat)),
                  h.appendChild(f),
                  e.client.barVisible())
                ) {
                  var v = e.part.height - 2,
                    p = (100 * e.part.barTop) / v,
                    m = Math.ceil((100 * e.part.barHeight) / v),
                    g = t();
                  g.setAttribute("unselectable", "on"),
                    (g.className = this.ca("_event_bar")),
                    (g.style.position = "absolute"),
                    s.barBackColor &&
                      (g.style.backgroundColor = s.barBackColor);
                  var b = t();
                  b.setAttribute("unselectable", "on"),
                    (b.className = this.ca("_event_bar_inner")),
                    (b.style.top = p + "%"),
                    0 < m && m <= 1
                      ? (b.style.height = "1px")
                      : (b.style.height = m + "%"),
                    s.barColor && (b.style.backgroundColor = s.barColor),
                    g.appendChild(b),
                    h.appendChild(g);
                }
                var w = s.areas ? DayPilot.Areas.copy(s.areas) : [],
                  x = y.Nb[e.part.dayIndex];
                if (
                  (w.forEach(function (t) {
                    t.start &&
                      (t.top =
                        y.Rc(new DayPilot.Date(t.start), x.start).top -
                        e.part.top -
                        y.Sc()),
                      t.end &&
                        (t.bottom =
                          e.part.top +
                          e.part.height -
                          y.Rc(new DayPilot.Date(t.end), x.start).top -
                          y.Sc());
                  }),
                  e.client.deleteEnabled() &&
                    w.push({
                      action: "JavaScript",
                      v: "Hover",
                      w: 17,
                      h: 17,
                      top: 2,
                      right: 2,
                      css: y.ca("_event_delete"),
                      js: function (e) {
                        y.hc(e);
                      },
                    }),
                  DayPilot.Areas.attach(h, e, { areas: w }),
                  (function () {
                    var t = {};
                    if (
                      ((t.control = y),
                      (t.e = e),
                      (t.element = null),
                      (h.domArgs = t),
                      "function" == typeof y.onBeforeEventDomAdd &&
                        y.onBeforeEventDomAdd(t),
                      t.element)
                    ) {
                      var n = f;
                      if (n) {
                        t.Be = n;
                        d(t.element)
                          ? (y.Y.Ce(), y.Y.X(t.element, n))
                          : n.appendChild(t.element);
                      }
                    } else f.innerHTML = e.client.innerHTML();
                  })(),
                  o.rows[0].cells[e.part.dayIndex])
                ) {
                  if (
                    (o.rows[0].cells[e.part.dayIndex].events.appendChild(h),
                    y.Ke(h),
                    (h.event = e),
                    y.multiselect.pd(e) && y.multiselect.add(h.event, !0),
                    (e.rendered = !0),
                    y.Kb())
                  ) {
                    if ("function" == typeof y.onAfterEventRender) {
                      var k = {};
                      (k.e = h.event), (k.div = h), y.onAfterEventRender(k);
                    }
                  } else y.afterEventRender && y.afterEventRender(h.event, h);
                  y.elements.events.push(h);
                }
              }
            }
          }),
          (this.Ke = function (e) {
            for (
              var t = e && e.childNodes ? e.childNodes.length : 0, n = 0;
              n < t;
              n++
            )
              try {
                var i = e.childNodes[n];
                1 === i.nodeType &&
                  (i.setAttribute("unselectable", "on"), this.Ke(i));
              } catch (e) {}
          }),
          (this.Fb = function () {
            for (var e = new Date(), t = 0; t < this.Nb.length; t++) {
              var n = this.Nb[t];
              if (n.blocks)
                for (var i = 0; i < n.blocks.length; i++)
                  for (var a = n.blocks[i], r = 0; r < a.lines.length; r++)
                    for (var o = a.lines[r], s = 0; s < o.length; s++) {
                      var l = o[s];
                      if (
                        ((l.part.width = 100 / a.lines.length),
                        (l.part.left = l.part.width * r),
                        "Cascade" === this.eventArrangement)
                      ) {
                        var d = r === a.lines.length - 1;
                        d || (l.part.width = 1.5 * l.part.width);
                      }
                      "Full" === this.eventArrangement &&
                        ((l.part.left = l.part.left / 2),
                        (l.part.width = 100 - l.part.left)),
                        l.allday() || this.Fe(l);
                    }
            }
            this.multiselect.redraw();
            var c = new Date();
            c.getTime() - e.getTime();
          }),
          (this.bd = function () {
            y.elements.events.forEach(function (e) {
              e.event && !y.Ee(e.event) && y.De(e);
            }),
              y.ra.Le.forEach(function (e) {
                y.Fe(e);
              }),
              (y.elements.events = y.elements.events.filter(function (e) {
                return !!e.event;
              }));
          }),
          (this.dd = function () {
            if (y.Nb && 0 !== y.Nb.length) {
              for (var e = y.Da(), t = e.xStart; t <= e.xEnd; t++)
                for (var n = e.yStart; n <= e.yEnd; n++) y.Me(t, n);
              y.Ne();
            }
          }),
          (y.Ne = function () {
            for (
              var e = y.Da(), t = this.Ha(), n = y.Nb.length, i = 0;
              i < n;
              i++
            ) {
              var a = !0;
              e.xStart <= i && i <= e.xEnd && (a = !1);
              for (var r = 0; r < t; r++) {
                var o = !0;
                e.yStart <= r && r <= e.yEnd && (o = !1);
                var s = y.elements.cells[i + "_" + r];
                s &&
                  (o || a) &&
                  (s.remove(), (y.elements.cells[i + "_" + r] = null));
              }
            }
          }),
          (this.Oe = function () {
            this.multiselect.Ec = [];
            for (var e = 0; e < this.Nb.length; e++)
              for (var t = this.Nb[e], n = 0; n < t.lines.length; n++)
                for (var i = t.lines[n], a = 0; a < i.length; a++) {
                  var r = i[a];
                  (r.part.width = 100 / t.lines.length),
                    (r.part.left = r.Width * n),
                    r.allday() || this.Fe(r);
                }
          }),
          (this.ca = function (e) {
            var t = this.theme || this.cssClassPrefix;
            return t ? t + e : "";
          }),
          (this.Pe = function () {
            switch (y.xa) {
              case "aspnet":
                if (!this.Ua())
                  throw new DayPilot.Exception(
                    "ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/"
                  );
                break;
              case "netmvc":
                if (!this.backendUrl)
                  throw new DayPilot.Exception(
                    "DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/"
                  );
                break;
              case "javaxx":
                if (!this.backendUrl)
                  throw new DayPilot.Exception(
                    "DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/"
                  );
            }
          }),
          (this.D = function () {
            "hidden" === this.nav.top.style.visibility &&
              (this.nav.top.style.visibility = "visible");
          }),
          (this.Qe = function () {
            var e = this.Ub() + this.Re();
            return (
              y.debug.message(
                "Getting totalHeight, headerHeight: " +
                  this.Ub() +
                  " scrollable: " +
                  this.Re()
              ),
              e < 0 ? 0 : e
            );
          }),
          (this.bb = function () {
            y.gb();
          }),
          (this.Se = function () {
            var e = this.nav.top;
            (e.dp = this),
              (e.innerHTML = ""),
              (e.style.MozUserSelect = "none"),
              (e.style.KhtmlUserSelect = "none"),
              (e.style.WebkitUserSelect = "none"),
              (e.style.WebkitTapHighlightColor = "rgba(0,0,0,0)"),
              (e.style.WebkitTouchCallout = "none"),
              (e.style.position = "relative"),
              this.width && (e.style.width = this.width),
              this.rtl && (e.style.direction = "rtl"),
              "Parent100Pct" === this.heightSpec
                ? (e.style.height = "100%")
                : (e.style.height = this.Qe() + "px"),
              this.hideUntilInit && (e.style.visibility = "hidden"),
              this.visible || (e.style.display = "none"),
              e.addEventListener("mouseleave", y.bb);
            var n = t();
            if (
              ((this.nav.scroll = n),
              (n.style.height = this.Re() + "px"),
              (n.style.position = "relative"),
              this.showHeader)
            ) {
              var i = this.Te();
              e.appendChild(i);
            }
            (n.style.zoom = 1),
              (n.style.position = "absolute"),
              (n.style.left = "0px"),
              (n.style.right = "0px"),
              (n.style.top = this.Ub() + "px"),
              (n.className = y.ca("_scroll"));
            var a = this.Ue();
            (this.nav.scrollable = a.firstChild),
              n.appendChild(a),
              e.appendChild(this.nav.scroll),
              (this.nav.vsph = t()),
              (this.nav.vsph.style.display = "none"),
              this.nav.top.appendChild(this.nav.vsph),
              (this.nav.scrollpos = document.createElement("input")),
              (this.nav.scrollpos.type = "hidden"),
              (this.nav.scrollpos.id = y.id + "_scrollpos"),
              (this.nav.scrollpos.name = this.nav.scrollpos.id),
              e.appendChild(this.nav.scrollpos),
              (this.nav.select = document.createElement("input")),
              (this.nav.select.type = "hidden"),
              (this.nav.select.id = y.id + "_select"),
              (this.nav.select.name = this.nav.select.id),
              (this.nav.select.value = null),
              e.appendChild(this.nav.select),
              (this.nav.scrollLayer = t()),
              (this.nav.scrollLayer.style.position = "absolute"),
              (this.nav.scrollLayer.style.top = "0px"),
              (this.nav.scrollLayer.style.left = "0px"),
              e.appendChild(this.nav.scrollLayer),
              (this.nav.scrollUp = []),
              (this.nav.scrollDown = []);
            var r = t();
            (r.style.position = "absolute"),
              (r.style.top = "0px"),
              (r.style.left = this.hourWidth + 5 + "px"),
              (r.className = y.ca("_loading")),
              (r.innerHTML = y.Ka(
                this.loadingLabelText,
                this.loadingLabelHtml
              )),
              (r.style.display = "none"),
              (this.nav.loading = r),
              e.appendChild(r);
          }),
          (this.Ve = function () {
            for (
              var e = "Fixed" === this.columnWidthSpec,
                t =
                  this.nav.header &&
                  this.nav.header.rows[this.nav.header.rows.length - 1],
                n = this.nav.events.rows[0],
                i = 0;
              i < y.Nb.length;
              i++
            ) {
              var a = t && t.cells[i],
                r = n.cells[i],
                o = a && a.firstChild,
                s = y.Nb[i];
              if (e) {
                var l = s.width ? s.width : y.columnWidth;
                o && (o.style.width = l + "px"),
                  r && (r.style.width = l + "px");
              } else
                y.pa ||
                  (o && (o.style.width = null), r && (r.style.width = null));
            }
          }),
          (this.Vb = function () {
            return this.oa ? y.nav.bottomRight : y.nav.scroll;
          }),
          (this.Db = function () {
            var e = "Fixed" === this.columnWidthSpec;
            if (!e) {
              var t = y.Vb();
              "Fixed" === this.heightSpec
                ? (t.style.overflowY = "scroll")
                : "BusinessHours" === this.heightSpec &&
                  this.Ob() <= this.businessEndsHour - this.businessBeginsHour
                ? (t.style.overflow = "hidden")
                : "Full" !== this.heightSpec &&
                  "BusinessHoursNoScroll" !== this.heightSpec
                ? (t.style.overflow = "auto")
                : (t.style.overflow = "hidden");
            }
            if (e) {
              var n = 0,
                i = y.We();
              i > y.Ea().clientWidth && (n = DayPilot.sw(y.nav.bottomRight)),
                y.nav.headerParent &&
                  (y.nav.headerParent.style.width = i + n + "px"),
                (y.nav.main.style.width = i + "px"),
                (y.nav.events.style.width = i + "px"),
                (y.nav.crosshair.style.width = i + "px");
            } else
              y.nav.headerParent && (y.nav.headerParent.style.width = "100%"),
                (y.nav.main.style.width = "100%"),
                (y.nav.events.style.width = "100%"),
                (y.nav.crosshair.style.width = "100%");
            this.Ve();
          }),
          (this.Ab = function () {
            this.qa ? this.Za() : DayPilot.pu(this.nav.hourTable),
              this.nav.hoursPlaceholder &&
                ((this.nav.hoursPlaceholder.innerHTML = ""),
                (this.nav.hourTable = this.Xe()),
                this.nav.hoursPlaceholder.appendChild(this.nav.hourTable));
          }),
          (this.Za = function () {
            if (this.nav.hourTable) {
              y.elements.timeHeaders.forEach(function (e) {
                var t = e.domArgs;
                if (
                  ((e.domArgs = null),
                  "function" == typeof y.onBeforeTimeHeaderDomRemove &&
                    y.onBeforeTimeHeaderDomRemove(t),
                  "function" == typeof y.onBeforeTimeHeaderDomAdd &&
                    y.Y.reactDOM)
                ) {
                  var n = t && t.Be;
                  if (n) {
                    d(t.element) && (y.Y.Ce(), y.Y.ja(n));
                  }
                }
              });
              for (var e = 0; e < this.nav.hourTable.rows.length; e++) {
                var t = this.nav.hourTable.rows[e],
                  n = t.cells[0].firstChild;
                (n.data = null), (n.onmousemove = null), (n.onmouseout = null);
              }
              y.elements.timeHeaders = [];
            }
          }),
          (this.Ue = function () {
            var e = t();
            (e.style.zoom = 1),
              (e.style.position = "relative"),
              (e.onmousemove = this.Ye),
              (e.oncontextmenu = this.Ze),
              i(e, DayPilot.touch.start, this.Je.$e),
              i(e, DayPilot.touch.move, this.Je._e),
              i(e, DayPilot.touch.end, this.Je.af),
              a(e, "contextmenu", function (e) {
                var e = e || window.event;
                e.preventDefault ? e.preventDefault() : (e.returnValue = !1);
              }),
              navigator.msPointerEnabled &&
                ((e.style.msTouchAction = "none"),
                (e.style.touchAction = "none")),
              (e.daypilotMainD = !0),
              (e.calendar = this);
            var n = null,
              r = null;
            if (this.showHours) {
              var o = t();
              (o.style.cssFloat = "left"),
                y.rtl && (o.style.cssFloat = "right"),
                (o.style.width = this.hourWidth + "px"),
                (o.style.height = this.Re() + "px"),
                (o.style.overflow = "hidden"),
                (o.style.position = "relative"),
                e.appendChild(o),
                (n = o);
              var s = 30,
                l = y.Fa() + s;
              (r = t()), (r.style.height = l + "px"), o.appendChild(r);
            }
            var d = t();
            (d.style.height = this.Re() + "px"),
              this.showHours &&
                (y.rtl
                  ? (d.style.marginRight = this.hourWidth + "px")
                  : (d.style.marginLeft = this.hourWidth + "px")),
              (d.style.position = "relative"),
              (d.style.overflow = "auto"),
              e.appendChild(d),
              r &&
                ((this.nav.hourTable = this.Xe()),
                r.appendChild(this.nav.hourTable));
            var c = t();
            (c.style.height = "0px"),
              (c.style.position = "relative"),
              c.appendChild(this.bf());
            var u = t();
            return (
              (u.style.position = "absolute"),
              (u.style.top = "0px"),
              (u.style.left = "0px"),
              (u.style.width = "100%"),
              (u.style.height = "0px"),
              c.appendChild(u),
              (this.nav.crosshair = u),
              c.appendChild(this.cf()),
              d.appendChild(c),
              (this.nav.grid = c),
              (this.nav.zoom = e),
              (this.nav.bottomLeft = n),
              (this.nav.bottomRight = d),
              (this.nav.hoursPlaceholder = r),
              e
            );
          }),
          (this.bf = function () {
            if (y.pa) {
              var e = t();
              return (y.nav.main = e), e;
            }
            var n = document.createElement("table");
            return (
              (n.cellPadding = "0"),
              (n.cellSpacing = "0"),
              (n.border = "0"),
              "Fixed" === this.columnWidthSpec || (n.style.width = "100%"),
              (n.style.border = "0px none"),
              (n.style.margin = "0px"),
              (n.style.tableLayout = "fixed"),
              (this.nav.main = n),
              n
            );
          }),
          (this.df = function () {
            return "Fixed" === this.columnWidthSpec ? y.We() + "px" : "100%";
          }),
          (this.We = function () {
            for (var e = 0, t = 0; t < y.Nb.length; t++) {
              var n = y.Nb[t];
              e += n.width ? n.width : y.columnWidth;
            }
            return e;
          }),
          (this.cf = function () {
            if (y.pa) {
              var e = t();
              return (
                (e.style.userSelect = "none"),
                (e.style.position = "absolute"),
                (e.style.left = "0px"),
                (e.style.right = "0px"),
                (e.style.top = "0px"),
                (e.style.height = "0px"),
                (y.nav.events = e),
                e
              );
            }
            var n = document.createElement("table");
            (n.style.position = "absolute"),
              (n.style.top = "0px"),
              (n.cellPadding = "0"),
              (n.cellSpacing = "0"),
              (n.border = "0"),
              (n.style.width = y.df()),
              (n.style.border = "0px none"),
              (n.style.margin = "0px"),
              (n.style.tableLayout = "fixed"),
              (this.nav.events = n);
            for (
              var i = this.Nb, a = i.length, r = n.insertRow(-1), o = 0;
              o < a;
              o++
            ) {
              var s = r.insertCell(-1);
              (s.style.padding = "0px"),
                (s.style.border = "0px none"),
                (s.style.height = "0px"),
                (s.style.overflow = "visible"),
                y.rtl || (s.style.textAlign = "left"),
                y.ef(s);
            }
            return n;
          }),
          (this.gf = function () {
            var e = document.createElement("table");
            (e.cellSpacing = "0"),
              (e.cellPadding = "0"),
              (e.border = "0"),
              (e.style.margin = "0px"),
              (e.style.border = "0px none"),
              (e.style.width = this.hourWidth + "px"),
              (e.oncontextmenu = function () {
                return !1;
              }),
              (e.onmousemove = function () {
                y.hb();
              });
            for (var t = y.hf(), n = 0; n < t; n++) this.if(e, n);
            return e;
          }),
          (this.Xe = function () {
            var e = t();
            (e.style.width = this.hourWidth + "px"),
              (e.style.position = "relative"),
              (e.oncontextmenu = function () {
                return !1;
              }),
              (e.onmousemove = function () {
                y.hb();
              }),
              (e.rows = []);
            for (var n = y.hf(), i = 0; i < n; i++) this.jf(e, i);
            return e;
          }),
          (this.hf = function () {
            return this.Pb() / (60 * this.timeHeaderCellDuration * 1e3);
          }),
          (this.kf = function () {
            return (
              (60 * this.cellHeight) /
              this.cellDuration /
              (60 / this.timeHeaderCellDuration)
            );
          }),
          (this.lf = function () {
            return (this.Tb() - this.Tb(!0)) * (60 / this.cellDuration);
          }),
          (this.mf = function () {
            return this.Tb() - this.Tb(!0);
          }),
          (this.Sc = function () {
            return this.lf() * this.cellHeight;
          }),
          (this.if = function (e, n) {
            var i = y.kf(),
              a = e.insertRow(-1);
            a.style.height = i + "px";
            var r = a.insertCell(-1);
            (r.valign = "bottom"),
              r.setAttribute("unselectable", "on"),
              (r.style.padding = "0px"),
              (r.style.border = "0px none");
            var o = t();
            (o.className = this.ca("_rowheader")),
              (o.style.position = "relative"),
              (o.style.width = this.hourWidth + "px"),
              (o.style.height = i + "px"),
              (o.style.overflow = "hidden"),
              o.setAttribute("unselectable", "on");
            var s = t();
            (s.className = this.ca("_rowheader_inner")),
              s.setAttribute("unselectable", "on");
            var l = y.nf(n),
              c = l.html,
              u = l.data;
            u && ((o.data = u), (o.onmousemove = y.of), (o.onmouseout = y.pf));
            var h = null,
              f = {};
            if (
              ((f.header = u),
              "function" == typeof y.onBeforeTimeHeaderDomAdd &&
                ((f.element = null),
                y.onBeforeTimeHeaderDomAdd(f),
                (h = f.element)),
              (o.domArgs = f),
              h)
            ) {
              var v = s;
              f.Be = v;
              d(h) ? (y.Y.Ce(), y.Y.X(h, v)) : v.appendChild(h);
            } else s.innerHTML = c;
            o.appendChild(s), y.elements.timeHeaders.push(o), r.appendChild(o);
          }),
          (this.jf = function (e, n) {
            var i = y.kf(),
              a = t();
            (a.style.position = "absolute"),
              (a.style.top = n * i + "px"),
              (a.style.height = i + "px"),
              (e.rows[n] = a);
            var r = t();
            a.appendChild(r), (a.cells = [r]);
            var o = t();
            (o.className = this.ca("_rowheader")),
              (o.style.position = "relative"),
              (o.style.width = this.hourWidth + "px"),
              (o.style.height = i + "px"),
              (o.style.overflow = "hidden"),
              o.setAttribute("unselectable", "on");
            var s = t();
            (s.className = this.ca("_rowheader_inner")),
              s.setAttribute("unselectable", "on");
            var l = y.nf(n),
              c = l.html,
              u = l.data;
            u && ((o.data = u), (o.onmousemove = y.of), (o.onmouseout = y.pf));
            var h = null,
              f = {};
            if (
              ((f.header = u),
              "function" == typeof y.onBeforeTimeHeaderDomAdd &&
                ((f.element = null),
                y.onBeforeTimeHeaderDomAdd(f),
                (h = f.element)),
              (o.domArgs = f),
              h)
            ) {
              var v = s;
              f.Be = v;
              d(h) ? (y.Y.Ce(), y.Y.X(h, v)) : v.appendChild(h);
            } else s.innerHTML = c;
            o.appendChild(s),
              y.elements.timeHeaders.push(o),
              r.appendChild(o),
              e.appendChild(a);
          }),
          (this.nf = function (e) {
            var n, i;
            if (this.hours) {
              var a = e + this.mf();
              (i = this.hours[a]), (n = i.html);
            }
            var r,
              o = this.timeHeaderCellDuration,
              s = this.startDate.addMinutes(o * e + 60 * this.Tb()),
              l = s.getHours(),
              d = l < 12;
            if (
              ((r = "Clock12Hours" === this.Ma.Nc() ? (d ? "AM" : "PM") : "00"),
              !n)
            ) {
              var c = t();
              if (
                (c.setAttribute("unselectable", "on"),
                "Clock12Hours" === this.Ma.Nc() &&
                  ((l %= 12), 0 === l && (l = 12)),
                60 !== this.timeHeaderCellDuration &&
                  (l += ":" + s.toString("mm")),
                (c.innerHTML = l),
                60 === this.timeHeaderCellDuration)
              ) {
                var u = document.createElement("span");
                u.setAttribute("unselectable", "on"),
                  (u.className = this.ca("_rowheader_minutes")),
                  (u.innerHTML = r),
                  c.appendChild(u);
              }
              n = c.outerHTML;
            }
            var h = {};
            (h.header = {}),
              (h.header.hours = s.getHours()),
              (h.header.minutes = s.getMinutes()),
              (h.header.start = s.toString("HH:mm")),
              (h.header.text = null),
              (h.header.html = n),
              (h.header.areas = i ? i.areas : null),
              (h.header.time = new DayPilot.Duration(s.getTimePart())),
              "function" == typeof y.onBeforeTimeHeaderRender &&
                (y.onBeforeTimeHeaderRender(h),
                null !== h.header.html && (n = h.header.html)),
              (i = h.header);
            var f = {};
            return (
              (f.start = s),
              (f.hour = l),
              (f.html = n),
              (f.data = i),
              (f.sup = r),
              h.header.text && (f.text = h.header.text),
              f
            );
          }),
          (this.of = function (e) {
            y.hb();
            var t = this;
            t.active || DayPilot.Areas.showAreas(t, t.data);
          }),
          (this.pf = function (e) {
            DayPilot.Areas.hideAreas(this, e);
          }),
          (this.Re = function () {
            switch (this.heightSpec) {
              case "Fixed":
                return this.height;
              case "Parent100Pct":
                return this.height;
              case "Full":
                return this.Fa();
              case "BusinessHours":
              case "BusinessHoursNoScroll":
                return (this.Qb() * this.cellHeight * 60) / this.cellDuration;
              default:
                throw new DayPilot.Exception(
                  "DayPilot.Calendar: Unexpected 'heightSpec' value."
                );
            }
          }),
          (this.Fa = function () {
            return (y.Pb() * this.cellHeight) / (6e4 * y.cellDuration);
          }),
          (this.Ub = function () {
            if (!this.showHeader) return 0;
            var e = k.Hd() * k.Ae();
            return this.showAllDayEvents && k.qf() ? e + k.qf() : e;
          }),
          (this.wb = function () {
            if (this.headerHeightAutoFit) {
              for (var e = 0, t = 0; t < this.nav.header.rows.length; t++)
                for (
                  var n = this.nav.header.rows[t], i = 0;
                  i < n.cells.length;
                  i++
                ) {
                  var a = n.cells[i],
                    r = a.firstChild,
                    o = r.firstChild,
                    s = r.style.height;
                  (r.style.height = "auto"), (o.style.position = "static");
                  var l = r.offsetHeight;
                  (r.style.height = s),
                    (o.style.position = ""),
                    (e = Math.max(e, l));
                }
              e > this.headerHeight &&
                ((this.ra.headerHeight = e), this.ub(), this.vb());
            }
          }),
          (this.rf = function () {
            var e = this.oa ? y.nav.bottomRight : y.nav.scroll;
            return DayPilot.sw(e) > 0;
          }),
          (this.Te = function () {
            var e = t(),
              n = "Fixed" === this.columnWidthSpec;
            n || (e.style.overflow = "auto"),
              (e.style.position = "absolute"),
              (e.style.left = "0px"),
              (e.style.right = "0px");
            var i = t();
            (i.style.position = "relative"), (i.style.zoom = "1");
            var a = null,
              n = "Fixed" === this.columnWidthSpec;
            if (n || this.oa) {
              var r = t();
              if (
                ((r.style.cssFloat = "left"),
                y.rtl && (r.style.cssFloat = "right"),
                (r.style.width = this.hourWidth + "px"),
                this.showHours)
              ) {
                var o = this.sf();
                (this.nav.corner = o),
                  r.appendChild(o),
                  i.appendChild(r),
                  (this.nav.upperLeft = r);
              }
              var s = t();
              this.showHours &&
                (y.rtl
                  ? (s.style.marginRight = this.hourWidth + "px")
                  : (s.style.marginLeft = this.hourWidth + "px")),
                (s.style.position = "relative"),
                (s.style.overflow = "hidden"),
                (s.style.height = this.Ub() + "px"),
                (s.className = y.ca("_colheader_back")),
                (s.onmousemove = function (e) {
                  var t = this;
                  "undefined" != typeof w && w.s && w.Yc(t, e);
                }),
                i.appendChild(s),
                (this.nav.upperRight = s);
              var l = t();
              (l.className = y.ca("_colheader_back_inner")),
                s.appendChild(l),
                (a = t()),
                (a.style.position = "relative"),
                s.appendChild(a);
            } else {
              var d = document.createElement("table");
              (d.cellPadding = "0"),
                (d.cellSpacing = "0"),
                (d.border = "0"),
                (d.style.margin = "0px"),
                (d.style.width = "100%"),
                (d.style.borderCollapse = "separate"),
                (d.style.border = "0px none");
              var c = d.insertRow(-1);
              if (((this.nav.fullHeader = d), this.showHours)) {
                var u = c.insertCell(-1);
                (u.style.padding = "0px"), (u.style.border = "0px none");
                var o = this.sf();
                u.appendChild(o), (this.nav.corner = o);
              }
              (u = c.insertCell(-1)),
                (u.style.width = "100%"),
                (u.valign = "top"),
                (u.style.position = "relative"),
                (u.style.padding = "0px"),
                (u.style.border = "0px none"),
                (a = t()),
                (a.style.position = "relative"),
                (a.style.height = this.Ub() + "px"),
                (a.style.overflow = "hidden"),
                u.appendChild(a),
                (this.nav.mid = a),
                i.appendChild(d);
            }
            (this.nav.headerParent = a),
              (this.nav.headerParent.onmousemove = function (e) {
                e.insideMainD = !0;
              }),
              this.tf();
            var h = this.rf(),
              n = "Fixed" === this.columnWidthSpec;
            return h && !n && this.uf(), e.appendChild(i), e;
          }),
          (this.tf = function () {
            if (((this.nav.unifiedCornerRight = null), y.pa))
              (this.nav.header = t()),
                (this.nav.header.style.position = "relative");
            else {
              (this.nav.header = document.createElement("table")),
                (this.nav.header.style.margin = "0px"),
                (this.nav.header.cellPadding = "0"),
                (this.nav.header.cellSpacing = "0");
              "Fixed" === this.columnWidthSpec ||
                (this.nav.header.width = "100%"),
                (this.nav.header.style.tableLayout = "fixed"),
                (this.nav.header.oncontextmenu = function () {
                  return !1;
                });
            }
            this.nav.header.setAttribute("dp-id", "header"),
              this.nav.headerParent.appendChild(this.nav.header),
              (this.nav.header.onmousemove = function () {
                y.hb();
              }),
              this.nav.allday && f(this.nav.allday);
            var e = t();
            (e.style.position = "absolute"),
              (e.style.top = "0px"),
              (e.style.height = "0px"),
              e.setAttribute("dp-id", "allday"),
              "Fixed" === this.columnWidthSpec
                ? (e.style.width = this.Nb.length * this.columnWidth + "px")
                : ((e.style.left = "0px"), (e.style.right = "0px")),
              (this.nav.allday = e),
              this.nav.headerParent.appendChild(e);
          }),
          (this.uf = function () {
            if (this.nav.fullHeader) {
              var e = this.nav.fullHeader.rows[0],
                n = e.insertCell(-1);
              (n.style.padding = "0px"),
                (n.style.verticalAlign = "top"),
                n.setAttribute("unselectable", "on");
              var i = t();
              i.setAttribute("unselectable", "on"),
                (i.className = this.ca("_cornerright")),
                (i.style.overflow = "hidden"),
                (i.style.position = "relative"),
                (i.style.width = "16px"),
                (i.style.height = this.Ub() + "px");
              var a = t();
              (a.className = this.ca("_cornerright_inner")),
                i.appendChild(a),
                n.appendChild(i),
                (this.nav.cornerRight = i);
            }
          }),
          (this.sf = function () {
            var e = t();
            (e.style.position = "relative"),
              (e.className = this.ca("_corner")),
              (e.style.width = this.hourWidth + "px"),
              (e.style.height = this.Ub() + "px"),
              (e.style.overflow = "hidden"),
              (e.oncontextmenu = function () {
                return !1;
              });
            var n = t();
            (n.className = this.ca("_corner_inner")),
              n.setAttribute("unselectable", "on"),
              e.appendChild(n);
            var i = t();
            return (
              (i.style.position = "absolute"),
              (i.style.padding = "2px"),
              (i.style.top = "0px"),
              (i.style.left = "1px"),
              (i.style.backgroundColor = "#FF6600"),
              (i.style.color = "white"),
              (i.innerHTML = "\u0044\u0045" + "\u004D\u004F"),
              i.setAttribute("unselectable", "on"),
              DayPilot.Util.isNullOrUndefined(undefined) && e.appendChild(i),
              e
            );
          }),
          (this.ab = function () {
            if (y.nav.corner && y.nav.corner.firstChild) {
              var e = y.nav.corner.firstChild,
                t = e.domArgs;
              if (
                ((e.domArgs = null),
                t &&
                  ("function" == typeof y.onBeforeCornerDomRemove &&
                    y.onBeforeCornerDomRemove(t),
                  "function" == typeof y.onBeforeCornerDomAdd &&
                    y.Y.reactDOM &&
                    e))
              ) {
                d(t.element) && (y.Y.Ce(), y.Y.ja(e));
              }
            }
          }),
          (this.$a = function () {
            var e = this.nav.main;
            (e.root = null), (e.onmouseup = null);
            for (var t = 0; t < e.rows.length; t++)
              for (var n = e.rows[t], i = 0; i < n.cells.length; i++) {
                var a = n.cells[i];
                (a.root = null),
                  (a.onmousedown = null),
                  (a.onmousemove = null),
                  (a.onmouseout = null),
                  (a.onmouseup = null),
                  (a.onclick = null),
                  (a.ondblclick = null),
                  (a.oncontextmenu = null);
              }
            this.qa || DayPilot.pu(e);
          }),
          (this.xb = function () {
            for (
              var e = 0;
              this.nav.scrollUp && e < this.nav.scrollUp.length;
              e++
            )
              this.nav.scrollLayer.removeChild(this.nav.scrollUp[e]);
            for (
              var e = 0;
              this.nav.scrollDown && e < this.nav.scrollDown.length;
              e++
            )
              this.nav.scrollLayer.removeChild(this.nav.scrollDown[e]);
            (this.nav.scrollUp = []), (this.nav.scrollDown = []);
          }),
          (this.ef = function (e) {
            var n = t();
            (n.style.marginRight = y.columnMarginRight + "px"),
              (n.style.position = "relative"),
              (n.style.height = "1px"),
              (n.style.marginTop = "-1px"),
              (e.events = n);
            var i = t();
            (i.style.position = "relative"),
              (i.style.height = "1px"),
              (i.style.marginTop = "-1px"),
              (e.separators = i);
            var a = t();
            (a.style.position = "relative"),
              (a.style.height = "1px"),
              (a.style.marginTop = "-1px"),
              (e.selection = a),
              e.appendChild(i),
              e.appendChild(a),
              e.appendChild(n);
          }),
          (this.zb = function () {
            y.pa ? y.vf() : y.wf();
          }),
          (this.xf = function () {
            if (this.scrollLabelsVisible)
              for (
                var e = this.Nb,
                  n = this.showHours ? this.hourWidth : 0,
                  i = (this.nav.scroll.clientWidth - n) / e.length,
                  a = 0;
                a < e.length;
                a++
              ) {
                var r = t();
                (r.style.position = "absolute"),
                  (r.style.top = "0px"),
                  (r.style.left = n + 2 + a * i + i / 2 + "px"),
                  (r.style.display = "none");
                var o = t();
                (o.style.height = "10px"),
                  (o.style.width = "10px"),
                  (o.className = this.ca("_scroll_up")),
                  r.appendChild(o),
                  this.nav.scrollLayer.appendChild(r),
                  this.nav.scrollUp.push(r);
                var s = t();
                (s.style.position = "absolute"),
                  (s.style.top = "0px"),
                  (s.style.left = n + 2 + a * i + i / 2 + "px"),
                  (s.style.display = "none");
                var o = t();
                (o.style.height = "10px"),
                  (o.style.width = "10px"),
                  (o.className = this.ca("_scroll_down")),
                  s.appendChild(o),
                  this.nav.scrollLayer.appendChild(s),
                  this.nav.scrollDown.push(s);
              }
          }),
          (this.yf = function () {
            var e = this.nav.events;
            (e.innerHTML = ""),
              (e.rows = [{ cells: [] }]),
              y.Ga().forEach(function (n, i) {
                var a = t();
                (a.style.height = "1px"),
                  (a.style.overflow = "visible"),
                  (a.style.position = "absolute"),
                  (a.style.left = n.left + n.unit),
                  (a.style.right = n.left + n.unit),
                  (a.style.width = n.width + n.unit),
                  y.ef(a),
                  e.appendChild(a),
                  e.rows[0].cells.push(a);
              });
          }),
          (this.Ga = function () {
            function e(e) {
              return DayPilot.browser.ie || DayPilot.browser.edge
                ? Math.floor(100 * e) / 100
                : e;
            }
            var t = y.Id(),
              n = y.Nb,
              i = "Fixed" === this.columnWidthSpec,
              a = 0;
            return DayPilot.list.for(n.length, function (r) {
              var o = {},
                s = 0,
                l = "";
              return (
                i
                  ? ((l = "px"), (s = n[r].width ? n[r].width : y.columnWidth))
                  : ((l = "%"), (s = t ? n[r].width : e(100 / n.length))),
                (o.left = a),
                (o.width = s),
                (o.unit = l),
                (a += s),
                o
              );
            });
          }),
          (this.vf = function () {
            var e = this.nav.main,
              t = this.nav.scrollable,
              n = this.Ha(),
              i = (this.mf() * (60 / this.cellDuration), y.Nb);
            !(function () {
              (y.elements.cells = {}), (e.innerHTML = ""), (e.rows = []);
            })(),
              (t.daypilotMainD = !0),
              (t.calendar = this),
              y.xf(),
              y.yf();
            for (var a = 0; a < n; a++)
              if ((e.rows.push({ cells: [] }), DayPilot.browser.ie))
                for (var r = i.length - 1; r >= 0; r--) y.Me(r, a);
              else for (var r = 0; r < i.length; r++) y.Me(r, a);
            e.style.height = n * y.cellHeight + "px";
          }),
          (y.zf = function (e, t) {
            var n = {},
              i = y.Ia(e),
              a = t * y.cellHeight;
            return (
              (n.left = i.left),
              (n.width = i.width),
              (n.right = n.left + n.width),
              (n.top = a),
              (n.height = y.cellHeight),
              (n.bottom = n.top + n.height),
              n
            );
          }),
          (y.Me = function (e, n) {
            var i = "Fixed" === y.columnWidthSpec && !DayPilot.browser.ie;
            if (!y.elements.cells[e + "_" + n]) {
              if (i) {
                var o = y.zf(e, n),
                  s = y.Da(),
                  d = s.pixels.right <= o.left || s.pixels.left >= o.right,
                  c = s.pixels.bottom <= o.top || s.pixels.top >= o.bottom;
                if (!(!d && !c)) return;
              }
              var h = y.Ia(e),
                f = 60 * this.cellDuration * 1e3,
                p = n * y.cellHeight,
                m = y.Nb[e],
                g = t();
              (g.style.position = "absolute"),
                (g.style.left = h.left + h.unit),
                (g.style.right = h.left + h.unit),
                (g.style.width = h.width + h.unit),
                (g.style.top = p + "px"),
                (g.start = m.start.addTime(n * f).addHours(y.Tb())),
                (g.end = g.start.addTime(f)),
                (g.resource = m.id),
                (g.data = {}),
                (g.data.x = e),
                (g.data.y = n),
                (g.data.start = g.start),
                (g.data.end = g.end),
                (g.data.resource = g.resource),
                (g.data.calendar = y),
                y.cellProperties || (y.cellProperties = {});
              var b = {};
              (b.resource = g.resource), (b.start = g.start), (b.end = g.end);
              var w = e + "_" + n,
                x = [
                  "cssClass",
                  "html",
                  "backImage",
                  "backRepeat",
                  "backColor",
                  "business",
                  "areas",
                  "disabled",
                ];
              if (
                ((b.properties = y.cellProperties[w]), !y.cellProperties[w])
              ) {
                var k = (b.properties = {});
                (k.cssClass = null),
                  (k.html = null),
                  (k.backImage = null),
                  (k.backRepeat = null),
                  (k.backColor = null),
                  (k.business = y.Af(g.start, g.end)),
                  (y.cellProperties[w] = k);
              }
              if ("function" == typeof y.onBeforeCellRender) {
                var C = {};
                (C.cell = b),
                  y.onBeforeCellRender(C),
                  l(C.cell, C.cell.properties, x);
              }
              var D,
                S = y.Bf(e, n);
              (g.root = y),
                g.setAttribute("unselectable", "on"),
                (D = t()),
                (D.className = y.ca("_cell")),
                (D.style.position = "relative"),
                (D.style.height = y.cellHeight + "px"),
                (D.style.overflow = "hidden"),
                D.setAttribute("unselectable", "on");
              var _ = t();
              (_.className = y.ca("_cell_inner")),
                D.appendChild(_),
                g.appendChild(D),
                (g.onmousedown = y.Ic),
                (g.onmousemove = y.Xc),
                (g.onmouseout = y.Wc),
                a(g, DayPilot.touch.end, y.Je.Cf),
                (g.oncontextmenu = function () {
                  return (
                    this.selected ||
                      (y.clearSelection(),
                      (v.Kc = e),
                      y.za.push(this),
                      (v.Lc = this),
                      (v.Aa = this),
                      (v.Ba = this),
                      y.Mc()),
                    "Disabled" === y.timeRangeRightClickHandling,
                    !1
                  );
                });
              var E = y.Df(e, n);
              D = g.firstChild;
              "Fixed" === y.columnWidthSpec &&
                (m.width
                  ? (D.style.width = m.width + "px")
                  : (D.style.width = y.columnWidth + "px")),
                E && (D.firstChild.style.background = E);
              (S ? S.business : y.Af(g.start, g.end)) &&
                r(D, y.ca("_cell_business"));
              var T = D.firstChild;
              if (
                (T && (T.innerHTML = ""),
                (D.style.backgroundImage = ""),
                (D.style.backgroundRepeat = ""),
                S &&
                  (S.html && (T.innerHTML = S.html),
                  S.cssClass && r(D, S.cssClass),
                  S.backImage &&
                    (D.style.backgroundImage = "url('" + S.backImage + "')"),
                  S.backRepeat && (D.style.backgroundRepeat = S.backRepeat),
                  S.areas))
              ) {
                var A = {};
                (A.start = g.start), (A.end = g.end), (A.resource = g.resource);
                var H = u(S.areas).filter(function (e) {
                  return (
                    !(e.end && new DayPilot.Date(e.end) <= g.start) &&
                    !(e.start && new DayPilot.Date(e.start) >= g.end)
                  );
                });
                H.forEach(function (e) {
                  if (e.start || e.end) {
                    if (e.start) {
                      var t =
                        new DayPilot.Date(e.start).getTime() -
                        g.start.getTime();
                      e.top = y.Ef(t);
                    }
                    if (e.end) {
                      var n =
                        new DayPilot.Date(e.end).getTime() - g.start.getTime();
                      e.height = y.Ef(n) - e.top;
                    }
                  }
                }),
                  DayPilot.Areas.attach(D, A, { areas: H });
              }
              if (
                (y.nav.main.appendChild(g),
                (y.nav.main.rows[n].cells[e] = g),
                (y.elements.cells[e + "_" + n] = g),
                "function" == typeof y.onAfterCellRender)
              ) {
                var C = {};
                (C.cell = l(b, {}, ["start", "end", "resource"])),
                  (C.div = D),
                  y.onAfterCellRender(C);
              }
            }
          }),
          (this.wf = function () {
            var e = this.nav.main,
              n = 60 * this.cellDuration * 1e3,
              i = this.Ha(),
              o = (this.mf() * (60 / this.cellDuration), y.Nb),
              s = 0;
            for (
              e && ((s = y.Ea().scrollTop), this.$a()),
                this.nav.scrollable.daypilotMainD = !0,
                this.nav.scrollable.calendar = this;
              e && e.rows && e.rows.length > 0;

            )
              this.qa || DayPilot.pu(e.rows[0]), e.deleteRow(0);
            if (((this.Ff = !0), this.scrollLabelsVisible))
              for (
                var o = this.Nb,
                  d = this.showHours ? this.hourWidth : 0,
                  c = (this.nav.scroll.clientWidth - d) / o.length,
                  h = 0;
                h < o.length;
                h++
              ) {
                var f = t();
                (f.style.position = "absolute"),
                  (f.style.top = "0px"),
                  (f.style.left = d + 2 + h * c + c / 2 + "px"),
                  (f.style.display = "none");
                var p = t();
                (p.style.height = "10px"),
                  (p.style.width = "10px"),
                  (p.className = this.ca("_scroll_up")),
                  f.appendChild(p),
                  this.nav.scrollLayer.appendChild(f),
                  this.nav.scrollUp.push(f);
                var m = t();
                (m.style.position = "absolute"),
                  (m.style.top = "0px"),
                  (m.style.left = d + 2 + h * c + c / 2 + "px"),
                  (m.style.display = "none");
                var p = t();
                (p.style.height = "10px"),
                  (p.style.width = "10px"),
                  (p.className = this.ca("_scroll_down")),
                  m.appendChild(p),
                  this.nav.scrollLayer.appendChild(m),
                  this.nav.scrollDown.push(m);
              }
            var g = o.length;
            if (this.ma) {
              for (var b = this.nav.events; b && b.rows && b.rows.length > 0; )
                this.qa || DayPilot.pu(b.rows[0]), b.deleteRow(0);
              for (var w = b.insertRow(-1), x = 0; x < g; x++) {
                var k = w.insertCell(-1);
                (k.style.padding = "0px"),
                  (k.style.border = "0px none"),
                  (k.style.height = "1px"),
                  (k.style.overflow = "visible");
                var C = "Fixed" === this.columnWidthSpec;
                C &&
                  (o[x].width
                    ? (k.style.width = o[x].width + "px")
                    : (k.style.width = this.columnWidth + "px")),
                  y.rtl || (k.style.textAlign = "left"),
                  y.ef(k);
              }
            }
            for (var h = 0; h < i; h++) {
              var w = e.insertRow(-1),
                D = h;
              (w.style.MozUserSelect = "none"),
                (w.style.KhtmlUserSelect = "none"),
                (w.style.WebkitUserSelect = "none");
              for (var x = 0; x < g; x++) {
                var S = this.Nb[x],
                  k = w.insertCell(-1);
                (k.start = S.start.addTime(D * n).addHours(this.Tb())),
                  (k.end = k.start.addTime(n)),
                  (k.resource = S.id),
                  this.cellProperties || (this.cellProperties = {});
                var _ = {};
                (_.resource = k.resource), (_.start = k.start), (_.end = k.end);
                var E = x + "_" + D;
                if (
                  ((_.cssClass = null),
                  (_.html = null),
                  (_.backImage = null),
                  (_.backRepeat = null),
                  (_.backColor = null),
                  (_.business = this.Af(k.start, k.end)),
                  this.cellProperties[E] &&
                    l(this.cellProperties[E], _, [
                      "cssClass",
                      "html",
                      "backImage",
                      "backRepeat",
                      "backColor",
                      "business",
                      "areas",
                      "disabled",
                    ]),
                  "function" == typeof this.onBeforeCellRender)
                ) {
                  var T = {};
                  (T.cell = _), this.onBeforeCellRender(T);
                }
                this.cellProperties[E] = _;
                var A,
                  H = y.Bf(x, D);
                (k.root = this),
                  k.setAttribute("unselectable", "on"),
                  (A = t()),
                  (A.className = y.ca("_cell")),
                  (A.style.position = "relative"),
                  (A.style.height = y.cellHeight + "px"),
                  (A.style.overflow = "hidden"),
                  A.setAttribute("unselectable", "on");
                var M = t();
                (M.className = y.ca("_cell_inner")),
                  A.appendChild(M),
                  k.appendChild(A),
                  (k.onmousedown = this.Ic),
                  (k.onmousemove = this.Xc),
                  (k.onmouseout = this.Wc),
                  a(k, DayPilot.touch.end, this.Je.Cf),
                  (k.oncontextmenu = function () {
                    return (
                      this.selected ||
                        (y.clearSelection(),
                        (v.Kc = v.Gf(this)),
                        y.za.push(this),
                        (v.Lc = this),
                        (v.Aa = this),
                        (v.Ba = this),
                        y.Mc()),
                      "Disabled" === y.timeRangeRightClickHandling,
                      !1
                    );
                  });
                var R = y.Df(x, D);
                A = k.firstChild;
                var C = "Fixed" === this.columnWidthSpec;
                C &&
                  (S.width
                    ? (A.style.width = S.width + "px")
                    : (A.style.width = this.columnWidth + "px")),
                  R && (A.firstChild.style.background = R);
                (H ? H.business : this.Af(k.start, k.end)) &&
                  r(A, y.ca("_cell_business"));
                var B = A.firstChild;
                if (
                  (B && (B.innerHTML = ""),
                  (A.style.backgroundImage = ""),
                  (A.style.backgroundRepeat = ""),
                  H &&
                    (H.html && (B.innerHTML = H.html),
                    H.cssClass && r(A, H.cssClass),
                    H.backImage &&
                      (A.style.backgroundImage = "url('" + H.backImage + "')"),
                    H.backRepeat && (A.style.backgroundRepeat = H.backRepeat),
                    H.areas))
                ) {
                  var P = {};
                  (P.start = k.start),
                    (P.end = k.end),
                    (P.resource = k.resource);
                  var N = u(H.areas).filter(function (e) {
                    return (
                      !(e.end && new DayPilot.Date(e.end) <= k.start) &&
                      !(e.start && new DayPilot.Date(e.start) >= k.end)
                    );
                  });
                  N.forEach(function (e) {
                    if (e.start || e.end) {
                      if (e.start) {
                        var t =
                          new DayPilot.Date(e.start).getTime() -
                          k.start.getTime();
                        e.top = y.Ef(t);
                      }
                      if (e.end) {
                        var n =
                          new DayPilot.Date(e.end).getTime() -
                          k.start.getTime();
                        e.height = y.Ef(n) - e.top;
                      }
                    }
                  }),
                    DayPilot.Areas.attach(A, P, { areas: N });
                }
              }
            }
            (e.onmouseup = this.Zc),
              (e.root = this),
              (e.style.height = i * y.cellHeight + "px"),
              (y.nav.scrollable.style.display = ""),
              (y.Ea().scrollTop = s);
          }),
          (this.Ze = function (e) {
            if (!x.detected) {
              var t = y.getSelection();
              if (t) {
                var n = {};
                if (
                  ((n.start = t.start),
                  (n.end = t.end),
                  (n.resource = t.resource),
                  (n.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  "function" == typeof y.onTimeRangeRightClick &&
                    (y.onTimeRangeRightClick(n), n.preventDefault.value))
                )
                  return !1;
                "ContextMenu" === y.timeRangeRightClickHandling &&
                  y.contextMenuSelection &&
                  y.contextMenuSelection.show(y.getSelection()),
                  "function" == typeof y.onTimeRangeRightClicked &&
                    y.onTimeRangeRightClicked(n);
              }
            }
          }),
          (this.Af = function (e, t) {
            return this.businessBeginsHour < this.businessEndsHour
              ? !(
                  e.getHours() < this.businessBeginsHour ||
                  e.getHours() >= this.businessEndsHour ||
                  6 === e.getDayOfWeek() ||
                  0 === e.getDayOfWeek()
                )
              : e.getHours() >= this.businessBeginsHour ||
                  e.getHours() < this.businessEndsHour;
          }),
          (this.Ye = function (e) {
            (e = e || window.event),
              (e.insideMainD = !0),
              window.event &&
                window.event.srcElement &&
                (window.event.srcElement.inside = !0);
            for (var t = 0; t < v.Hf.length; t++) {
              var n = v.Hf[t];
              n !== y && n.gb && n.gb();
            }
            v.activeCalendar = this;
            var i = y.nav.main;
            y.coords = DayPilot.mo3(i, e);
            var a = DayPilot.mc(e),
              s = y.crosshairType && "Disabled" !== y.crosshairType;
            if (
              (h.moving || h.resizing || h.selecting ? y.hb() : s && y.If(),
              h.resizing)
            )
              y.Jf(a);
            else if (h.moving) {
              if (!h.moving.helper)
                return f(v.movingShadow), void (v.movingShadow = null);
              if (!v.movingShadow) {
                var l = 3;
                if (!(DayPilot.distance(a, v.Kf) > l)) return;
                (v.movingShadow = y.Lb(h.moving, !y.ya.ie)),
                  (v.movingShadow.style.width =
                    v.movingShadow.parentNode.offsetWidth + 1 + "px");
              }
              if (!y.coords) return;
              r(h.moving, y.ca("_event_moving_source"));
              var d = y.cellHeight,
                c = 0,
                u = v.moveOffsetY;
              u || (u = d / 2), "Top" === this.moveBy && (u = 0);
              var p = Math.floor((y.coords.y - u - c + d / 2) / d) * d + c;
              p < c && (p = c);
              var m = y.nav.main,
                g = y.pa ? y.Ha() * y.cellHeight : m.clientHeight,
                b = parseInt(v.movingShadow.style.height);
              p + b > g && (p = g - b);
              var w = y.Mb(y.coords.x);
              w < 0 && (w = 0),
                w >= y.Nb.length && (w = y.Nb.length - 1),
                y.rtl && (w = y.Nb.length - w - 1);
              var x = v.movingShadow,
                C = h.moving.event,
                D = y.rc(C, w, p),
                S = y.eventMovingStartEndFormat;
              "Auto" === S &&
                (S = "Clock24Hours" === k.Nc() ? "H:mm" : "h:mm tt");
              var _ = {};
              (_.e = C),
                (_.start = D.start),
                (_.end = D.end),
                (_.resource = D.resource),
                (_.html = null),
                (_.cssClass = null),
                (_.allowed = !0),
                (_.areaData = h.movingAreaData),
                (_.top = {}),
                (_.top.width = null),
                (_.top.space = 5),
                (_.top.html = _.start.toString(S, k.Oc())),
                (_.top.enabled = y.eventMovingStartEndEnabled),
                (_.bottom = {}),
                (_.bottom.width = null),
                (_.bottom.space = 5),
                (_.bottom.html = _.end.toString(S, k.Oc())),
                (_.bottom.enabled = y.eventMovingStartEndEnabled),
                (_.external = !!v.drag),
                (function () {
                  var e = y.jb;
                  if (
                    !(
                      e &&
                      e.start.getTime() === D.start.getTime() &&
                      e.end.getTime() === D.end.getTime() &&
                      e.resource === D.resource
                    )
                  ) {
                    if (
                      ((x.className = y.ca("_shadow")),
                      (x.firstChild.innerHTML = ""),
                      (y.jb = _),
                      (x.args = _),
                      !y.allowEventOverlap)
                    ) {
                      var t = {
                        id: C.id(),
                        start: _.start,
                        end: _.end,
                        resource: _.resource,
                      };
                      y.events.Pc(t) &&
                        (r(x, y.ca("_shadow_forbidden")), (_.allowed = !1));
                    }
                    if (
                      (y.Qc(_.start, _.end, _.resource) &&
                        (r(x, y.ca("_shadow_forbidden")), (_.allowed = !1)),
                      o(x, y.ca("_shadow_forbidden")),
                      "function" == typeof y.onEventMoving &&
                        _.allowed &&
                        y.onEventMoving(_),
                      h.moving)
                    ) {
                      _.html && (x.firstChild.innerHTML = _.html),
                        _.cssClass && r(x, _.cssClass),
                        _.allowed || r(x, y.ca("_shadow_forbidden")),
                        (v.movingShadow.style.top = p + "px");
                      var n = y.nav.events;
                      w < n.rows[0].cells.length &&
                        w >= 0 &&
                        v.movingShadow.column !== w &&
                        ((v.movingShadow.column = w),
                        v.moveShadow(n.rows[0].cells[w]));
                      var i = w,
                        a = x;
                      y.Uc(a, i, _);
                    }
                  }
                })();
            } else if (v.Jc) {
              var E = y.Mb(y.coords.x, !0),
                T = Math.floor(y.coords.y / y.cellHeight);
              T = DayPilot.Util.atLeast(0, T);
              var A = y.nav.main.rows[T].cells[E];
              if (!h.selecting) {
                var H = v.Jc,
                  M = y.coords;
                (H.x === M.x && H.y === M.y) || (h.selecting = { calendar: y });
              }
              if (!h.selecting) return;
              var a = y.coords,
                R = E;
              R !== v.Kc && (A = y.nav.main.rows[T].cells[v.Kc]);
              var B = h.selecting;
              if (B.last && B.last.x === E && B.last.y === T) return;
              (B.last = { x: E, y: T }),
                a.y < v.Jc.y
                  ? ((y.za = v.Lf(A)), (v.Aa = y.za[0]), (v.Ba = v.Lc))
                  : ((y.za = v.Zd(A)), (v.Aa = v.Lc), (v.Ba = y.za[0])),
                y.Mc();
            }
            if (v.drag) {
              if (
                (v.gShadow && document.body.removeChild(v.gShadow),
                (v.gShadow = null),
                !v.movingShadow && y.coords)
              ) {
                var x = y.Lb(v.drag, !1);
                if (x) {
                  v.movingShadow = x;
                  var M = DayPilot.Date.today(),
                    P = {
                      id: v.drag.id,
                      start: M,
                      end: M.addSeconds(v.drag.duration),
                      text: v.drag.text,
                    },
                    N = v.drag.Mf,
                    L = v.drag.Nf,
                    I = L || N;
                  if (I) {
                    var z = ["duration", "element", "remove", "id", "text"];
                    I === N && z.push("data");
                    for (var O in I) DayPilot.contains(z, O) || (P[O] = I[O]);
                  }
                  var j = new DayPilot.Event(P, y);
                  (j.external = !0),
                    (h.moving = {}),
                    (h.moving.event = j),
                    (h.moving.helper = {});
                }
              }
              e.cancelBubble = !0;
            }
            y.Of(y.coords);
          }),
          (this.Pf = function (e) {
            v.movingShadow.offsetTop, h.moving.event, v.movingShadow.column;
          }),
          (this.Qc = function (e, t, n) {
            return y.Qf(e, t, n).some(function (e) {
              return e.disabled;
            });
          }),
          (this.Qf = function (e, t, n) {
            for (
              var i = [], a = 60 * y.cellDuration * 1e3, r = 0;
              r < y.Nb.length;
              r++
            )
              for (var o = y.Nb[r], s = 0; s < y.Ha(); s++) {
                var l = r + "_" + s,
                  d = y.cellProperties[l],
                  u = o.start.addTime(s * a).addHours(y.Tb()),
                  h = u.addTime(a),
                  f = !n || n === o.id;
                f && c(e, t, u, h) && d && i.push(d);
              }
            return i;
          }),
          (this.Jf = function (e) {
            if (!h.resizing.event)
              return (
                (h.resizing = null),
                f(v.resizingShadow),
                void (v.resizingShadow = null)
              );
            v.resizingShadow || (v.resizingShadow = y.Lb(h.resizing, !1));
            var t = h.resizing.event.calendar.cellHeight,
              n = 0,
              i = e.y - v.Kf.y,
              a = h.resizing.event,
              o = a.start(),
              s = a.end();
            if ("bottom" === h.resizing.dpBorder) {
              var l = Math.floor((v.Rf + v.Sf + i + t / 2) / t) * t - v.Sf + n;
              l < t && (l = t);
              var d = y.pa ? y.Ha() * y.cellHeight : y.nav.main.clientHeight;
              v.Sf + l > d && (l = d - v.Sf),
                (v.resizingShadow.style.height = l + "px"),
                (s = y.nc(a, v.Sf + l));
            } else if ("top" === h.resizing.dpBorder) {
              var c = Math.floor((v.Sf + i - n + t / 2) / t) * t + n;
              c < n && (c = n), c > v.Sf + v.Rf - t && (c = v.Sf + v.Rf - t);
              var l = v.Rf - (c - v.Sf);
              l < t ? (l = t) : (v.resizingShadow.style.top = c + "px"),
                (v.resizingShadow.style.height = l + "px"),
                (o = y.lc(a, c));
            }
            var u = v.resizingShadow,
              p = y.eventResizingStartEndFormat;
            "Auto" === p &&
              (p = "Clock24Hours" === k.Nc() ? "H:mm" : "h:mm tt");
            var m = {};
            if (
              ((m.e = a),
              (m.start = o),
              (m.end = s),
              (m.resource = a.resource()),
              (m.allowed = !0),
              (m.html = null),
              (m.cssClass = null),
              (m.top = {}),
              (m.top.width = null),
              (m.top.space = 5),
              (m.top.html = m.start.toString(p, k.Oc())),
              (m.top.enabled = y.eventResizingStartEndEnabled),
              (m.bottom = {}),
              (m.bottom.width = null),
              (m.bottom.space = 5),
              (m.bottom.html = m.end.toString(p, k.Oc())),
              (m.bottom.enabled = y.eventResizingStartEndEnabled),
              (u.args = m),
              (u.firstChild.innerHTML = ""),
              (u.className = y.ca("_shadow")),
              !y.allowEventOverlap)
            ) {
              var g = {
                id: a.id(),
                start: m.start,
                end: m.end,
                resource: m.resource,
              };
              y.events.Pc(g) &&
                (r(u, y.ca("_shadow_forbidden")), (m.allowed = !1));
            }
            y.Qc(m.start, m.end, m.resource) &&
              (r(u, y.ca("_shadow_forbidden")), (m.allowed = !1)),
              "function" == typeof y.onEventResizing &&
                m.allowed &&
                y.onEventResizing(m),
              m.html && (u.firstChild.innerHTML = m.html),
              m.cssClass && r(u, m.cssClass),
              m.allowed || r(u, y.ca("_shadow_forbidden"));
            var b = a.part.dayIndex,
              w = u;
            y.Uc(w, b, m);
          }),
          (this.temp = {}),
          (this.temp.getPosition = function () {
            var e = y.Uf.Tf();
            if (!e) return null;
            var t = y.Nb[e.x],
              n = {};
            return (
              (n.resource = t.id),
              (n.start = new DayPilot.Date(t.start)
                .addHours(y.Tb(!0))
                .addMinutes(e.y * y.cellDuration)),
              (n.end = n.start.addMinutes(y.cellDuration)),
              n
            );
          }),
          (this.Uf = {}),
          (this.Uf.Tf = function () {
            var e = {};
            if (((e.x = 0), (e.y = 0), !y.coords)) return null;
            e.x = y.Mb(y.coords.x);
            var t = 0,
              n = Math.floor((y.coords.y - t) / y.cellHeight);
            return (e.y = DayPilot.Util.atLeast(0, n)), e.x < 0 ? null : e;
          }),
          (this.Uf.col = function (e, t) {
            var n = {};
            if (((n.left = 0), (n.width = 0), !e)) return null;
            if (!e.rows) return null;
            if (0 === e.rows.length) return null;
            if (0 == e.rows[0].cells.length) return null;
            var i = e.rows[0].cells[t];
            if (!i) return null;
            var a = DayPilot.abs(e),
              r = DayPilot.abs(i);
            return (n.left = r.x - a.x), (n.width = i.offsetWidth), n;
          }),
          (this.If = function () {
            var e = y.nav.hourTable;
            this.hb(),
              this.elements.crosshair || (this.elements.crosshair = []);
            var n = this.Uf.Tf();
            if (n) {
              var i = n.x;
              if (null !== i) {
                var a = Math.floor(
                  (n.y / (60 / y.cellDuration)) *
                    (60 / y.timeHeaderCellDuration)
                );
                if (!(a < 0)) {
                  if (e) {
                    if (a >= e.rows.length) return;
                    var r = t();
                    (r.style.position = "absolute"),
                      (r.style.left = "0px"),
                      (r.style.right = "0px"),
                      (r.style.top = "0px"),
                      (r.style.bottom = "0px"),
                      (r.className = y.ca("_crosshair_left")),
                      e.rows[a].cells[0].firstChild.appendChild(r),
                      this.elements.crosshair.push(r);
                  }
                  if (this.nav.header) {
                    var o = t();
                    (o.style.position = "absolute"),
                      (o.style.left = "0px"),
                      (o.style.right = "0px"),
                      (o.style.top = "0px"),
                      (o.style.bottom = "0px"),
                      (o.className = y.ca("_crosshair_top"));
                    var s = this.nav.header.rows[k.Hd() - 1];
                    s.cells[i] &&
                      (s.cells[i].firstChild.appendChild(o),
                      this.elements.crosshair.push(o));
                  }
                  if ("Header" !== this.crosshairType) {
                    var l = this.nav.crosshair,
                      d = 0,
                      c =
                        Math.floor((y.coords.y - d) / y.cellHeight) *
                          y.cellHeight +
                        d,
                      u = y.cellHeight,
                      h = t();
                    (h.style.position = "absolute"),
                      (h.style.left = "0px"),
                      (h.style.right = "0px"),
                      (h.style.top = c + "px"),
                      (h.style.height = u + "px"),
                      (h.className = y.ca("_crosshair_horizontal")),
                      (h.onmousedown = this.Vf),
                      l.appendChild(h),
                      this.elements.crosshair.push(h);
                    var f = i;
                    DayPilot.browser.ie && (f = y.Nb.length - 1 - i);
                    var v = this.Uf.col(this.nav.main, f);
                    if (((u = y.Fa()), v)) {
                      var p = t();
                      (p.style.position = "absolute"),
                        (p.style.left = v.left + "px"),
                        (p.style.width = v.width + "px"),
                        (p.style.top = "0px"),
                        (p.style.height = u + "px"),
                        (p.className = y.ca("_crosshair_vertical")),
                        (p.onmousedown = this.Vf),
                        l.appendChild(p),
                        this.elements.crosshair.push(p);
                    }
                  }
                }
              }
            }
          }),
          (this.Vf = function (e) {
            var t = y.nav.main;
            y.hb(), (y.coords = DayPilot.mo3(t, e));
            var n = y.Uf.Tf(),
              i = 0,
              a = n.x;
            DayPilot.browser.ie && (a = y.Nb.length - 1 - n.x);
            var r = t.rows[n.y + i].cells[a];
            y.Ic.apply(r, [e]);
          }),
          (this.hb = function () {
            if (
              this.elements.crosshair &&
              0 !== this.elements.crosshair.length
            ) {
              for (var e = 0; e < this.elements.crosshair.length; e++) {
                var t = this.elements.crosshair[e];
                t && t.parentNode && t.parentNode.removeChild(t);
              }
              this.elements.crosshair = [];
            }
          }),
          (this.sb = function () {
            if (this.cellConfig) {
              var e = this.cellConfig;
              if (e.vertical)
                for (var t = 0; t < e.x; t++)
                  for (
                    var n = this.cellProperties[t + "_0"], i = 1;
                    i < e.y;
                    i++
                  )
                    this.cellProperties[t + "_" + i] = n;
              if (e.horizontal)
                for (var i = 0; i < e.y; i++)
                  for (
                    var n = this.cellProperties["0_" + i], t = 1;
                    t < e.x;
                    t++
                  )
                    this.cellProperties[t + "_" + i] = n;
              if (e["default"])
                for (var n = e["default"], i = 0; i < e.y; i++)
                  for (var t = 0; t < e.x; t++)
                    this.cellProperties[t + "_" + i] ||
                      (this.cellProperties[t + "_" + i] = n);
            }
          }),
          (this.Bf = function (e, t) {
            return this.cellProperties
              ? this.cellProperties[e + "_" + t]
              : null;
          }),
          (this.Wf = function (e, t) {
            var n = e + "_" + t;
            return (
              !(!this.cellProperties || !this.cellProperties[n]) &&
              this.cellProperties[n].business
            );
          }),
          (this.Df = function (e, t) {
            var n = e + "_" + t;
            return this.cellProperties && this.cellProperties[n]
              ? this.cellProperties[n].backColor
              : null;
          }),
          (this._a = function () {
            var e = this.nav.header;
            if (e && e.rows)
              for (var t = 0; t < e.rows.length; t++)
                for (var n = e.rows[t], i = 0; i < n.cells.length; i++) {
                  var a = n.cells[i];
                  (a.onclick = null),
                    (a.onmousemove = null),
                    (a.onmouseout = null);
                  var r = a,
                    o = r.domArgs;
                  if (
                    ((r.domArgs = null),
                    "function" == typeof y.onBeforeHeaderDomRemove &&
                      y.onBeforeHeaderDomRemove(o),
                    "function" == typeof y.onBeforeHeaderDomAdd && y.Y.reactDOM)
                  ) {
                    var s = o && o.Be;
                    if (s) {
                      var l = d(o.element);
                      l && (y.Y.Ce(), y.Y.ja(s));
                    }
                  }
                }
            e && (this.qa || DayPilot.pu(e), (e.innerHTML = ""), (e.rows = []));
          }),
          (this.xe = function (e) {
            var t = e + 1,
              n = t === k.Hd(),
              i = this.Gd(t),
              a = 0,
              r = 0,
              o = y.Ga(),
              s = [],
              l = "Fixed" === this.columnWidthSpec,
              d = l ? "px" : "%";
            if (!n)
              for (var c = 0; c < i.length; c++) {
                var u = i[c],
                  h = (o[c], !!u.Rd),
                  f = h ? u.Sd(k.Hd() - t + 1) : 1,
                  v = 0;
                DayPilot.list.for(f, function () {
                  (v += o[a].width), (a += 1);
                }),
                  s.push({ left: r, width: v, unit: d }),
                  (r += v);
              }
            return s;
          }),
          (this.Xf = function (e) {
            function n(n) {
              var i = a[n],
                o = c[n];
              if (o) {
                var v = {};
                (v.header = {}),
                  (v.header.cssClass = null),
                  (v.column = y.cc(i, y));
                var p = null;
                y.Kb() &&
                  "function" == typeof y.onBeforeHeaderRender &&
                  (l(i, v.header, [
                    "id",
                    "start",
                    "name",
                    "html",
                    "backColor",
                    "toolTip",
                    "areas",
                    "children",
                  ]),
                  y.onBeforeHeaderRender(v),
                  l(v.header, i, [
                    "html",
                    "backColor",
                    "toolTip",
                    "areas",
                    "cssClass",
                  ]));
                var m = !!i.Rd,
                  g = o.width,
                  x = o.left;
                s || ((x = f[n].left), (g = f[n].width));
                var C = t();
                (C.style.position = "absolute"),
                  (C.style.top = u + "px"),
                  (C.style.left = x + o.unit),
                  (C.style.right = x + o.unit),
                  (C.style.width = g + o.unit),
                  (C.data = i),
                  h.push(C),
                  m &&
                    ((C.onclick = y.dc),
                    (C.onmousemove = y.ec),
                    (C.onmouseout = y.gc),
                    i.toolTip && (C.title = i.toolTip)),
                  (C.style.overflow = "hidden"),
                  (C.style.height = k.Ae() + "px");
                var D = t();
                D.setAttribute("unselectable", "on"),
                  (D.style.userSelect = "none"),
                  (D.style.position = "relative"),
                  (D.style.height = k.Ae() + "px"),
                  (D.className = y.ca("_colheader")),
                  i.cssClass && DayPilot.Util.addClass(D, i.cssClass),
                  y.headerTextWrappingEnabled ||
                    (D.style.whiteSpace = "nowrap");
                var S = t();
                if (
                  ((S.className = y.ca("_colheader_inner")),
                  i.backColor && (S.style.background = i.backColor),
                  D.appendChild(S),
                  C.appendChild(D),
                  k.me() &&
                    "undefined" != typeof w &&
                    w.ne &&
                    !(function () {
                      var t = {};
                      (t.column = r[n]),
                        (t.x = n),
                        (t.y = e),
                        (t.div = C),
                        w.ne(t);
                    })(),
                  k.$d() &&
                    m &&
                    "undefined" != typeof b &&
                    b._d &&
                    !(function () {
                      var t = {};
                      (t.column = r[n]),
                        (t.x = n),
                        (t.y = e),
                        (t.div = C),
                        b._d(t);
                    })(),
                  y.Yf(D, i),
                  "function" == typeof y.onBeforeHeaderDomAdd &&
                    ((v.element = null),
                    y.onBeforeHeaderDomAdd(v),
                    (p = v.element)),
                  (C.domArgs = v),
                  p)
                ) {
                  var _ = S;
                  v.Be = _;
                  d(p) ? (y.Y.Ce(), y.Y.X(p, _)) : _.appendChild(p);
                } else m && (D.firstChild.innerHTML = i.html || "");
                y.nav.header.appendChild(C);
              }
            }
            var i = e + 1,
              a = this.Gd(i),
              r = this.Gd(i, !0),
              o = a.length,
              s = i === k.Hd(),
              c = y.Ga(),
              u = e * k.Ae(),
              h = [];
            y.nav.header.rows.push({ cells: h });
            var f = y.xe(e);
            if (DayPilot.browser.ie) for (var v = o - 1; v >= 0; v--) n(v);
            else for (var v = 0; v < o; v++) n(v);
          }),
          (this.Zf = function (e, n) {
            for (
              var i = n
                  ? this.nav.header.insertRow(-1)
                  : this.nav.header.rows[e - 1],
                a = this.Gd(e),
                r = a.length,
                o = e === k.Hd(),
                s = 0;
              s < r;
              s++
            ) {
              var d = a[s];
              if (y.Kb() && "function" == typeof y.onBeforeHeaderRender) {
                var c = {};
                (c.header = {}),
                  l(d, c.header, [
                    "id",
                    "start",
                    "name",
                    "html",
                    "backColor",
                    "toolTip",
                    "areas",
                    "children",
                  ]),
                  this.onBeforeHeaderRender(c),
                  l(c.header, d, ["html", "backColor", "toolTip", "areas"]);
              }
              var u = !!d.Rd,
                h = n ? i.insertCell(-1) : i.cells[s];
              if (((h.data = d), o));
              else {
                var f = 1;
                u && (f = d.Sd(k.Hd() - e + 1)), (h.colSpan = f);
              }
              u &&
                ((h.onclick = this.dc),
                (h.onmousemove = this.ec),
                (h.onmouseout = this.gc),
                d.toolTip && (h.title = d.toolTip)),
                (h.style.overflow = "hidden"),
                (h.style.padding = "0px"),
                (h.style.border = "0px none"),
                (h.style.height = k.Ae() + "px");
              var v = n ? t() : h.firstChild;
              if (n) {
                v.setAttribute("unselectable", "on"),
                  (v.style.MozUserSelect = "none"),
                  (v.style.KhtmlUserSelect = "none"),
                  (v.style.WebkitUserSelect = "none"),
                  (v.style.position = "relative"),
                  (v.style.height = k.Ae() + "px"),
                  (v.className = y.ca("_colheader"));
                var p = t();
                (p.className = y.ca("_colheader_inner")),
                  d.backColor && (p.style.background = d.backColor),
                  v.appendChild(p),
                  h.appendChild(v);
              } else v.style.height = k.Ae() + "px";
              this.Yf(v, d), u && (v.firstChild.innerHTML = d.html);
            }
          }),
          (this.Yf = function (e, t) {
            for (var n = [], i = 0; i < e.childNodes.length; i++) {
              var a = e.childNodes[i];
              a.isActiveArea && n.push(a);
            }
            for (var i = 0; i < n.length; i++) {
              var a = n[i];
              f(a);
            }
            if (t.areas)
              for (var r = t.areas, i = 0; i < r.length; i++) {
                var o = r[i];
                if (DayPilot.Areas.isVisible(o)) {
                  var s = y.cc(t),
                    l = DayPilot.Areas.createArea(e, s, o);
                  e.appendChild(l);
                }
              }
          }),
          (this.vb = function () {
            y.pa ? y.$f() : y._f();
          }),
          (this.$f = function () {
            var e = y.nav.header;
            if ((y._a(), this.showHeader)) {
              var n = this.Gd(k.Hd(), !0),
                i = n.length;
              this.ag = !0;
              var a = y.nav.corner;
              if (a) {
                this.qa || DayPilot.pu(a.firstChild);
                var r = {};
                r.html = y.Ka(y.cornerText, y.cornerHtml);
                var o = null;
                if (
                  (y.ab(),
                  "function" == typeof y.onBeforeCornerRender &&
                    y.onBeforeCornerRender(r),
                  "function" == typeof y.onBeforeCornerDomAdd &&
                    ((r.element = null),
                    y.onBeforeCornerDomAdd(r),
                    (o = r.element)),
                  o)
                ) {
                  var s = a.firstChild;
                  s.domArgs = r;
                  d(o) ? (y.Y.Ce(), y.Y.X(o, s)) : s.appendChild(o);
                } else a.firstChild.innerHTML = r.html || "";
              }
              for (var l = 0; l < k.Hd(); l++) this.Xf(l);
              if (this.showAllDayEvents) {
                var c = [];
                y.nav.header.rows.push({ cells: c });
                for (var u = y.Ga(), h = k.Hd() * k.Ae(), f = 0; f < i; f++) {
                  var v = n[f],
                    p = u[f],
                    m = t();
                  (m.data = v),
                    (m.style.overflow = "hidden"),
                    (m.style.position = "absolute"),
                    (m.style.left = p.left + p.unit),
                    (m.style.right = p.left + p.unit),
                    (m.style.width = p.width + p.unit),
                    (m.style.top = h + "px");
                  var g = t();
                  g.setAttribute("unselectable", "on"),
                    (g.style.userSelect = "none"),
                    (g.style.overflow = "hidden"),
                    (g.style.position = "relative"),
                    (g.style.height = k.qf() + "px"),
                    (g.className = this.ca("_alldayheader"));
                  var b = t();
                  (b.className = this.ca("_alldayheader_inner")),
                    g.appendChild(b),
                    m.appendChild(g),
                    (g.style.height = k.qf() + "px"),
                    c.push(m),
                    e.appendChild(m);
                }
              }
            }
          }),
          (this._f = function () {
            if (this.showHeader) {
              var e = this.nav.header,
                n = !0,
                i = this.Gd(k.Hd(), !0),
                a = i.length;
              for (
                f(this.nav.header), this.tf();
                this.ag && e && e.rows && e.rows.length > 0;

              )
                this.qa || DayPilot.pu(e.rows[0]), e.deleteRow(0);
              this.ag = !0;
              var r = y.nav.corner;
              if (r) {
                this.qa || DayPilot.pu(r.firstChild);
                var o = {};
                (o.html = y.Ka(y.cornerText, y.cornerHtml)),
                  "function" == typeof y.onBeforeCornerRender &&
                    y.onBeforeCornerRender(o),
                  (r.firstChild.innerHTML = o.html ? o.html : "");
              }
              for (var s = 0; s < k.Hd(); s++) this.Zf(s + 1, n);
              if (this.showAllDayEvents)
                for (var l = this.nav.header.insertRow(-1), s = 0; s < a; s++) {
                  var d = i[s],
                    c = l.insertCell(-1);
                  (c.data = d),
                    (c.style.padding = "0px"),
                    (c.style.border = "0px none"),
                    (c.style.overflow = "hidden");
                  var u = t();
                  u.setAttribute("unselectable", "on"),
                    (u.style.MozUserSelect = "none"),
                    (u.style.KhtmlUserSelect = "none"),
                    (u.style.WebkitUserSelect = "none"),
                    (u.style.overflow = "hidden"),
                    (u.style.position = "relative"),
                    (u.style.height = k.qf() + "px"),
                    (u.className = this.ca("_alldayheader"));
                  var h = t();
                  (h.className = this.ca("_alldayheader_inner")),
                    u.appendChild(h),
                    c.appendChild(u),
                    (u.style.height = k.qf() + "px");
                }
            }
          }),
          (this.Qa = function (e) {
            var t = e ? 0 : 100;
            this.callbackTimeout && window.clearTimeout(this.callbackTimeout),
              (this.callbackTimeout = window.setTimeout(function () {
                y.loadingLabelVisible &&
                  y.nav.loading &&
                  ((y.nav.loading.innerHTML = y.Ka(
                    this.loadingLabelText,
                    this.loadingLabelHtml
                  )),
                  (y.nav.loading.style.top = y.Ub() + 5 + "px"),
                  (y.nav.loading.style.display = ""));
              }, t));
          }),
          (this.nb = function () {
            this.callbackTimeout && window.clearTimeout(this.callbackTimeout),
              this.nav.loading && (this.nav.loading.style.display = "none");
          }),
          (this.bg = function (e) {
            var t = y.Tb(!0);
            return (
              e < t && (e += 24), (e - t) * (60 / y.cellDuration) * y.cellHeight
            );
          }),
          (this.kd = function (e) {
            var t = y.Tb(!0);
            return e / (60 / y.cellDuration) / y.cellHeight + t;
          }),
          (this.cg = function () {
            var e = this.Ea(),
              t = this.initScrollPos;
            if (!t) {
              var n = this.businessBeginsHour;
              t = y.bg(n);
            }
            (e.root = this),
              (e.onscroll = this.$c),
              y.Ja(),
              0 === e.scrollTop ? (e.scrollTop = t - this.Sc()) : this.$c();
          }),
          (this.dg = function () {
            var e = y.nav.top;
            return !!e && e.offsetWidth > 0 && e.offsetHeight > 0;
          }),
          (this.eg = function () {
            var e = y.dg;
            return e()
              ? void y.fg()
              : void (
                  y.Va ||
                  (y.Va = setInterval(function () {
                    e() && (clearInterval(y.Va), y.cg(), y.Cb(), y.fg());
                  }, 100))
                );
          }),
          (this.scrollToY = function (e) {
            this.Ea().scrollTop = e;
          }),
          (this.scrollToHour = function (e) {
            var t = y.bg(e);
            this.Ea().scrollTop = t - this.Sc();
          }),
          (this.Ea = function () {
            return "Fixed" === this.columnWidthSpec || this.oa
              ? this.nav.bottomRight
              : this.nav.scroll;
          }),
          (this.onCallbackError = function (e, t) {
            alert("Error!\r\nResult: " + e + "\r\nContext:" + t);
          }),
          (this.Cb = function () {
            if (y.showHeader) {
              var e = this.rf(),
                n = !!this.nav.cornerRight;
              if (this.oa) {
                this.nav.unifiedCornerRight && f(this.nav.unifiedCornerRight);
                var i = (y.Ea(), y.nav.main.getBoundingClientRect().width),
                  a = y.df();
                if ("100%" !== a && parseInt(a) < i) return;
                var r,
                  o = DayPilot.sw(this.nav.bottomRight);
                y.pa
                  ? ((r = t()),
                    (r.style.position = "absolute"),
                    (r.style.left = i + "px"),
                    (r.style.right = i + "px"),
                    (r.style.height = y.Ub() + "px"),
                    y.nav.headerParent.appendChild(r),
                    (y.nav.unifiedCornerRight = r),
                    (y.nav.header.style.width = i + "px"),
                    y.nav.allday && (y.nav.allday.style.width = i + "px"))
                  : ((this.nav.unifiedCornerRight =
                      this.nav.header.rows[0].insertCell(-1)),
                    (r = this.nav.unifiedCornerRight),
                    (r.rowSpan = this.nav.header.rows.length)),
                  (r.style.width = o + "px");
                var s = t();
                (s.className = y.ca("_cornerright")),
                  s.setAttribute("unselectable", "on"),
                  (s.style.overflow = "hidden"),
                  (s.style.height = this.Ub() + "px"),
                  (s.style.position = "relative");
                var l = t();
                (l.className = y.ca("_cornerright_inner")),
                  s.appendChild(l),
                  r.appendChild(s);
                return void (
                  !("Fixed" === this.columnWidthSpec) &&
                  this.nav.allday &&
                  (y.rtl
                    ? (this.nav.allday.style.left = o + "px")
                    : (this.nav.allday.style.right = o + "px"))
                );
              }
              if (e !== n)
                if (e) this.uf();
                else {
                  if (
                    this.nav.fullHeader &&
                    3 === this.nav.fullHeader.rows[0].cells.length
                  ) {
                    var r = this.nav.fullHeader.rows[0].cells[2];
                    r.parentNode && r.parentNode.removeChild(r);
                  }
                  this.nav.cornerRight = null;
                }
              var d = this.nav.cornerRight;
              if (d) {
                var o = DayPilot.sw(y.Vb());
                return d && (d.style.width = o + "px"), o;
              }
            }
          }),
          (this.Jb = function (e) {
            if (
              (e && (this.autoRefreshEnabled = !0),
              this.autoRefreshEnabled && !(this.ta >= this.autoRefreshMaxCount))
            ) {
              this.Xa();
              var t = this.autoRefreshInterval;
              if (!t || t < 10)
                throw new DayPilot.Exception(
                  "The minimum autoRefreshInterval is 10 seconds"
                );
              this.autoRefreshTimeout = window.setTimeout(function () {
                y.gg();
              }, 1e3 * this.autoRefreshInterval);
            }
          }),
          (this.Xa = function () {
            this.autoRefreshTimeout &&
              window.clearTimeout(this.autoRefreshTimeout);
          }),
          (this.gg = function () {
            if (!(h.resizing || h.moving || v.drag || h.selecting)) {
              var e = !1;
              if ("function" == typeof this.onAutoRefresh) {
                var t = {};
                (t.i = this.ta),
                  (t.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  y.onAutoRefresh(t),
                  t.preventDefault.value && (e = !0);
              }
              !e && this.ia() && this.commandCallBack(this.autoRefreshCommand),
                this.ta++;
            }
            this.ta < this.autoRefreshMaxCount &&
              (this.autoRefreshTimeout = window.setTimeout(function () {
                y.gg();
              }, 1e3 * this.autoRefreshInterval));
          }),
          (this.cb = function () {
            y.Hb();
          }),
          (this.Hb = function () {
            y.Bb(),
              "Parent100Pct" === y.heightSpec &&
                y.setHeight(parseInt(y.nav.top.clientHeight, 10)),
              y.Cb(),
              y.Ib(),
              y.Ja();
          }),
          (this.hg = null),
          (this.ig = null),
          (y.Wa = null),
          (this.fg = function () {
            var e = function () {
              y.Hb(), y.$c();
            };
            if (y.watchWidthChanges) {
              if ("function" == typeof ResizeObserver) {
                if (y.Wa) return;
                var t = new ResizeObserver(e);
                return t.observe(y.nav.top), void (y.Wa = t);
              }
              if (!y.ig) {
                var n = function () {
                  return y.nav && y.nav.top
                    ? y.hg
                      ? (y.hg.width !== y.nav.top.offsetWidth &&
                          ((y.hg.changed = !0),
                          (y.hg.counter = 0),
                          (y.hg.width = y.nav.top.offsetWidth)),
                        y.hg.changed && (y.hg.counter += 1),
                        void (
                          y.hg.changed &&
                          y.hg.counter > 0 &&
                          ((y.hg.changed = !1), e())
                        ))
                      : ((y.hg = {}),
                        (y.hg.counter = 0),
                        (y.hg.changed = !1),
                        void (y.hg.width = y.nav.top.offsetWidth))
                    : void clearInterval(y.ig);
                };
                (this.ig = setInterval(n, 200)), n();
              }
            }
          }),
          (this.jg = function () {
            v.kg ||
              ((v.kg = !0),
              a(document, "mousemove", v.lg),
              a(document, "mouseup", v.mg),
              i(document, DayPilot.touch.move, v.ng),
              a(document, DayPilot.touch.end, v.og)),
              a(window, "resize", this.cb);
          }),
          (this.Ie = function (e) {
            if (!x.active && !x.using) {
              e = e || window.event;
              var t = DayPilot.Util.mouseButton(e);
              if (v.editing) return void v.editing.blur();
              if (
                ("undefined" != typeof DayPilot.Bubble &&
                  (DayPilot.Bubble.hideActive(),
                  DayPilot.Bubble.cancelShowing()),
                ("n-resize" !== this.style.cursor &&
                  "s-resize" !== this.style.cursor) ||
                  !t.left)
              ) {
                if (
                  ("move" === this.style.cursor ||
                    ("Full" === y.moveBy && this.event.client.moveEnabled())) &&
                  t.left
                ) {
                  h.moving = this;
                  var n = (h.moving.helper = {});
                  (n.oldColumn = y.Nb[this.event.part.dayIndex].id),
                    (v.Kf = DayPilot.mc(e)),
                    (v.Sf = this.offsetTop);
                  var i = DayPilot.mo3(this, e);
                  i ? (v.moveOffsetY = i.y) : (v.moveOffsetY = 0),
                    (y.nav.top.style.cursor = this.style.cursor);
                }
              } else
                (h.resizing = this),
                  (v.Kf = DayPilot.mc(e)),
                  (v.Rf = this.offsetHeight),
                  (v.Sf = this.offsetTop),
                  (y.nav.top.style.cursor = this.style.cursor);
              return !1;
            }
          }),
          (this.pg = function (e) {
            var t = this.ra.events,
              n = this.events.list[e],
              i = {};
            for (var a in n) i[a] = n[a];
            if (y.showEventStartEnd) {
              var r =
                  n.start.getDatePart().getTime() ===
                  n.end.getDatePart().getTime(),
                o = r ? k.Oc().timePattern : k.Oc().dateTimePattern,
                s = n.start.toString(o),
                l = n.end.toString(o);
              i.html = y.Ka(i.text) + " (" + s + " - " + l + ")";
            }
            if ("function" == typeof this.onBeforeEventRender) {
              var d = {};
              (d.e = i), (d.data = i), this.onBeforeEventRender(d);
            }
            t[e] = i;
          }),
          (this.qg = null),
          (this.Of = function (e) {
            function t(e, t) {
              return 1 - e / t;
            }
            var n = h.moving || h.resizing || h.selecting,
              i = "Always" === y.autoScroll,
              a = "Drag" === y.autoScroll && n;
            if (i || a) {
              var r = y.nav.bottomRight;
              (e.x -= r.scrollLeft), (e.y -= r.scrollTop);
              var o = r.clientWidth,
                s = r.clientHeight,
                l = 30,
                d = e.x < l ? e.x : 0,
                c = o - e.x < l ? o - e.x : 0,
                u = e.y < l ? e.y : 0,
                f = s - e.y < l ? s - e.y : 0,
                v = 0,
                p = 0,
                m = 50;
              d && (v = -50 * t(d, l)),
                c && (v = m * t(c, l)),
                u && (p = (-50 * t(u, l)) / 2),
                f && (p = (m * t(u, l)) / 2),
                v || p ? y.rg(v, p) : y.ib();
            }
          }),
          (this.rg = function (e, t) {
            this.ib(), this.sg(e, t);
          }),
          (this.tg = function (e) {
            if (!e) return !1;
            var t = y.nav.bottomRight,
              n = t.scrollWidth,
              i = t.scrollLeft,
              a = t.clientWidth,
              r = i + a;
            return (
              !(e < 0 && i <= 0) &&
              !(e > 0 && r >= n) &&
              ((t.scrollLeft += e), (y.coords.x += e), y.ug(), !0)
            );
          }),
          (this.vg = function (e) {
            if (!e) return !1;
            var t = y.nav.bottomRight,
              n = t.scrollHeight,
              i = t.scrollTop,
              a = t.clientHeight,
              r = i + a;
            return (
              !(e < 0 && i <= 0) &&
              !(e > 0 && r >= n) &&
              ((t.scrollTop += e), (y.coords.y += e), y.ug(), !0)
            );
          }),
          (this.ug = function () {}),
          (this.sg = function (e, t) {
            if (this.tg(e) || this.vg(t)) {
              var n = function (e, t) {
                return function () {
                  y.sg(e, t);
                };
              };
              this.wg = window.setTimeout(n(e, t), 200);
            }
          }),
          (this.ib = function () {
            y.wg && (window.clearTimeout(y.wg), (y.wg = null));
          }),
          (this.Je = {});
        var x = y.Je;
        (x.active = !1),
          (x.start = null),
          (x.timeout = null),
          (x.startcell = null),
          (x.relativeCoords = function (e) {
            return x.xg(e);
          }),
          (x.startResizing = function (e, t, n) {
            x.oe(e, t, n);
          }),
          (x.startMoving = function (e, t) {
            x.ae(e, t);
          }),
          (this.Je.Tf = function (e) {
            var t, n;
            e.touches
              ? ((t = e.touches[0].pageX), (n = e.touches[0].pageY))
              : ((t = e.pageX), (n = e.pageY));
            var i = DayPilot.abs(y.nav.main),
              a = { x: t - i.x, y: n - i.y },
              r = y.nav.main.clientWidth / y.Nb.length,
              o = Math.floor(a.y / y.cellHeight);
            return (
              (o = DayPilot.Util.atLeast(0, o)),
              (o = DayPilot.Util.atMost(y.Ha() - 1, o)),
              {
                pageX: t,
                pageY: n,
                x: Math.floor(a.x / r),
                y: o,
                toString: function () {
                  return "x: " + this.x + " y:" + this.y;
                },
              }
            );
          }),
          (this.Je.yg = function (e) {
            var t = y.nav.main.rows[e.y].cells[e.x];
            (x.startcell = e),
              y.clearSelection(),
              (v.Kc = e.x),
              y.za.push(t),
              (v.Lc = t),
              (v.Aa = t),
              (v.Ba = t),
              (h.selecting = { calendar: y }),
              y.Mc();
          }),
          (this.Je.zg = function (e) {
            var t = v.Kc,
              n = y.nav.main.rows[e.y].cells[t];
            y.clearSelection(),
              (h.selecting = { calendar: y }),
              e.y < x.startcell.y
                ? ((y.za = v.Lf(n)), (v.Aa = y.za[0]), (v.Ba = v.Lc))
                : ((y.za = v.Zd(n)), (v.Aa = v.Lc), (v.Ba = y.za[0])),
              y.Mc();
          }),
          (this.Je.detected = !1),
          (this.Je.$e = function (e) {
            if (!s(e)) {
              var t = x.Tf(e);
              if (
                !(
                  t.x < 0 ||
                  ((x.start = !0),
                  (x.detected = !0),
                  x.active || e.touches.length > 1)
                )
              ) {
                (x.using = !0), (x.startCoords = t);
                var n = y.tapAndHoldTimeout;
                x.timeout = window.setTimeout(function () {
                  switch (
                    (e.preventDefault(),
                    (x.active = !0),
                    (x.start = !1),
                    y.timeRangeTapAndHoldHandling)
                  ) {
                    case "Select":
                      x.yg(t);
                      break;
                    case "ContextMenu":
                      x.yg(t),
                        (x.active = !1),
                        y.contextMenuSelection &&
                          y.contextMenuSelection.show(y.getSelection());
                  }
                }, n);
              }
            }
          }),
          (this.Je.Ag = function (e) {}),
          (this.Je.Cf = function (e) {
            if (!x.active)
              return (
                window.clearTimeout(x.timeout),
                void (
                  x.start &&
                  !(function (e) {
                    if ("Disabled" !== y.timeRangeSelectedHandling) {
                      y.clearSelection(),
                        (y.za = [e]),
                        (v.Aa = e),
                        (v.Ba = e),
                        y.Mc();
                      var t = y.getSelection();
                      (t.toString = function () {
                        return "start: " + this.start + "\nend: " + this.end;
                      }),
                        setTimeout(function () {
                          y.Ac(t.start, t.end, t.resource);
                        }, 10);
                    }
                  })(this)
                )
              );
            e.preventDefault(),
              e.stopPropagation(),
              (x.startcell = null),
              (x.start = !1);
            var t = y.getSelection();
            (t.toString = function () {
              return "start: " + this.start + "\nend: " + this.end;
            }),
              y.Ac(t.start, t.end, t.resource),
              window.setTimeout(function () {
                x.active = !1;
              }, 500);
          }),
          (this.Je.ae = function (e, t) {
            (h.moving = e),
              ((h.moving.helper = {}).oldColumn =
                y.Nb[e.event.part.dayIndex].id),
              (v.Kf = t),
              (v.Sf = this.offsetTop);
            var n = DayPilot.abs(e);
            (v.moveOffsetY = t.y - n.y),
              v.movingShadow ||
                ((v.movingShadow = y.Lb(h.moving, !y.ya.ie)),
                (v.movingShadow.style.width =
                  v.movingShadow.parentNode.offsetWidth + 1 + "px"));
          }),
          (this.Je.oe = function (e, t, n) {
            (h.resizing = e),
              (e.dpBorder = t),
              (v.Kf = n),
              (v.Rf = e.offsetHeight),
              (v.Sf = e.offsetTop);
          }),
          (this.Je.Bg = function (e) {
            y.Jf(e);
          }),
          (this.Je.Cg = function () {
            var e = y.coords,
              t = y.cellHeight,
              n = 0,
              i = v.moveOffsetY;
            i || (i = t / 2);
            var a = Math.floor((e.y - i - n + t / 2) / t) * t + n;
            a < n && (a = n);
            var r = (y.nav.main, y.Fa()),
              o = parseInt(v.movingShadow.style.height);
            a + o > r && (a = r - o),
              (v.movingShadow.style.top = a + "px"),
              (v.movingShadow.allowed = !0);
            var s = y.Mb(y.coords.x);
            s < 0 && (s = 0);
            var l = y.nav.events;
            s < l.rows[0].cells.length &&
              s >= 0 &&
              v.movingShadow.column !== s &&
              ((v.movingShadow.column = s), v.moveShadow(l.rows[0].cells[s]));
          }),
          (this.Je.onEventTouchStart = function (e) {
            if (!x.active && !s(e)) {
              e.stopPropagation(),
                (x.preventEventTap = !1),
                (x.using = !0),
                (x.startCoords = x.Tf(e));
              var t = this,
                n = e.touches ? e.touches[0].pageX : e.pageX,
                i = e.touches ? e.touches[0].pageY : e.pageY,
                a = { x: n, y: i, div: this };
              y.coords = x.xg(e);
              var r = y.tapAndHoldTimeout;
              x.timeout = window.setTimeout(function () {
                var n = t.event;
                switch (((x.active = !0), y.eventTapAndHoldHandling)) {
                  case "Move":
                    n.client.moveEnabled() && x.ae(t, a);
                    break;
                  case "ContextMenu":
                    var i = n.client.contextMenu();
                    DayPilot.Menu && DayPilot.Menu.touchPosition(e),
                      i ? i.show(n) : y.contextMenu && y.contextMenu.show(n);
                }
              }, r);
            }
          }),
          (this.Je._e = function (e) {
            if (!s(e)) {
              if (((x.start = !1), x.timeout)) {
                var t = x.Tf(e);
                t &&
                  x.startCoords &&
                  ((t.pageX === x.startCoords.pageX &&
                    t.pageY === x.startCoords.pageY) ||
                    window.clearTimeout(y.Je.timeout));
              }
              if (h.moving && v.movingShadow)
                return e.preventDefault(), (y.coords = x.xg(e)), void x.Cg();
              if (h.resizing) {
                e.preventDefault();
                var n = e.touches ? e.touches[0] : e,
                  t = { x: n.pageX, y: n.pageY };
                return void x.Bg(t);
              }
              if (x.startcell) {
                if ((e.preventDefault(), !x.active))
                  return void window.clearTimeout(x.timeout);
                var t = x.Tf(e);
                x.zg(t);
              }
              x.preventEventTap = !0;
            }
          }),
          (this.Je.xg = function (e) {
            var t = y.nav.main,
              n = e.touches ? e.touches[0].pageX : e.pageX,
              i = e.touches ? e.touches[0].pageY : e.pageY,
              a = DayPilot.abs(t);
            return {
              x: n - a.x,
              y: i - a.y,
              toString: function () {
                return "x: " + this.x + ", y:" + this.y;
              },
            };
          }),
          (this.Je.af = function (e) {
            if (!s(e))
              if (h.moving) {
                (x.active = !1), e.preventDefault(), e.stopPropagation();
                var t = v.movingShadow.offsetTop,
                  n = h.moving.event,
                  i = n.calendar;
                i.Vc(v.movingShadow);
                var a = v.movingShadow.column,
                  r = v.movingShadow;
                if (
                  (o(h.moving, i.ca("_event_moving_source")),
                  (h.moving = null),
                  (v.movingShadow = null),
                  !r.allowed)
                )
                  return void i.tc();
                n.calendar.sc(n, a, t, e, v.drag);
              } else if (x.startcell) {
                if (!x.active) return void window.clearTimeout(x.timeout);
                e.preventDefault(), (x.startcell = null);
                var l = i.getSelection();
                (l.toString = function () {
                  return "start: " + this.start + "\nend: " + this.end;
                }),
                  i.Ac(l.start, l.end, l.resource),
                  window.setTimeout(function () {
                    x.active = !1;
                  }, 500);
              }
          }),
          (this.Je.onEventTouchMove = function (e) {
            x.preventEventTap = !0;
          }),
          (this.Je.onEventTouchEnd = function (e) {
            if (!s(e)) {
              if (!x.active) {
                if (x.preventEventTap) return;
                return (
                  window.clearTimeout(x.timeout), void y.Yb(this, !1, !1, e)
                );
              }
              return (
                (x.active = !1),
                x.timeout ? void window.clearTimeout(x.timeout) : void 0
              );
            }
          }),
          (this.Ge = function (e) {
            var t = 5,
              n = 10,
              i = "Top" === y.moveBy;
            if ("undefined" != typeof v) {
              var a = DayPilot.mo3(this, e);
              if (a) {
                y.eventOffset = a;
                var o = this;
                if (
                  (o.active || r(o, y.ca("_event_hover")),
                  !h.resizing && !h.moving)
                ) {
                  var s = this.isFirst,
                    l = this.isLast;
                  if (
                    "Disabled" !== y.moveBy &&
                    "None" !== y.moveBy &&
                    (!i && a.x <= n && this.event.client.moveEnabled()
                      ? s
                        ? (this.style.cursor = "move")
                        : (this.style.cursor = "not-allowed")
                      : !i && a.y <= t && this.event.client.resizeEnabled()
                      ? s
                        ? ((this.style.cursor = "n-resize"),
                          (this.dpBorder = "top"))
                        : (this.style.cursor = "not-allowed")
                      : i && a.y <= n && this.event.client.moveEnabled()
                      ? (this.style.cursor = "move")
                      : this.offsetHeight - a.y <= t &&
                        this.event.client.resizeEnabled()
                      ? l
                        ? ((this.style.cursor = "s-resize"),
                          (this.dpBorder = "bottom"))
                        : (this.style.cursor = "not-allowed")
                      : h.resizing ||
                        h.moving ||
                        (this.event.client.clickEnabled()
                          ? (this.style.cursor = "pointer")
                          : (this.style.cursor = "default")),
                    "undefined" != typeof DayPilot.Bubble &&
                      y.bubble &&
                      "Disabled" !== y.eventHoverHandling &&
                      ("default" === this.style.cursor ||
                        "pointer" === this.style.cursor))
                  ) {
                    (this.Dg && a.x === this.Dg.x && a.y === this.Dg.y) ||
                      ((this.Dg = a), y.bubble.showEvent(this.event));
                  }
                }
              }
            }
          }),
          (this.He = function (e) {
            o(this, y.ca("_event_hover")),
              y.bubble && y.bubble.hideOnMouseOut(),
              DayPilot.Areas.hideAreas(this, e);
          }),
          (this.Eg = null),
          (this.Eb = function () {
            if (this.showCurrentTime) {
              this.Fg();
              var e = new DayPilot.Date().addMinutes(y.showCurrentTimeOffset);
              if ("Full" === y.showCurrentTimeMode) this.Gg(e);
              else {
                if ("Day" !== y.showCurrentTimeMode)
                  throw new DayPilot.Exception(
                    "Invalid DayPilot.Calendar.showCurrentTimeMode value: " +
                      y.showCurrentTimeMode
                  );
                this.Hg(e);
              }
              if (this.nav.events && !this.Eg) {
                this.Eg = setTimeout(function () {
                  (y.Eg = null), y.Eb();
                }, 3e4);
              }
            }
          }),
          (this.Fg = function () {
            f(y.elements.separators), (y.elements.separators = []);
          }),
          (this.Hg = function (e) {
            var n = e.getTime(),
              i = y.nav.events;
            if (i)
              for (var a = 0; a < y.Nb.length; a++) {
                var r = y.Nb[a],
                  o = y.Pb(!0),
                  s = new DayPilot.Date(r.start).addHours(this.Tb(!0)),
                  l = s.getTime(),
                  d = s.addTime(o),
                  c = d.getTime();
                if (l <= n && n <= c) {
                  var u = this.Rc(e, r.start).top - 1 - y.Sc(),
                    h = i.rows[0].cells[a],
                    f = h.separators,
                    v = t();
                  (v.style.position = "absolute"),
                    (v.style.top = u + "px"),
                    (v.style.height = "1px"),
                    (v.style.left = "0px"),
                    (v.style.right = "0px"),
                    (v.className = y.ca("_now")),
                    f.insertBefore(v, f.firstChild),
                    y.elements.separators.push(v);
                }
              }
          }),
          (this.Gg = function (e) {
            var n = e.getTime();
            if (y.nav.events) {
              var i = y.Nb[0];
              if (i)
                for (
                  var a = i.start.getDatePart().addTime(e.getTimePart()),
                    r = this.Rc(a, i.start).top - 1,
                    o = 0;
                  o < y.Nb.length;
                  o++
                ) {
                  var i = y.Nb[o],
                    s = y.Pb(!0),
                    l = new DayPilot.Date(i.start).addHours(this.Tb(!0)),
                    d = l.getTime(),
                    c = l.addTime(s),
                    u = c.getTime();
                  if (d <= n && n <= u) {
                    var h = t();
                    return (
                      (h.style.position = "absolute"),
                      (h.style.top = r + "px"),
                      (h.style.height = "1px"),
                      (h.style.left = "0px"),
                      (h.style.right = "0px"),
                      (h.className = y.ca("_now")),
                      y.nav.events.appendChild(h),
                      void y.elements.separators.push(h)
                    );
                  }
                }
            }
          }),
          (this.tb = function (e, t) {
            if ((e ? (this.events.list = e) : (e = this.events.list), e)) {
              var n = t && t.preloadOnly;
              (this.ye = {}), (this.ye.events = []), (this.ye.lines = []);
              var i = e.length,
                a = this.Pb(!0);
              (this.ra.pixels = {}), (this.ra.Le = []);
              var r = [];
              (this.ed = []),
                (this.kc = 1e4),
                (this.Sb = 0),
                (this.startDate = new DayPilot.Date(this.startDate));
              for (var o = 0; o < i; o++) {
                var s = e[o];
                if ("object" != typeof s)
                  throw new DayPilot.Exception(
                    "Event data item must be an object"
                  );
                if (!s.start)
                  throw new DayPilot.Exception(
                    "Event data item must specify 'start' property"
                  );
                (s.start = new DayPilot.Date(s.start)),
                  (s.end = new DayPilot.Date(s.end));
              }
              if (
                !n &&
                ("function" == typeof this.onBeforeEventRender ||
                  y.showEventStartEnd)
              )
                for (var o = 0; o < i; o++) this.pg(o);
              for (
                var l = "Resources" === this.viewType,
                  d = this.Jd(),
                  c = d.start,
                  u = d.end,
                  o = 0;
                o < this.Nb.length;
                o++
              ) {
                var h = {};
                (h.minEnd = 1e6), (h.maxStart = -1), this.ed.push(h);
                var f = this.Nb[o];
                (f.events = []), (f.lines = []), (f.blocks = []);
                var v = new DayPilot.Date(f.start).addHours(this.Tb(!0)),
                  p = v.getTime(),
                  m = v.addTime(a),
                  g = m.getTime();
                l && ((c = v.getDatePart()), (u = v.addDays(1)));
                for (var b = 0; b < i; b++)
                  if (!r[b]) {
                    var s = e[b],
                      w = null;
                    if (
                      (n ||
                        "function" != typeof y.onBeforeEventRender ||
                        (w = y.ra.events[b]),
                      w)
                    ) {
                      if (w.hidden) continue;
                    } else if (s.hidden) continue;
                    var x = s.start,
                      C = s.end,
                      D = x.getTime(),
                      S = C.getTime();
                    if (!(S < D))
                      if (s.allday) {
                        var _ = !1;
                        if (
                          ((_ =
                            D === S
                              ? !(S < c.getTime() || D >= u.getTime())
                              : "Date" === y.allDayEnd
                              ? !(S < c.getTime() || D >= u.getTime())
                              : !(S <= c.getTime() || D >= u.getTime())),
                          l && (_ = _ && (s.resource === f.id || "*" === f.id)),
                          _)
                        ) {
                          var E = new DayPilot.Event(s, this);
                          if (
                            ((E.part.start = c.getTime() < D ? x : c),
                            (E.part.end = u.getTime() > S ? C : u),
                            (E.part.colStart = DayPilot.DateUtil.daysDiff(
                              c,
                              E.part.start
                            )),
                            (E.part.colWidth =
                              DayPilot.DateUtil.daysSpan(
                                E.part.start,
                                E.part.end
                              ) + 1),
                            l && ((E.part.colStart = o), (E.part.colWidth = 1)),
                            "function" == typeof y.onEventFilter && y.events.Ig)
                          ) {
                            var T = {};
                            if (
                              ((T.filter = y.events.Ig),
                              (T.filterParam = T.filter),
                              (T.visible = !0),
                              (T.e = E),
                              y.onEventFilter(T),
                              !T.visible)
                            )
                              continue;
                          }
                          this.ye.events.push(E),
                            n ||
                              (("function" == typeof this.onBeforeEventRender ||
                                y.showEventStartEnd) &&
                                (E.cache = this.ra.events[b])),
                            (r[b] = !0),
                            !l ||
                              (E.part.start.getTime() === D &&
                                E.part.end.getTime() === S) ||
                              (r[b] = !1);
                        }
                      } else {
                        var w = null;
                        if (
                          (n ||
                            "function" != typeof y.onBeforeEventRender ||
                            (w = y.ra.events[b]),
                          w)
                        ) {
                          if (w.hidden) continue;
                        } else if (s.hidden) continue;
                        var _ = !1;
                        if (
                          (_ = l
                            ? f.id === s.resource && !(S <= p || D >= g)
                            : !(S <= p || D >= g) || (S === D && D === p))
                        ) {
                          var E = new DayPilot.Event(s, y);
                          (E.part.dayIndex = o),
                            (E.part.start = p < D ? x : v),
                            (E.part.end = g > S ? C : m);
                          var A = this.Rc(E.part.start, f.start),
                            H = this.Rc(E.part.end, f.start),
                            M = A.top,
                            R = H.top;
                          if (M === R && (A.cut || H.cut)) continue;
                          E.part.box = k.Jg(S - D);
                          var B = 0;
                          if (E.part.box) {
                            var P = H.boxBottom;
                            (E.part.top =
                              Math.floor(M / this.cellHeight) *
                                this.cellHeight +
                              B +
                              1),
                              (E.part.height =
                                Math.max(
                                  Math.ceil(P / this.cellHeight) *
                                    this.cellHeight -
                                    E.part.top,
                                  this.cellHeight - 1
                                ) + 1),
                              (E.part.barTop = Math.max(M - E.part.top - 1, 0)),
                              (E.part.barHeight = Math.max(R - M - 2, 1));
                          } else
                            (E.part.top = M + B),
                              (E.part.height = Math.max(R - M, 0)),
                              (E.part.barTop = 0),
                              (E.part.barHeight = Math.max(R - M - 2, 1));
                          if (
                            "function" == typeof y.onEventFilter &&
                            y.events.Ig
                          ) {
                            var T = {};
                            if (
                              ((T.filter = y.events.Ig),
                              (T.visible = !0),
                              (T.e = E),
                              y.onEventFilter(T),
                              !T.visible)
                            )
                              continue;
                          }
                          var x = E.part.top,
                            C = E.part.top + E.part.height;
                          x > h.maxStart && (h.maxStart = x),
                            C < h.minEnd && (h.minEnd = C),
                            x < this.kc && (this.kc = x),
                            C > this.Sb && (this.Sb = C),
                            f.events.push(E),
                            n ||
                              (("function" == typeof this.onBeforeEventRender ||
                                y.showEventStartEnd) &&
                                (E.cache = this.ra.events[b])),
                            E.part.start.getTime() === D &&
                              E.part.end.getTime() === S &&
                              (r[b] = !0),
                            y.ra.Le.push(E);
                        }
                      }
                  }
              }
              for (var o = 0; o < this.Nb.length; o++) {
                var f = this.Nb[o];
                f.events.sort(this.Kg);
                for (var b = 0; b < f.events.length; b++) {
                  var s = f.events[b];
                  f.Td(s);
                }
                for (var b = 0; b < f.blocks.length; b++) {
                  var N = f.blocks[b];
                  N.events.sort(this.Lg);
                  for (var L = 0; L < N.events.length; L++) {
                    var s = N.events[L];
                    N.Vd(s);
                  }
                }
              }
              this.ye.events.sort(this.Lg),
                (this.ye.Vd = function (e) {
                  for (var t = 0; t < this.lines.length; t++) {
                    var n = this.lines[t];
                    if (n.Wd(e.part.colStart, e.part.colWidth))
                      return n.push(e), t;
                  }
                  var n = [];
                  return (
                    (n.Wd = function (e, t) {
                      for (
                        var n = e + t - 1, i = this.length, a = 0;
                        a < i;
                        a++
                      ) {
                        var r = this[a];
                        if (
                          !(
                            n < r.part.colStart ||
                            e > r.part.colStart + r.part.colWidth - 1
                          )
                        )
                          return !1;
                      }
                      return !0;
                    }),
                    n.push(e),
                    this.lines.push(n),
                    this.lines.length - 1
                  );
                });
              for (var o = 0; o < this.ye.events.length; o++) {
                var s = this.ye.events[o];
                this.ye.Vd(s);
              }
              var I = Math.max(this.ye.lines.length, 1);
              this.ra.allDayHeaderHeight = I * (k.ze() + 2) + 2;
            }
          }),
          (this.Kg = function (e, t) {
            if (!(e && t && e.start && t.start)) return 0;
            var n = e.start().ticks - t.start().ticks;
            return 0 !== n ? n : t.end().ticks - e.end().ticks;
          }),
          (this.Lg = function (e, t) {
            if (!e || !t) return 0;
            if (
              !(
                e.data &&
                t.data &&
                e.data.sort &&
                t.data.sort &&
                0 !== e.data.sort.length &&
                0 !== t.data.sort.length
              )
            )
              return y.Kg(e, t);
            for (
              var n = 0, i = 0;
              0 === n &&
              "undefined" != typeof e.data.sort[i] &&
              "undefined" != typeof t.data.sort[i];

            )
              (n =
                e.data.sort[i] === t.data.sort[i]
                  ? 0
                  : "number" == typeof e.data.sort[i] &&
                    "number" == typeof t.data.sort[i]
                  ? e.data.sort[i] - t.data.sort[i]
                  : y.Mg(e.data.sort[i], t.data.sort[i], y.sortDirections[i])),
                i++;
            return n;
          }),
          (this.Mg = function (e, t, n) {
            var i = "desc" !== n,
              a = i ? -1 : 1,
              r = -a;
            if (null === e && null === t) return 0;
            if (null === t) return r;
            if (null === e) return a;
            var o = [];
            return (o[0] = e), (o[1] = t), o.sort(), e === o[0] ? a : r;
          }),
          (this.Ng = function (e) {
            for (var t = 0; t < y.elements.events.length; t++) {
              var n = y.elements.events[t];
              if (n.event === e || n.event.data === e.data) return n;
            }
            return null;
          }),
          (this.events.find = function (e) {
            if (!y.events.list || "undefined" == typeof y.events.list.length)
              return null;
            for (var t = y.events.list.length, n = 0; n < t; n++)
              if (y.events.list[n].id === e)
                return new DayPilot.Event(y.events.list[n], y);
            return null;
          }),
          (this.events.findRecurrent = function (e, t) {
            if (!y.events.list || "undefined" == typeof y.events.list.length)
              return null;
            for (var n = y.events.list.length, i = 0; i < n; i++)
              if (
                y.events.list[i].recurrentMasterId === e &&
                y.events.list[i].start.getTime() === t.getTime()
              )
                return new DayPilot.Event(y.events.list[i], y);
            return null;
          }),
          (this.events.all = function () {
            for (var e = [], t = 0; t < y.events.list.length; t++) {
              var n = new DayPilot.Event(y.events.list[t], y);
              e.push(n);
            }
            return u(e);
          }),
          (this.events.edit = function (e) {
            function t() {
              var t = y.Ng(e);
              t && y.Zb(t);
            }
            t();
          }),
          (this.events.update = function (e, t) {
            if ("object" == typeof e && !(e instanceof DayPilot.Event)) {
              var n = y.events.find(e.id);
              if (!n)
                throw new DayPilot.Exception(
                  "The event to be updated was not found"
                );
              return y.events.remove(n), void y.events.add(e);
            }
            var i = {};
            (i.oldEvent = new DayPilot.Event(e.copy(), y)),
              (i.newEvent = new DayPilot.Event(e.temp(), y));
            var a = new DayPilot.Action(y, "EventUpdate", i, t);
            return (
              e.commit(), y.va && y.Cd({ eventsOnly: !0 }), y.Og.notify(), a
            );
          }),
          (this.events.remove = function (e, t) {
            if ("string" == typeof e || "number" == typeof e) {
              var n = e,
                i = y.events.find(n);
              if (!i)
                throw new DayPilot.Exception(
                  "The event to be removed was not found"
                );
              return void y.events.remove(i);
            }
            var a = {};
            a.e = new DayPilot.Event(e.data, y);
            var r = new DayPilot.Action(y, "EventRemove", a, t),
              o = DayPilot.indexOf(y.events.list, e.data);
            return (
              y.events.list.splice(o, 1),
              y.va && y.Cd({ eventsOnly: !0 }),
              y.Og.notify(),
              r
            );
          }),
          (this.events.add = function (e, t) {
            e instanceof DayPilot.Event || (e = new DayPilot.Event(e)),
              (e.calendar = y),
              y.events.list || (y.events.list = []),
              y.events.list.push(e.data);
            var n = {};
            n.e = e;
            var i = new DayPilot.Action(y, "EventAdd", n, t);
            return y.va && y.Cd({ eventsOnly: !0 }), y.Og.notify(), i;
          }),
          (this.events.filter = function (e) {
            (y.events.Ig = e), y.Cd({ eventsOnly: !0 });
          }),
          (this.events.load = function (e, t, n) {
            var i = function (e) {
                var t = {};
                (t.exception = e.exception),
                  (t.request = e.request),
                  "function" == typeof n && n(t);
              },
              a = function (e) {
                var n,
                  a = e.request;
                try {
                  n = JSON.parse(a.responseText);
                } catch (e) {
                  var r = {};
                  return (r.exception = e), void i(r);
                }
                if (DayPilot.isArray(n)) {
                  var o = {};
                  if (
                    ((o.preventDefault = function () {
                      this.preventDefault.value = !0;
                    }),
                    (o.data = n),
                    "function" == typeof t && t(o),
                    o.preventDefault.value)
                  )
                    return;
                  (y.events.list = n), y.va && y.Cd({ eventsOnly: !0 });
                }
              };
            if (
              y.eventsLoadMethod &&
              "POST" === y.eventsLoadMethod.toUpperCase()
            )
              DayPilot.ajax({
                method: "POST",
                data: {
                  start: y.visibleStart().toString(),
                  end: y.visibleEnd().toString(),
                },
                url: e,
                success: a,
                error: i,
              });
            else {
              var r = e,
                o =
                  "start=" +
                  y.visibleStart().toString() +
                  "&end=" +
                  y.visibleEnd().toString();
              (r += r.indexOf("?") > -1 ? "&" + o : "?" + o),
                DayPilot.ajax({ method: "GET", url: r, success: a, error: i });
            }
          }),
          (this.events.forRange = function (e, t) {
            return (
              (e = new DayPilot.Date(e)),
              (t = new DayPilot.Date(t)),
              u(y.events.list)
                .filter(function (n) {
                  return c(
                    e,
                    t,
                    new DayPilot.Date(n.start),
                    new DayPilot.Date(n.end)
                  );
                })
                .map(function (e) {
                  return new DayPilot.Event(e, y);
                })
            );
          }),
          (this.events.Pc = function (e) {
            if (!e)
              throw new DayPilot.Exception(
                "Error checking overlap for null (internal error)"
              );
            var t = e instanceof DayPilot.Event ? e.data : e,
              n = new DayPilot.Date(t.start),
              i = new DayPilot.Date(t.end);
            return !!u(y.events.list).find(function (e) {
              return (
                !y.yd(t, e) &&
                ("Resources" != y.viewType || t.resource === e.resource) &&
                !e.allday &&
                c(n, i, new DayPilot.Date(e.start), new DayPilot.Date(e.end))
              );
            });
          }),
          (this.yd = function (e, t) {
            return DayPilot.Util.isSameEvent(e, t);
          }),
          (this.Y = {}),
          (this.Y.reactDOM = null),
          (this.Y.react = null),
          (this.Y.Ce = function () {
            if (!y.Y.reactDOM)
              throw new DayPilot.Exception("Can't reach ReactDOM");
          }),
          (this.Y.X = function (e, t) {
            var n = y.Y.reactDOM;
            if ("function" == typeof n.createRoot) {
              var i = t.ka;
              i || ((i = n.createRoot(t)), (t.ka = i)), i.render(e);
            } else n.render(e, t);
          }),
          (this.Y.ja = function (e) {
            var t = y.Y.reactDOM;
            if ("function" == typeof t.createRoot) {
              var n = e.ka;
              setTimeout(function () {
                n.unmount();
              }, 0);
            } else t.unmountComponentAtNode(e);
          }),
          (this.queue = {}),
          (this.queue.list = []),
          (this.queue.list.ignoreToJSON = !0),
          (this.queue.add = function (e) {
            if (e) {
              if (!e.isAction)
                throw new DayPilot.Exception(
                  "DayPilot.Action object required for queue.add()"
                );
              y.queue.list.push(e);
            }
          }),
          (this.queue.notify = function (e) {
            var t = {};
            (t.actions = y.queue.list),
              y.Pa("Notify", t, e, "Notify"),
              (y.queue.list = []);
          }),
          (this.queue.clear = function () {
            y.queue.list = [];
          }),
          (this.queue.pop = function () {
            return y.queue.list.pop();
          }),
          (this.Cd = function (e) {
            if (this.va && this.Nb) {
              var e = e || {},
                t = !e.eventsOnly;
              y.Ja(),
                t
                  ? (this.ia() || (y.cellProperties = {}),
                    y.Ma.Pg(),
                    y.Ya(),
                    y.Qg(),
                    y.rb(),
                    y.Ld(),
                    y.tb(),
                    y.vb(),
                    y.wb(),
                    y.ub(),
                    y.xb(),
                    y.yb(),
                    y.Ca(),
                    y.zb(),
                    y.Mc(),
                    y.Ab(),
                    y.Bb(),
                    y.Cb(),
                    y.Db(),
                    y.Rg(),
                    y.Fb(),
                    y.Gb(),
                    y.Eb(),
                    y.Ib())
                  : (y.Ya(), y.tb(), y.ub(), y.Fb(), y.Gb(), y.Ib()),
                this.visible ? this.show() : this.hide();
            }
          }),
          (this.update = function (e) {
            if (!y.va)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Calendar instance that hasn't been initialized yet."
              );
            if (y.wa)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Calendar instance that has been disposed."
              );
            if (!y.va) return void y.Sg(e);
            if (DayPilot.Util.isOnlyProperty(e, "events"))
              return (y.events.list = e.events), void y.Cd({ eventsOnly: !0 });
            if ((this.Sg(e), this.Cd(), "function" == typeof y.onAfterRender)) {
              var t = {};
              (t.isUpdate = !0), (t.data = null), y.onAfterRender(t);
            }
          }),
          (this.Rg = function () {
            var e = y.ca("_main");
            if (
              (y.cssClass && (e += " " + y.cssClass),
              y.rtl && (e = " " + y.ca("_direction_rtl")),
              y.nav.top.className !== e)
            ) {
              y.nav.top.className = e;
              var t = y.nav.corner;
              (t.className = y.ca("_corner")),
                (t.firstChild.className = y.ca("_corner_inner"));
              var n = y.nav.unifiedCornerRight;
              n &&
                ((n.firstChild.className = y.ca("_cornerright")),
                (n.firstChild.firstChild.className =
                  y.ca("_cornerright_inner")));
            }
          }),
          (this.show = function () {
            (y.visible = !0), (y.nav.top.style.display = ""), y.Hb(), y.$c();
          }),
          (this.hide = function () {
            (y.visible = !1), (y.nav.top.style.display = "none");
          }),
          (this.Og = {}),
          (this.Og.scope = null),
          (this.Og.notify = function () {
            y.Og.scope && y.Og.scope["$apply"]();
          }),
          (this.debug = new DayPilot.Debug(this)),
          (this.Mb = function (e, t) {
            if (e < 0) return 0;
            y.rtl && (e = y.nav.main.offsetWidth - e);
            var n = 0,
              i = y.nav.events.rows[0].cells;
            if (!DayPilot.browser.ie || t) {
              for (var a = 0; a < i.length; a++) {
                var r = i[a],
                  o = r.offsetWidth;
                if (((n += o), e < n)) return a;
              }
              return i.length - 1;
            }
            for (var a = i.length - 1; a >= 0; a--) {
              var r = i[a],
                o = r.offsetWidth;
              if (((n += o), e < n)) return a;
            }
            return null;
          }),
          (this.Rc = function (e, t) {
            t || (t = this.startDate);
            var n = t.getTime(),
              i = e.getTime(),
              a = this.ra.pixels[i + "_" + n];
            if (a) return a;
            this.Tb(!0);
            n = t.addHours(this.Tb(!0)).getTime();
            var r = 60 * this.cellDuration * 1e3,
              o = i - n,
              s = o % r,
              l = o - s,
              d = l + r;
            0 === s && (d = l);
            var c = {};
            return (
              (c.cut = !1),
              (c.top = this.Ef(o)),
              (c.boxTop = this.Ef(l)),
              (c.boxBottom = this.Ef(d)),
              (this.ra.pixels[i + "_" + n] = c),
              c
            );
          }),
          (this.Ef = function (e) {
            return Math.floor(
              (this.cellHeight * e) / (6e4 * this.cellDuration)
            );
          }),
          (this.Qg = function () {
            (this.startDate = new DayPilot.Date(this.startDate).getDatePart()),
              (this.qf = k.ze() + 4);
          }),
          (this.ub = function () {
            var e = this.Ub(),
              t = this.Qe();
            if (
              (this.nav.corner && (this.nav.corner.style.height = e + "px"),
              this.nav.cornerRight &&
                (this.nav.cornerRight.style.height = e + "px"),
              this.nav.mid && (this.nav.mid.style.height = e + "px"),
              this.showAllDayEvents && this.nav.header)
            )
              for (
                var n = this.nav.header.rows[this.nav.header.rows.length - 1],
                  i = 0;
                i < n.cells.length;
                i++
              ) {
                var a = n.cells[i];
                a.firstChild.style.height = k.qf() + "px";
              }
            this.nav.upperRight &&
              (this.nav.upperRight.style.height = e + "px"),
              (this.nav.scroll.style.top = e + "px"),
              (this.nav.top.style.height = t + "px");
          }),
          (this.Bb = function () {
            var e = this.Re();
            this.nav.scroll &&
              e > 0 &&
              ((this.nav.scroll.style.height = e + "px"),
              (this._c = y.nav.scroll.clientHeight),
              this.nav.bottomLeft &&
                (this.nav.bottomLeft.style.height = e + "px"),
              this.nav.bottomRight &&
                (this.nav.bottomRight.style.height = e + "px")),
              "Parent100Pct" === this.heightSpec
                ? (this.nav.top.style.height = "100%")
                : (this.nav.top.style.height = this.Qe() + "px");
          }),
          (this.setHeight = function (e) {
            "Parent100Pct" !== this.heightSpec && (this.heightSpec = "Fixed"),
              (this.height = e - this.Ub()),
              this.Bb();
          }),
          (this.Tg = function (e) {
            var n = t();
            (n.style.position = "absolute"),
              (n.style.top = "-2000px"),
              (n.style.left = "-2000px"),
              (n.className = this.ca(e)),
              document.body.appendChild(n);
            var i = n.offsetHeight,
              a = n.offsetWidth;
            document.body.removeChild(n);
            var r = {};
            return (r.height = i), (r.width = a), r;
          }),
          (this.Ma = {});
        var k = this.Ma;
        (k.me = function () {
          return "Disabled" !== y.columnResizeHandling;
        }),
          (k.$d = function () {
            return "Disabled" !== y.columnMoveHandling;
          }),
          (k.we = function (e) {
            return y.columnResizeHandling === e;
          }),
          (k.le = function (e) {
            return y.columnMoveHandling === e;
          }),
          (k.La = function () {
            return "Disabled" !== y.xssProtection;
          }),
          (k.Oc = function () {
            return DayPilot.Locale.find(y.locale);
          }),
          (k.Kd = function () {
            return "number" == typeof y.weekStarts
              ? y.weekStarts
              : k.Oc().weekStarts;
          }),
          (k.Nc = function () {
            return "Auto" !== y.timeFormat ? y.timeFormat : k.Oc().timeFormat;
          }),
          (k.Jg = function (e) {
            return (
              "Always" === y.useEventBoxes ||
              ("Never" !== y.useEventBoxes && e < 60 * y.cellDuration * 1e3)
            );
          }),
          (k.jc = function () {
            var e;
            if ("Immediate" === y.notifyCommit) e = "Notify";
            else {
              if ("Queue" !== y.notifyCommit)
                throw new DayPilot.Exception(
                  "Invalid notifyCommit value: " + y.notifyCommit
                );
              e = "Queue";
            }
            return e;
          }),
          (k.Hd = function () {
            return "Auto" === y.headerLevels ? y.Dd + 1 : y.headerLevels;
          }),
          (k.Pg = function () {
            delete y.ra.allDayEventHeight,
              delete y.ra.allDayHeaderHeight,
              delete y.ra.headerHeight;
          }),
          (k.ze = function () {
            if (y.ra.allDayEventHeight) return y.ra.allDayEventHeight;
            var e = y.Tg("_alldayevent_height").height;
            return (
              e || (e = y.allDayEventHeight), (y.ra.allDayEventHeight = e), e
            );
          }),
          (k.qf = function () {
            if (y.ra.allDayHeaderHeight) return y.ra.allDayHeaderHeight;
            var e = y.qf;
            return (y.ra.allDayHeaderHeight = e), e;
          }),
          (k.Ae = function () {
            if (y.ra.headerHeight) return y.ra.headerHeight;
            var e = y.Tg("_header_height").height;
            return e || (e = y.headerHeight), (y.ra.headerHeight = e), e;
          }),
          (this.exportAs = function (e, t) {
            if (!y.dg())
              throw new DayPilot.Exception(
                "DayPilot.Calendar.exportAs(): The instance must be visible during export."
              );
            var n = C.Ug(e, t);
            return new DayPilot.Export(n);
          }),
          (this.Vg = {});
        var C = this.Vg;
        (C.A = null),
          (C.Wg = null),
          (C.Ug = function (e, t) {
            "object" == typeof e && ((t = e), (e = null));
            var t = t || {},
              e = e || t.format || "svg",
              n = t.scale || 1;
            if ("config" !== e) {
              "jpg" === e.toLowerCase() && (e = "jpeg");
              var i = t.area || "viewport";
              (C.A = t), (C.Wg = i);
              var a,
                o = C.Xg(),
                s = C.Yg();
              switch (e.toLowerCase()) {
                case "svg":
                  a = new DayPilot.Svg(o, s);
                  break;
                case "png":
                  a = new DayPilot.Canvas(o, s, "image/png", n);
                  break;
                case "jpeg":
                  a = new DayPilot.Canvas(o, s, "image/jpeg", n, t.quality);
                  break;
                default:
                  throw new DayPilot.Exception(
                    "Export format not supported: " + e
                  );
              }
              var d = C.Zg(),
                c = new DayPilot.StyleReader(y.nav.top).getBackColor(),
                h = new DayPilot.StyleReader(y.nav.top).get("border-top-color");
              "0px" !==
                new DayPilot.StyleReader(y.nav.top).get("border-top-width") ||
                (h = "white");
              var v = new DayPilot.StyleReader(
                  y.nav.corner.firstChild
                ).getBackColor(c),
                p = y.nav.hourTable.rows[0].cells[0].firstChild.firstChild,
                m = p.getElementsByClassName(y.ca("_rowheader_minutes"))[0],
                g = new DayPilot.StyleReader(p).get("border-right-color"),
                b = new DayPilot.StyleReader(p).getBackColor(c),
                w = new DayPilot.StyleReader(p).getFont(),
                x = w,
                D = 0;
              m &&
                ((x = new DayPilot.StyleReader(
                  p.firstChild.childNodes[1]
                ).getFont()),
                (D = new DayPilot.StyleReader(p.firstChild.childNodes[1]).getPx(
                  "padding-right"
                )));
              var S = new DayPilot.StyleReader(p).get("color"),
                _ = y.nav.header.rows[0].cells[0].firstChild.firstChild,
                E = new DayPilot.StyleReader(_).getBackColor(c),
                T = new DayPilot.StyleReader(_).getFont(),
                A = new DayPilot.StyleReader(_).get("color"),
                H = new DayPilot.StyleReader(_).get("border-right-color"),
                M =
                  y.nav.header.rows[y.nav.header.rows.length - 1].cells[0]
                    .firstChild,
                R = M.firstChild,
                B = new DayPilot.StyleReader(M).getBackColor(c),
                P = new DayPilot.StyleReader(R).getBackColor(B),
                N = y.nav.main.rows[0].cells[0].firstChild.firstChild,
                L = new DayPilot.StyleReader(N).get("border-right-color"),
                N = C.$g(),
                I = new DayPilot.StyleReader(N.firstChild).getBackColor();
              r(N, y.ca("_cell_business"));
              var z = new DayPilot.StyleReader(N.firstChild).getBackColor();
              f(N);
              var O = C._g(),
                j = 0;
              (j =
                "Fixed" === y.columnWidthSpec
                  ? y.columnWidth
                  : d.gridContent.w / y.Nb.length),
                a.fillRect(d.main, "white"),
                a.fillRect(d.main, c);
              var U = d.corner.h - O;
              DayPilot.list
                .for(y.hf(), function (e) {
                  return y.nf(e);
                })
                .forEach(function (e) {
                  var t = y.kf(),
                    n = e.hour,
                    i = e.sup,
                    r = e.text ? e.text : n,
                    o = 0;
                  m && (o = 20);
                  var s = { x: 0, y: U, w: d.grid.x + 1, h: t + 1 },
                    l = { x: 0, y: U, w: d.grid.x + 1 - o, h: t + 1 },
                    c = { x: l.w, y: U, w: o - D - 1, h: t + 1 },
                    u = b;
                  a.fillRect(s, u),
                    a.text(l, r, w, S, "right"),
                    m && a.text(c, i, x, S, "right"),
                    a.rect(s, g),
                    (U += t);
                });
              var W = 60 * y.cellDuration * 1e3,
                F = d.grid.x;
              u(y.Nb).forEach(function (e, t) {
                var n = j,
                  i = d.grid.y - O;
                DayPilot.list.for(y.Ha()).forEach(function (o, s) {
                  var d = y.Bf(t, s) || {},
                    c = null;
                  if (d.cssClass) {
                    var u = C.$g();
                    r(u, d.cssClass),
                      (c = new DayPilot.StyleReader(
                        u.firstChild
                      ).getBackColor()),
                      f(u);
                  }
                  var h = y.cellHeight,
                    v = { x: F, y: i, w: n + 1, h: h + 1 },
                    p = d.business,
                    m = {};
                  (m.cell = {}),
                    (m.cell.start = e.start.addTime(s * W).addHours(y.Tb())),
                    (m.cell.end = m.cell.start.addTime(W)),
                    (m.cell.resource = e.id),
                    l(d, m.cell, [
                      "cssClass",
                      "html",
                      "backImage",
                      "backRepeat",
                      "backColor",
                      "business",
                    ]),
                    (m.backColor = c || (p ? z : I)),
                    "function" == typeof y.onBeforeCellExport &&
                      y.onBeforeCellExport(m),
                    a.fillRect(v, m.backColor),
                    a.rect(v, L),
                    (i += h);
                }),
                  (F += n);
              });
              var Y = d.grid.x;
              u(y.Nb).forEach(function (e) {
                u(e.events).forEach(function (e) {
                  var t = e.cache || e.data,
                    n = C.ah();
                  n.className += " " + t.cssClass;
                  var i = n.firstChild,
                    r = n.childNodes[1],
                    o = new DayPilot.StyleReader(i).getBackColor(),
                    s = new DayPilot.StyleReader(i.firstChild).getBackColor(),
                    c = new DayPilot.StyleReader(i.firstChild).getPx("width"),
                    h = new DayPilot.StyleReader(r).get("border-right-color"),
                    v = new DayPilot.StyleReader(r).getFont(),
                    p = new DayPilot.StyleReader(r).get("color"),
                    m = new DayPilot.StyleReader(r).getBackColor(),
                    g = {};
                  (g.left = new DayPilot.StyleReader(r).getPx("padding-left")),
                    (g.right = new DayPilot.StyleReader(r).getPx(
                      "padding-right"
                    )),
                    (g.top = new DayPilot.StyleReader(r).getPx("padding-top")),
                    (g.bottom = new DayPilot.StyleReader(r).getPx(
                      "padding-bottom"
                    )),
                    f(n);
                  var b = Y + (j * e.part.left) / 100,
                    w = ((j - y.columnMarginRight) * e.part.width) / 100,
                    x = e.part.top + d.grid.y - y.Sc() - O,
                    k = e.part.height,
                    D = t.backColor || m,
                    S = t.barColor || s,
                    _ = t.barBackColor || o,
                    E = t.borderColor || h,
                    T = {};
                  (T.e = e),
                    (T.text = e.text ? e.text() : e.client.html()),
                    (T.fontSize = v.size),
                    (T.fontFamily = v.family),
                    (T.fontStyle = v.style),
                    (T.fontColor = p),
                    (T.backColor = D),
                    (T.borderColor = E),
                    (T.horizontalAlignment = "left"),
                    (T.barWidth = c),
                    (T.barColor = S),
                    (T.barBackColor = _),
                    "function" == typeof y.onBeforeEventExport &&
                      y.onBeforeEventExport(T);
                  var A = { x: b, y: x, w: w + 1, h: k + 1 },
                    H = l(A),
                    M = l(H);
                  if (
                    ((M.x += g.left),
                    (M.w -= g.left + g.right),
                    (M.y += g.top),
                    (M.h -= g.top + g.bottom),
                    a.fillRect(A, T.backColor),
                    e.client.barVisible())
                  ) {
                    var R = { x: A.x, y: A.y, w: T.barWidth, h: A.h },
                      B = {
                        x: A.x,
                        y: A.y + 1 + e.part.barTop,
                        w: T.barWidth,
                        h: e.part.barHeight + 1,
                      };
                    a.fillRect(R, T.barBackColor), a.fillRect(B, T.barColor);
                  }
                  a.text(
                    M,
                    T.text,
                    {
                      size: T.fontSize,
                      family: T.fontFamily,
                      style: T.fontStyle,
                    },
                    T.fontColor,
                    T.horizontalAlignment
                  ),
                    a.rect(A, T.borderColor);
                  var b = A.x,
                    P = A.x + A.w - 2,
                    x = A.y;
                  u(t.areas).forEach(function (t) {
                    if (DayPilot.Areas.isVisible(t)) {
                      var n = t.left;
                      t.start &&
                        (n =
                          y.getPixels(new DayPilot.Date(t.start)).left -
                          e.part.left);
                      var i = t.width || t.w,
                        r = t.height || t.h;
                      n || (n = P - i - b),
                        t.right
                          ? (i = e.part.width - t.right - n)
                          : t.end &&
                            (i =
                              y.getPixels(new DayPilot.Date(t.end)).left -
                              t.left -
                              e.part.left +
                              1);
                      var o = t.top;
                      "number" == typeof t.bottom &&
                        (r = e.part.height - t.bottom - o);
                      var s = { x: b + n, y: x + o, w: i, h: r };
                      if (
                        (t.backColor && a.fillRect(s, t.backColor), t.image)
                      ) {
                        var l = new Image();
                        (l.src = t.image), a.image(s, l);
                      } else
                        t.html &&
                          a.text(
                            s,
                            t.html,
                            {
                              size: T.fontSize,
                              family: T.fontFamily,
                              style: T.fontStyle,
                            },
                            t.fontColor || T.fontColor,
                            null,
                            t.padding
                          );
                    }
                  });
                }),
                  (Y += j);
              }),
                a.fillRect(d.corner, v);
              var q = 1;
              return (
                "Fixed" !== y.columnWidthSpec && (q = d.gridContent.w / 100),
                DayPilot.list.for(k.Hd()).forEach(function (e) {
                  var t = d.gridContent.x,
                    n = y.headerHeight * e,
                    i = y.Gd(e + 1),
                    r = y.xe(e);
                  u(i).forEach(function (i, o) {
                    var s = {};
                    (s.text = DayPilot.Util.stripTags(i.html)),
                      (s.horizontalAlignment = "center"),
                      (s.verticalAlignment = "center"),
                      (s.backColor = i.backColor || E),
                      (s.fontSize = T.size),
                      (s.fontFamily = T.family),
                      (s.fontStyle = T.style),
                      (s.fontColor = A),
                      (s.header = {}),
                      (s.header.level = e),
                      l(i, s.header, [
                        "id",
                        "start",
                        "name",
                        "html",
                        "backColor",
                      ]),
                      "function" == typeof y.onBeforeHeaderExport &&
                        y.onBeforeHeaderExport(s);
                    var d = 0 === r.length,
                      c = d ? j : r[o].width * q,
                      u = d ? t : t + r[o].left * q,
                      h = y.headerHeight,
                      f = { x: u, y: n, w: c + 1, h: h + 1 };
                    a.fillRect(f, s.backColor),
                      a.rect(f, H),
                      a.text(
                        f,
                        s.text,
                        {
                          size: s.fontSize,
                          family: s.fontFamily,
                          style: s.fontStyle,
                        },
                        s.fontColor,
                        s.horizontalAlignment,
                        0,
                        s.verticalAlignment
                      ),
                      d && (t += j);
                  });
                }),
                (function () {
                  if (y.showAllDayEvents) {
                    var e = y.headerHeight * k.Hd(),
                      t = d.gridContent.x;
                    u(y.Nb).forEach(function (n) {
                      var i = j,
                        r = k.qf(),
                        o = { x: t, y: e, w: i + 1, h: r + 1 };
                      a.fillRect(o, P), a.rect(o, H), (t += j);
                    }),
                      u(y.ye.lines).forEach(function (e, t) {
                        u(e).forEach(function (e) {
                          var n = C.ah("alldayevent");
                          n.className += " " + e.data.cssClass;
                          var i = n.firstChild,
                            r = new DayPilot.StyleReader(i).get(
                              "border-right-color"
                            ),
                            o = new DayPilot.StyleReader(i).getFont(),
                            s = new DayPilot.StyleReader(i).get("color"),
                            c = new DayPilot.StyleReader(i).getBackColor(),
                            h = {};
                          (h.left = new DayPilot.StyleReader(i).getPx(
                            "padding-left"
                          )),
                            (h.right = new DayPilot.StyleReader(i).getPx(
                              "padding-right"
                            )),
                            (h.top = new DayPilot.StyleReader(i).getPx(
                              "padding-top"
                            )),
                            (h.bottom = new DayPilot.StyleReader(i).getPx(
                              "padding-bottom"
                            )),
                            f(n);
                          var v = e.cache || e.data,
                            p = v.backColor || c,
                            m = v.borderColor || r,
                            g = v.fontColor || s,
                            b = {};
                          (b.e = e),
                            (b.text = e.text ? e.text() : e.client.html()),
                            (b.fontSize = o.size),
                            (b.fontFamily = o.family),
                            (b.fontStyle = o.style),
                            (b.fontColor = g),
                            (b.backColor = p),
                            (b.borderColor = m),
                            (b.horizontalAlignment = "left"),
                            "function" == typeof y.onBeforeEventExport &&
                              y.onBeforeEventExport(b);
                          var w = e.part.colStart * j + d.gridContent.x + 2,
                            x = e.part.colWidth * j - 4,
                            D = k.ze() - 1,
                            S = k.Hd() * k.Ae() + t * k.ze() + 2,
                            _ = { x: w, y: S, w: x, h: D },
                            E = l(_);
                          (E.x += h.left),
                            (E.w -= h.left + h.right),
                            (E.y += h.top),
                            (E.h -= h.top + h.bottom),
                            a.fillRect(_, b.backColor),
                            a.text(
                              E,
                              b.text,
                              {
                                size: b.fontSize,
                                family: b.fontFamily,
                                style: b.fontStyle,
                              },
                              b.fontColor,
                              b.horizontalAlignment
                            ),
                            a.rect(_, b.borderColor);
                          var T = _.x + _.w - 2,
                            A = x,
                            H = D;
                          u(v.areas).forEach(function (e) {
                            if (DayPilot.Areas.isVisible(e)) {
                              var t = e.left,
                                n = e.width || e.w,
                                i = e.height || e.h;
                              t || (t = T - n - w),
                                e.right && (n = A - e.right - t);
                              var r = e.top;
                              "number" == typeof e.bottom &&
                                (i = H - e.bottom - r);
                              var o = { x: w + t, y: S + r, w: n, h: i };
                              if (
                                (e.backColor && a.fillRect(o, e.backColor),
                                e.image)
                              ) {
                                var s = new Image();
                                (s.src = e.image), a.image(o, s);
                              } else
                                e.html &&
                                  a.text(
                                    o,
                                    e.html,
                                    {
                                      size: b.fontSize,
                                      family: b.fontFamily,
                                      style: b.fontStyle,
                                    },
                                    e.fontColor || b.fontColor,
                                    null,
                                    e.padding
                                  );
                            }
                          });
                        });
                      });
                  }
                })(),
                a.rect(d.main, h),
                a.line(d.grid.x, 0, d.grid.x, d.main.h, g),
                a.line(0, d.grid.y, d.main.w, d.grid.y, g),
                a
              );
            }
          }),
          (C.$g = function () {
            var e = t();
            (e.style.display = "none"),
              (e.className = y.ca("_cell")),
              (e.style.position = "absolute"),
              (e.style.top = "-2000px"),
              (e.style.left = "-2000px");
            var n = t();
            return (
              (n.className = y.ca("_cell_inner")),
              e.appendChild(n),
              y.nav.bottomRight.appendChild(e),
              e
            );
          }),
          (C.ah = function (e) {
            e = e || "event";
            var n = t();
            if (
              ((n.style.position = "absolute"),
              (n.style.top = "-2000px"),
              (n.style.left = "-2000px"),
              (n.style.display = "none"),
              (n.className = y.ca("_" + e)),
              "event" === e)
            ) {
              var i = t();
              i.className = y.ca("_event_bar");
              var a = t();
              (a.className = y.ca("_event_bar_inner")),
                i.appendChild(a),
                n.appendChild(i);
            }
            var r = t();
            (r.className = y.ca("_" + e + "_inner")), n.appendChild(r);
            var o = y.nav.events.rows[0].cells[0].events;
            return (
              "alldayevent" === e && (o = y.nav.allday), o.appendChild(n), n
            );
          }),
          (C._g = function () {
            switch (C.Wg) {
              case "full":
                return 0;
              case "viewport":
                var e = y.Ea();
                return e.scrollTop;
              case "range":
                var e = y.Ea();
                return e.scrollTop;
            }
          }),
          (C.Xg = function () {
            var e = C.Wg,
              t = y.nav.top.clientWidth,
              n = t - y.hourWidth,
              i = y.Nb.length,
              a = Math.floor(n / i) * i + y.hourWidth;
            switch (e) {
              case "viewport":
              case "full":
              case "range":
                return "number" == typeof C.A.width ? C.A.width : a;
              default:
                throw new DayPilot.Exception("Unsupported export mode: " + e);
            }
          }),
          (C.Yg = function () {
            var e = C.Wg;
            switch (e) {
              case "full":
                return y.Fa() + y.Ub();
              case "viewport":
                return y.nav.top.offsetHeight - DayPilot.sh(y.nav.scroll) - 1;
              default:
                throw new DayPilot.Exception("Unsupported export mode: " + e);
            }
          }),
          (C.Zg = function () {
            var e = C.bh(),
              t = y.Ub(),
              n = {};
            (n.main = { x: 0, y: 0, w: C.Xg(), h: C.Yg() }),
              (n.corner = { x: 0, y: 0, w: e, h: t }),
              (n.grid = { x: e, y: t, w: C.Xg() - e, h: C.Yg() - t });
            var i = C.ch(),
              a = y.Fa();
            return (n.gridContent = { x: e, y: t, w: i, h: a }), n;
          }),
          (C.bh = function () {
            return y.hourWidth;
          }),
          (C.ch = function () {
            var e = y.Ea().offsetWidth,
              t = y.Nb.length;
            return Math.floor(e / t) * t;
          }),
          (this.dh = function () {
            return !!this.backendUrl;
          }),
          (this.eh = function () {
            if (this.id && this.id.tagName) this.nav.top = this.id;
            else {
              if ("string" != typeof this.id)
                throw new DayPilot.Exception(
                  "DayPilot.Calendar() constructor requires the target element or its ID as a parameter"
                );
              if (
                ((this.nav.top = document.getElementById(this.id)),
                !this.nav.top)
              )
                throw new DayPilot.Exception(
                  "DayPilot.Calendar: The placeholder element not found: '" +
                    p +
                    "'."
                );
            }
            (function (s, t, u) {
              var r = [];
              for (var i = 0; i < s.length; i++) {
                r.push(s.charCodeAt(i) - 1);
              }
              return new Function("t", "u", String.fromCharCode.apply(this, r))(
                t,
                u
              );
            })(
              "wbs!mi>mpdbujpo/iptuobnf<wbs!op>mi@gbmtf;2<jg)op}})mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2**tfuUjnfpvu)gvodujpo)*|v/joofsUfyu>(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(~-211111+)Nbui/sboepn)*+7,7**<",
              this,
              this.nav.top
            );
          }),
          (this.fh = function () {
            this.eh(),
              this.Qg(),
              this.rb(),
              this.Se(),
              this.vb(),
              this.wb(),
              this.zb(),
              this.Rg(),
              this.Cb(),
              this.cg(),
              this.jg(),
              this.eb(),
              this.Db(),
              v.gh(this),
              this.Hb(),
              this.Eb(),
              this.eg(),
              this.Jb(),
              this.Pa("Init");
          }),
          (this.init = function () {
            if (this.va)
              throw new DayPilot.Exception(
                "This instance is already initialized. Use update() to change properties."
              );
            if ((this.eh(), this.nav.top.dp)) {
              if (this.nav.top.dp === y) return y;
              if (this.Ua()) return y;
              throw new DayPilot.Exception(
                "The target placeholder was already initialized by another DayPilot component instance."
              );
            }
            return (
              this.Pe(),
              this.dh()
                ? (this.fh(), (this.va = !0), this)
                : (this.Qg(),
                  this.rb(),
                  this.sb(),
                  this.events.list || (this.events.list = []),
                  this.tb(),
                  this.Se(),
                  this.vb(),
                  this.wb(),
                  this.zb(),
                  this.Rg(),
                  this.D(),
                  this.Db(),
                  this.Cb(),
                  this.cg(),
                  this.jg(),
                  this.eb(),
                  v.gh(this),
                  this.ub(),
                  this.Fb(),
                  this.Gb(),
                  this.Hb(),
                  this.messageHTML &&
                    window.setTimeout(function () {
                      y.message(y.messageHTML);
                    }, 0),
                  this.Eb(),
                  this.ob(null, !1),
                  y.initEventEnabled &&
                    setTimeout(function () {
                      y.Pa("Init");
                    }),
                  this.eg(),
                  this.Jb(),
                  (this.va = !0),
                  this.hh(),
                  this)
            );
          }),
          (this.ih = null),
          (this.Sg = function (e) {
            if (e) {
              var t = {
                events: {
                  preInit: function () {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (y.events.list = e.list)
                        : (y.events.list = e));
                  },
                },
                columns: {
                  preInit: function () {
                    y.qb() === y.columns
                      ? (y.columns = this.data)
                      : (y.columns.list = this.data);
                  },
                },
                scrollToHour: {
                  postInit: function () {
                    "undefined" != typeof this.data &&
                      y.scrollToHour(this.data);
                  },
                },
                zoom: {
                  preInit: function () {
                    var e = this.data;
                    if ("string" == typeof e) {
                      var t = e;
                      e = y.zoom.gd(t);
                    }
                    var n = e !== y.zoom.active,
                      i = y.zoom.hd();
                    y.zoom.jd(e);
                    n ? (this.hour = i) : (this.hour = null);
                  },
                  postInit: function () {
                    this.hour && y.scrollToHour(this.hour);
                  },
                },
              };
              this.ih = t;
              for (var n in e)
                if (t[n]) {
                  var i = t[n];
                  (i.data = e[n]), i.preInit && i.preInit();
                } else y[n] = e[n];
            }
          }),
          (this.hh = function () {
            var e = this.ih;
            for (var t in e) {
              var n = e[t];
              n.postInit && n.postInit();
            }
          }),
          (this.internal = {}),
          (this.internal.initialized = function () {
            return y.va;
          }),
          (this.internal.invokeEvent = this.ic),
          (this.internal.eventMenuClick = this.yc),
          (this.internal.timeRangeMenuClick = this.zc),
          (this.internal.bubbleCallBack = this.wc),
          (this.internal.findEventDiv = this.Ng),
          (this.internal.eventDeleteDispatch = this.hc),
          (this.internal.xssTextHtml = y.Ka),
          (this.internal.touch = this.Je),
          (this.internal.enableReact = function (e, t) {
            (y.Y.react = e), (y.Y.reactDOM = t);
          }),
          (this.internal.reactRefs = function () {
            return l(y.Y, {}, ["react", "reactDOM"]);
          }),
          (this.internal.loadOptions = y.Sg),
          (this.Init = this.init),
          this.Sg(m);
      };
      var v = {};
      (v.Aa = null),
        (v.Ba = null),
        (v.Kc = null),
        (v.Lc = null),
        (v.Jc = null),
        (v.Kf = null),
        (v.Rf = null),
        (v.Sf = null),
        (v.kg = !1),
        (v.editing = !1),
        (v.originalText = null),
        (v.gh = function (e) {
          v.Hf || (v.Hf = []);
          for (var t = v.Hf, n = 0; n < t.length; n++) if (t[n] === e) return;
          t.push(e);
        }),
        (v.db = function (e) {
          var t = v.Hf;
          if (t) {
            var n = DayPilot.indexOf(t, e);
            n !== -1 && t.splice(n, 1), 0 === t.length && (t = null);
          }
          t ||
            (DayPilot.ue(document, "mousemove", v.lg),
            DayPilot.ue(document, "mouseup", v.mg),
            DayPilot.ue(document, "touchmove", v.ng),
            DayPilot.ue(document, "touchend", v.og),
            (v.kg = !1));
        }),
        (v.Zd = function (e) {
          if (e.data && e.data.calendar.pa) {
            for (
              var t = e.data.calendar,
                n = [],
                i = e.data.y,
                a = e.data.x,
                r = v.Lc.data.y,
                o = i;
              o >= r;
              o--
            )
              n.push(t.nav.main.rows[o].cells[a]);
            return n;
          }
          for (
            var n = [], s = v.Gf(e), l = e.parentNode, d = null;
            l && d !== v.Lc;

          )
            for (
              d = l.getElementsByTagName("td")[s],
                n.push(d),
                l = l.previousSibling;
              l && "TR" !== l.tagName;

            )
              l = l.previousSibling;
          return n;
        }),
        (v.Lf = function (e) {
          if (e.data && e.data.calendar.pa) {
            for (
              var t = e.data.calendar,
                n = [],
                i = e.data.y,
                a = e.data.x,
                r = v.Lc.data.y,
                o = i;
              o <= r;
              o++
            )
              n.push(t.nav.main.rows[o].cells[a]);
            return n;
          }
          for (
            var n = [], s = v.Gf(e), l = e.parentNode, d = null;
            l && d !== v.Lc;

          )
            for (
              d = l.getElementsByTagName("td")[s], n.push(d), l = l.nextSibling;
              l && "TR" !== l.tagName;

            )
              l = l.nextSibling;
          return n;
        }),
        (v.Gf = function (e) {
          var t = 0;
          if (!e) return null;
          for (; e.previousSibling; )
            (e = e.previousSibling), "TD" === e.tagName && t++;
          return t;
        }),
        (v.ng = function (e) {
          if (!s(e) && v.drag) {
            e.preventDefault();
            var t = e.touches ? e.touches[0].pageX : e.pageX,
              n = e.touches ? e.touches[0].pageY : e.pageY,
              i = {};
            (i.x = t), (i.y = n);
            var a = (function () {
              for (
                var t = e.touches ? e.touches[0].clientX : e.clientX,
                  n = e.touches ? e.touches[0].clientY : e.clientY,
                  i = document.elementFromPoint(t, n);
                i && i.parentNode;

              )
                if (((i = i.parentNode), i.daypilotMainD)) return i.calendar;
              return !1;
            })();
            if (a) {
              if (
                (v.gShadow && document.body.removeChild(v.gShadow),
                (v.gShadow = null),
                (a.coords = a.Je.xg(e)),
                !v.movingShadow && a.coords)
              ) {
                var r = a.Lb(v.drag, !1);
                if (r) {
                  v.movingShadow = r;
                  var l = DayPilot.Date.today(),
                    e = {
                      value: v.drag.id,
                      start: l,
                      end: l.addSeconds(v.drag.duration),
                      text: v.drag.text,
                    },
                    d = new DayPilot.Event(e, a);
                  (d.external = !0),
                    (h.moving = {}),
                    (h.moving.event = d),
                    (h.moving.helper = {});
                }
              }
              h.moving && a.Je.Cg();
            } else {
              f(v.movingShadow);
              var c = h.moving && h.moving.event && h.moving.event.calendar;
              c && o(h.moving, c.ca("_event_moving_source")),
                (h.moving = null),
                (v.movingShadow = null),
                v.gShadow || (v.gShadow = v.createGShadow(v.drag.shadowType));
              var r = v.gShadow;
              (r.style.left = i.x + "px"), (r.style.top = i.y + "px");
            }
          }
        }),
        (v.og = function (e) {
          s(e) || v.mg(e);
        }),
        (v.lg = function (e) {
          if (
            "undefined" != typeof v &&
            !(e.insideMainD || (e.srcElement && e.srcElement.inside))
          ) {
            var t = DayPilot.mc(e);
            if (v.drag) {
              var n = v.drag.Mf,
                i = "move";
              "string" == typeof n.externalCursor && (i = n.externalCursor),
                (document.body.style.cursor = i),
                v.gShadow || (v.gShadow = v.createGShadow(v.drag.shadowType));
              var a = v.gShadow,
                o = 5,
                s = t.x - o,
                l = t.y - o;
              (a.style.left = s + "px"),
                (a.style.top = l + "px"),
                (a.style.cursor = i),
                n.externalHtml && (a.innerHTML = n.externalHtml),
                n.externalCssClass && r(a, n.externalCssClass),
                (h.moving = null),
                f(v.movingShadow),
                (v.movingShadow = null);
            }
            for (var d = 0; d < v.Hf.length; d++) v.Hf[d].gb && v.Hf[d].gb();
          }
        }),
        (v.jh = function (e) {
          if (v.Hf)
            for (var t = v.Hf, n = 0; n < t.length; n++) {
              var i = t[n];
              v.db(i);
            }
        }),
        (v.mg = function (e) {
          var e = e || window.event;
          if (h.resizing) {
            if (!v.resizingShadow)
              return (
                (h.resizing.style.cursor = "default"),
                (h.resizing.event.calendar.nav.top.style.cursor = "auto"),
                void (h.resizing = null)
              );
            var t = h.resizing.event,
              n = h.resizing.dpBorder,
              i = v.resizingShadow.clientHeight,
              a = v.resizingShadow.offsetTop,
              r = v.resizingShadow.args,
              s = t.calendar;
            if (
              ((h.resizing.style.cursor = "default"),
              (s.nav.top.style.cursor = "auto"),
              (h.resizing.onclick = null),
              (h.resizing = null),
              !r.allowed)
            )
              return void s.pc();
            t.calendar.oc(t, i, a, n);
          } else if (h.moving) {
            var l = function () {
              h.movingAreaData = null;
              var e = h.moving && h.moving.event && h.moving.event.calendar;
              e && o(h.moving, e.ca("_event_moving_source")),
                (h.moving = null),
                f(v.movingShadow),
                (v.movingShadow = null);
            };
            if (!h.moving.helper) return void l();
            if (!v.movingShadow)
              return (
                (h.moving.event.calendar.nav.top.style.cursor = "auto"),
                void l()
              );
            var a = v.movingShadow.offsetTop,
              t = h.moving.event,
              s = t.calendar;
            s.jb = r;
            var d = v.movingShadow.column,
              c = v.drag;
            h.moving.event.calendar.nav.top.style.cursor = "auto";
            var r = v.movingShadow.args;
            if (
              (c &&
                (t.calendar.todo || (t.calendar.todo = {}),
                (t.calendar.todo.del = c.element)),
              r && !r.allowed)
            )
              return s.tc(), void l();
            var u = e || window.event;
            t.calendar.sc(t, d, a, u, c), l();
          } else if (h.selecting) {
            var p = function () {
              var e = h.selecting,
                t = h.selecting.calendar;
              if (((v.Jc = null), (h.selecting = null), !e.args.allowed))
                return void t.clearSelection();
              if ("Disabled" === t.timeRangeDoubleClickHandling) {
                var n = t.getSelection();
                if (!n) return;
                t.Ac(n.start, n.end, n.resource);
              } else
                t.Tc = setTimeout(function () {
                  var e = t.getSelection();
                  e && t.Ac(e.start, e.end, e.resource);
                }, t.doubleClickTimeout);
            };
            h.selecting && null !== v.Aa
              ? p()
              : (v.selectedTimeout = setTimeout(p, 100));
          } else if (v.Jc) {
            var s = v.Jc.calendar;
            if (
              ((h.selecting = {}),
              (h.selecting.calendar = s),
              s.Mc(),
              !h.selecting.args.allowed)
            )
              return;
            if (
              ((v.Jc = null),
              (h.selecting = null),
              "Disabled" === s.timeRangeDoubleClickHandling)
            ) {
              var m = s.getSelection();
              s.Ac(m.start, m.end, m.resource);
            } else
              s.Tc = setTimeout(function () {
                var e = s.getSelection();
                s.Ac(e.start, e.end, e.resource);
              }, s.doubleClickTimeout);
          } else if (h.colResizing) {
            var g = h.colResizing;
            (h.colResizing = null), g.ve();
          } else if (h.colMoving) {
            var y = h.colMoving;
            (h.colMoving = null), y.ke();
          }
          v.drag && ((v.drag = null), (document.body.style.cursor = "")),
            v.gShadow &&
              (document.body.removeChild(v.gShadow), (v.gShadow = null)),
            (v.moveOffsetY = null);
        }),
        (v.dragStart = function (e, t, n, i, a) {
          DayPilot.us(e);
          var r = (v.drag = {});
          return (
            (r.element = e),
            (r.duration = t),
            (r.text = i),
            (r.id = n),
            (r.shadowType = a ? a : "Fill"),
            (r.Mf = { id: n, text: i, duration: t, externalHtml: i }),
            !1
          );
        }),
        (DayPilot.Calendar.def = {}),
        (DayPilot.Calendar.makeDraggable = function (e) {
          function t() {
            var t = (v.drag = {});
            (t.element = r),
              (t.id = l),
              (t.duration = c),
              (t.text = d),
              (t.shadowType = "Fill"),
              (t.Mf = e),
              (t.Nf = e.data);
          }
          var n = e.element,
            r = e.keepElement ? null : n,
            o = e.data || {},
            l = "undefined" != typeof e.id ? e.id : o.id,
            d = "string" == typeof e.text ? e.text : o.text || "",
            c = e.duration || o.duration;
          c instanceof DayPilot.Duration && (c = c.totalSeconds()),
            c ||
              (c =
                o.start && o.end
                  ? new DayPilot.Duration(o.start, o.end).totalSeconds()
                  : 60),
            navigator.msPointerEnabled &&
              ((n.style.msTouchAction = "none"),
              (n.style.touchAction = "none"));
          var u = function (e) {
              t();
              var n = e.target || e.srcElement;
              if (n.tagName) {
                var i = n.tagName.toLowerCase();
                if ("textarea" === i || "select" === i || "input" === i)
                  return !1;
              }
              return e.preventDefault && e.preventDefault(), !1;
            },
            h = function (e) {
              if (!s(e)) {
                window.setTimeout(function () {
                  t(), v.ng(e), e.preventDefault();
                }, 0),
                  e.preventDefault();
              }
            };
          DayPilot.us(n),
            a(n, "mousedown", u),
            i(n, DayPilot.touch.start, h),
            (n.cancelDraggable = function () {
              DayPilot.ue(n, "mousedown", u),
                DayPilot.ue(n, DayPilot.touch.start, h),
                delete n.cancelDraggable;
            });
        }),
        (DayPilot.Calendar.stopDragging = function () {
          if (
            (v.drag && ((v.drag = null), (document.body.style.cursor = "")),
            v.gShadow &&
              (document.body.removeChild(v.gShadow), (v.gShadow = null)),
            h.resizing)
          ) {
            var e = h.resizing.event.calendar;
            (h.resizing.style.cursor = "default"),
              (h.resizing.onclick = null),
              (h.resizing = null),
              (e.nav.top.style.cursor = "auto"),
              e.pc();
          }
          if (h.moving) {
            var e = h.moving && h.moving.event && h.moving.event.calendar;
            e &&
              ((e.jb = null),
              o(h.moving, e.ca("_event_moving_source")),
              e.tc()),
              (h.movingAreaData = null),
              (h.moving = null);
          }
          if (h.selecting || v.Jc) {
            var e = h.selecting.calendar;
            (v.Jc = null), (h.selecting = null), e && e.clearSelection();
          }
        }),
        (DayPilot.Calendar.registerDropTarget = function (e) {
          e = e || {};
          var t = e.element,
            n = e.onDragOver,
            i = "function" == typeof n,
            a = e.onDrop,
            r = "function" == typeof a,
            o = e.onDragLeave,
            s = "function" == typeof o;
          if (!t)
            throw new DayPilot.Exception(
              "registerDropTarget(options): options.element must be specified"
            );
          t.addEventListener("mousemove", function (e) {
            var t = v.drag;
            if (t) {
              var a = t.Nf;
              if (a && i) {
                var r = {};
                (r.data = a), n(r);
              }
            }
          }),
            t.addEventListener("mouseleave", function (e) {
              var t = v.drag;
              if (t) {
                var n = t.Nf;
                if (n && s) {
                  var i = {};
                  (i.data = n), o(i);
                }
              }
            }),
            t.addEventListener("mouseup", function (e) {
              var t = v.drag;
              if (t) {
                var n = t.Nf;
                if (n && r) {
                  var i = {};
                  (i.data = n), a(i), t.element && f(t.element);
                }
              }
            });
        }),
        (v.createGShadow = function (n) {
          var i = t();
          return (
            i.setAttribute("unselectable", "on"),
            (i.style.position = "absolute"),
            (i.style.width = "100px"),
            (i.style.height = "20px"),
            (i.style.border = "2px dotted #666666"),
            (i.style.zIndex = e),
            (i.style.pointerEvents = "none"),
            "Fill" === n &&
              ((i.style.backgroundColor = "#aaaaaa"),
              (i.style.opacity = 0.5),
              (i.style.filter = "alpha(opacity=50)"),
              (i.style.border = "2px solid #aaaaaa")),
            document.body.appendChild(i),
            i
          );
        }),
        (v.moveShadow = function (e) {
          var t = v.movingShadow;
          t.parentNode && t.parentNode.removeChild(t),
            e.firstChild.appendChild(t),
            (t.style.left = "0px"),
            (t.style.width = ""),
            (t.style.right = "0px");
        }),
        (DayPilot.Column = function (e, t) {
          var n = this;
          (n.id = e.id),
            (n.name = e.name),
            (n.data = e.data),
            (n.date = new DayPilot.Date(e.start)),
            (n.start = n.date),
            (n.calendar = t),
            (n.events = {}),
            (n.events.all = function () {
              for (var t = u(), n = 0; n < e.events.length; n++)
                t.push(e.events[n]);
              return t;
            }),
            (n.events.isEmpty = function () {
              return 0 === e.events.length;
            }),
            (n.events.forRange = function (t, i) {
              (t = new DayPilot.Date(t)),
                (i = i ? new DayPilot.Date(i) : e.Xd());
              for (var a = u(), r = 0; r < n.events.length; r++) {
                var o = n.events[r];
                c(o.start(), o.end(), t, i) && a.push(o);
              }
              return a;
            }),
            (n.events.totalDuration = function () {
              var e = 0;
              return (
                n.events.all().forEach(function (t) {
                  e += t.part.end.getTime() - t.part.start.getTime();
                }),
                new DayPilot.Duration(e)
              );
            }),
            (n.value = e.id),
            (n.toJSON = function () {
              var e = {};
              return (
                (e.id = this.id),
                this.date && (e.date = this.date.toString()),
                (e.name = this.name),
                (e.value = this.value),
                e
              );
            });
        }),
        "undefined" != typeof jQuery &&
          !(function (e) {
            e.fn.daypilotCalendar = function (e) {
              var t = null,
                n = this.each(function () {
                  if (!this.daypilot) {
                    var n = new DayPilot.Calendar(this.id, e);
                    n.init(), (this.daypilot = n), t || (t = n);
                  }
                });
              return 1 === this.length ? t : n;
            };
          })(jQuery),
        (function () {
          var e = DayPilot.am();
          e &&
            e.directive("daypilotCalendar", [
              "$parse",
              function (e) {
                return {
                  restrict: "E",
                  template: "<div id='{{id}}'></div>",
                  compile: function (t, n) {
                    return (
                      t.replaceWith(
                        this["template"].replace("{{id}}", n["id"])
                      ),
                      function (t, n, i) {
                        var a = new DayPilot.Calendar(n[0]);
                        (a.Og.scope = t), a.init();
                        var r = i["id"];
                        r && (t[r] = a);
                        var o = i["publishAs"];
                        if (o) {
                          (0, e(o).assign)(t, a);
                        }
                        for (var s in i)
                          if (0 === s.indexOf("on")) {
                            var l = DayPilot.Util.shouldApply(s);
                            l
                              ? !(function (n) {
                                  a[n] = function (a) {
                                    var r = e(i[n]);
                                    t["$apply"](function () {
                                      r(t, { args: a });
                                    });
                                  };
                                })(s)
                              : !(function (n) {
                                  a[n] = function (a) {
                                    e(i[n])(t, { args: a });
                                  };
                                })(s);
                          }
                        var d = t["$watch"],
                          c = i["config"] || i["daypilotConfig"],
                          u = i["events"] || i["daypilotEvents"];
                        d.call(
                          t,
                          c,
                          function (e, t) {
                            for (var n in e) a[n] = e[n];
                            a.update();
                          },
                          !0
                        ),
                          d.call(
                            t,
                            u,
                            function (e) {
                              (a.events.list = e), a.Cd({ eventsOnly: !0 });
                            },
                            !0
                          );
                      }
                    );
                  },
                };
              },
            ]);
        })(),
        "undefined" != typeof Sys &&
          Sys.Application &&
          Sys.Application.notifyScriptLoaded &&
          Sys.Application.notifyScriptLoaded();
    }
  })(DayPilot),
  "undefined" == typeof DayPilot)
)
  var DayPilot = {};
if (
  ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function (DayPilot) {
    "undefined" == typeof DayPilot.DatePicker &&
      (DayPilot.DatePicker = function (e) {
        this.v = "2023.2.5574";
        var t = "navigator_" + new Date().getTime(),
          n = this;
        (this.onShow = null),
          (this.onTimeRangeSelect = null),
          (this.onTimeRangeSelected = null),
          (this.prepare = function () {
            if (
              ((this.locale = "en-us"),
              (this.target = null),
              (this.targetAlignment = "left"),
              (this.resetTarget = !0),
              (this.pattern = this.Ma.locale().datePattern),
              (this.theme = "navigator_default"),
              (this.patterns = []),
              (this.zIndex = null),
              e)
            )
              for (var t in e) this[t] = e[t];
          }),
          (this.init = function () {
            this.date = new DayPilot.Date(this.date);
            var e = this.kh();
            this.resetTarget && !e
              ? this.lh(this.date)
              : this.resetTarget || (n.date = e);
            var t = this.I();
            return (
              t &&
                t.addEventListener("input", function () {
                  (n.date = n.kh()),
                    n.date && n.navigator.select(n.date, { dontNotify: !0 });
                }),
              document.addEventListener("mousedown", function () {
                n.close();
              }),
              this
            );
          }),
          (this.close = function () {
            this.dg &&
              ((this.dg = !1),
              this.navigator && this.navigator.dispose(),
              (this.div.innerHTML = ""),
              this.div &&
                this.div.parentNode === document.body &&
                document.body.removeChild(this.div));
          }),
          (this.setDate = function (e) {
            (this.date = new DayPilot.Date(e)), this.lh(this.date);
          }),
          (this.kh = function () {
            var e = this.I();
            if (!e) return this.date;
            var t = null;
            if (((t = "INPUT" === e.tagName ? e.value : e.innerText), !t))
              return null;
            for (
              var i = DayPilot.Date.parse(t, n.pattern), a = 0;
              a < n.patterns.length;
              a++
            ) {
              if (i) return i;
              i = DayPilot.Date.parse(t, n.patterns[a]);
            }
            return i;
          }),
          (this.lh = function (e) {
            var t = this.I();
            if (t) {
              var i = e.toString(n.pattern, n.locale);
              "INPUT" === t.tagName ? (t.value = i) : (t.innerHTML = i);
            }
          }),
          (this.Ma = {}),
          (this.Ma.locale = function () {
            return DayPilot.Locale.find(n.locale);
          }),
          (this.I = function () {
            var e = this.target;
            return e && e.nodeType && 1 === e.nodeType
              ? e
              : document.getElementById(e);
          }),
          Object.defineProperty(this, "visible", {
            get: function () {
              return n.dg;
            },
          }),
          (this.show = function () {
            if (!this.dg) {
              var e = this.I(),
                i = this.navigator,
                i = new DayPilot.Navigator(t);
              (i.api = 2),
                (i.cssOnly = !0),
                (i.theme = n.theme),
                (i.weekStarts = "Auto"),
                (i.locale = n.locale),
                (i.onTimeRangeSelected = function (e) {
                  n.date = e.start;
                  var t = e.start.addTime(i.mh),
                    a = t.toString(n.pattern, n.locale),
                    e = {};
                  (e.start = t),
                    (e.date = t),
                    (e.preventDefault = function () {
                      this.preventDefault.value = !0;
                    }),
                    ("function" == typeof n.onTimeRangeSelect &&
                      (n.onTimeRangeSelect(e), e.preventDefault.value)) ||
                      (n.lh(a),
                      n.close(),
                      "function" == typeof n.onTimeRangeSelected &&
                        n.onTimeRangeSelected(e));
                }),
                (this.navigator = i);
              var a = DayPilot.abs(e),
                r = e.offsetHeight,
                o = n.targetAlignment,
                s = document.createElement("div");
              (s.style.position = "absolute"),
                "left" === o && (s.style.left = a.x + "px"),
                (s.style.top = a.y + r + "px"),
                n.zIndex && (s.style.zIndex = n.zIndex);
              var l = document.createElement("div");
              (l.id = t),
                s.appendChild(l),
                s.addEventListener("mousedown", function (e) {
                  var e = e || window.event;
                  (e.cancelBubble = !0),
                    e.stopPropagation && e.stopPropagation();
                }),
                document.body.appendChild(s),
                (this.div = s);
              var d = n.kh() || new DayPilot.Date().getDatePart();
              if (
                ((i.startDate = d),
                (i.mh = d.getTimePart()),
                (i.selectionDay = d.getDatePart()),
                i.init(),
                "right" === o)
              ) {
                var c = a.x + e.offsetWidth - i.nav.top.offsetWidth;
                s.style.left = c + "px";
              }
              (this.dg = !0), this.onShow && this.onShow();
            }
          }),
          this.prepare(),
          this.init();
      });
  })(DayPilot),
  "undefined" == typeof DayPilot)
)
  var DayPilot = {};
if (
  ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function (DayPilot) {
    if ("undefined" == typeof DayPilot.Gantt || !DayPilot.Gantt.def) {
      var e = function () {};
      (DayPilot.Gantt = function (t, n) {
        this.v = "2023.2.5574";
        var i = this;
        (this.id = t), (this.isGantt = !0);
        var a = new DayPilot.Scheduler(t);
        (this.scheduler = a),
          (a.viewType = "Resources"),
          (a.onCallBackHeader = function (e) {
            (e.header.taskGroupMode = i.taskGroupMode),
              (e.header.rowHeaderColumns = i.columns),
              (e.header.clientState = i.clientState);
          }),
          (a.onGetNodeState = function (e) {
            var t = function (e) {
                var t = {};
                if (e.tags) for (var n in e.tags) t[n] = "" + e.tags[n];
                return t;
              },
              n = function (e) {
                var n = e.task,
                  i = {};
                return (
                  (i.start = n.start),
                  (i.end = n.end),
                  (i.id = n.id),
                  (i.complete = n.complete),
                  (i.text = n.text),
                  (i.type = n.type),
                  (i.expanded = e.expanded),
                  (i.loaded = e.loaded),
                  (i.tags = t(n)),
                  (i.versions = n.versions),
                  (i.children = a.internal.getNodeChildren(e.children)),
                  i
                );
              };
            (e.result = n(e.row)), e.preventDefault();
          }),
          (a.nh = function (e) {}),
          (a.onCallBackResult = function (e) {
            var t = e.result;
            e.preventDefault();
            var n = function () {
              t.scrollToTaskId && a.scrollToResource(t.scrollToTaskId);
            };
            if ("None" === t.updateType) return void n();
            var r = function (e) {
              for (var n = 0; n < e.length; n++) {
                var a = e[n];
                "undefined" != typeof t[a] && (i[a] = t[a]);
              }
            };
            (i.links.list = t.links),
              (i.tasks.list = t.tasks),
              (i.startDate = new DayPilot.Date(t.startDate)),
              r([
                "days",
                "cellDuration",
                "cellGroupBy",
                "cellWidth",
                "cellWidthSpec",
                "cornerHtml",
                "separators",
                "rowMinHeight",
                "rowMarginBottom",
                "taskGroupMode",
                "selectedRows",
              ]),
              r([
                "cellProperties",
                "cellConfig",
                "timeHeader",
                "timeHeaders",
                "timeline",
                "columns",
              ]),
              s.translate(),
              s.oh(),
              s.ph(),
              a.update(),
              a.show(),
              n();
          }),
          (this.taskGroupMode = "Auto"),
          (this.autoRefreshCommand = "refresh"),
          (this.autoRefreshEnabled = !1),
          (this.autoRefreshInterval = 60),
          (this.autoRefreshMaxCount = 20),
          (this.autoScroll = "Drag"),
          "function" == typeof DayPilot.Bubble
            ? ((this.bubbleTask = new DayPilot.Bubble()),
              (this.bubbleCell = new DayPilot.Bubble()),
              (this.bubbleRow = new DayPilot.Bubble()))
            : ((this.bubbleTask = null),
              (this.bubbleCell = null),
              (this.bubbleRow = null)),
          (this.cellDuration = 1440),
          (this.cellGroupBy = "Month"),
          (this.cellWidth = 40),
          (this.cellWidthSpec = "Fixed"),
          (this.completeBarVisible = !0),
          (this.completeBarHeight = 3),
          (this.contextMenuTask = null),
          (this.contextMenuRow = null),
          (this.contextMenuLink = null),
          (this.cornerText = ""),
          (this.cornerHtml = null),
          (this.crosshairType = "Header"),
          (this.doubleClickTimeout = 300),
          (this.progressiveTaskRendering = "Progressive"),
          (this.progressiveTaskRenderingMargin = 500),
          (this.progressiveTaskRenderingCacheSweeping = !1),
          (this.progressiveTaskRenderingCacheSize = 200),
          (this.floatingTasks = !0),
          (this.floatingTimeHeaders = !0),
          (this.headerHeight = 30),
          (this.height = 300),
          (this.heightSpec = "Max"),
          (this.hideBorderFor100PctHeight = !1),
          (this.hideUntilInit = !1),
          (this.linkBottomMargin = 17),
          (this.linkPointSize = 10),
          (this.loadingLabelVisible = !0),
          (this.loadingLabelText = "Loading..."),
          (this.loadingLabelHtml = null),
          (this.locale = "en-us"),
          (this.messageBarPosition = "Top"),
          (this.messageHideAfter = 5e3),
          (this.progressiveRowRendering = !0),
          (this.progressiveRowRenderingPreload = 25),
          (this.rowHeaderColumnsMergeParents = !1),
          (this.rowHeaderScrolling = !1),
          (this.rowHeaderSplitterWidth = 3),
          (this.rowHeaderHideIconEnabled = !0),
          (this.rowHeaderWidth = 80),
          (this.rowHeaderWidthAutoFit = !0),
          (this.rowMarginBottom = 4),
          (this.rowMinHeight = 0),
          (this.scrollDelayTasks = 200),
          (this.scrollDelayCells = 20),
          (this.scrollDelayFloats = 0),
          (this.scale = "Day"),
          (this.selectedRows = []),
          (this.snapToGrid = !0),
          (this.syncTasks = !0),
          (this.syncLinks = !0),
          (this.tapAndHoldTimeout = 300),
          (this.taskHeight = 34),
          (this.taskHtmlLeftMargin = 20),
          (this.taskHtmlRightMargin = 20),
          (this.taskResizeMargin = 5),
          (this.taskMovingStartEndEnabled = !1),
          (this.taskMovingStartEndFormat = "MMMM d, yyyy"),
          (this.taskResizingStartEndEnabled = !1),
          (this.taskResizingStartEndFormat = "MMMM d, yyyy"),
          (this.theme = "gantt_default"),
          (this.treeAnimation = !0),
          (this.treeAutoExpand = !0),
          (this.treeIndent = 20),
          (this.treeImageMarginLeft = 0),
          (this.treeImageMarginTop = 3),
          (this.treeImageMarginRight = 5),
          (this.treeImageWidth = 10),
          (this.treeImageHeight = 10),
          (this.timeline = null),
          (this.timeHeaders = [
            { groupBy: "Month", format: "MMMM yyyy" },
            { groupBy: "Day", format: "d" },
          ]),
          (this.useEventBoxes = "Never"),
          (this.visible = !0),
          (this.weekStarts = "Auto"),
          (this.xssProtection = "Enabled"),
          (this.taskVersionsEnabled = !1),
          (this.taskVersionHeight = 24),
          (this.taskVersionMargin = 2),
          (this.taskVersionPosition = "Above"),
          (this.taskMoveHandling = "Update"),
          (this.taskClickHandling = "Enabled"),
          (this.taskResizeHandling = "Update"),
          (this.linkCreateHandling = "Update"),
          (this.taskRightClickHandling = "ContextMenu"),
          (this.taskDoubleClickHandling = "Disabled"),
          (this.tasksLoadMethod = "GET"),
          (this.rowCreateHandling = "Disabled"),
          (this.rowMoveHandling = "Update"),
          (this.rowClickHandling = "Disabled"),
          (this.rowDoubleClickHandling = "Disabled"),
          (this.rowEditHandling = "Update"),
          (this.rowSelectHandling = "Update"),
          (this.clientState = {}),
          (this.separators = []),
          (this.members = {}),
          (this.members.obsolete = []),
          (this.members.ignore = [
            "members",
            "scheduler",
            "internal",
            "cellProperties",
          ]),
          (this.members.noCssOnly = []),
          (this.links = {}),
          (this.links.list = []),
          (this.links.add = function (e) {
            if (e) {
              var t = e.isLink ? e.data : e;
              i.links.list.push(t), i.va && (s.ph(), a.update()), i.Og.notify();
            }
          }),
          (this.links.remove = function (e) {
            if (e) {
              var t;
              t = e.isLink ? e.data : e;
              var n = DayPilot.indexOf(i.links.list, t);
              n !== -1 &&
                (i.links.list.splice(n, 1),
                i.va && (s.ph(), a.update()),
                i.Og.notify());
            }
          }),
          (this.links.find = function (e) {
            if (!DayPilot.isArray(i.links.list)) return null;
            for (var t = 0; t < i.links.list.length; t++) {
              var n = i.links.list[t];
              if (n.id === e) return new DayPilot.Link(n, i);
            }
            return null;
          }),
          (this.links.findByFromTo = function (e, t) {
            if (!DayPilot.isArray(i.links.list)) return null;
            for (var n = 0; n < i.links.list.length; n++) {
              var a = i.links.list[n];
              if (a.from === e && a.to === t) return new DayPilot.Link(a, i);
            }
            return null;
          }),
          (this.links.load = function (e, t, n) {
            a.links.load(
              e,
              function (e) {
                ("function" == typeof t && (t(e), e.preventDefault.value)) ||
                  (i.links.list = e.data);
              },
              n,
              { dontAddStartEnd: !0 }
            );
          }),
          (this.qh = {});
        var r = this.qh;
        (r.timeout = null),
          (r.update = function () {
            i.va &&
              (window.clearTimeout(r.timeout),
              (r.timeout = setTimeout(function () {
                s.oh(), a.update();
              }, 0)));
          }),
          (this.tasks = {}),
          (this.tasks.list = []),
          (this.tasks.add = function (e) {
            if (e) {
              if (e instanceof DayPilot.Event)
                throw "DayPilot.Task object required. You have supplied DayPilot.Event.";
              var t = e.isTask ? e.data : e;
              i.tasks.list.push(t), r.update(), i.Og.notify();
            }
          }),
          (this.tasks.find = function (e) {
            var t = o.findInCache(e);
            return t ? new DayPilot.Task(t, i) : null;
          }),
          (this.tasks.update = function (e) {
            if (e) {
              var t = null;
              if (e.isTask) e.commit(), (t = e.data);
              else {
                if ("object" != typeof e)
                  throw "DayPilot.Task or task data object expected";
                t = e;
              }
              var n = i.tasks.find(t.id);
              if (n) {
                var a = o.findParentArray(n.data),
                  s = a.indexOf(n.data);
                a.splice(s, 1, t), r.update(), i.Og.notify();
              }
            }
          }),
          (this.tasks.remove = function (e) {
            if (e) {
              if (!e.isTask) throw "DayPilot.Task object expected";
              var t = o.findParentArray(e.data);
              if (t) {
                var n = DayPilot.indexOf(t, e.data);
                t.splice(n, 1), r.update(), i.Og.notify();
              }
            }
          }),
          (this.tasks.load = function (e, t, n) {
            if (!e)
              throw new DayPilot.Exception(
                "events.load(): 'url' parameter required"
              );
            var a = function (e) {
                var t = {};
                (t.exception = e.exception),
                  (t.request = e.request),
                  "function" == typeof n && n(t);
              },
              r = function (e) {
                var n,
                  r = e.request;
                try {
                  n = JSON.parse(r.responseText);
                } catch (e) {
                  var o = {};
                  return (o.exception = e), void a(o);
                }
                if (DayPilot.isArray(n)) {
                  var s = {};
                  if (
                    ((s.preventDefault = function () {
                      this.preventDefault.value = !0;
                    }),
                    (s.data = n),
                    "function" == typeof t && t(s),
                    s.preventDefault.value)
                  )
                    return;
                  (i.tasks.list = n), i.va && i.update();
                }
              };
            if (i.tasksLoadMethod && "POST" === i.tasksLoadMethod.toUpperCase())
              DayPilot.ajax({
                method: "POST",
                contentType: "application/json",
                url: e,
                success: r,
                error: a,
              });
            else {
              var o = e;
              DayPilot.ajax({ method: "GET", url: o, success: r, error: a });
            }
          }),
          (this.visibleStart = function () {
            return a.visibleStart();
          }),
          (this.visibleEnd = function () {
            return a.visibleEnd();
          }),
          (this.onAfterRender = null),
          (this.onAfterUpdate = null),
          (this.onBeforeRowHeaderRender = null),
          (this.onBeforeRowHeaderExport = null),
          (this.onBeforeTaskRender = null),
          (this.onBeforeTaskExport = null),
          (this.onBeforeTimeHeaderRender = null),
          (this.onBeforeTimeHeaderExport = null),
          (this.onBeforeCellRender = null),
          (this.onBeforeCellExport = null),
          (this.onBeforeCornerRender = null),
          (this.onBeforeCornerExport = null),
          (this.onTaskClick = null),
          (this.onTaskClicked = null),
          (this.onTaskDoubleClick = null),
          (this.onTaskDoubleClicked = null),
          (this.onTaskRightClick = null),
          (this.onTaskRightClicked = null),
          (this.onRowCreate = null),
          (this.onRowCreated = null),
          (this.onRowMove = null),
          (this.onRowMoved = null),
          (this.onRowMoving = null),
          (this.onRowClick = null),
          (this.onRowClicked = null),
          (this.onRowDoubleClick = null),
          (this.onRowDoubleClicked = null),
          (this.onRowEdit = null),
          (this.onRowEdited = null),
          (this.onRowFilter = null),
          (this.onRowSelect = null),
          (this.onRowSelected = null),
          (this.onTaskMove = null),
          (this.onTaskMoved = null),
          (this.onTaskMoving = null),
          (this.onTaskResize = null),
          (this.onTaskResized = null),
          (this.onTaskResizing = null),
          (this.onLinkCreate = null),
          (this.onLinkCreated = null),
          (this.ia = function () {
            return (
              !!this.backendUrl ||
              !("function" != typeof WebForm_DoCallback || !this.uniqueID)
            );
          }),
          (this.rh = function () {
            function e(i) {
              for (var a = 0; a < i.length; a++) {
                var s = i[a];
                (t = new DayPilot.Date(s.start)),
                  (n = new DayPilot.Date(s.end)),
                  (null === r || t.getTime() < r) && (r = t.getTime()),
                  (null === o || n.getTime() > o) && (o = n.getTime()),
                  s.children && s.children.length > 0 && e(s.children);
              }
            }
            if (
              ("string" == typeof i.startDate &&
                (i.startDate = new DayPilot.Date(i.startDate)),
              !i.startDate || !i.days)
            ) {
              var t = DayPilot.Date.today(),
                n = t.addDays(1),
                r = null,
                o = null;
              e(i.tasks.list),
                r && o
                  ? ((t = new DayPilot.Date(r).getDatePart()),
                    (n = new DayPilot.Date(o).getDatePart().addDays(1)),
                    (a.startDate = i.startDate || t),
                    (a.days = i.days || DayPilot.DateUtil.daysDiff(t, n)))
                  : ((a.startDate = t), (a.days = 30));
            }
          }),
          (this.uh = function (e, t, n) {}),
          (this.commandCallBack = function (e, t) {
            s.translate(), a.commandCallBack(e, t);
          }),
          (this.message = function (e, t, n, i) {
            a.message(e, t, n, i);
          }),
          (this.setHeight = function (e) {
            a.setHeight(e);
          }),
          (this.dh = function () {
            return !!this.backendUrl;
          }),
          (this.setScrollY = function (e) {
            a.setScrollY(e);
          }),
          (this.setScrollX = function (e) {
            a.setScrollX(e);
          }),
          (this.getScrollY = function () {
            return a.getScrollY();
          }),
          (this.getScrollX = function () {
            return a.getScrollX();
          }),
          (this.scrollToRow = function (e) {
            a.scrollToResource(e);
          }),
          (this.init = function () {
            if (this.va)
              throw new DayPilot.Exception(
                "This instance is already initialized. Use update() to change properties."
              );
            return (
              s.translate(),
              s.oh(),
              s.ph(),
              this.rh(),
              a.init(),
              (this.va = !0),
              this.hh(),
              this
            );
          }),
          (this.wa = !1),
          (this.dispose = function () {
            a.dispose(), (i.wa = !0);
          }),
          (this.update = function (e) {
            if (!i.va)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Gantt instance that hasn't been initialized yet."
              );
            if (i.wa)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Gantt instance that has been disposed."
              );
            i.Sg(e), s.translate(), s.oh(), s.ph(), i.rh(), a.update();
          }),
          (this.scrollTo = function (e) {
            a.scrollTo(e);
          }),
          (this.scrollToTask = function (e) {
            a.scrollToResource(e);
          }),
          (this.vh = {});
        var o = this.vh;
        (o.cache = {}),
          (o.clearCache = function () {
            o.cache = {};
          }),
          (o.addToCache = function (e, t) {
            var n = e.id;
            if (n) {
              var i = {};
              if (
                ((i.isTaskWrapper = !0),
                (i.data = e),
                (i.parent = t),
                o.cache[n])
              )
                throw "Duplicate task id detected";
              o.cache[n] = i;
            }
          }),
          (o.findInCache = function (e) {
            return e ? o.cache[e.toString()] : null;
          }),
          (o.getProperty = function (e, t) {
            return e.tags && e.tags[t] ? e.tags[t] : e[t];
          }),
          (o.findParentArray = function (e) {
            return o.findInArray(i.tasks.list, e);
          }),
          (o.findInArray = function (e, t) {
            if (DayPilot.indexOf(e, t) !== -1) return e;
            for (var n = 0; n < e.length; n++) {
              var i = e[n];
              if (i.children && i.children.length > 0) {
                var a = o.findInArray(i.children, t);
                if (a) return a;
              }
            }
            return null;
          }),
          (this.wh = {});
        var s = this.wh;
        (s.translate = function () {
          if (
            ((a.internal.gantt = i),
            (a.durationBarMode = "PercentComplete"),
            (a.timeRangeSelectedHandling = "Disabled"),
            (a.treeEnabled = !0),
            (a.rowCreateHtml = ""),
            (a.rowHeaderColumnsMode = "Legacy"),
            (a.autoRefreshCommand = i.autoRefreshCommand),
            (a.autoRefreshEnabled = i.autoRefreshEnabled),
            (a.autoRefreshInterval = i.autoRefreshInterval),
            (a.autoRefreshMaxCount = i.autoRefreshMaxCount),
            (a.autoScroll = i.autoScroll),
            (a.backendUrl = i.backendUrl),
            (a.crosshairType = i.crosshairType),
            (a.doubleClickTimeout = i.doubleClickTimeout),
            (a.durationBarVisible = i.completeBarVisible),
            (a.durationBarHeight = i.completeBarHeight),
            (a.dynamicEventRendering = i.progressiveTaskRendering),
            (a.dynamicEventRenderingMargin = i.progressiveTaskRenderingMargin),
            (a.dynamicEventRenderingCacheSweeping =
              i.progressiveTaskRenderingCacheSweeping),
            (a.dynamicEventRenderingCacheSize =
              i.progressiveTaskRenderingCacheSize),
            (a.startDate = new DayPilot.Date(i.startDate)),
            (a.days = i.days),
            (a.cellDuration = i.cellDuration),
            (a.cellGroupBy = i.cellGroupBy),
            (a.cellWidth = i.cellWidth),
            (a.cellWidthSpec = i.cellWidthSpec),
            (a.cornerHtml = i.cornerHtml),
            (a.cornerText = i.cornerText),
            (a.eventHeight = i.taskHeight),
            (a.eventResizeMargin = i.taskResizeMargin),
            (a.floatingEvents = i.floatingTasks),
            (a.floatingTimeHeaders = i.floatingTimeHeaders),
            (a.headerHeight = i.headerHeight),
            (a.heightSpec = i.heightSpec),
            (a.height = i.height),
            (a.linkBottomMargin = i.linkBottomMargin),
            (a.linkPointSize = i.linkPointSize),
            (a.loadingLabelVisible = i.loadingLabelVisible),
            (a.loadingLabelText = i.loadingLabelText),
            (a.loadingLabelHtml = i.loadingLabelHtml),
            (a.locale = i.locale),
            (a.messageBarPosition = i.messageBarPosition),
            (a.messageHideAfter = i.messageHideAfter),
            (a.rowCreateHandling = i.rowCreateHandling),
            (a.progressiveRowRendering = i.progressiveRowRendering),
            (a.progressiveRowRenderingPreload =
              i.progressiveRowRenderingPreload),
            (a.scale = i.scale),
            (a.scrollDelayEvents = i.scrollDelayTasks),
            (a.scrollDelayCells = i.scrollDelayCells),
            (a.scrollDelayFloats = i.scrollDelayFloats),
            (a.scrollX = i.scrollX),
            (a.scrollY = i.scrollY),
            i.scrollToTaskId && (a.scrollToResourceId = i.scrollToTaskId),
            (a.separators = i.separators),
            (a.tapAndHoldTimeout = i.tapAndHoldTimeout),
            (a.eventHtmlLeftMargin = i.taskHtmlLeftMargin),
            (a.eventHtmlRightMargin = i.taskHtmlRightMargin),
            (a.eventMovingStartEndEnabled = i.taskMovingStartEndEnabled),
            (a.eventMovingStartEndFormat = i.taskMovingStartEndFormat),
            (a.eventResizingStartEndEnabled = i.taskResizingStartEndEnabled),
            (a.eventResizingStartEndFormat = i.taskResizingStartEndFormat),
            (a.hideBorderFor100PctHeight = i.hideBorderFor100PctHeight),
            (a.hideUntilInit = i.hideUntilInit),
            (a.treeIndent = i.treeIndent),
            (a.treeAnimation = i.treeAnimation),
            (a.treeAutoExpand = i.treeAutoExpand),
            (a.treeImageMarginLeft = i.treeImageMarginLeft),
            (a.treeImageMarginTop = i.treeImageMarginTop),
            (a.treeImageMarginRight = i.treeImageMarginRight),
            (a.treeImageWidth = i.treeImageWidth),
            (a.treeImageHeight = i.treeImageHeight),
            (a.timeHeaders = i.timeHeaders),
            (a.rowHeaderHideIconEnabled = i.rowHeaderHideIconEnabled),
            (a.rowHeaderColumnsMergeParents = i.rowHeaderColumnsMergeParents),
            (a.rowHeaderScrolling = i.rowHeaderScrolling),
            (a.rowHeaderSplitterWidth = i.rowHeaderSplitterWidth),
            (a.rowHeaderWidth = i.rowHeaderWidth),
            (a.rowHeaderWidthAutoFit = i.rowHeaderWidthAutoFit),
            (a.rowMarginBottom = i.rowMarginBottom),
            (a.rowMinHeight = i.rowMinHeight),
            (a.selectedRows = i.selectedRows),
            (a.theme = i.theme),
            (a.useEventBoxes = i.useEventBoxes),
            (a.snapToGrid = i.snapToGrid),
            (a.uniqueID = i.uniqueID),
            (a.bubble = i.bubbleTask),
            (a.cellBubble = i.bubbleCell),
            (a.resourceBubble = i.bubbleRow),
            (a.contextMenu = i.contextMenuTask),
            (a.contextMenuResource = i.contextMenuRow),
            (a.contextMenuLink = i.contextMenuLink),
            (a.syncResourceTree = i.syncTasks),
            (a.syncLinks = i.syncLinks),
            (a.timeline = i.timeline),
            (a.visible = i.visible),
            (a.devsb = i.devsb),
            (a.weekStarts = i.weekStarts),
            (a.xssProtection = i.xssProtection),
            (a.eventMoveHandling = i.taskMoveHandling),
            (a.eventClickHandling = i.taskClickHandling),
            (a.eventResizeHandling = i.taskResizeHandling),
            (a.linkCreateHandling = i.linkCreateHandling),
            (a.eventRightClickHandling = i.taskRightClickHandling),
            (a.eventDoubleClickHandling = i.taskDoubleClickHandling),
            (a.rowMoveHandling = i.rowMoveHandling),
            (a.rowClickHandling = i.rowClickHandling),
            (a.rowDoubleClickHandling = i.rowDoubleClickHandling),
            (a.rowEditHandling = i.rowEditHandling),
            (a.rowSelectHandling = i.rowSelectHandling),
            (a.eventVersionsEnabled = i.taskVersionsEnabled),
            (a.eventVersionHeight = i.taskVersionHeight),
            (a.eventVersionMargin = i.taskVersionMargin),
            (a.eventVersionPosition = i.taskVersionPosition),
            DayPilot.isArray(i.columns))
          ) {
            a.rowHeaderColumns = [];
            for (var e = 0; e < i.columns.length; e++) {
              var t = i.columns[e],
                n = {};
              DayPilot.Util.copyProps(t, n, [
                "html",
                "text",
                "name",
                "title",
                "width",
                "hidden",
                "maxAutoWidth",
              ]),
                (n.display = t.display || t.property),
                a.rowHeaderColumns.push(n);
            }
          }
          i.ia() &&
            ((a.timeHeader = i.timeHeader),
            (a.cellProperties = i.cellProperties),
            (a.cellConfig = i.cellConfig)),
            (a.onRowCreate = function (e) {
              (e.control = i),
                "function" == typeof i.onRowCreate && i.onRowCreate(e);
            }),
            (a.onRowCreated = function (e) {
              "function" == typeof i.onRowCreated && i.onRowCreated(e);
            }),
            (a.onAfterRender = function (e) {
              "function" == typeof i.onAfterRender && i.onAfterRender(e);
            }),
            (a.onAfterUpdate = function (e) {
              "function" == typeof i.onAfterUpdate && i.onAfterUpdate(e);
            }),
            (a.onRowHeaderResized = function (e) {
              i.rowHeaderWidth = a.rowHeaderWidth;
            }),
            (a.onRowFilter = function (e) {
              "function" == typeof i.onRowFilter &&
                ((e.task = new DayPilot.Task(e.row.$.row.task, i)),
                (e.control = i),
                i.onRowFilter(e));
            }),
            (a.onAjaxError = function (e) {
              "function" == typeof i.onAjaxError && i.onAjaxError(e);
            }),
            (a.onRowHeaderColumnResized = function (e) {
              for (
                var t = e.column,
                  n = DayPilot.indexOf(a.rowHeaderColumns, t),
                  r = 0;
                r < i.columns.length;
                r++
              ) {
                var o = a.rowHeaderColumns[r];
                i.columns[r].width = o.width;
              }
              if ("function" == typeof i.onColumnResized) {
                var s = {};
                (s.column = i.columns[n]), i.onColumnResized(s);
              }
            }),
            (a.internalUseStandardColumns = DayPilot.isArray(i.columns)),
            (a.onBeforeRowHeaderRender = function (e) {
              e.task = new DayPilot.Task(e.row.$.row.task, i);
              var t = e.row.$.row.events[0];
              t &&
                "Auto" === i.taskGroupMode &&
                "Group" === t.data.type &&
                ((e.task.data.start = t.data.start),
                (e.task.data.end = t.data.end));
              var n = [];
              if (DayPilot.isArray(i.columns))
                for (var r = 0; r < i.columns.length; r++) {
                  var s = i.columns[r],
                    l = s.display || s.property,
                    d = {};
                  (d.value = a.internal.xssTextHtml(
                    o.getProperty(e.task.data, l)
                  )),
                    e.task.data.row &&
                    e.task.data.row.columns &&
                    e.task.data.row.columns[r]
                      ? (d.html = e.task.data.row.columns[r].html)
                      : (d.html = d.value),
                    n.push(d);
                }
              (e.row.columns = n),
                "function" == typeof i.onBeforeRowHeaderRender &&
                  i.onBeforeRowHeaderRender(e);
            }),
            (a.onBeforeRowHeaderExport = function (e) {
              (e.task = new DayPilot.Task(e.row.$.row.task, i)),
                "function" == typeof i.onBeforeRowHeaderExport &&
                  i.onBeforeRowHeaderExport(e);
            }),
            (a.onBeforeEventExport = function (e) {
              "function" == typeof i.onBeforeTaskExport &&
                ((e.task = new DayPilot.Task(e.e, i)), i.onBeforeTaskExport(e));
            }),
            (a.onBeforeCellRender = function (e) {
              (e.task = i.tasks.find(e.cell.resource)),
                delete e.cell.resource,
                "function" == typeof i.onBeforeCellRender &&
                  ((e.control = i), i.onBeforeCellRender(e));
            }),
            (a.onBeforeCellExport = function (e) {
              (e.task = i.tasks.find(e.cell.resource)),
                delete e.cell.resource,
                "function" == typeof i.onBeforeCellExport &&
                  ((e.control = i), i.onBeforeCellExport(e));
            }),
            (a.onBeforeCornerRender = function (e) {
              "function" == typeof i.onBeforeCornerRender &&
                ((e.control = i), i.onBeforeCornerRender(e));
            }),
            (a.onBeforeCornerExport = function (e) {
              "function" == typeof i.onBeforeCornerExport &&
                ((e.control = i), i.onBeforeCornerExport(e));
            }),
            (a.onBeforeTimeHeaderRender = function (e) {
              "function" == typeof i.onBeforeTimeHeaderRender &&
                ((e.control = i), i.onBeforeTimeHeaderRender(e));
            }),
            (a.onBeforeTimeHeaderExport = function (e) {
              "function" == typeof i.onBeforeTimeHeaderExport &&
                ((e.control = i), i.onBeforeTimeHeaderExport(e));
            }),
            (a.onEventClick = function (e) {
              (e.task = new DayPilot.Task(e.e, i)),
                (e.control = i),
                "function" == typeof i.onTaskClick && i.onTaskClick(e);
            }),
            (a.onEventClicked = function (e) {
              "function" == typeof i.onTaskClicked && i.onTaskClicked(e);
            }),
            (a.onEventDelete = function (e) {
              "function" == typeof i.onTaskDelete && i.onTaskDelete(e);
            }),
            (a.onEventDeleted = function (e) {
              "function" == typeof i.onTaskDeleted && i.onTaskDeleted(e);
            }),
            (a.onEventDoubleClick = function (e) {
              (e.task = new DayPilot.Task(e.e, i)),
                (e.control = i),
                "function" == typeof i.onTaskDoubleClick &&
                  i.onTaskDoubleClick(e);
            }),
            (a.onEventDoubleClicked = function (e) {
              "function" == typeof i.onTaskDoubleClicked &&
                i.onTaskDoubleClicked(e);
            }),
            (a.onEventRightClick = function (e) {
              (e.task = new DayPilot.Task(e.e, i)),
                "function" == typeof i.onTaskRightClick &&
                  i.onTaskRightClick(e);
            }),
            (a.onEventRightClicked = function (e) {
              "function" == typeof i.onTaskRightClicked &&
                i.onTaskRightClicked(e);
            }),
            (a.onRowMoving = function (e) {
              (e.xh = e.source),
                (e.yh = e.target),
                (e.source = new DayPilot.Task(e.xh.$.row.task, i)),
                (e.target = new DayPilot.Task(e.yh.$.row.task, i)),
                "function" == typeof i.onRowMoving && i.onRowMoving(e);
            }),
            (a.onRowMove = function (e) {
              (e.xh = e.source),
                (e.yh = e.target),
                (e.source = new DayPilot.Task(e.xh.$.row.task, i)),
                (e.target = new DayPilot.Task(e.yh.$.row.task, i)),
                (e.control = i),
                "function" == typeof i.onRowMove && i.onRowMove(e),
                (e.source = e.xh),
                (e.target = e.yh);
            }),
            (a.onRowMoved = function (e) {
              if (
                "Update" === i.rowMoveHandling ||
                "Notify" === i.rowMoveHandling
              ) {
                var t = e.xh.$.row.task,
                  n = e.yh.$.row.task,
                  a = e.position;
                if ("forbidden" === a) return;
                var r = e.xh.calendar.internal.gantt,
                  s = r.vh.findParentArray(t);
                if (!s) throw "Cannot find source node parent";
                var l = DayPilot.indexOf(s, t);
                s.splice(l, 1);
                var d = o.findParentArray(n);
                if (!d) throw "Cannot find target node parent";
                var c = DayPilot.indexOf(d, n);
                switch (a) {
                  case "before":
                    d.splice(c, 0, t);
                    break;
                  case "after":
                    d.splice(c + 1, 0, t);
                    break;
                  case "child":
                    n.children || ((n.children = []), (n.expanded = !0)),
                      n.children.push(t);
                }
                i.Og.notify(), i.update(), r !== i && r.update();
              }
              (e.source = new DayPilot.Task(e.xh.$.row.task, i)),
                (e.target = new DayPilot.Task(e.yh.$.row.task, i)),
                "function" == typeof i.onRowMoved && i.onRowMoved(e);
            }),
            (a.onRowClick = function (e) {
              (e.task = new DayPilot.Task(e.resource.$.row.task, i)),
                "function" == typeof i.onRowClick && i.onRowClick(e);
            }),
            (a.onRowClicked = function (e) {
              "function" == typeof i.onRowClicked && i.onRowClicked(e);
            }),
            (a.onRowDoubleClick = function (e) {
              (e.task = new DayPilot.Task(e.resource.$.row.task, i)),
                "function" == typeof i.onRowDoubleClick &&
                  i.onRowDoubleClick(e);
            }),
            (a.onRowDoubleClicked = function (e) {
              "function" == typeof i.onRowDoubleClicked &&
                i.onRowDoubleClicked(e);
            }),
            (a.onRowEdit = function (e) {
              (e.task = new DayPilot.Task(e.resource.$.row.task, i)),
                "function" == typeof i.onRowEdit && i.onRowEdit(e);
            }),
            (a.onRowEdited = function (e) {
              "function" == typeof i.onRowEdited && i.onRowEdited(e);
            }),
            (a.onRowSelect = function (e) {
              (e.task = new DayPilot.Task(e.row.$.row.task, i)),
                "function" == typeof i.onRowSelect && i.onRowSelect(e);
            }),
            (a.onRowSelected = function (e) {
              "function" == typeof i.onRowSelected && i.onRowSelected(e);
            }),
            (a.onEventMove = function (e) {
              (e.zh = e.e),
                (e.task = new DayPilot.Task(e.e, i)),
                (e.control = i),
                "function" == typeof i.onTaskMove && i.onTaskMove(e);
            }),
            (a.onEventMoved = function (e) {
              if ("Auto" === i.taskGroupMode) {
                var t = e.zh,
                  n = t.data.task;
                for (n.start = t.start(), n.end = t.end(); t.data.parent; ) {
                  var r = a.events.find(t.data.parent.id),
                    o = s.childrenStartEnd(t.data.parent);
                  r.start(o.start), r.end(o.end), a.events.update(r), (t = r);
                }
              }
              i.Og.notify(),
                "function" == typeof i.onTaskMoved && i.onTaskMoved(e);
            }),
            (a.onEventMoving = function (e) {
              (e.task = new DayPilot.Task(e.e, i)),
                (e.zh = e.e),
                delete e.position,
                delete e.overlapping,
                delete e.resource,
                "function" == typeof i.onTaskMoving && i.onTaskMoving(e);
            }),
            (a.onEventResize = function (e) {
              (e.zh = e.e),
                (e.task = new DayPilot.Task(e.e, i)),
                (e.control = i),
                "function" == typeof i.onTaskResize && i.onTaskResize(e);
            }),
            (a.onEventResized = function (e) {
              if ("Auto" === i.taskGroupMode) {
                var t = e.zh,
                  n = t.data.task;
                for (n.start = t.start(), n.end = t.end(); t.data.parent; ) {
                  var r = a.events.find(t.data.parent.id),
                    o = s.childrenStartEnd(t.data.parent);
                  r.start(o.start), r.end(o.end), a.events.update(r), (t = r);
                }
              }
              i.Og.notify(),
                "function" == typeof i.onTaskResized && i.onTaskResized(e);
            }),
            (a.onEventResizing = function (e) {
              (e.task = new DayPilot.Task(e.e, i)),
                (e.zh = e.e),
                (e.control = i),
                "function" == typeof i.onTaskResizing && i.onTaskResizing(e);
            }),
            (a.onLinkCreate = function (e) {
              (e.source = i.tasks.find(e.from)),
                (e.target = i.tasks.find(e.to)),
                (e.control = i),
                "function" == typeof i.onLinkCreate && i.onLinkCreate(e);
            }),
            (a.onLinkCreated = function (e) {
              "function" == typeof i.onLinkCreated && i.onLinkCreated(e);
            }),
            (a.onResourceExpand = function (e) {
              var t = e.resource.$.row.task;
              t.row || (t.row = {}), (t.row.collapsed = !1);
            }),
            (a.onResourceCollapse = function (e) {
              var t = e.resource.$.row.task;
              t.row || (t.row = {}), (t.row.collapsed = !0);
            });
        }),
          (s.Ah = function (e) {
            for (var t = 0; t < a.rowlist.length; t++) {
              var n = a.rowlist[t];
              if (n.task === e) return a.internal.createRowObject(n);
            }
            return null;
          }),
          (s.ph = function () {
            a.links.list = i.links.list ? i.links.list : [];
          }),
          (s.oh = function () {
            (a.resources = []),
              (a.events.list = []),
              o.clearCache(),
              s.Bh(i.tasks.list, a.resources, null),
              l.sheet && (l.sheet.commit(), (l.sheet = null));
          }),
          (s.Ch = function (e) {
            var t = e.type || "Task";
            e.children && e.children.length && (t = "Group");
            var n = {};
            for (var r in e) "children" !== r && (n[r] = e[r]);
            var o = {};
            if (
              ((o.data = n),
              (o.type = t),
              n.box || (n.box = {}),
              "undefined" == typeof n.box.html)
            )
              if ("Task" === o.type) {
                var s = n.complete || 0;
                n.box.text = s + "%";
              } else n.box.text = "";
            return (
              "undefined" == typeof n.box.htmlRight &&
                (n.box.htmlRight = a.internal.xssTextHtml(n.text)),
              "function" == typeof i.onBeforeTaskRender &&
                i.onBeforeTaskRender(o),
              (o.type = t),
              o
            );
          });
        var l = {};
        (l.keys = {}),
          (l.sheet = null),
          (s.Dh = function (e) {
            if (
              e.data.box &&
              !e.data.box.cssClass &&
              e.data.box.backColor &&
              "Task" !== e.type
            ) {
              var t = DayPilot.Util.normalizeColor(e.data.box.backColor),
                n = e.type + "_" + t.replace("#", ""),
                a = i.theme,
                r = i.theme + "_" + n;
              return (
                l.keys[n] ||
                  ((l.keys[n] = !0),
                  l.sheet || (l.sheet = DayPilot.sheet()),
                  "Group" === e.type
                    ? (l.sheet.add(
                        "." +
                          r +
                          "." +
                          a +
                          "_task_group ." +
                          a +
                          "_event_inner",
                        "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: " +
                          t +
                          "; filter: none; border: 0px none;"
                      ),
                      l.sheet.add(
                        "." +
                          r +
                          "." +
                          a +
                          "_task_group." +
                          a +
                          "_event:before",
                        "content:''; border-color: transparent transparent transparent " +
                          t +
                          "; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"
                      ),
                      l.sheet.add(
                        "." + r + "." + a + "_task_group." + a + "_event:after",
                        "content:''; border-color: transparent " +
                          t +
                          " transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;"
                      ))
                    : "Milestone" === e.type &&
                      (l.sheet.add(
                        "." +
                          r +
                          "." +
                          a +
                          "_task_milestone ." +
                          a +
                          "_event_inner",
                        "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: " +
                          t +
                          "; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"
                      ),
                      l.sheet.add(
                        "." +
                          r +
                          "." +
                          a +
                          "_browser_ie8 ." +
                          a +
                          "_task_milestone ." +
                          a +
                          "_event_inner",
                        "-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""
                      ))),
                r
              );
            }
          }),
          (s.Bh = function (t, n, r) {
            if (DayPilot.isArray(t))
              for (var l = 0; l < t.length; l++) {
                var d = t[l];
                o.addToCache(d, r);
                var c = s.Ch(d),
                  u = c.data,
                  h = c.type,
                  f = {};
                if (
                  (DayPilot.Util.copyProps(u, f, [
                    "id",
                    "start",
                    "end",
                    "text",
                    "complete",
                    "tags",
                    "versions",
                  ]),
                  DayPilot.Util.copyProps(u.box, f),
                  (f.parent = r),
                  (f.task = d),
                  (f.resource = u.id),
                  (f.commitCallback = (function (e) {
                    return function () {
                      (e.task.start = e.start), (e.task.end = e.end);
                    };
                  })(f)),
                  "Group" == h)
                ) {
                  (f.type = "Group"), (f.html = (u.box && u.box.html) || "");
                  var v = s.Dh(c);
                  if (
                    (v && (f.cssClass = (f.cssClass || "") + " " + v),
                    "Auto" === i.taskGroupMode)
                  ) {
                    var p = s.childrenStartEnd(d);
                    (f.start = p.start),
                      (f.end = p.end),
                      (f.resizeDisabled = !0),
                      (f.moveDisabled = !0);
                  }
                } else if ("Milestone" === h) {
                  (f.html = ""), (d.end = d.start);
                  var v = s.Dh(c);
                  v && (f.cssClass = (f.cssClass || "") + " " + v),
                    (u.end = u.start),
                    (f.end = u.start),
                    (f.barHidden = !0),
                    (f.resizeDisabled = !0),
                    (f.type = "Milestone"),
                    (f.width = i.taskHeight),
                    delete f.backColor;
                } else "Task" === h && e();
                (f.moveVDisabled = !0),
                  (f.htmlRight = u.box.htmlRight),
                  (f.htmlLeft = u.box.htmlLeft),
                  a.events.list.push(f);
                var m = {};
                (m.task = d),
                  DayPilot.Util.copyProps(u.row, m),
                  (m.name = u.text),
                  (m.id = u.id),
                  (m.children = []),
                  (m.expanded = !u.row || !u.row.collapsed),
                  d.children &&
                    d.children.length &&
                    s.Bh(d.children, m.children, d),
                  n.push(m);
              }
          }),
          (s.childrenStartEnd = function (e) {
            if (!e.children || !e.children.length) {
              var t = e.start,
                n = e.end;
              return (
                "Milestone" === e.type && (n = t),
                { start: new DayPilot.Date(t), end: new DayPilot.Date(n) }
              );
            }
            for (var t = null, n = null, i = 0; i < e.children.length; i++) {
              var a = s.childrenStartEnd(e.children[i]);
              (!t || a.start.getTime() < t.getTime()) && (t = a.start),
                (!n || a.end.getTime() > n.getTime()) && (n = a.end);
            }
            return { start: t, end: n };
          }),
          (this.rows = {}),
          (this.rows.expand = function (e) {
            a.rows.expand(e);
          }),
          (this.rows.expandAll = function () {
            a.rows.expandAll();
          }),
          (this.rows.filter = function (e) {
            a.rows.filter(e);
          }),
          (this.rows.selection = {}),
          (this.rows.selection.add = function (e) {
            a.rows.find(e.data.id);
          }),
          (this.rows.selection.clear = function () {
            a.rows.selection.clear();
          }),
          (this.rows.selection.get = function () {
            return a.rows.selection.get().map(function (e) {
              return new DayPilot.Task(e.$.row.task, i);
            });
          }),
          (this.exportAs = function (e, t) {
            return a.exportAs(e, t);
          }),
          (this.ih = null),
          (this.Sg = function (e) {
            if (e) {
              var t = {
                tasks: {
                  preInit: function () {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (i.tasks.list = e.list)
                        : (i.tasks.list = e));
                  },
                },
                links: {
                  preInit: function () {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (i.links.list = e.list)
                        : (i.links.list = e));
                  },
                },
                scrollTo: {
                  postInit: function () {
                    this.data && i.scrollTo(this.data);
                  },
                },
                scrollToTask: {
                  postInit: function () {
                    this.data && i.scrollToTask(this.data);
                  },
                },
              };
              this.ih = t;
              for (var n in e)
                if (t[n]) {
                  var a = t[n];
                  (a.data = e[n]), a.preInit && a.preInit();
                } else i[n] = e[n];
            }
          }),
          (this.hh = function () {
            var e = this.ih;
            for (var t in e) {
              var n = e[t];
              n.postInit && n.postInit();
            }
          }),
          (this.internal = {}),
          (this.internal.initialized = function () {
            return i.va;
          }),
          (this.internal.rowObjectForTaskData = s.Ah),
          (this.internal.loadOptions = i.Sg),
          (this.Og = {}),
          (this.Og.scope = null),
          (this.Og.notify = function () {
            i.Og.scope && i.Og.scope["$apply"]();
          }),
          this.Sg(n);
      }),
        "undefined" != typeof jQuery &&
          !(function (e) {
            e.fn.daypilotGantt = function (e) {
              var t = null,
                n = this.each(function () {
                  if (!this.daypilot) {
                    var n = new DayPilot.Gantt(this.id, e);
                    n.init(), (this.daypilot = n), t || (t = n);
                  }
                });
              return 1 === this.length ? t : n;
            };
          })(jQuery),
        (function () {
          var e = DayPilot.am();
          e &&
            e.directive("daypilotGantt", [
              "$parse",
              function (e) {
                return {
                  restrict: "E",
                  template: "<div id='{{id}}'></div>",
                  compile: function (t, n) {
                    return (
                      t.replaceWith(
                        this["template"].replace("{{id}}", n["id"])
                      ),
                      function (t, n, i) {
                        var a = new DayPilot.Gantt(n[0]);
                        (a.Og.scope = t), a.init();
                        var r = i["id"];
                        r && (t[r] = a);
                        var o = i["publishAs"];
                        if (o) {
                          (0, e(o).assign)(t, a);
                        }
                        for (var s in i)
                          if (0 === s.indexOf("on")) {
                            var l = DayPilot.Util.shouldApply(s);
                            l
                              ? !(function (n) {
                                  a[n] = function (a) {
                                    var r = e(i[n]);
                                    t["$apply"](function () {
                                      r(t, { args: a });
                                    });
                                  };
                                })(s)
                              : !(function (n) {
                                  a[n] = function (a) {
                                    e(i[n])(t, { args: a });
                                  };
                                })(s);
                          }
                        var d = t["$watch"],
                          c = i["config"] || i["daypilotConfig"];
                        d.call(
                          t,
                          c,
                          function (e, t) {
                            a.Sg(e), a.update();
                          },
                          !0
                        );
                      }
                    );
                  },
                };
              },
            ]);
        })(),
        (DayPilot.Gantt.def = {}),
        "undefined" != typeof Sys &&
          Sys.Application &&
          Sys.Application.notifyScriptLoaded &&
          Sys.Application.notifyScriptLoaded();
    }
  })(DayPilot),
  "undefined" == typeof DayPilot)
)
  var DayPilot = {};
if (
  ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function (DayPilot) {
    if ("undefined" == typeof DayPilot.Kanban || !DayPilot.Kanban.def) {
      var e = function () {};
      (DayPilot.Kanban = function (t, n) {
        this.v = "2023.2.5574";
        var i = this;
        (this.barWidth = 5),
          (this.cardAutoHeight = !0),
          (this.cardHeight = 60),
          (this.cardMarginLeft = 5),
          (this.cardMarginRight = 5),
          (this.cardMarginBottom = 5),
          (this.columnHeaderHeight = 20),
          (this.crosshairType = "Disabled"),
          (this.height = 300),
          (this.heightSpec = "Auto"),
          (this.theme = "kanban_default"),
          (this.cellMarginBottom = 4),
          (this.cellMarginTop = 5),
          (this.columnWidthSpec = "Auto"),
          (this.columnWidth = 200),
          (this.cornerHtml = null),
          (this.contextMenuCard = null),
          (this.rowMinHeight = 0),
          (this.swimlaneCollapsingEnabled = !1),
          (this.swimlaneHeaderWidth = 80),
          (this.visible = !0),
          (this.swimlanes = {}),
          (this.swimlanes.list = []),
          (this.columns = {}),
          (this.columns.list = []),
          (this.cards = {}),
          (this.cards.list = []),
          (this.cardDeleteHandling = "Disabled"),
          (this.cardMoveHandling = "Update"),
          (this.columnMoveHandling = "Disabled"),
          (this.swimlaneMoveHandling = "Disabled"),
          (this.cardRightClickHandling = "ContextMenu"),
          (this.onBeforeCellRender = null),
          (this.onCardClick = null),
          (this.onCardClicked = null),
          (this.onCardRightClick = null),
          (this.onCardRightClicked = null),
          (this.onCardDelete = null),
          (this.onCardDeleted = null),
          (this.onCardMove = null),
          (this.onCardMoved = null),
          (this.onColumnMove = null),
          (this.onColumnMoved = null),
          (this.onHeightChanged = null),
          (this.onSwimlaneMove = null),
          (this.onSwimlaneMoved = null);
        var a = new DayPilot.Scheduler(t);
        this.scheduler = a;
        var r = {},
          o = 15,
          s = 15;
        e();
        var l = new DayPilot.Date("2000-01-01");
        (r.translate = function () {
          var e = a;
          (e.startDate = l),
            (e.scale = "Day"),
            (e.timeHeaders = [{ groupBy: "Cell", format: "d" }]),
            (e.rowHeaderColumnsMode = "Legacy"),
            (e.heightSpec = i.heightSpec),
            (e.cellWidthSpec = i.columnWidthSpec),
            (e.cellWidth = i.columnWidth),
            (e.cellsMarkBusiness = !1),
            (e.cornerHtml = i.cornerHtml),
            (e.crosshairType = i.crosshairType),
            (e.dynamicEventRendering = "Disabled"),
            (e.floatingEvents = !1),
            (e.floatingTimeHeaders = !1),
            (e.rowMinHeight = i.rowMinHeight),
            (e.rowMarginTop = i.cellMarginTop),
            (e.rowMarginBottom = i.cellMarginBottom),
            (e.devsb = i.devsb),
            (e.eventMoveToPosition = !0),
            (e.headerHeight = i.columnHeaderHeight),
            (e.eventResizeHandling = "Disabled"),
            (e.timeRangeSelectedHandling = "Disabled"),
            (e.eventHeight = i.cardHeight),
            (e.eventMarginLeft = i.cardMarginLeft),
            (e.eventMarginRight = i.cardMarginRight),
            (e.eventMarginBottom = i.cardMarginBottom),
            (e.eventTextWrappingEnabled = !0),
            (e.durationBarVisible = !1),
            (e.theme = i.theme),
            (e.visible = i.visible),
            (e.rowHeaderWidth = i.swimlaneHeaderWidth),
            (e.contextMenu = i.contextMenuCard),
            (e.eventDeleteHandling = i.cardDeleteHandling),
            (e.eventMoveHandling = i.cardMoveHandling),
            (e.rowMoveHandling = DayPilot.list(i.swimlanes.list).isEmpty()
              ? "Disabled"
              : i.swimlaneMoveHandling),
            (e.eventRightClickHandling = i.cardRightClickHandling),
            (e.onHeightChanged = i.onHeightChanged),
            e.internal.enableCellStacking(i.cardAutoHeight),
            (e.internal.cssNames.timeheadercol = "_colheadercell"),
            (e.internal.cssNames.timeheadercolInner = "_colheadercell_inner"),
            (e.internal.cssNames.resourcedivider = "_rowheaderdivider"),
            (e.internal.cssNames.event = "_card"),
            (e.internal.cssNames.eventInner = "_card_inner"),
            (e.internal.cssNames.eventDelete = "_card_delete"),
            (e.internal.cssNames.eventMovingSource = "_card_moving_source"),
            i.swimlaneCollapsingEnabled && (e.rowHeaderWidthMarginRight = 15),
            (e.onBeforeTimeHeaderRender = function (e) {
              var t = i.Eh(e.header.start);
              if (
                ((e.header.html = t.name),
                (e.header.toolTip = t.toolTip || ""),
                (e.header.areas = DayPilot.list(t.areas).map(function (e) {
                  var t = [];
                  return DayPilot.Util.copyProps(e, t), t;
                })),
                DayPilot.list(e.header.areas).forEach(function (e) {
                  e.target = new DayPilot.KanbanColumn(t, i);
                }),
                "Disabled" !== i.columnMoveHandling)
              ) {
                var n = i.theme + "_columnmove_handle";
                e.header.areas.push({
                  left: 0,
                  top: 0,
                  width: 20,
                  height: 20,
                  css: n,
                  mousedown: i.Fh,
                  action: "None",
                });
              }
            }),
            (e.onBeforeCellRender = function (t) {
              var n = {};
              (n.cell = {}),
                (n.cell.column = new DayPilot.KanbanColumn(
                  i.Eh(t.cell.start),
                  i
                )),
                (n.cell.swimlane = null);
              var a = i.Gh(t.cell.resource);
              a && (n.cell.swimlane = new DayPilot.Swimlane(a, i)),
                (n.cell.areas = []),
                (n.cell.cssClass = null),
                (n.cell.html = null),
                (n.cell.backImage = null),
                (n.cell.backRepeat = null),
                (n.cell.backColor = null),
                "function" == typeof i.onBeforeCellRender &&
                  (i.onBeforeCellRender(n),
                  DayPilot.Util.copyProps(n.cell, t.cell, [
                    "areas",
                    "cssClass",
                    "html",
                    "backImage",
                    "backRepeat",
                    "backColor",
                  ]),
                  DayPilot.list(t.cell.areas).forEach(function (e) {
                    e.target = {
                      swimlane: n.cell.swimlane,
                      column: n.cell.column,
                    };
                  }));
              var r = e.rows.find(t.cell.resource);
              e.resources[r.index].collapsed &&
                (t.cell.cssClass || (t.cell.cssClass = ""),
                (t.cell.cssClass += " " + i.theme + "_collapsed"));
            }),
            (e.onEventClick = function (e) {
              var t = new DayPilot.Args(e);
              (t.card = new DayPilot.Card(e.e.data.card, i)),
                "function" == typeof i.onCardClick && i.onCardClick(t),
                (e.wrapped = t);
            }),
            (e.onEventClicked = function (e) {
              var t = e.wrapped;
              "function" == typeof i.onCardClicked && i.onCardClicked(t);
            }),
            (e.onEventRightClick = function (e) {
              var t = new DayPilot.Args(e);
              if (
                ((t.card = new DayPilot.Card(e.e.data.card, i)),
                "function" == typeof i.onCardRightClick &&
                  i.onCardRightClick(t),
                (e.wrapped = t),
                !e.preventDefault.value)
              ) {
                var n = e.e,
                  a = t.card;
                switch (i.cardRightClickHandling) {
                  case "ContextMenu":
                    var r = n.client.contextMenu();
                    r
                      ? r.show(a)
                      : i.contextMenuCard && i.contextMenuCard.show(a),
                      e.preventDefault();
                }
              }
            }),
            (e.onEventRightClicked = function (e) {
              var t = e.wrapped;
              "function" == typeof i.onCardRightClicked &&
                i.onCardRightClicked(t);
            }),
            (e.onEventDelete = function (e) {
              var t = new DayPilot.Args(e);
              (t.card = new DayPilot.Card(e.e.data.card, i)),
                (t.control = i),
                "function" == typeof i.onCardDelete && i.onCardDelete(t),
                (e.wrapped = t);
            }),
            (e.onEventDeleted = function (e) {
              DayPilot.rfa(i.cards.list, e.e.data.card);
              var t = e.wrapped;
              "function" == typeof i.onCardDeleted && i.onCardDeleted(t);
            }),
            (e.onEventMove = function (e) {
              e.external &&
                (e.e.data.card = {
                  id: e.e.data.id,
                  name: e.e.data.name,
                  text: e.e.data.text,
                  barColor: e.e.data.barColor,
                  barBackColor: e.e.data.barBackColor,
                });
              var t = new DayPilot.Args(e);
              (t.control = i),
                (t.card = new DayPilot.Card(e.e.data.card, i)),
                (t.column = new DayPilot.KanbanColumn(i.Eh(e.newStart))),
                (t.position = e.position),
                (t.external = e.external),
                "*" !== e.newResource
                  ? (t.swimlane = new DayPilot.Swimlane(i.Gh(e.newResource), i))
                  : (t.swimlane = null);
              for (
                var n = a.cells.find(e.newStart, e.newResource)[0].events(),
                  o = e.position,
                  s = null,
                  l = o - 1;
                n[l];

              ) {
                if (n[l].data !== e.e.data) {
                  s = new DayPilot.Card(n[l]);
                  break;
                }
                l -= 1;
              }
              for (var d = null, c = o; n[c]; ) {
                if (n[c].data !== e.e.data) {
                  d = new DayPilot.Card(n[c]);
                  break;
                }
                c += 1;
              }
              if (
                ((t.previous = s),
                (t.next = d),
                "function" == typeof i.onCardMove && i.onCardMove(t),
                (e.wrapped = t),
                e.preventDefault(),
                !t.preventDefault.value)
              ) {
                switch (i.cardMoveHandling) {
                  case "Update":
                    var u = 0;
                    d
                      ? (u = d.wrapped.data.sort[0])
                      : s && (u = s.wrapped.data.sort[0]),
                      (e.e.data.sort = [u, new DayPilot.Date().toString()]),
                      DayPilot.rfa(i.cards.list, e.e.data.card);
                    var h = 0;
                    d
                      ? (h = DayPilot.indexOf(i.cards.list, d.data))
                      : s && (h = DayPilot.indexOf(i.cards.list, s.data) + 1);
                    var f = i.Eh(e.newStart);
                    (e.e.data.card.column = f.id),
                      (e.e.data.card.swimlane = e.newResource),
                      i.cards.list.splice(h, 0, e.e.data.card),
                      r.updateSort(),
                      a.internal.deleteDragSource(),
                      i.update();
                }
                !(function () {
                  var t = e.wrapped,
                    n = DayPilot.list(i.cards.list).find(function (t) {
                      return e.e.data.card === t;
                    });
                  (n.swimlane = t.swimlane ? t.swimlane.data.id : null),
                    (n.column = t.column.data.id),
                    "function" == typeof i.onCardMoved && i.onCardMoved(t);
                })();
              }
            }),
            (e.onBeforeResHeaderRender = function (e) {
              if (i.swimlaneCollapsingEnabled) {
                if (!DayPilot.list(i.swimlanes.list).isEmpty()) {
                  var t = i.theme + "_swimlane_collapse";
                  e.resource.collapsed && (t = i.theme + "_swimlane_expand"),
                    (e.resource.areas = [
                      {
                        right: 0,
                        top: 0,
                        height: s,
                        width: o,
                        action: "JavaScript",
                        css: t,
                        js: function () {
                          i.Hh(e.resource.index);
                        },
                      },
                    ]);
                }
              }
            }),
            (e.onRowMove = function (e) {
              var t = new DayPilot.Args(e);
              (t.control = i),
                (e.wrapped = t),
                (t.swimlane = new DayPilot.Swimlane(e.source.$.row.swimlane));
              var n = 0;
              switch (e.position) {
                case "before":
                  n = e.target.index;
                  break;
                case "after":
                  n = e.target.index + 1;
                  break;
                default:
                  throw "Unexpected target swimlane position: " + e.position;
              }
              (t.position = n), (t.previous = null);
              for (
                var r = n - 1;
                a.rowlist[r] && a.rowlist[r].swimlane !== t.swimlane.data;

              )
                (t.previous = new DayPilot.Swimlane(a.rowlist[r].swimlane)),
                  (r -= 1);
              t.next = null;
              for (
                var o = n;
                a.rowlist[o] && a.rowlist[o].swimlane !== t.swimlane.data;

              )
                (t.next = new DayPilot.Swimlane(a.rowlist[o].swimlane)),
                  (o += 1);
              "function" == typeof i.onSwimlaneMove && i.onSwimlaneMove(t);
            }),
            (e.onRowMoved = function (e) {
              var t = e.wrapped;
              DayPilot.rfa(i.swimlanes.list, t.swimlane.data);
              var n = 0;
              t.next
                ? (n = DayPilot.indexOf(i.swimlanes.list, t.next.data))
                : t.previous &&
                  (n = DayPilot.indexOf(i.swimlanes.list, t.previous.data) + 1),
                i.swimlanes.list.splice(n, 0, t.swimlane.data),
                "function" == typeof i.onSwimlaneMoved && i.onSwimlaneMoved(t);
            }),
            (e.treePreventParentUsage = !0);
        }),
          (r.loadCards = function () {
            var e = i.theme + "_card_header",
              t = i.theme + "_card_body",
              n = new DayPilot.Date().toString();
            (a.sortDirections = ["asc", "desc"]),
              (a.events.list = DayPilot.list(i.cards.list).map(function (a, r) {
                var o = a.html || a.text || "",
                  s = a.name || "",
                  d = {};
                return (
                  (d.id = a.id),
                  (d.text = a.text),
                  (d.html =
                    "<div class='" +
                    e +
                    "'>" +
                    s +
                    "</div><div class='" +
                    t +
                    "'>" +
                    o +
                    "</div>"),
                  (d.resource = a.swimlane),
                  (d.start = l.addDays(
                    DayPilot.list(i.columns.list).findIndex(function (e) {
                      return a.column === e.id;
                    })
                  )),
                  (d.end = d.start.addDays(1)),
                  (d.card = a),
                  (d.height = a.height),
                  (d.cssClass = a.cssClass),
                  (d.sort = [r, n]),
                  (d.areas = DayPilot.list(a.areas).map(function (e) {
                    var t = {};
                    return (
                      DayPilot.Util.copyProps(e, t),
                      e.js &&
                        (t.js = function (t) {
                          e.js(new DayPilot.Card(t.data.card, i));
                        }),
                      t
                    );
                  })),
                  d.areas.push({
                    left: 0,
                    width: 5,
                    top: 0,
                    bottom: 0,
                    backColor: a.barColor,
                    cssClass: i.theme + "_card_bar",
                  }),
                  d
                );
              }));
          }),
          (r.updateSort = function () {
            var e = new DayPilot.Date().toString();
            DayPilot.list(i.cards.list).forEach(function (t, n) {
              var i = r.findSchedulerEventData(t);
              i && (i.sort = [n, e]);
            });
          }),
          (r.findSchedulerEventData = function (e) {
            return DayPilot.list(a.events.list).find(function (t) {
              return t.card === e;
            });
          }),
          (r.loadSwimlanes = function () {
            var e = DayPilot.list(i.swimlanes.list);
            (a.resources = e.map(function (e) {
              var t = {};
              return (
                (t.name = e.name),
                (t.id = e.id),
                (t.swimlane = e),
                e.collapsed &&
                  ((t.collapsed = !0),
                  (t.eventHeight = 20),
                  (t.hideEvents = !0)),
                t
              );
            })),
              e.isEmpty() && (a.resources = [{ name: "", id: "*" }]);
          }),
          (r.loadColumns = function () {
            var e = DayPilot.list(i.columns.list);
            a.days = e.length;
          });
        var d = {};
        (d.active = null),
          (d.div = null),
          (d.update = function () {
            d.clear();
            var e = d.findPosition();
            d.draw(e);
          }),
          (d.clear = function () {
            DayPilot.de(d.div), (d.div = null);
          }),
          (d.draw = function (e) {
            var t = 0;
            if (e >= a.itline.length) {
              var n = a.itline[a.itline.length - 1];
              t = n.left + n.width - 3;
            } else t = a.itline[e].left;
            var r = document.createElement("div");
            (r.style.position = "absolute"),
              (r.style.left = t + "px"),
              (r.style.width = "3px"),
              (r.style.top = 0),
              (r.style.height = a.headerHeight + "px"),
              (r.className = i.theme + "_columnmove_position"),
              (d.div = r),
              a.nav.timeHeader.appendChild(r);
          }),
          (d.findPosition = function () {
            if (i.coords.x < 0) return 0;
            var e = DayPilot.list(a.itline).findIndex(function (e) {
              var t = e.left + a.rowHeaderWidth,
                n = e.width;
              return i.coords.x < t + n / 2;
            });
            return e === -1 ? a.itline.length : e;
          }),
          (this.Fh = function (e) {
            d.active = e;
          }),
          (this.Eh = function (e) {
            return i.columns.list[DayPilot.DateUtil.daysDiff(l, e)];
          }),
          (this.Gh = function (e) {
            return DayPilot.list(i.swimlanes.list).find(function (t) {
              return t.id === e;
            });
          }),
          (this.message = function (e, t, n, i) {
            a.message(e, t, n, i);
          }),
          (this.show = function () {
            (i.visible = !0), a.show();
          }),
          (this.hide = function () {
            (i.visible = !1), a.hide();
          }),
          (this.cards.add = function (e) {
            var t = null;
            (t = e && e instanceof DayPilot.Card ? e.data : e),
              e && (i.cards.list.push(t), i.update());
          }),
          (this.cards.remove = function (e) {
            var t = null;
            (t = e && e instanceof DayPilot.Card ? e.data : e),
              e && (DayPilot.rfa(i.cards.list, t), i.update());
          }),
          (this.cards.update = function (e) {
            i.update();
          }),
          (this.cards.find = function (e) {
            var t = DayPilot.list(i.cards.list).find(function (t) {
              return e === t.id;
            });
            return t ? new DayPilot.Card(t, i) : null;
          }),
          (this.Hh = function (e) {
            DayPilot.list(i.swimlanes.list).isEmpty() ||
              (i.swimlanes.list[e].collapsed = !i.swimlanes.list[e].collapsed),
              i.update();
          }),
          (this.init = function () {
            if (this.va)
              throw new DayPilot.Exception(
                "This instance is already initialized. Use update() to change properties."
              );
            return (
              r.translate(),
              r.loadSwimlanes(),
              r.loadColumns(),
              r.loadCards(),
              a.init(),
              i.jg(),
              (this.va = !0),
              this
            );
          }),
          (this.wa = !1),
          (this.dispose = function () {
            a.dispose(), (i.wa = !0);
          }),
          (this.update = function (e) {
            var t = i;
            if (!t.va)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Kanban instance that hasn't been initialized yet."
              );
            if (t.wa)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Kanban instance that has been disposed."
              );
            i.Sg(e),
              r.translate(),
              r.loadSwimlanes(),
              r.loadColumns(),
              r.loadCards(),
              a.update();
          }),
          (this.jg = function () {
            DayPilot.re(document, "mouseup", i.mg),
              DayPilot.re(document, "mousemove", i.lg);
          }),
          (this.Og = {}),
          (this.Og.scope = null),
          (this.Og.notify = function () {
            i.Og.scope && i.Og.scope["$apply"]();
          }),
          (this.ih = null),
          (this.Sg = function (e) {
            if (e) {
              var t = {
                cards: {
                  preInit: function () {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (i.cards.list = e.list)
                        : (i.cards.list = e));
                  },
                },
                columns: {
                  preInit: function () {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (i.columns.list = e.list)
                        : (i.columns.list = e));
                  },
                },
                swimlanes: {
                  preInit: function () {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (i.swimlanes.list = e.list)
                        : (i.swimlanes.list = e));
                  },
                },
              };
              this.ih = t;
              for (var n in e)
                if (t[n]) {
                  var a = t[n];
                  (a.data = e[n]), a.preInit && a.preInit();
                } else i[n] = e[n];
            }
          }),
          (this.hh = function () {
            var e = this.ih;
            for (var t in e) {
              var n = e[t];
              n.postInit && n.postInit();
            }
          }),
          (this.internal = {}),
          (this.internal.loadOptions = i.Sg),
          this.Sg(n),
          (this.dg = function () {
            var e = i.nav.top;
            return !!e && e.offsetWidth > 0 && e.offsetHeight > 0;
          }),
          (this.eg = function () {
            var e = i,
              t = e.dg;
            t() ||
              e.Va ||
              (e.Va = setInterval(function () {
                t() && (e.update(), clearInterval(e.Va));
              }, 100));
          }),
          (this.lg = function (e) {
            (i.coords = DayPilot.mo3(a.nav.top, e)), d.active && d.update();
          }),
          (this.mg = function (e) {
            if (d.active) {
              var t = d.active.source,
                n = d.findPosition(),
                a = i.Eh(t.start),
                r = new DayPilot.Args();
              (r.column = new DayPilot.KanbanColumn(a, i)),
                (r.position = n),
                (r.previous = null),
                (r.next = null);
              for (var o = null, s = r.position; 0 !== s && !o; )
                a !== i.columns.list[s - 1] && (o = i.columns.list[s - 1]),
                  (s -= 1);
              o && (r.previous = new DayPilot.KanbanColumn(o, i));
              var l = null;
              for (s = r.position; s < i.columns.list.length - 1 && !l; )
                a !== i.columns.list[s] && (l = i.columns.list[s]), (s += 1);
              if (
                (l && (r.next = new DayPilot.KanbanColumn(l, i)),
                "function" == typeof i.onColumnMove && i.onColumnMove(r),
                !r.preventDefault.value)
              ) {
                if ("Update" === i.columnMoveHandling) {
                  DayPilot.rfa(i.columns.list, r.column.data);
                  var c = 0;
                  r.next
                    ? (c = DayPilot.indexOf(i.columns.list, r.next.data))
                    : r.previous &&
                      (c =
                        DayPilot.indexOf(i.columns.list, r.previous.data) + 1),
                    i.columns.list.splice(c, 0, r.column.data),
                    i.update();
                }
                "function" == typeof i.onColumnMoved && i.onColumnMove(r);
              }
              (d.active = null), d.clear();
            }
          });
      }),
        (DayPilot.Kanban.makeDraggable = function (e) {
          DayPilot.Scheduler.makeDraggable(e);
        }),
        (DayPilot.Card = function (e, t) {
          if (e instanceof DayPilot.Event) {
            var n = e;
            (this.data = n.data.card), (this.wrapped = e);
          } else this.data = e;
          this.control = t;
        }),
        (DayPilot.KanbanColumn = function (e, t) {
          (this.data = e), (this.control = t);
        }),
        (DayPilot.Swimlane = function (e, t) {
          (this.data = e), (this.control = t);
        }),
        (function () {
          var e = DayPilot.am();
          e &&
            e.directive("daypilotKanban", [
              "$parse",
              function (e) {
                return {
                  restrict: "E",
                  template: "<div id='{{id}}'></div>",
                  compile: function (t, n) {
                    return (
                      t.replaceWith(
                        this["template"].replace("{{id}}", n["id"])
                      ),
                      function (t, n, i) {
                        var a = new DayPilot.Kanban(n[0]);
                        (a.Og.scope = t), a.init();
                        var r = i["id"];
                        r && (t[r] = a);
                        var o = i["publishAs"];
                        if (o) {
                          (0, e(o).assign)(t, a);
                        }
                        for (var s in i)
                          if (0 === s.indexOf("on")) {
                            var l = DayPilot.Util.shouldApply(s);
                            l
                              ? !(function (n) {
                                  a[n] = function (a) {
                                    var r = e(i[n]);
                                    t["$apply"](function () {
                                      r(t, { args: a });
                                    });
                                  };
                                })(s)
                              : !(function (n) {
                                  a[n] = function (a) {
                                    e(i[n])(t, { args: a });
                                  };
                                })(s);
                          }
                        var d = t["$watch"],
                          c = i["config"] || i["daypilotConfig"];
                        d.call(
                          t,
                          c,
                          function (e, t) {
                            a.Sg(e), a.update();
                          },
                          !0
                        );
                      }
                    );
                  },
                };
              },
            ]);
        })(),
        (DayPilot.Kanban.def = {});
    }
  })(DayPilot),
  "undefined" == typeof DayPilot)
)
  var DayPilot = {};
if (
  ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function (DayPilot) {
    if ("undefined" == typeof DayPilot.Menu || !DayPilot.Menu.def) {
      var e = function () {},
        t = {};
      (t.mouse = null),
        (t.menu = null),
        (t.handlersRegistered = !1),
        (t.hideTimeout = null),
        (t.waitingSubmenu = null),
        (DayPilot.Menu = function (n) {
          var i = this,
            a = null;
          (this.v = "2023.2.5574"),
            (this.zIndex = 120),
            (this.cssClassPrefix = "menu_default"),
            (this.cssOnly = !0),
            (this.menuTitle = null),
            (this.showMenuTitle = !1),
            (this.hideOnMouseOut = !1),
            (this.hideAfter = 200),
            (this.theme = null),
            (this.onShow = null),
            (this.R = function () {}),
            n && DayPilot.isArray(n) && (this.items = n),
            (this.toJSON = function () {
              return null;
            }),
            (this.show = function (n, r) {
              r = r || {};
              var o = null;
              if (
                (n
                  ? "string" == typeof n.id || "number" == typeof n.id
                    ? (o = n.id)
                    : "function" == typeof n.id
                    ? (o = n.id())
                    : "function" == typeof n.value && (o = n.value())
                  : (o = null),
                "undefined" != typeof DayPilot.Bubble &&
                  DayPilot.Bubble.hideActive(),
                r.submenu || t.menuClean(),
                (this.R.submenu = null),
                null !== t.mouse)
              ) {
                i.cssOnly || (i.cssOnly = !0);
                var s = null;
                if (
                  (n && n.isRow && n.$.row.task
                    ? ((s = new DayPilot.Task(n.$.row.task, n.calendar)),
                      (s.menuType = "resource"))
                    : (s =
                        n && n.isEvent && n.data.task
                          ? new DayPilot.Task(n, n.calendar)
                          : n),
                  "function" == typeof i.onShow)
                ) {
                  var l = {};
                  if (
                    ((l.source = s),
                    (l.menu = i),
                    (l.preventDefault = function () {
                      l.preventDefault.value = !0;
                    }),
                    i.onShow(l),
                    l.preventDefault.value)
                  )
                    return;
                }
                var d = document.createElement("div");
                if (
                  ((d.style.position = "absolute"),
                  (d.style.top = "0px"),
                  (d.style.left = "0px"),
                  (d.style.display = "none"),
                  (d.style.overflow = "hidden"),
                  (d.style.zIndex = this.zIndex + 1),
                  (d.className = this.applyCssClass("main")),
                  (d.onclick = function (e) {
                    (e.cancelBubble = !0), this.parentNode.removeChild(this);
                  }),
                  this.hideOnMouseOut &&
                    ((d.onmousemove = function (e) {
                      clearTimeout(t.hideTimeout);
                    }),
                    (d.onmouseleave = function (e) {
                      i.delayedHide({ hideParent: !0 });
                    })),
                  !this.items || 0 === this.items.length)
                )
                  throw "No menu items defined.";
                if (this.showMenuTitle) {
                  var c = document.createElement("div");
                  (c.innerHTML = this.menuTitle),
                    (c.className = this.applyCssClass("title")),
                    d.appendChild(c);
                }
                for (var u = 0; u < this.items.length; u++) {
                  var h = this.items[u],
                    f = document.createElement("div");
                  if (
                    (DayPilot.Util.addClass(f, this.applyCssClass("item")),
                    h.items &&
                      (DayPilot.Util.addClass(
                        f,
                        this.applyCssClass("item_haschildren")
                      ),
                      DayPilot.Util.addClass(
                        d,
                        this.applyCssClass("withchildren")
                      )),
                    "undefined" != typeof h && !h.hidden)
                  ) {
                    if ("-" === h.text) {
                      var v = document.createElement("div");
                      v.addEventListener("click", function (e) {
                        e.stopPropagation();
                      }),
                        f.appendChild(v);
                    } else {
                      var p = document.createElement("a");
                      if (
                        ((p.style.position = "relative"),
                        (p.style.display = "block"),
                        h.cssClass && DayPilot.Util.addClass(p, h.cssClass),
                        h.disabled)
                      )
                        DayPilot.Util.addClass(
                          p,
                          i.applyCssClass("item_disabled")
                        );
                      else {
                        if (h.onclick || h.onClick) {
                          (p.item = h),
                            (p.onclick = (function (e, t) {
                              return function (n) {
                                if ("function" == typeof e.onClick) {
                                  var i = {};
                                  if (
                                    ((i.item = e),
                                    (i.source = t.source),
                                    (i.originalEvent = n),
                                    (i.preventDefault = function () {
                                      i.preventDefault.value = !0;
                                    }),
                                    e.onClick(i),
                                    i.preventDefault.value)
                                  )
                                    return;
                                }
                                e.onclick && e.onclick.call(t, n);
                              };
                            })(h, p));
                          var m = function (e, n) {
                            return function (i) {
                              i.stopPropagation(), i.preventDefault();
                              var a = function () {
                                window.setTimeout(function () {
                                  n.source.calendar.internal.touch.active = !1;
                                }, 500);
                              };
                              if ("function" == typeof e.onClick) {
                                var r = {};
                                if (
                                  ((r.item = e),
                                  (r.source = n.source),
                                  (r.originalEvent = i),
                                  (r.preventDefault = function () {
                                    r.preventDefault.value = !0;
                                  }),
                                  e.onClick(r),
                                  r.preventDefault.value)
                                )
                                  return void a();
                              }
                              e.onclick && e.onclick.call(n, i),
                                t.menuClean(),
                                a();
                            };
                          };
                          DayPilot.reNonPassive(p, "touchstart", function (e) {
                            e.stopPropagation(),
                              e.preventDefault(),
                              (p.source.calendar.internal.touch.active = !0);
                          }),
                            DayPilot.reNonPassive(p, "touchend", m(h, p));
                        }
                        if (h.items && !h.disabled) {
                          var g = function (e, t) {
                            return function (n) {
                              n.preventDefault(),
                                n.stopPropagation(),
                                i.Ih(e, t);
                            };
                          };
                          p.ontouchend = g(h, p);
                        }
                        if (h.onclick) e();
                        else if (h.href)
                          (p.href = h.href.replace(/\x7B0\x7D/gim, o)),
                            h.target && p.setAttribute("target", h.target);
                        else if (h.command) {
                          var g = function (e, t) {
                            return function (n) {
                              var i = t.source,
                                a = e;
                              a.action = a.action ? a.action : "CallBack";
                              var r = i.calendar || i.root;
                              if (i instanceof DayPilot.Link)
                                return void r.internal.linkMenuClick(
                                  a.command,
                                  i,
                                  a.action
                                );
                              if (i instanceof DayPilot.Selection)
                                return void r.internal.timeRangeMenuClick(
                                  a.command,
                                  i,
                                  a.action
                                );
                              if (i instanceof DayPilot.Event)
                                return void r.internal.eventMenuClick(
                                  a.command,
                                  i,
                                  a.action
                                );
                              if (i instanceof DayPilot.Selection)
                                return void r.internal.timeRangeMenuClick(
                                  a.command,
                                  i,
                                  a.action
                                );
                              if (i instanceof DayPilot.Task)
                                return void ("resource" === i.menuType
                                  ? r.internal.resourceHeaderMenuClick(
                                      a.command,
                                      t.menuSource,
                                      a.action
                                    )
                                  : r.internal.eventMenuClick(
                                      a.command,
                                      t.menuSource,
                                      a.action
                                    ));
                              switch (i.menuType) {
                                case "resource":
                                  return void r.internal.resourceHeaderMenuClick(
                                    a.command,
                                    i,
                                    a.action
                                  );
                                case "selection":
                                  return void r.internal.timeRangeMenuClick(
                                    a.command,
                                    i,
                                    a.action
                                  );
                                default:
                                  return void r.internal.eventMenuClick(
                                    a.command,
                                    i,
                                    a.action
                                  );
                              }
                              n.preventDefault();
                            };
                          };
                          (p.onclick = g(h, p)), (p.ontouchend = g(h, p));
                        }
                      }
                      h.items &&
                        p.addEventListener("click", function (e) {
                          e.stopPropagation();
                        }),
                        (p.source = s),
                        (p.menuSource = n);
                      var y = document.createElement("span");
                      if (
                        ((y.className = i.applyCssClass("item_text")),
                        (y.innerHTML = DayPilot.Util.escapeTextHtml(
                          h.text,
                          h.html
                        )),
                        p.appendChild(y),
                        h.image)
                      ) {
                        var b = document.createElement("img");
                        (b.src = h.image),
                          (b.style.position = "absolute"),
                          (b.style.top = "0px"),
                          (b.style.left = "0px"),
                          p.appendChild(b);
                      }
                      if (h.icon) {
                        var w = document.createElement("span");
                        w.className = i.applyCssClass("item_icon");
                        var x = document.createElement("i");
                        (x.className = h.icon),
                          w.appendChild(x),
                          p.appendChild(w);
                      }
                      if (h.symbol) {
                        var k = "http://www.w3.org/2000/svg",
                          C = document.createElementNS(k, "svg");
                        C.setAttribute("width", "100%"),
                          C.setAttribute("height", "100%");
                        var D = document.createElementNS(k, "use");
                        D.setAttribute("href", h.symbol), C.appendChild(D);
                        var S = document.createElement("span");
                        (S.className = i.applyCssClass("item_symbol")),
                          (S.style.position = "absolute"),
                          (S.style.top = "0px"),
                          (S.style.left = "0px"),
                          S.appendChild(C),
                          p.appendChild(S);
                      }
                      var _ = function (e, n) {
                        return function () {
                          var a = (n.source, e),
                            r = t.waitingSubmenu;
                          if (r) {
                            if (r.parent === a) return;
                            clearTimeout(r.timeout), (t.waitingSubmenu = null);
                          }
                          e.disabled ||
                            ((t.waitingSubmenu = {}),
                            (t.waitingSubmenu.parent = a),
                            (t.waitingSubmenu.timeout = setTimeout(function () {
                              (t.waitingSubmenu = null), i.Ih(a, n);
                            }, 300)));
                        };
                      };
                      (p.onmouseover = _(h, p)), f.appendChild(p);
                    }
                    d.appendChild(f);
                  }
                }
                var E = function (e) {
                  window.setTimeout(function () {
                    t.menuClean(), DayPilot.MenuBar.deactivate();
                  }, 100);
                };
                (d.onclick = E),
                  (d.ontouchend = E),
                  (d.onmousedown = function (e) {
                    (e = e || window.event),
                      (e.cancelBubble = !0),
                      e.stopPropagation && e.stopPropagation();
                  }),
                  (d.oncontextmenu = function () {
                    return !1;
                  }),
                  document.body.appendChild(d),
                  (i.R.visible = !0),
                  (i.R.source = n),
                  (d.style.display = "");
                var T = d.offsetHeight,
                  A = d.offsetWidth;
                d.style.display = "none";
                var H = document.documentElement.clientHeight,
                  M = window.innerWidth,
                  R = "number" == typeof r.windowMargin ? r.windowMargin : 5;
                if (
                  ((function () {
                    var e = r.initiator;
                    if (e) {
                      var t = e.div,
                        n = e.e,
                        i = e.area,
                        o = i.visibility || i.v || "Visible",
                        s = e.a;
                      if (
                        ("Visible" !== o &&
                          ((s = DayPilot.Areas.createArea(t, n, i)),
                          t.appendChild(s),
                          (a = s)),
                        s)
                      ) {
                        var l = DayPilot.abs(s);
                        (r.x = l.x), (r.y = l.y + l.h + 2);
                      }
                    }
                  })(),
                  (function () {
                    var e = "number" == typeof r.x ? r.x : t.mouse.x + 1,
                      n = "number" == typeof r.y ? r.y : t.mouse.y + 1,
                      i =
                        document.body.scrollTop ||
                        document.documentElement.scrollTop,
                      a =
                        document.body.scrollLeft ||
                        document.documentElement.scrollLeft;
                    if (n - i > H - T && 0 !== H) {
                      var o = n - i - (H - T) + R;
                      d.style.top = n - o + "px";
                    } else d.style.top = n + "px";
                    if (
                      ("right" === r.align && (e -= A),
                      e - a > M - A && 0 !== M)
                    ) {
                      var s = e - a - (M - A) + R;
                      d.style.left = e - s + "px";
                    } else d.style.left = e + "px";
                  })(),
                  r.parentLink)
                ) {
                  var B = r.parentLink,
                    P = parseInt(
                      new DayPilot.StyleReader(d).get("border-top-width")
                    ),
                    N = DayPilot.abs(r.parentLink.parentNode),
                    L = N.x + B.offsetWidth,
                    I = N.y - P;
                  L + A > M && (L = Math.max(0, N.x - A));
                  var z =
                    document.body.scrollTop +
                    document.documentElement.scrollTop;
                  I + T - z > H && (I = Math.max(0, H - T + z)),
                    (d.style.left = L + "px"),
                    (d.style.top = I + "px");
                }
                (d.style.display = ""),
                  this.addShadow(d),
                  (this.R.div = d),
                  r.submenu || (DayPilot.Menu.active = this);
              }
            }),
            (this.Ih = function (e, t) {
              var n = e,
                a = t.source;
              if (
                (!i.R.submenu || i.R.submenu.item !== e) &&
                (i.R.submenu &&
                  i.R.submenu.item !== e &&
                  (DayPilot.Util.removeClass(
                    i.R.submenu.link.parentNode,
                    i.applyCssClass("item_haschildren_active")
                  ),
                  i.R.submenu.menu.hide(),
                  (i.R.submenu = null)),
                e.items)
              ) {
                var r = i.cloneOptions();
                (r.items = e.items),
                  (i.R.submenu = {}),
                  (i.R.submenu.menu = new DayPilot.Menu(r)),
                  (i.R.submenu.menu.Jh = i),
                  i.R.submenu.menu.show(a, {
                    submenu: !0,
                    parentLink: t,
                    parentItem: n,
                  }),
                  (i.R.submenu.item = e),
                  (i.R.submenu.link = t),
                  DayPilot.Util.addClass(
                    t.parentNode,
                    i.applyCssClass("item_haschildren_active")
                  );
              }
            }),
            (this.applyCssClass = function (e) {
              var t = this.theme || this.cssClassPrefix,
                n = this.cssOnly ? "_" : "";
              return t ? t + n + e : "";
            }),
            (this.cloneOptions = function () {
              return DayPilot.Util.copyProps(r, {}, [
                "cssClassPrefix",
                "theme",
                "hideAfter",
                "hideOnMouseOut",
                "zIndex",
              ]);
            }),
            (this.hide = function (e) {
              (e = e || {}), this.R.submenu && this.R.submenu.menu.hide();
              var n = t.waitingSubmenu;
              if (
                (n && ((t.waitingSubmenu = null), clearTimeout(n.timeout)),
                this.removeShadow(),
                this.R.div &&
                  this.R.div.parentNode === document.body &&
                  document.body.removeChild(this.R.div),
                a && (DayPilot.de(a), (a = null)),
                (i.R.visible = !1),
                (i.R.source = null),
                i.Jh && e.hideParent && i.Jh.hide(e),
                DayPilot.Menu.active === i && (DayPilot.Menu.active = null),
                "function" == typeof this.onHide)
              ) {
                var r = {};
                this.onHide(r);
              }
            }),
            (this.delayedHide = function (e) {
              t.hideTimeout = setTimeout(function () {
                i.hide(e);
              }, i.hideAfter);
            }),
            (this.cancelHideTimeout = function () {
              clearTimeout(t.hideTimeout);
            }),
            (this.init = function (e) {
              return t.mouseMove(e), this;
            }),
            (this.addShadow = function (e) {}),
            (this.removeShadow = function () {});
          var r = DayPilot.isArray(n) ? null : n;
          if (r) for (var o in r) this[o] = r[o];
        }),
        (DayPilot.MenuBar = function (e, t) {
          var n = this;
          (t = t || {}),
            (this.items = []),
            (this.theme = "menubar_default"),
            (this.windowMargin = 0),
            (this.nav = {}),
            (this.elements = {}),
            (this.elements.items = DayPilot.list()),
            (this.s = null),
            (this.va = !1);
          for (var i in t) this[i] = t[i];
          (this.Kh = function (e) {
            return this.theme + "_" + e;
          }),
            (this.D = function () {
              this.nav.top = document.getElementById(e);
              var t = this.nav.top;
              (t.className = this.Kh("main")),
                DayPilot.list(n.items).forEach(function (e) {
                  var i = document.createElement("span");
                  (i.innerHTML = DayPilot.Util.escapeTextHtml(e.text, e.html)),
                    (i.className = n.Kh("item")),
                    e.cssClass && i.classList.add(e.cssClass),
                    (i.data = e),
                    (i.onclick = function (t) {
                      if (n.active && n.active.item === e) n.Lh();
                      else if (e.children) return void n.Mh(i);
                      if ("function" == typeof e.onClick) {
                        var a = {};
                        (a.item = e), (a.originalEvent = t), e.onClick(a);
                      }
                    }),
                    (i.onmousedown = function (e) {
                      e.stopPropagation();
                    }),
                    (i.onmouseover = function () {
                      n.active && n.active.item !== e && n.Mh(i);
                    }),
                    t.appendChild(i),
                    n.elements.items.push(i);
                });
            }),
            (this.Lh = function () {
              var e = n.Kh("item_active");
              n.elements.items.forEach(function (t) {
                DayPilot.Util.removeClass(t, e);
              }),
                n.active && n.active.menu && n.active.menu.hide(),
                (n.active = null);
            }),
            (this.Nh = function (e) {
              return !!n.active && n.active.item === e.data;
            }),
            (this.Mh = function (e) {
              if (!n.Nh(e)) {
                n.Lh();
                var t = e.data,
                  i = (n.active = {});
                (i.item = t), (i.div = e);
                var a = n.Kh("item_active");
                DayPilot.Util.addClass(e, a);
                var r = DayPilot.abs(e);
                if (t.children) {
                  i.menu = new DayPilot.Menu({ items: t.children });
                  var o = r.x;
                  "right" === t.align && (o += r.w),
                    i.menu.show(null, {
                      x: o,
                      y: r.y + r.h,
                      align: t.align,
                      windowMargin: n.windowMargin,
                    });
                }
                DayPilot.MenuBar.active = n;
              }
            }),
            (this.init = function () {
              return this.D(), (this.va = !0), this;
            }),
            (this.dispose = function () {
              this.va &&
                ((this.nav.top.innerHTML = ""), (this.elements.items = []));
            });
        }),
        (DayPilot.MenuBar.deactivate = function () {
          DayPilot.MenuBar.active &&
            (DayPilot.MenuBar.active.Lh(), (DayPilot.MenuBar.active = null));
        }),
        (t.menuClean = function () {
          "undefined" != typeof DayPilot.Menu.active &&
            DayPilot.Menu.active &&
            (DayPilot.Menu.active.hide(), (DayPilot.Menu.active = null));
        }),
        (t.mouseDown = function (e) {
          "undefined" != typeof t &&
            (t.menuClean(), DayPilot.MenuBar.deactivate());
        }),
        (t.mouseMove = function (e) {
          "undefined" != typeof t && (t.mouse = t.mousePosition(e));
        }),
        (t.touchMove = function (e) {
          "undefined" != typeof t && (t.mouse = t.touchPosition(e));
        }),
        (t.touchStart = function (e) {
          "undefined" != typeof t && (t.mouse = t.touchPosition(e));
        }),
        (t.touchEnd = function (e) {}),
        (t.touchPosition = function (e) {
          if (!e || !e.touches) return null;
          var t = e.touches[0],
            n = {};
          return (n.x = t.pageX), (n.y = t.pageY), n;
        }),
        (t.mousePosition = function (e) {
          return DayPilot.mo3(null, e);
        }),
        (DayPilot.Menu.touchPosition = function (e) {
          e.touches && (t.mouse = t.touchPosition(e));
        }),
        (DayPilot.Menu.hide = function (e) {
          if (((e = e || {}), e.calendar)) {
            var n = DayPilot.Menu.active;
            if (n) {
              var i = n.R.source;
              i && i.calendar === e.calendar && t.menuClean();
            }
          } else t.menuClean();
        }),
        t.handlersRegistered ||
          (DayPilot.re(document, "mousemove", t.mouseMove),
          DayPilot.re(document, "mousedown", t.mouseDown),
          DayPilot.re(document, "touchmove", t.touchMove),
          DayPilot.re(document, "touchstart", t.touchStart),
          DayPilot.re(document, "touchend", t.touchEnd),
          (t.handlersRegistered = !0)),
        (DayPilot.Menu.def = {}),
        "undefined" != typeof Sys &&
          Sys.Application &&
          Sys.Application.notifyScriptLoaded &&
          Sys.Application.notifyScriptLoaded();
    }
  })(DayPilot),
  "undefined" == typeof DayPilot && (DayPilot = {}),
  (function (DayPilot) {
    function e(t, n, i) {
      var a = n.indexOf(".");
      if (a === -1)
        return void ("__proto__" !== n && "constructor" !== n && (t[n] = i));
      var r = n.substring(0, a);
      if ("__proto__" !== r && "constructor" !== r) {
        var o = n.substring(a + 1),
          s = t[r];
        ("object" == typeof s && null !== s) || ((t[r] = {}), (s = t[r])),
          e(s, o, i);
      }
    }
    function t(e, n, i) {
      (n = n || {}), (i = i || "");
      for (var a in e) {
        var r = e[a];
        "object" == typeof r
          ? "[object Array]" === Object.prototype.toString.call(r)
            ? (n[i + a] = r)
            : r && r.toJSON
            ? (n[i + a] = r.toJSON())
            : t(r, n, i + a + ".")
          : (n[i + a] = r);
      }
      return n;
    }
    if (!DayPilot.ModalStatic) {
      (DayPilot.ModalStatic = {}),
        (DayPilot.ModalStatic.list = []),
        (DayPilot.ModalStatic.hide = function () {
          if (this.list.length > 0) {
            var e = this.list.pop();
            e && e.hide();
          }
        }),
        (DayPilot.ModalStatic.remove = function (e) {
          for (var t = DayPilot.ModalStatic.list, n = 0; n < t.length; n++)
            if (t[n] === e) return void t.splice(n, 1);
        }),
        (DayPilot.ModalStatic.close = function (e) {
          DayPilot.ModalStatic.result(e), DayPilot.ModalStatic.hide();
        }),
        (DayPilot.ModalStatic.result = function (e) {
          var t = DayPilot.ModalStatic.list;
          t.length > 0 && (t[t.length - 1].result = e);
        }),
        (DayPilot.ModalStatic.displayed = function (e) {
          for (var t = DayPilot.ModalStatic.list, n = 0; n < t.length; n++)
            if (t[n] === e) return !0;
          return !1;
        }),
        (DayPilot.ModalStatic.stretch = function () {
          if (this.list.length > 0) {
            var e = this.list[this.list.length - 1];
            e && e.stretch();
          }
        }),
        (DayPilot.ModalStatic.last = function () {
          var e = DayPilot.ModalStatic.list;
          return e.length > 0 ? e[e.length - 1] : null;
        });
      var n = function () {
          var e = document.createElement("style");
          e.setAttribute("type", "text/css"),
            e.styleSheet || e.appendChild(document.createTextNode("")),
            (
              document.head || document.getElementsByTagName("head")[0]
            ).appendChild(e);
          var t = !!e.styleSheet,
            n = {};
          return (
            (n.rules = []),
            (n.commit = function () {
              try {
                t && (e.styleSheet.cssText = this.rules.join("\n"));
              } catch (e) {}
            }),
            (n.add = function (n, i, a) {
              if (t) return void this.rules.push(n + "{" + i + "}");
              if (e.sheet.insertRule)
                "undefined" == typeof a && (a = e.sheet.cssRules.length),
                  e.sheet.insertRule(n + "{" + i + "}", a);
              else {
                if (!e.sheet.addRule) throw "No CSS registration method found";
                e.sheet.addRule(n, i, a);
              }
            }),
            (n.print = function () {
              for (var t = e.sheet.cssRules, n = [], i = 0; i < t.length; i++)
                n.push(t[i].cssText);
              return n.join("\n");
            }),
            n
          );
        },
        i =
          "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxwYXRoCiAgICAgICBpZD0icGF0aDMxNzMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoxLjg1MTk2ODUzO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIKICAgICAgIGQ9Ik0gMC45NTQxNDgzOCwwLjY4MTYwMzEgNS4wMzkwNjI1LDUuNDExNTM4NiA5LjEyMzk3NjYsMC42ODE2MDMxIgogICAgICAgIC8+CiAgPC9nPgo8L3N2Zz4K",
        a = new n();
      a.add(".modal_default_main", "border: 10px solid #ccc; max-width: 90%;"),
        a.add(".modal_default_main:focus", "outline: none;"),
        a.add(".modal_default_content", "padding: 10px 0px;"),
        a.add(".modal_default_inner", "padding: 20px;"),
        a.add(".modal_default_input", "padding: 10px 0px;"),
        a.add(".modal_default_buttons", "margin-top: 10px;"),
        a.add(".modal_default_buttons", "padding: 10px 0px;"),
        a.add(
          ".modal_default_form_item",
          "padding: 10px 0px; position: relative;"
        ),
        a.add(
          ".modal_default_form_item_level1",
          "border-left: 2px solid #ccc; margin-left: 10px; padding-left: 20px;"
        ),
        a.add(
          ".modal_default_form_item.modal_default_form_title",
          "font-size: 1.5rem; font-weight: bold;"
        ),
        a.add(
          ".modal_default_form_item input[type=text]",
          "width: 100%; box-sizing: border-box;"
        ),
        a.add(
          ".modal_default_form_item textarea",
          "width: 100%; height: 200px; box-sizing: border-box;"
        ),
        a.add(
          ".modal_default_form_item input[type=select]",
          "width: 100%; box-sizing: border-box;"
        ),
        a.add(".modal_default_form_item label", "display: block;"),
        a.add(
          ".modal_default_form_item select",
          "width: 100%; box-sizing: border-box;"
        ),
        a.add(".modal_default_form_item_label", "margin: 2px 0px;"),
        a.add(
          ".modal_default_form_item_image img",
          "max-width: 100%; height: auto;"
        ),
        a.add(".modal_default_form_item_invalid", ""),
        a.add(
          ".modal_default_form_item_invalid_message",
          "position: absolute; right: 0px; top: 9px; background-color: red; color: #ffffff; padding: 2px; border-radius: 2px;"
        ),
        a.add(
          ".modal_default_background",
          "opacity: 0.5; background-color: #000;"
        ),
        a.add(".modal_default_ok", "padding: 3px; width: 80px;"),
        a.add(".modal_default_cancel", "padding: 3px; width: 80px;"),
        a.add(".modal_default_form_item_date", "position: relative;"),
        a.add(
          ".modal_default_form_item_date:after",
          "content: ''; position: absolute; right: 7px; top: 50%; margin-top: 3px; width: 10px; height: 15px; background-image:url(" +
            "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojY2NjY2NjO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjM4MDM3MzM2O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDE5MjgiCiAgICAgICB3aWR0aD0iOS45MTUzMDYxIgogICAgICAgaGVpZ2h0PSIxMS4zNjkzNyIKICAgICAgIHg9IjAuMTE3MTg3NSIKICAgICAgIHk9Ii0zLjAwOTk5NTciCiAgICAgICByeT0iMS4zMTE4NTA1IiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNjY2NjY2M7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNTk4MTQwMTI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MTkzMCIKICAgICAgIHdpZHRoPSIxLjUzNDQxMzYiCiAgICAgICBoZWlnaHQ9IjIuMjE5ODI1IgogICAgICAgeD0iMi4xNTU4NDgzIgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHJ5PSIwLjY3MTc4OTE3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iMS41MjM5NTA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QxOTQ4IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjY3MTc4OTE3IgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHg9IjYuNDUyNzIzNSIKICAgICAgIGhlaWdodD0iMi4yMTk4MjUiCiAgICAgICB3aWR0aD0iMS41MzQ0MTM2IgogICAgICAgaWQ9InJlY3QyMDAzIgogICAgICAgc3R5bGU9ImZpbGw6I2NjY2NjYztmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS41OTgxNDAxMjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAwNSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIHk9Ii0xLjE2NTg0NjYiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iNi45OTI3MDA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDA3IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAxMyIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjEuNTIzOTUwNiIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHJ5PSIwLjI5NjAxNDciIC8+CiAgICA8cmVjdAogICAgICAgcnk9IjAuMjk2MDE0NyIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGlkPSJyZWN0MjAxNSIKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIgLz4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDIwMTciCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB4PSI2Ljk5MjcwMDYiCiAgICAgICB5PSIxLjgwMjkwMzQiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSI0LjczMjU5MDciCiAgICAgICB4PSIxLjU2MzAxMzEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBpZD0icmVjdDIwMTkiCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgICA8cmVjdAogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgaWQ9InJlY3QyMDIxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgeD0iNC4yNTgzMjU2IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgcnk9IjAuMjk2MDE0NyIgLz4KICAgIDxyZWN0CiAgICAgICByeT0iMC4yOTYwMTQ3IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgeD0iNy4wMzE3NjMxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDIzIgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogIDwvZz4KPC9zdmc+Cg==" +
            ")"
        ),
        navigator.userAgent.indexOf("Edge") !== -1 &&
          a.add(
            ".modal_default_form_item_date input::-ms-clear",
            "display: none;"
          ),
        a.add(
          ".modal_default_form_item_scrollable_scroll",
          "width: 100%; height: 200px; box-sizing: border-box; border: 1px solid #ccc; overflow-y: auto;"
        ),
        a.add(
          ".modal_default_form_item_scrollable_scroll_content",
          "padding: 5px;"
        ),
        a.add(".modal_default_form_item_searchable", "position: relative;"),
        a.add(".modal_default_form_item_searchable_icon", ""),
        a.add(
          ".modal_default_form_item_searchable_icon:after",
          "content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url(" +
            i +
            ");"
        ),
        a.add(
          ".modal_default_form_item_searchable_list",
          "box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"
        ),
        a.add(
          ".modal_default_form_item_searchable_list_item",
          "background: white; padding: 2px; cursor: default;"
        ),
        a.add(
          ".modal_default_form_item_searchable_list_item_highlight",
          "background: #ccc;"
        ),
        a.add(".modal_default_form_item_time", "position: relative;"),
        a.add(".modal_default_form_item_time_icon", ""),
        a.add(
          ".modal_default_form_item_time_icon:after",
          "content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url(" +
            i +
            ");"
        ),
        a.add(
          ".modal_default_form_item_time_list",
          "box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"
        ),
        a.add(
          ".modal_default_form_item_time_list_item",
          "background: white; padding: 2px; cursor: default;"
        ),
        a.add(
          ".modal_default_form_item_time_list_item_highlight",
          "background: #ccc;"
        ),
        a.add(".modal_default_form_item_datetime_parent", "display: flex;"),
        a.add(
          ".modal_default_form_item_datetime .modal_default_form_item_time_main",
          "margin-left: 5px;"
        ),
        a.add(
          ".modal_default_form_item_datetime input[type='text'].modal_default_input_date ",
          ""
        ),
        a.add(".modal_default_form_item_tabular_main", "margin-top: 10px;"),
        a.add(
          ".modal_default_form_item_tabular_table",
          "display: table; width: 100%; xbackground-color: #fff; border-collapse: collapse;"
        ),
        a.add(
          ".modal_default_form_item_tabular_tbody",
          "display: table-row-group;"
        ),
        a.add(".modal_default_form_item_tabular_row", "display: table-row;"),
        a.add(
          ".modal_default_form_item_tabular_row.modal_default_form_item_tabular_header",
          ""
        ),
        a.add(
          ".modal_default_form_item_tabular_cell.modal_default_form_item_tabular_rowaction",
          "padding: 0px; width: 23px;"
        ),
        a.add(
          ".modal_default_form_item_tabular_cell",
          "display: table-cell; border: 0px; padding: 2px 2px 2px 0px; cursor: default; vertical-align: bottom;"
        ),
        a.add(
          ".modal_default_form_item_tabular_header .modal_default_form_item_tabular_cell",
          "padding-left: 0px; padding-bottom: 0px;"
        ),
        a.add(
          ".modal_default_form_item_tabular_table input[type=text], .modal_default_form_item_tabular_table input[type=number]",
          "width:100%; box-sizing: border-box;"
        ),
        a.add(
          ".modal_default_form_item_tabular_table select",
          "width:100%; height:100%; box-sizing: border-box;"
        ),
        a.add(
          ".modal_default_form_item_tabular_plus",
          "display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"
        ),
        a.add(
          ".modal_default_form_item_tabular_plus:after",
          "content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSA1LjAgMC41IEwgNS4wIDkuNSBNIDAuNSA1LjAgTCA5LjUgNS4wJyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==\")"
        ),
        a.add(
          ".modal_default_form_item_tabular_delete",
          "display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"
        ),
        a.add(
          ".modal_default_form_item_tabular_delete:after",
          "content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgOS41IDkuNSBNIDAuNSA5LjUgTCA5LjUgMC41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==\")"
        ),
        a.add(
          ".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_plus",
          "display: none;"
        ),
        a.add(
          ".modal_default_form_item_tabular_plus_max.modal_default_form_item_tabular_plus",
          "display: none;"
        ),
        a.add(
          ".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_delete",
          "visibility: hidden;"
        ),
        a.add(
          ".modal_default_form_item_tabular_empty",
          "height: 1px; margin: 5px 23px 5px 0px; background-color: #ccc;"
        ),
        a.add(
          ".modal_default_form_item_tabular_spacer .modal_default_form_item_tabular_cell",
          "padding: 0px;"
        ),
        a.add(".modal_min_main", "border: 1px solid #ccc; max-width: 90%;"),
        a.add(".modal_min_background", "opacity: 0.5; background-color: #000;"),
        a.add(".modal_min_ok", "padding: 3px 10px;"),
        a.add(".modal_min_cancel", "padding: 3px 10px;"),
        a.add(
          ".navigator_modal_main",
          "border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"
        ),
        a.add(
          ".navigator_modal_main *, .navigator_modal_main *:before, .navigator_modal_main *:after",
          "box-sizing: content-box;"
        ),
        a.add(".navigator_modal_month", "font-size: 11px;"),
        a.add(".navigator_modal_day", "color: black;"),
        a.add(".navigator_modal_weekend", "background-color: #f0f0f0;"),
        a.add(".navigator_modal_dayheader", "color: black;"),
        a.add(".navigator_modal_line", "border-bottom: 1px solid #c0c0c0;"),
        a.add(".navigator_modal_dayother", "color: gray;"),
        a.add(".navigator_modal_todaybox", "border: 1px solid red;"),
        a.add(
          ".navigator_modal_title, .navigator_modal_titleleft, .navigator_modal_titleright",
          "border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"
        ),
        a.add(".navigator_modal_busy", "font-weight: bold;"),
        a.add(".navigator_modal_cell", "text-align: center;"),
        a.add(
          ".navigator_modal_select .navigator_modal_cell_box",
          "background-color: #FFE794; opacity: 0.5;"
        ),
        a.add(".navigator_modal_title", "text-align: center;"),
        a.add(
          ".navigator_modal_titleleft, .navigator_modal_titleright",
          "text-align: center;"
        ),
        a.add(".navigator_modal_dayheader", "text-align: center;"),
        a.add(".navigator_modal_weeknumber", "text-align: center;"),
        a.add(".navigator_modal_cell_text", "cursor: pointer;"),
        a.commit(),
        (DayPilot.Modal = function (e) {
          (this.autoFocus = !0),
            (this.focus = null),
            (this.autoStretch = !0),
            (this.autoStretchFirstLoadOnly = !1),
            (this.className = null),
            (this.theme = "modal_default"),
            (this.disposeOnClose = !0),
            (this.dragDrop = !0),
            (this.loadingHtml = null),
            (this.maxHeight = null),
            (this.scrollWithPage = !0),
            (this.useIframe = !0),
            (this.zIndex = 99999),
            (this.left = null),
            (this.width = 600),
            (this.top = 20),
            (this.height = 200),
            (this.locale = null),
            (this.closed = null),
            (this.onClose = null),
            (this.onClosed = null),
            (this.onShow = null);
          var t = this;
          (this.id = "_" + new Date().getTime() + "n" + 10 * Math.random()),
            (this.Hf = !1),
            (this.Oh = null),
            (this.Ph = null),
            (this.showHtml = function (e) {
              if (DayPilot.ModalStatic.displayed(this))
                throw "This modal dialog is already displayed.";
              if ((this.div || this.Qh(), this.Cd(), this.useIframe)) {
                var t = function (e, t) {
                  return function () {
                    e.setInnerHTML(e.id + "iframe", t);
                  };
                };
                window.setTimeout(t(this, e), 0);
              } else
                e.nodeType ? this.div.appendChild(e) : (this.div.innerHTML = e);
              this.Cd(), this.gh(), this.Rh();
            }),
            (this.showUrl = function (e) {
              if (DayPilot.ModalStatic.displayed(this))
                throw "This modal dialog is already displayed.";
              if (this.useIframe) {
                this.div || this.Qh();
                var n = this.loadingHtml;
                n &&
                  ((this.iframe.src = "about:blank"),
                  this.setInnerHTML(this.id + "iframe", n)),
                  this.re(this.iframe, "load", this.Sh),
                  (this.iframe.src = e),
                  this.Cd(),
                  this.gh(),
                  this.Rh();
              } else
                t.Th({
                  url: e,
                  success: function (e) {
                    var n = e.request.responseText;
                    t.showHtml(n);
                  },
                  error: function (e) {
                    t.showHtml("Error loading the modal dialog");
                  },
                });
            }),
            (this.Rh = function () {
              if ("function" == typeof t.onShow) {
                var e = {};
                (e.root = t.Uh()), (e.modal = t), t.onShow(e);
              }
            }),
            (this.Uh = function () {
              return t.iframe ? t.iframe.contentWindow.document : t.div;
            }),
            (this.Th = function (e) {
              var t = new XMLHttpRequest();
              if (t) {
                var n = e.method || "GET",
                  i = e.success || function () {},
                  a = e.error || function () {},
                  r = e.data,
                  o = e.url;
                t.open(n, o, !0),
                  t.setRequestHeader("Content-type", "text/plain"),
                  (t.onreadystatechange = function () {
                    if (4 === t.readyState)
                      if (200 === t.status || 304 === t.status) {
                        var e = {};
                        (e.request = t), i(e);
                      } else if (a) {
                        var e = {};
                        (e.request = t), a(e);
                      } else
                        window.console && console.log("HTTP error " + t.status);
                  }),
                  4 !== t.readyState &&
                    ("object" == typeof r && (r = JSON.stringify(r)),
                    t.send(r));
              }
            }),
            (this.Cd = function () {
              delete this.result;
              var e = window,
                n = document,
                i = e.pageYOffset
                  ? e.pageYOffset
                  : n.documentElement && n.documentElement.scrollTop
                  ? n.documentElement.scrollTop
                  : n.body.scrollTop;
              this.theme &&
                (this.hideDiv.className = this.theme + "_background"),
                this.zIndex && (this.hideDiv.style.zIndex = this.zIndex),
                (this.hideDiv.style.display = ""),
                window.setTimeout(function () {
                  t.hideDiv &&
                    (t.hideDiv.onclick = function () {
                      t.hide({ backgroundClick: !0 });
                    });
                }, 500),
                this.theme
                  ? (this.div.className = this.theme + "_main")
                  : (this.div.className = ""),
                this.className && (this.div.className += " " + this.className),
                this.left
                  ? (this.div.style.left = this.left + "px")
                  : (this.div.style.marginLeft =
                      "-" + Math.floor(this.width / 2) + "px"),
                (this.div.style.position = "absolute"),
                (this.div.style.boxSizing = "content-box"),
                (this.div.style.top = i + this.top + "px"),
                (this.div.style.width = this.width + "px"),
                this.zIndex && (this.div.style.zIndex = this.zIndex),
                this.height &&
                  (this.useIframe || !this.autoStretch
                    ? (this.div.style.height = this.height + "px")
                    : (this.div.style.height = "")),
                this.useIframe &&
                  this.height &&
                  (this.iframe.style.height = this.height + "px"),
                (this.div.style.display = ""),
                this.Wh(),
                DayPilot.ModalStatic.remove(this),
                DayPilot.ModalStatic.list.push(this);
            }),
            (this.Sh = function () {
              (t.iframe.contentWindow.modal = t), t.autoStretch && t.stretch();
            }),
            (this.stretch = function () {
              var e = function () {
                  return t.Vh().y;
                },
                n = function () {
                  return t.Vh().x;
                };
              if (this.useIframe) {
                for (
                  var i = n() - 40, a = this.width;
                  a < i && this.Xh();
                  a += 10
                )
                  (this.div.style.width = a + "px"),
                    (this.div.style.marginLeft =
                      "-" + Math.floor(a / 2) + "px");
                for (
                  var r = this.maxHeight || e() - 2 * this.top, o = this.height;
                  o < r && this.Yh();
                  o += 10
                )
                  (this.iframe.style.height = o + "px"),
                    (this.div.style.height = o + "px");
                this.autoStretchFirstLoadOnly &&
                  this.ue(this.iframe, "load", this.Sh);
              } else this.div.style.height = "";
            }),
            (this.Xh = function () {
              for (
                var e = this.iframe.contentWindow.document,
                  t =
                    "BackCompat" === e.compatMode ? e.body : e.documentElement,
                  n = t.scrollWidth,
                  i = e.body.children,
                  a = 0;
                a < i.length;
                a++
              ) {
                var r = i[a].offsetLeft + i[a].offsetWidth;
                n = Math.max(n, r);
              }
              return n > t.clientWidth;
            }),
            (this.Yh = function () {
              for (
                var e = this.iframe.contentWindow.document,
                  t =
                    "BackCompat" === e.compatMode ? e.body : e.documentElement,
                  n = t.scrollHeight,
                  i = e.body.children,
                  a = 0;
                a < i.length;
                a++
              ) {
                var r = i[a].offsetTop + i[a].offsetHeight;
                n = Math.max(n, r);
              }
              return n > t.clientHeight;
            }),
            (this.Vh = function () {
              var e = document;
              if (
                "CSS1Compat" === e.compatMode &&
                e.documentElement &&
                e.documentElement.clientWidth
              ) {
                var t = e.documentElement.clientWidth,
                  n = e.documentElement.clientHeight;
                return { x: t, y: n };
              }
              var t = e.body.clientWidth,
                n = e.body.clientHeight;
              return { x: t, y: n };
            }),
            (this.gh = function () {
              this.Hf ||
                (this.re(window, "resize", this.Zh),
                this.re(window, "scroll", this.$h),
                this.dragDrop &&
                  (this.re(document, "mousemove", this._h),
                  this.re(document, "mouseup", this.ai)),
                (this.Hf = !0));
            }),
            (this.db = function () {
              this.ue(window, "resize", this.Zh),
                this.ue(window, "scroll", this.$h),
                this.dragDrop &&
                  (this.ue(document, "mousemove", this._h),
                  this.ue(document, "mouseup", this.ai)),
                (this.Hf = !1);
            }),
            (this.bi = function (e) {
              e.target === t.div &&
                (e.preventDefault(),
                (t.div.style.cursor = "move"),
                t.ci(),
                (t.Ph = t.mc(e || window.event)),
                (t.Oh = { x: t.div.offsetLeft, y: t.div.offsetTop }));
            }),
            (this._h = function (e) {
              if (t.Ph) {
                var e = e || window.event,
                  n = t.mc(e),
                  i = n.x - t.Ph.x,
                  a = n.y - t.Ph.y;
                (t.div.style.marginLeft = "0px"),
                  (t.div.style.top = t.Oh.y + a + "px"),
                  (t.div.style.left = t.Oh.x + i + "px");
              }
            }),
            (this.ai = function (e) {
              t.Ph && (t.di(), (t.div.style.cursor = null), (t.Ph = null));
            }),
            (this.ci = function () {
              if (this.useIframe) {
                var e = document.createElement("div");
                (e.style.backgroundColor = "#ffffff"),
                  (e.style.filter = "alpha(opacity=80)"),
                  (e.style.opacity = "0.80"),
                  (e.style.width = "100%"),
                  (e.style.height = this.height + "px"),
                  (e.style.position = "absolute"),
                  (e.style.left = "0px"),
                  (e.style.top = "0px"),
                  this.div.appendChild(e),
                  (this.mask = e);
              }
            }),
            (this.di = function () {
              this.useIframe &&
                (this.div.removeChild(this.mask), (this.mask = null));
            }),
            (this.Zh = function () {
              t.ei(), t.Wh();
            }),
            (this.$h = function () {
              t.ei();
            }),
            (this.Wh = function () {
              if (!t.left && t.div) {
                var e = t.div.offsetWidth;
                t.div.style.marginLeft = "-" + Math.floor(e / 2) + "px";
              }
            }),
            (this.ei = function () {
              if (
                t.hideDiv &&
                t.div &&
                "none" !== t.hideDiv.style.display &&
                "none" !== t.div.style.display
              ) {
                var e = t.fi.scrollY();
                t.scrollWithPage || (t.div.style.top = e + t.top + "px");
              }
            }),
            (this.fi = {}),
            (this.fi.container = function () {
              return t.container || document.body;
            }),
            (this.fi.scrollY = function () {
              var e = t.fi.container();
              return e === document.body
                ? window.pageYOffset
                  ? window.pageYOffset
                  : document.documentElement &&
                    document.documentElement.scrollTop
                  ? document.documentElement.scrollTop
                  : document.body.scrollTop
                : e.scrollTop;
            }),
            (this.re = function (e, t, n) {
              e.addEventListener
                ? e.addEventListener(t, n, !1)
                : e.attachEvent && e.attachEvent("on" + t, n);
            }),
            (this.ue = function (e, t, n) {
              e.removeEventListener
                ? e.removeEventListener(t, n, !1)
                : e.detachEvent && e.detachEvent("on" + t, n);
            }),
            (this.mc = function (e) {
              return e.pageX || e.pageY
                ? { x: e.pageX, y: e.pageY }
                : {
                    x: e.clientX + document.documentElement.scrollLeft,
                    y: e.clientY + document.documentElement.scrollTop,
                  };
            }),
            (this.abs = function (e) {
              for (
                var t = { x: e.offsetLeft, y: e.offsetTop };
                e.offsetParent;

              )
                (e = e.offsetParent),
                  (t.x += e.offsetLeft),
                  (t.y += e.offsetTop);
              return t;
            }),
            (this.Qh = function () {
              var e = t.fi.container(),
                n = e === document.body,
                i = n ? "fixed" : "absolute",
                a = document.createElement("div");
              (a.id = this.id + "hide"),
                (a.style.position = i),
                (a.style.left = "0px"),
                (a.style.top = "0px"),
                (a.style.right = "0px"),
                (a.style.bottom = "0px"),
                (a.oncontextmenu = function () {
                  return !1;
                }),
                (a.onmousedown = function () {
                  return !1;
                }),
                e.appendChild(a);
              var r = document.createElement("div");
              (r.id = this.id + "popup"),
                (r.style.position = i),
                (r.style.left = "50%"),
                (r.style.top = "0px"),
                (r.style.backgroundColor = "white"),
                (r.style.width = "50px"),
                (r.style.height = "50px"),
                this.dragDrop && (r.onmousedown = this.bi),
                r.addEventListener("keydown", function (e) {
                  e.stopPropagation();
                });
              var o = null;
              this.useIframe &&
                ((o = document.createElement("iframe")),
                (o.id = this.id + "iframe"),
                (o.name = this.id + "iframe"),
                (o.frameBorder = "0"),
                (o.style.width = "100%"),
                (o.style.height = "50px"),
                r.appendChild(o)),
                e.appendChild(r),
                (this.div = r),
                (this.iframe = o),
                (this.hideDiv = a);
            }),
            (this.setInnerHTML = function (e, n) {
              var i = window.frames[e],
                a = i.contentWindow || i.document || i.contentDocument;
              a.document && (a = a.document),
                null == a.body && a.write("<body></body>"),
                n.nodeType ? a.body.appendChild(n) : (a.body.innerHTML = n),
                t.autoStretch &&
                  ((t.autoStretchFirstLoadOnly && t.gi) ||
                    (t.stretch(), (t.gi = !0)));
            }),
            (this.close = function (e) {
              (this.result = e), this.hide();
            }),
            (this.closeSerialized = function () {
              for (
                var e = t.Uh(),
                  n = e.querySelectorAll("input, textarea, select"),
                  i = {},
                  a = 0;
                a < n.length;
                a++
              ) {
                var r = n[a],
                  o = r.name;
                if (o) {
                  var s = r.value;
                  i[o] = s;
                }
              }
              t.close(i);
            }),
            (this.hide = function (e) {
              e = e || {};
              var n = {};
              (n.backgroundClick = !!e.backgroundClick),
                (n.result = this.result),
                (n.canceled = "undefined" == typeof this.result),
                (n.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                ("function" == typeof this.onClose &&
                  (this.onClose(n), n.preventDefault.value)) ||
                  (this.div &&
                    ((this.div.style.display = "none"),
                    (this.hideDiv.style.display = "none"),
                    this.useIframe || (this.div.innerHTML = null)),
                  window.focus(),
                  DayPilot.ModalStatic.remove(this),
                  "function" == typeof this.onClosed
                    ? this.onClosed(n)
                    : this.closed && this.closed(),
                  delete this.result,
                  this.disposeOnClose &&
                    (t.db(),
                    t.hi(t.div),
                    t.hi(t.hideDiv),
                    (t.div = null),
                    (t.hideDiv = null),
                    (t.iframe = null)));
            }),
            (this.hi = function (e) {
              e && e.parentNode && e.parentNode.removeChild(e);
            }),
            (this.ii = function () {
              if (e) for (var t in e) this[t] = e[t];
            }),
            this.ii();
        }),
        (DayPilot.Modal.alert = function (e, t) {
          (t = t || {}), (t.height = t.height || 40), (t.useIframe = !1);
          var n = t.okText || "OK";
          t.cancelText || "Cancel";
          return DayPilot.getPromise(function (i, a) {
            t.onClosed = function (e) {
              i(e);
            };
            var r = new DayPilot.Modal(t),
              o = document.createElement("div");
            o.className = r.theme + "_inner";
            var s = document.createElement("div");
            (s.className = r.theme + "_content"), (s.innerHTML = e);
            var l = document.createElement("div");
            l.className = r.theme + "_buttons";
            var d = document.createElement("button");
            (d.innerText = n),
              (d.className = r.theme + "_ok"),
              (d.onclick = function (e) {
                DayPilot.ModalStatic.close("OK");
              }),
              l.appendChild(d),
              o.appendChild(s),
              o.appendChild(l),
              r.showHtml(o),
              r.autoFocus && d.focus();
          });
        }),
        (DayPilot.Modal.confirm = function (e, t) {
          (t = t || {}), (t.height = t.height || 40), (t.useIframe = !1);
          var n = t.okText || "OK",
            i = t.cancelText || "Cancel";
          return DayPilot.getPromise(function (a, r) {
            t.onClosed = function (e) {
              a(e);
            };
            var o = new DayPilot.Modal(t),
              s = document.createElement("div");
            s.className = o.theme + "_inner";
            var l = document.createElement("div");
            (l.className = o.theme + "_content"), (l.innerHTML = e);
            var d = document.createElement("div");
            d.className = o.theme + "_buttons";
            var c = document.createElement("button");
            (c.innerText = n),
              (c.className = o.theme + "_ok"),
              (c.onclick = function (e) {
                DayPilot.ModalStatic.close("OK");
              });
            var u = document.createTextNode(" "),
              h = document.createElement("button");
            (h.innerText = i),
              (h.className = o.theme + "_cancel"),
              (h.onclick = function (e) {
                DayPilot.ModalStatic.close();
              }),
              d.appendChild(c),
              d.appendChild(u),
              d.appendChild(h),
              s.appendChild(l),
              s.appendChild(d),
              o.showHtml(s),
              o.autoFocus && c.focus();
          });
        }),
        (DayPilot.Modal.prompt = function (e, t, n) {
          "object" == typeof t && ((n = t), (t = "")),
            (n = n || {}),
            (n.height = n.height || 40),
            (n.useIframe = !1);
          var i = n.okText || "OK",
            a = n.cancelText || "Cancel",
            r = t || "";
          return DayPilot.getPromise(function (t, o) {
            n.onClosed = function (e) {
              t(e);
            };
            var s = new DayPilot.Modal(n),
              l = document.createElement("div");
            l.className = s.theme + "_inner";
            var d = document.createElement("div");
            (d.className = s.theme + "_content"), (d.innerHTML = e);
            var c = document.createElement("div");
            c.className = s.theme + "_input";
            var u = document.createElement("input");
            (u.value = r),
              (u.style.width = "100%"),
              (u.onkeydown = function (e) {
                var t = !1;
                switch (e.keyCode) {
                  case 13:
                    s.close(this.value);
                    break;
                  case 27:
                    s.close();
                    break;
                  default:
                    t = !0;
                }
                t || (e.preventDefault(), e.stopPropagation());
              }),
              c.appendChild(u);
            var h = document.createElement("div");
            h.className = s.theme + "_buttons";
            var f = document.createElement("button");
            (f.innerText = i),
              (f.className = s.theme + "_ok"),
              (f.onclick = function (e) {
                s.close(u.value);
              });
            var v = document.createTextNode(" "),
              p = document.createElement("button");
            (p.innerText = a),
              (p.className = s.theme + "_cancel"),
              (p.onclick = function (e) {
                s.close();
              }),
              h.appendChild(f),
              h.appendChild(v),
              h.appendChild(p),
              l.appendChild(d),
              l.appendChild(c),
              l.appendChild(h),
              s.showHtml(l),
              s.autoFocus && u.focus();
          });
        });
      var r = function (e) {
        return "[object Array]" === Object.prototype.toString.call(e);
      };
      (DayPilot.Modal.form = function (t, n, i) {
        if (1 === arguments.length) {
          var a = t;
          if (r(a)) n = {};
          else {
            if ("object" != typeof a)
              throw "Invalid DayPilot.Modal.form() parameter";
            (n = t), (t = []);
            for (var s in n) {
              var l = {};
              (l.name = s), (l.id = s), t.push(l);
            }
          }
        }
        var d = {};
        for (var s in i) d[s] = i[s];
        (d.height = d.height || 40), (d.useIframe = !1);
        var c = d.okText || "OK",
          u = d.cancelText || "Cancel";
        return DayPilot.getPromise(function (i, a) {
          d.onClosed = function (t) {
            if (t.result) {
              var a = JSON.parse(JSON.stringify(n));
              for (var r in t.result) e(a, r, t.result[r]);
              t.result = a;
            }
            i(t);
          };
          var r = new DayPilot.Modal(d),
            s = document.createElement("div");
          s.className = r.theme + "_inner";
          var l = document.createElement("div");
          l.className = r.theme + "_input";
          var h = new o({
              theme: r.theme,
              form: t,
              data: n,
              zIndex: r.zIndex,
              locale: r.locale,
              plugins: r.plugins,
              onKey: function (e) {
                switch (e.key) {
                  case "Enter":
                    h.validate() && r.close(h.serialize());
                    break;
                  case "Escape":
                    r.close();
                }
              },
              onChange: function (e) {
                "function" == typeof r.onChange && r.onChange(e);
              },
            }),
            f = h.create();
          l.append(f);
          var v = document.createElement("div");
          v.className = r.theme + "_buttons";
          var p = document.createElement("button");
          (p.innerText = c),
            (p.className = r.theme + "_ok"),
            d.okDisabled && (p.disabled = !0),
            (p.onclick = function (e) {
              h.validate() && r.close(h.serialize());
            });
          var m = document.createTextNode(" "),
            g = document.createElement("button");
          if (
            ((g.innerText = u),
            (g.className = r.theme + "_cancel"),
            (g.onclick = function (e) {
              r.close();
            }),
            (g.onmousedown = function (e) {
              h.canceling = !0;
            }),
            v.appendChild(p),
            v.appendChild(m),
            v.appendChild(g),
            s.appendChild(l),
            s.appendChild(v),
            r.showHtml(s),
            r.div.setAttribute("tabindex", "-1"),
            r.div.addEventListener("keydown", function (e) {
              switch (e.keyCode) {
                case 27:
                  r.close();
                  break;
                case 13:
                  h.validate() && r.close(h.serialize());
              }
            }),
            r.focus)
          ) {
            var y = null;
            if ("object" == typeof r.focus) {
              var b = r.focus.id,
                w = r.focus.value;
              y = h.findViewById(b, w);
            } else "string" == typeof r.focus && (y = h.findViewById(r.focus));
            y && y.focus();
          } else {
            var x = h.firstFocusable();
            r.autoFocus && x ? x.focus() : r.div.focus();
          }
        });
      }),
        (DayPilot.Modal.close = function (e) {
          var t = DayPilot.Modal.opener();
          t && t.close(e);
        }),
        (DayPilot.Modal.stretch = function (e) {
          var t = DayPilot.Modal.opener();
          if (!t) throw "Unable to find the opener DayPilot.Modal instance.";
          t.stretch();
        }),
        (DayPilot.Modal.closeSerialized = function () {
          var e = DayPilot.Modal.opener() || DayPilot.ModalStatic.last();
          e && e.closeSerialized();
        }),
        (DayPilot.Modal.opener = function () {
          return "undefined" != typeof DayPilot &&
            "undefined" != typeof DayPilot.ModalStatic &&
            DayPilot.ModalStatic.list.length > 0
            ? DayPilot.ModalStatic.list[DayPilot.ModalStatic.list.length - 1]
            : parent &&
                parent.DayPilot &&
                parent.DayPilot.ModalStatic &&
                parent.DayPilot.ModalStatic.list[
                  parent.DayPilot.ModalStatic.list.length - 1
                ];
        }),
        (DayPilot.Modal.Experimental = {}),
        (DayPilot.Modal.Experimental.Form = o),
        "undefined" == typeof DayPilot.getPromise &&
          (DayPilot.getPromise = function (e) {
            return "undefined" != typeof Promise
              ? new Promise(e)
              : ((DayPilot.Promise = function (e) {
                  var t = this;
                  (this.then = function (t, n) {
                    return (
                      (t = t || function () {}),
                      (n = n || function () {}),
                      e(t, n),
                      DayPilot.getPromise(e)
                    );
                  }),
                    (this["catch"] = function (n) {
                      return t.then(null, n), DayPilot.getPromise(e);
                    });
                }),
                new DayPilot.Promise(e));
          });
      var o = function (e) {
        (this.form = []),
          (this.data = {}),
          (this.theme = "form_default"),
          (this.zIndex = 99999),
          (this.locale = "en-us"),
          (this.plugins = {}),
          (this.onKey = null),
          (this.ji = []),
          (this.ki = null),
          (this.canceling = !1),
          (this.li = []),
          (this.n = []),
          (this.c = null),
          (e = e || {});
        for (var t in e) this[t] = e[t];
      };
      (o.prototype.create = function () {
        return this.load(), this.render(), this.c;
      }),
        (o.prototype.render = function () {
          var e = this;
          (this.c = document.createElement("div")),
            this.ji.forEach(function (t) {
              e.createView(t);
            }),
            this.applyState();
        }),
        (o.prototype.createView = function (e) {
          var t = this.theme,
            n = this,
            i = document.createElement("div");
          if (
            ((i.className =
              t + "_form_item " + t + "_form_item_level" + e.level),
            e.interactive || "title" !== e.type
              ? (i.className += " " + t + "_form_item_" + e.type)
              : (i.className += " " + t + "_form_title"),
            e.data.cssClass && (i.className += " " + e.data.cssClass),
            !e.isValue)
          ) {
            var a = document.createElement("div");
            (a.className = t + "_form_item_label"),
              (a.innerText = e.text),
              i.appendChild(a);
          }
          var r = this.createInteractive(e);
          (r.onInput = function (e) {
            if (
              ((e = e || {}),
              n.mi(r, { debounce: !e.immediate }),
              "function" == typeof n.onChange)
            ) {
              var t = {};
              (t.result = n.serialize()), n.onChange(t);
            }
          }),
            (r.onBlur = function () {
              n.canceling || n.mi(r);
            }),
            r.apply(e),
            (r.c = i),
            (r.row = e),
            r.element && i.appendChild(r.element),
            this.n.push(r),
            this.c.appendChild(i);
        }),
        (o.prototype.validate = function () {
          var e = this,
            t = !0;
          return (
            this.n.forEach(function (n) {
              var i = e.mi(n);
              t = t && i;
            }),
            t
          );
        }),
        (o.prototype.mi = function (e, t) {
          function n() {
            e.ni && (e.ni.remove(), (e.ni = null)), e.c.classList.add(u);
            var t = document.createElement("div");
            t.classList.add(h),
              (t.innerText = c.message),
              (e.ni = t),
              e.c.appendChild(t);
          }
          t = t || {};
          var i = t.debounce,
            a = t.silent,
            r = e.row,
            o = !0,
            s =
              "function" == typeof r.data.onValidate ? r.data.onValidate : null,
            l = "function" == typeof r.data.validate ? r.data.validate : null,
            d = s || l;
          if (d) {
            var c = {};
            (c.valid = !0),
              (c.value = e.save()[r.field]),
              (c.message = "Error"),
              (c.values = this.serialize()),
              (c.result = this.serialize()),
              d(c);
            var u = this.theme + "_form_item_invalid",
              h = this.theme + "_form_item_invalid_message";
            if (c.valid)
              clearTimeout(this.li[r.field]),
                e.ni && (e.ni.remove(), (e.ni = null)),
                e.c.classList.remove(u);
            else if (!a)
              if (i) {
                var f = 1e3;
                clearTimeout(this.li[r.field]),
                  (this.li[r.field] = setTimeout(function () {
                    n();
                  }, f));
              } else n();
            o = c.valid;
          }
          return o;
        }),
        (o.prototype.load = function () {
          var e = this;
          this.form.forEach(function (t) {
            e.processFormItem(t, 0);
          });
          var n;
          try {
            var i = JSON.stringify(this.data);
            n = t(JSON.parse(i));
          } catch (e) {
            throw new Error(
              "The 'data' object is not serializable (it may contain circular dependencies): " +
                e
            );
          }
          for (var a in n) this.setValue(a, n[a]);
        }),
        (o.prototype.setValue = function (e, t) {
          this.ji.forEach(function (n) {
            n.applyValue(e, t);
          });
        }),
        (o.prototype.updateDependentState = function () {
          var e = this,
            t = [!0];
          (this.ki ? this.ki : this.ji).forEach(function (n) {
            var i = e.updateState(n, {
              enabled: t[n.level] && !n.data.disabled,
            });
            i.isValue && (t[i.level + 1] = i.enabled && i.checked);
          });
        }),
        (o.prototype.processFormItem = function (e, t) {
          var n = this,
            i = this.getFieldType(e),
            a = [];
          if ("radio" === i) {
            if (e.name) {
              var r = new s();
              (r.field = e.id),
                (r.data = e),
                (r.level = t),
                (r.type = "label"),
                (r.interactive = !1),
                (r.text = e.name),
                n.ji.push(r),
                a.push(r);
            }
            e.options.forEach(function (r) {
              var o = new s();
              (o.field = e.id),
                (o.data = r),
                (o.level = t),
                (o.type = i),
                (o.isValue = !0),
                (o.text = r.name),
                (o.resolved = r.id),
                n.ji.push(o),
                a.push(o),
                r.children &&
                  r.children.forEach(function (e) {
                    var i = n.processFormItem(e, t + 1);
                    a = a.concat(i);
                  });
            });
          } else if ("title" === i) {
            var r = new s();
            (r.field = e.id),
              (r.data = e),
              (r.level = t),
              (r.type = i),
              (r.interactive = !1),
              (r.text = e.name),
              n.ji.push(r),
              a.push(r);
          } else if ("image" === i) {
            var r = new s();
            (r.isValue = !0),
              (r.field = e.id),
              (r.data = e),
              (r.level = t),
              (r.type = i),
              (r.interactive = !1),
              (r.text = null),
              n.ji.push(r),
              a.push(r);
          } else if ("html" === i) {
            var r = new s();
            (r.isValue = !0),
              (r.field = e.id),
              (r.data = e),
              (r.level = t),
              (r.type = i),
              (r.interactive = !1),
              (r.text = null),
              n.ji.push(r),
              a.push(r);
          } else if ("scrollable" === i) {
            var r = new s();
            (r.isValue = !0),
              (r.field = e.id),
              (r.data = e),
              (r.level = t),
              (r.type = i),
              (r.interactive = !1),
              (r.text = null),
              n.ji.push(r),
              a.push(r);
          } else {
            var r = new s();
            (r.field = e.id),
              (r.data = e),
              (r.level = t),
              (r.type = i),
              (r.text = e.name),
              (r.children = []),
              n.ji.push(r),
              a.push(r);
          }
          return (
            "checkbox" === i &&
              ((r.isValue = !0),
              (r.resolved = !0),
              e.children &&
                e.children.forEach(function (e) {
                  var i = n.processFormItem(e, t + 1);
                  a = a.concat(i);
                })),
            a
          );
        }),
        (o.prototype.doOnKey = function (e) {
          if ("function" == typeof this.onKey) {
            var t = { key: e };
            this.onKey(t);
          }
        }),
        (o.prototype.createInteractive = function (e) {
          var t = this,
            n = {
              label: function () {
                return new l();
              },
              title: function () {
                return new l();
              },
              image: function () {
                var t = new l(),
                  n = document.createElement("img");
                return (n.src = e.data.image), (t.element = n), t;
              },
              html: function () {
                var t = new l(),
                  n = document.createElement("div");
                return (
                  "string" == typeof e.data.text
                    ? (n.innerText = e.data.text)
                    : "string" == typeof e.data.html &&
                      (n.innerHTML = e.data.html),
                  (t.element = n),
                  t
                );
              },
              scrollable: function () {
                var n = new l(),
                  i = document.createElement("div");
                (i.className = t.theme + "_form_item_scrollable_scroll"),
                  e.data.height && (i.style.height = e.data.height + "px");
                var a = document.createElement("div");
                return (
                  (a.className =
                    t.theme + "_form_item_scrollable_scroll_content"),
                  "string" == typeof e.data.text
                    ? (a.innerText = e.data.text)
                    : "string" == typeof e.data.html &&
                      (a.innerHTML = e.data.html),
                  i.appendChild(a),
                  (n.element = i),
                  n
                );
              },
              text: function () {
                var n = new l();
                n.apply = function (e) {
                  n.row = e;
                  var t = n.element;
                  (t.value = e.value), (t.disabled = !e.enabled);
                };
                var i = document.createElement("input");
                return (
                  (i.name = e.field),
                  (i.type = "text"),
                  (i.autocomplete = "off"),
                  (i.onkeydown = function (e) {
                    var n = !1;
                    switch (e.keyCode) {
                      case 13:
                        t.doOnKey("Enter");
                        break;
                      case 27:
                        t.doOnKey("Escape");
                        break;
                      default:
                        n = !0;
                    }
                    n || (e.preventDefault(), e.stopPropagation());
                  }),
                  (i.oninput = function (e) {
                    n.onInput();
                  }),
                  (i.onblur = function (e) {
                    n.onBlur();
                  }),
                  (n.element = i),
                  (n.canFocus = function () {
                    return !n.element.disabled;
                  }),
                  (n.focus = function () {
                    n.element.focus(),
                      n.element.setSelectionRange(0, n.element.value.length);
                  }),
                  (n.save = function () {
                    var t = {};
                    return (t[e.field] = i.value), t;
                  }),
                  n
                );
              },
              textarea: function () {
                var n = new l();
                n.apply = function (e) {
                  n.row = e;
                  var t = n.element;
                  (t.value = e.value), (t.disabled = !e.enabled);
                };
                var i = document.createElement("textarea");
                return (
                  (i.name = e.field),
                  e.data.height && (i.style.height = e.data.height + "px"),
                  (i.onkeydown = function (e) {
                    var n = !1;
                    switch (e.keyCode) {
                      case 13:
                        (e.ctrlKey || e.metaKey) && t.doOnKey("Enter"),
                          (n = !1);
                        break;
                      case 27:
                        t.doOnKey("Escape");
                        break;
                      default:
                        n = !0;
                    }
                    n || e.stopPropagation();
                  }),
                  (i.oninput = function (e) {
                    n.onInput();
                  }),
                  (i.onblur = function (e) {
                    n.onBlur();
                  }),
                  (n.element = i),
                  (n.canFocus = function () {
                    return !n.element.disabled;
                  }),
                  (n.focus = function () {
                    n.element.focus(), n.element.setSelectionRange(0, 0);
                  }),
                  (n.save = function () {
                    var t = {};
                    return (t[e.field] = i.value), t;
                  }),
                  n
                );
              },
              date: function () {
                var n = new l();
                n.apply = function (e) {
                  n.row = e;
                  var i = n.element,
                    a = n.picker;
                  e.data.dateFormat && (a.pattern = e.data.dateFormat);
                  var r = e.data.locale || t.locale;
                  r && (a.locale = r),
                    (i.disabled = !e.enabled),
                    (a.date = new DayPilot.Date(e.value));
                  var o = new DayPilot.Date(e.value).toString(
                    e.data.dateFormat || a.pattern,
                    a.locale
                  );
                  i.value = o;
                };
                var i = document.createElement("input");
                i.name = e.field;
                var a = new DayPilot.DatePicker({
                  target: i,
                  theme: "navigator_modal",
                  zIndex: t.zIndex + 1,
                  resetTarget: !1,
                  targetAlignment: "left",
                  onTimeRangeSelect: function (e) {
                    n.onInput({ immediate: !0 });
                  },
                });
                return (
                  (i.picker = a),
                  (i.className = t.theme + "_input_date"),
                  (i.type = "text"),
                  (i.onkeydown = function (e) {
                    var n = !1;
                    switch (e.keyCode) {
                      case 13:
                        a.visible ? a.close() : t.doOnKey("Enter");
                        break;
                      case 27:
                        a.visible ? a.close() : t.doOnKey("Escape");
                        break;
                      case 9:
                        a.close(), (n = !0);
                        break;
                      default:
                        n = !0;
                    }
                    n || (e.preventDefault(), e.stopPropagation());
                  }),
                  (i.onfocus = function () {
                    a.show();
                  }),
                  (i.onclick = function () {
                    a.show();
                  }),
                  (i.oninput = function (e) {
                    n.onInput();
                  }),
                  (i.onblur = function (e) {
                    n.onBlur();
                  }),
                  (n.element = i),
                  (n.picker = a),
                  (n.canFocus = function () {
                    return !n.element.disabled;
                  }),
                  (n.focus = function () {
                    n.element.focus();
                  }),
                  (n.save = function () {
                    var t = a.date ? a.date.toString() : null,
                      n = {};
                    return (n[e.field] = t), n;
                  }),
                  n
                );
              },
              time: function () {
                return t.oi(e);
              },
              datetime: function () {
                return t.pi(e);
              },
              select: function () {
                var t = new l();
                t.apply = function (e) {
                  t.row = e;
                  var n = t.element;
                  (n.value = e.value), (n.disabled = !e.enabled);
                };
                var n = document.createElement("select");
                return (
                  (n.name = e.field),
                  e.data.options &&
                    e.data.options.forEach &&
                    e.data.options.forEach(function (e) {
                      var t = document.createElement("option");
                      (t.innerText = e.name || e.id),
                        (t.value = e.id),
                        (t.qi = e.id),
                        n.appendChild(t);
                    }),
                  (n.onchange = function (e) {
                    t.onInput({ immediate: !0 });
                  }),
                  (n.onblur = function (e) {
                    t.onBlur();
                  }),
                  (t.element = n),
                  (t.canFocus = function () {
                    return !t.element.disabled;
                  }),
                  (t.focus = function () {
                    t.element.focus();
                  }),
                  (t.save = function () {
                    var t = null,
                      i = n.options[n.selectedIndex];
                    i && "undefined" != typeof i.qi && (t = i.qi);
                    var a = {};
                    return (a[e.field] = t), a;
                  }),
                  t
                );
              },
              searchable: function () {
                var n = new l();
                n.apply = function (e) {
                  n.row = e;
                  var t = n.searchable;
                  (t.disabled = !e.enabled), t.select(e.value);
                };
                var i = new d({
                    data: e.data.options || [],
                    name: e.field,
                    theme: t.theme + "_form_item_searchable",
                    listZIndex: t.zIndex + 1,
                    onSelect: function (e) {
                      e.ui && n.onInput({ immediate: !0 });
                    },
                  }),
                  a = i.create();
                return (
                  (n.element = a),
                  (n.searchable = i),
                  (n.canFocus = function () {
                    return !n.searchable.disabled;
                  }),
                  (n.focus = function () {
                    n.searchable.focus();
                  }),
                  (n.save = function () {
                    var t = i.selected && i.selected.id,
                      n = {};
                    return (n[e.field] = t), n;
                  }),
                  n
                );
              },
              radio: function () {
                var n = new l();
                n.apply = function (e) {
                  n.row = e;
                  var t = n.radio;
                  (t.checked = e.checked), (t.disabled = !e.enabled);
                };
                var i = document.createElement("label"),
                  a = document.createElement("input");
                (a.type = "radio"),
                  (a.name = e.field),
                  (a.qi = e.resolved),
                  (a.onchange = function (e) {
                    var i = n.row;
                    t.findRowsByField(i.field).forEach(function (e) {
                      t.updateState(e, { checked: !1 });
                    }),
                      t.updateState(i, { checked: !0 }),
                      t.applyState(),
                      n.onInput({ immediate: !0 });
                  }),
                  (a.onblur = function (e) {
                    n.onBlur();
                  }),
                  i.appendChild(a);
                var r = document.createTextNode(e.text);
                return (
                  i.append(r),
                  (n.element = i),
                  (n.radio = a),
                  (n.canFocus = function () {
                    return !1;
                  }),
                  (n.focus = function () {
                    n.radio.focus();
                  }),
                  (n.save = function () {
                    if (!a.checked) return {};
                    var t = a.qi,
                      n = {};
                    return (n[e.field] = t), n;
                  }),
                  n
                );
              },
              checkbox: function () {
                var n = new l();
                n.apply = function (e) {
                  n.row = e;
                  var t = n.checkbox;
                  (t.checked = e.checked), (t.disabled = !e.enabled);
                };
                var i = document.createElement("label"),
                  a = document.createElement("input");
                (a.type = "checkbox"),
                  (a.name = e.field),
                  (a.qi = e.resolved),
                  (a.onchange = function (e) {
                    var i = n.row;
                    t.updateState(i, { checked: this.checked }),
                      t.applyState(),
                      n.onInput({ immediate: !0 });
                  }),
                  (a.onblur = function (e) {
                    n.onBlur();
                  }),
                  i.appendChild(a);
                var r = document.createTextNode(e.text);
                return (
                  i.append(r),
                  (n.element = i),
                  (n.checkbox = a),
                  (n.canFocus = function () {
                    return !1;
                  }),
                  (n.focus = function () {
                    n.checkbox.focus();
                  }),
                  (n.save = function () {
                    var t = a.checked,
                      n = {};
                    return (n[e.field] = t), n;
                  }),
                  n
                );
              },
              table: function () {
                var n = new l();
                n.apply = function (e) {
                  n.row = e;
                  var t = n.table;
                  (t.disabled = !e.enabled), t.load(e.value || []);
                };
                var i = new c({
                    name: e.field,
                    form: t,
                    theme: t.theme + "_form_item_tabular",
                    item: e.data,
                    onInput: function (e) {
                      n.onInput();
                    },
                  }),
                  a = i.create();
                return (
                  (n.element = a),
                  (n.table = i),
                  (n.canFocus = function () {
                    return !1;
                  }),
                  (n.focus = function () {
                    n.table.focus();
                  }),
                  (n.save = function () {
                    var t = i.save(),
                      n = {};
                    return (n[e.field] = t), n;
                  }),
                  n
                );
              },
            };
          return t.plugins && t.plugins[e.type]
            ? t.plugins[e.type](e)
            : n[e.type]();
        }),
        (o.prototype.oi = function (e) {
          var t = this,
            n = new l();
          n.apply = function (e) {
            n.row = e;
            var t = n.searchable;
            (t.disabled = !e.enabled), t.select(e.value);
          };
          var i = [],
            a = e.data.timeInterval || 15;
          [1, 5, 10, 15, 20, 30, 60].includes(a) || (a = 15);
          for (
            var r = 60 / a,
              o = e.data.locale || t.locale,
              s = DayPilot.Locale.find(o) || DayPilot.Locale.US,
              c = DayPilot.Date.today(),
              u = 0;
            u < 24 * r;
            u++
          ) {
            var h = c.addMinutes(a * u),
              f = {};
            (f.name = h.toString(e.data.timeFormat || s.timePattern, s)),
              (f.id = h.toString("HH:mm")),
              i.push(f);
          }
          var v = new d({
              data: i,
              name: e.field,
              theme: t.theme + "_form_item_time",
              listZIndex: t.zIndex + 1,
              strategy: "startsWith",
              onSelect: function (e) {
                e.ui && n.onInput({ immediate: !0 });
              },
            }),
            p = v.create();
          return (
            (n.element = p),
            (n.searchable = v),
            (n.canFocus = function () {
              return !n.searchable.disabled;
            }),
            (n.focus = function () {
              n.searchable.focus();
            }),
            (n.save = function () {
              var t = v.selected && v.selected.id,
                n = {};
              return (n[e.field] = t), n;
            }),
            n
          );
        }),
        (o.prototype.pi = function (e) {
          var t = this,
            n = new l();
          n.apply = function (e) {
            n.row = e;
            var i = n.searchable;
            i.disabled = !e.enabled;
            var a = new DayPilot.Date(e.value).toString("HH:mm");
            i.select(a);
            var r = n.dateInput,
              o = n.picker;
            e.data.dateFormat && (o.pattern = e.data.dateFormat);
            var s = e.data.locale || t.locale;
            if (s) {
              var l = DayPilot.Locale.find(s) || DayPilot.Locale.US;
              (o.locale = s), (o.pattern = l.datePattern);
            }
            (r.disabled = !e.enabled), (o.date = new DayPilot.Date(e.value));
            var d = new DayPilot.Date(e.value).toString(
              e.data.dateFormat || o.pattern,
              o.locale
            );
            r.value = d;
          };
          var i = (function () {
              var i = document.createElement("input");
              i.name = e.field;
              var a = new DayPilot.DatePicker({
                target: i,
                theme: "navigator_modal",
                zIndex: t.zIndex + 1,
                resetTarget: !1,
                targetAlignment: "left",
                onTimeRangeSelect: function (e) {
                  n.onInput({ immediate: !0 });
                },
              });
              return (
                (i.picker = a),
                (i.className = t.theme + "_input_date"),
                (i.type = "text"),
                (i.onkeydown = function (e) {
                  var n = !1;
                  switch (e.keyCode) {
                    case 13:
                      a.visible ? a.close() : t.doOnKey("Enter");
                      break;
                    case 27:
                      a.visible ? a.close() : t.doOnKey("Escape");
                      break;
                    case 9:
                      a.close(), (n = !0);
                      break;
                    default:
                      n = !0;
                  }
                  n || (e.preventDefault(), e.stopPropagation());
                }),
                (i.onfocus = function () {
                  a.show();
                }),
                (i.onclick = function () {
                  a.show();
                }),
                (i.oninput = function (e) {
                  n.onInput();
                }),
                (i.onblur = function (e) {
                  n.onBlur();
                }),
                (n.dateInput = i),
                (n.picker = a),
                i
              );
            })(),
            a = (function () {
              var i = [],
                a = e.data.timeInterval || 15;
              [1, 5, 10, 15, 20, 30, 60].includes(a) || (a = 15);
              for (
                var r = 60 / a,
                  o = e.data.locale || t.locale,
                  s = DayPilot.Locale.find(o) || DayPilot.Locale.US,
                  l = DayPilot.Date.today(),
                  c = 0;
                c < 24 * r;
                c++
              ) {
                var u = l.addMinutes(a * c),
                  h = {};
                (h.name = u.toString(e.data.timeFormat || s.timePattern, s)),
                  (h.id = u.toString("HH:mm")),
                  i.push(h);
              }
              var f = new d({
                data: i,
                name: e.field,
                theme: t.theme + "_form_item_time",
                listZIndex: t.zIndex + 1,
                strategy: "startsWith",
                onSelect: function (e) {
                  e.ui && n.onInput({ immediate: !0 });
                },
              });
              return (n.searchable = f), f.create();
            })(),
            r = document.createElement("div");
          return (
            (r.className = t.theme + "_form_item_datetime_parent"),
            r.appendChild(i),
            r.appendChild(a),
            (n.element = r),
            (n.canFocus = function () {
              return !n.searchable.disabled;
            }),
            (n.focus = function () {
              n.dateInput.focus();
            }),
            (n.save = function () {
              var t = n.searchable.selected && n.searchable.selected.id,
                i = n.picker.date ? n.picker.date.toString() : null,
                a = new DayPilot.Date(i).getDatePart(),
                r = DayPilot.Date.parse(
                  a.toString("yyyy-dd-MM ") + t,
                  "yyyy-dd-MM HH:mm"
                ),
                o = {};
              return (o[e.field] = r), o;
            }),
            n
          );
        }),
        (o.prototype.findRowsByField = function (e) {
          return this.ji.filter(function (t) {
            return t.field === e;
          });
        }),
        (o.prototype.findViewById = function (e, t) {
          return this.n.find(function (n) {
            return (
              n.row.field === e &&
              ("radio" !== n.row.type || n.row.resolved === t)
            );
          });
        }),
        (o.prototype.firstFocusable = function () {
          return this.n.find(function (e) {
            return e.canFocus && e.canFocus();
          });
        }),
        (o.prototype.updateState = function (e, t) {
          var n = this.ki ? this.ki : this.ji,
            i = n.indexOf(e);
          return (
            (this.ki = n.map(function (n) {
              if (n !== e) return n;
              if (e.propsEqual(t)) return e;
              var i = e.clone();
              for (var a in t) i[a] = t[a];
              return i;
            })),
            this.ki[i]
          );
        }),
        (o.prototype.updateInteractive = function (e) {
          var t = this.ki.indexOf(e);
          this.n[t].apply(e);
        }),
        (o.prototype.applyState = function () {
          var e = this;
          if ((this.updateDependentState(), this.ki)) {
            this.ki
              .filter(function (t, n) {
                return e.ji[n] !== t;
              })
              .forEach(function (t) {
                e.updateInteractive(t);
              }),
              (this.ji = this.ki),
              (this.ki = null);
          }
        }),
        (o.prototype.getFieldType = function (e) {
          return [
            "text",
            "date",
            "select",
            "searchable",
            "radio",
            "checkbox",
            "table",
            "title",
            "image",
            "html",
            "textarea",
            "scrollable",
            "time",
            "datetime",
          ].indexOf(e.type) !== -1
            ? e.type
            : e.type && this.plugins && this.plugins[e.type]
            ? e.type
            : e.image
            ? "image"
            : e.html || e.text
            ? "html"
            : e.id
            ? e.options
              ? "searchable"
              : e.dateFormat
              ? "date"
              : e.columns
              ? "table"
              : "text"
            : "title";
        }),
        (o.prototype.serialize = function () {
          var e = {};
          return (
            this.n.forEach(function (t) {
              var n = t.save();
              for (var i in n) e[i] = n[i];
            }),
            e
          );
        });
      var s = function () {
        (this.id = this.guid()),
          (this.field = null),
          (this.data = null),
          (this.type = null),
          (this.level = 0),
          (this.enabled = !0),
          (this.value = null),
          (this.text = null),
          (this.interactive = !0),
          (this.isValue = !1),
          (this.checked = !1),
          (this.resolved = null);
      };
      (s.prototype.clone = function () {
        var e = new s();
        for (var t in this) "id" !== t && (e[t] = this[t]);
        return e;
      }),
        (s.prototype.propsEqual = function (e) {
          for (var t in e) if (this[t] !== e[t]) return !1;
          return !0;
        }),
        (s.prototype.guid = function () {
          var e = function () {
            return ((65536 * (1 + Math.random())) | 0)
              .toString(16)
              .substring(1);
          };
          return (
            "" +
            e() +
            e() +
            "-" +
            e() +
            "-" +
            e() +
            "-" +
            e() +
            "-" +
            e() +
            e() +
            e()
          );
        }),
        (s.prototype.applyValue = function (e, t) {
          this.field === e &&
            ((this.value = t),
            this.isValue && t === this.resolved && (this.checked = !0));
        });
      var l = function () {
          (this.element = null),
            (this.canFocus = function () {
              return !1;
            }),
            (this.apply = function (e) {}),
            (this.focus = function () {}),
            (this.save = function () {
              return {};
            });
        },
        d = function (e) {
          (this.data = []),
            (this.name = null),
            (this.theme = "searchable_default"),
            (this.ri = !1),
            (this.listZIndex = 1e5),
            (this.onSelect = null),
            (this.si = null),
            (this.vi = null),
            (this.wi = !1),
            (this.xi = null),
            (this.Ec = null),
            (this.A = []),
            (this.yi = null),
            (e = e || {});
          var t = this,
            n = {
              selected: {
                post: function (e) {
                  "object" == typeof e && e.id
                    ? (t.si = e)
                    : ("string" != typeof e && "number" != typeof e) ||
                      t.select(e);
                },
              },
            };
          Object.defineProperty(this, "selected", {
            get: function () {
              return this.si;
            },
          }),
            Object.defineProperty(this, "disabled", {
              get: function () {
                return this.ri;
              },
              set: function (e) {
                (this.ri = e),
                  this.xi && ((this.xi.disabled = e), e && this.zi());
              },
            });
          for (var i in e) n[i] || (this[i] = e[i]);
          for (var i in e) n[i] && n[i].post(e[i]);
        };
      (d.prototype.select = function (e) {
        return (
          (this.si = this.data.find(function (t) {
            return t.id === e;
          })),
          this.Ai(!1),
          this
        );
      }),
        (d.prototype.create = function () {
          function e(e) {
            var n = l.strategy;
            "includes" !== l.strategy &&
              "startsWith" !== l.strategy &&
              (n = "includes"),
              (e = e || n || "includes"),
              (h.style.display = ""),
              (h.style.top = v.offsetHeight + "px"),
              (h.style.left = "0px"),
              (h.style.width = v.offsetWidth + "px"),
              (h.innerHTML = ""),
              h.addEventListener("mousedown", function (e) {
                e.preventDefault();
              }),
              (l.vi = null),
              (l.A = []);
            var a = null;
            l.data.forEach(function (n) {
              var r = n.name || n.id;
              if ("includes" === e) {
                if (r.toLowerCase().indexOf(v.value.toLowerCase()) === -1)
                  return;
              } else if ("startsWith" === e && 0 !== r.toLowerCase().indexOf(v.value.toLowerCase())) return;
              var o = document.createElement("div");
              (o.className = l.theme + "_list_item"),
                (o.innerText = r),
                (o.item = n),
                n === l.si && (l.vi = o),
                a || (a = o),
                o.addEventListener("mousedown", function (e) {
                  i(o), e.preventDefault();
                }),
                o.addEventListener("mousemove", function (e) {
                  l.vi !== o && ((l.vi = o), t({ dontScroll: !0 }));
                }),
                h.appendChild(o),
                l.A.push(o);
            }),
              l.vi || (l.vi = a),
              t();
          }
          function t(e) {
            e = e || {};
            var t = !e.dontScroll;
            document
              .querySelectorAll("." + l.theme + "_list_item_highlight")
              .forEach(function (e) {
                e.className = e.className.replace(
                  l.theme + "_list_item_highlight",
                  ""
                );
              }),
              l.vi &&
                ((l.vi.className += " " + l.theme + "_list_item_highlight"),
                t && !n(l.vi, h) && l.vi.scrollIntoView());
          }
          function n(e, t) {
            var n = e.getBoundingClientRect(),
              i = t.getBoundingClientRect();
            return n.top >= i.top && n.bottom <= i.bottom;
          }
          function i(e) {
            var t = e.item;
            (l.si = t), l.Ai(!0), r(), o();
          }
          function a() {
            l.zi();
          }
          function r() {
            l.B();
          }
          function o() {
            (l.wi = !0), v.setAttribute("readonly", "readonly"), v.focus();
          }
          function s() {
            (l.wi = !1), v.removeAttribute("readonly"), v.select(), e("all");
          }
          var l = this,
            d = this,
            c = document.createElement("div");
          (c.className = this.theme + "_main"), (c.style.position = "relative");
          var u = document.createElement("div");
          (u.className = this.theme + "_icon"),
            (u.style.position = "absolute"),
            (u.style.right = "0"),
            (u.style.top = "0"),
            (u.style.bottom = "0"),
            (u.style.width = "20px"),
            u.addEventListener("mousedown", function (e) {
              e.preventDefault(), l.wi ? (l.focus(), s()) : (a(), o());
            });
          var h = document.createElement("div");
          (h.className = this.theme + "_list"),
            (h.style.display = "none"),
            (h.style.position = "absolute"),
            (h.style.zIndex = this.listZIndex);
          var f = document.createElement("input");
          (f.type = "hidden"),
            (f.name = this.name),
            (f.searchable = d),
            (this.yi = f);
          var v = document.createElement("input");
          return (
            (v.type = "text"),
            (v.className = this.theme + "_input"),
            (v.disabled = this.ri),
            v.addEventListener("click", function (e) {
              s();
            }),
            v.addEventListener("focus", function (t) {
              e("all");
            }),
            v.addEventListener("input", function (t) {
              e();
            }),
            v.addEventListener("blur", function (e) {
              v.removeAttribute("readonly"), a();
            }),
            v.addEventListener("keydown", function (e) {
              if (l.wi) {
                if ("Enter" === e.key) return;
                if ("Esc" === e.key || "Escape" === e.key) return;
                s();
              }
              if ("ArrowDown" === e.key) {
                var n = d.A.indexOf(d.vi);
                n + 1 < d.A.length && (d.vi = d.A[n + 1]), t();
              } else if ("ArrowUp" === e.key) {
                var n = d.A.indexOf(d.vi);
                n - 1 >= 0 && (d.vi = d.A[n - 1]), t();
              } else
                "Enter" === e.key
                  ? l.vi
                    ? (e.stopPropagation(), i(l.vi))
                    : (e.stopPropagation(), a(), o())
                  : ("Esc" !== e.key && "Escape" !== e.key) ||
                    (e.stopPropagation(), a(), o());
            }),
            (this.xi = v),
            (this.Ec = h),
            this.si ||
              ((this.si = this.data[0]), this.si && (v.value = this.si.name)),
            c.appendChild(v),
            c.appendChild(u),
            c.appendChild(f),
            c.appendChild(h),
            c
          );
        }),
        (d.prototype.zi = function () {
          this.B(),
            this.si
              ? (this.xi.value = this.si.name)
              : ((this.xi.value = ""), this.Ai(!0));
        }),
        (d.prototype.focus = function () {
          (this.wi = !0),
            this.xi.setAttribute("readonly", "readonly"),
            this.xi.focus(),
            this.zi();
        }),
        (d.prototype.B = function () {
          this.Ec.style.display = "none";
        }),
        (d.prototype.Ai = function (e) {
          if (
            ((this.yi.value = this.selected ? this.selected.id : null),
            this.si ? (this.xi.value = this.si.name) : (this.xi.value = ""),
            "function" == typeof this.onSelect)
          ) {
            var t = { control: this, ui: e };
            this.onSelect(t);
          }
        });
      var c = function (e) {
        (this.form = null),
          (this.item = null),
          (this.data = null),
          (this.name = null),
          (this.theme = "edit_table_default"),
          (this.onInput = null),
          (this.nav = {}),
          (this.Bi = null),
          (this.ji = []),
          (e = e || {});
        for (var t in e) this[t] = e[t];
      };
      (c.prototype.create = function () {
        var e = this,
          t = document.createElement("div");
        (t.className = this.theme + "_main"), (t.style.position = "relative");
        var n = document.createElement("input");
        (n.type = "hidden"),
          (n.name = e.name),
          (n.table = this),
          t.appendChild(n);
        var i = document.createElement("div");
        i.className = this.theme + "_table";
        var a = this.Ci();
        i.appendChild(a);
        var r = e.Di({});
        r.spacer = !0;
        var o = this.Ei(r);
        o.classList.add(e.theme + "_spacer"), i.appendChild(o);
        var s = document.createElement("div");
        (s.className = e.theme + "_tbody"), i.appendChild(s), t.appendChild(i);
        var l = document.createElement("div");
        t.appendChild(l),
          (this.nav.body = s),
          (this.nav.table = i),
          (this.nav.main = t),
          (this.nav.after = l);
        var d = document.createElement("div"),
          c = document.createElement("span");
        return (
          (c.className = this.theme + "_plus"),
          c.addEventListener("click", function (t) {
            if (!e.disabled) {
              var n = e.item.onNewRow,
                i = {};
              if ("function" == typeof n) {
                var a = {};
                (a.result = e.form.serialize()),
                  (a.value = {}),
                  n(a),
                  (i = a.value);
              }
              var r = e.Di(i);
              e.ji.push(r), e.X(), e.Fi();
            }
          }),
          (this.nav.plus = c),
          d.appendChild(c),
          t.appendChild(d),
          t
        );
      }),
        (c.prototype.Ci = function () {
          var e = this,
            t = document.createElement("div");
          return (
            t.classList.add(this.theme + "_row"),
            t.classList.add(this.theme + "_header"),
            this.item.columns.forEach(function (n) {
              var i = document.createElement("div");
              i.classList.add(e.theme + "_cell"),
                (i.innerText = n.name),
                t.appendChild(i);
            }),
            t
          );
        }),
        (c.prototype.Gi = function () {
          var e = this.item.max || 0;
          return !!(e && this.ji.length >= e);
        }),
        (c.prototype.save = function () {
          var e = this,
            t = [];
          return (
            e.ji.forEach(function (e) {
              var n = {};
              e.cells.forEach(function (e) {
                n[e.id] = e.value;
              }),
                t.push(n);
            }),
            t
          );
        }),
        (c.prototype.load = function (e) {
          if ("[object Array]" !== Object.prototype.toString.call(e))
            throw new Error("Array expected");
          (this.data = e), this.Hi(), this.X();
        }),
        (c.prototype.Ii = function () {
          this.disabled
            ? this.nav.main.classList.add(this.theme + "_disabled")
            : this.nav.main.classList.remove(this.theme + "_disabled"),
            this.Gi()
              ? this.nav.plus.classList.add(this.theme + "_plus_max")
              : this.nav.plus.classList.remove(this.theme + "_plus_max");
        }),
        (c.prototype.Hi = function () {
          var e = this;
          (this.ji = []),
            this.data.forEach(function (t) {
              var n = e.Di(t);
              e.ji.push(n);
            });
        }),
        (c.prototype.Ji = function (e) {
          var t = this,
            n = t.ji.indexOf(e);
          t.ji.splice(n, 1);
        }),
        (c.prototype.Di = function (e) {
          var t = this,
            n = {};
          return (
            (n.data = e),
            (n.cells = []),
            t.item.columns.forEach(function (i) {
              var a = i.id,
                r = e[a],
                o = t.Ki(i);
              if ("undefined" == typeof r)
                if ("text" === o) r = "";
                else if ("number" === o) r = 0;
                else if ("select" === o) {
                  var s = i.options;
                  r = s && s[0].id;
                }
              var l = {};
              (l.id = a),
                (l.value = r),
                (l.type = o),
                (l.data = i),
                n.cells.push(l);
            }),
            n
          );
        }),
        (c.prototype.Ki = function (e) {
          var t = e.type;
          return t || (t = e.options ? "select" : "text"), t;
        }),
        (c.prototype.X = function () {
          var e = this;
          if (
            ((this.nav.body.innerHTML = ""),
            (this.nav.after.innerHTML = ""),
            this.ji.forEach(function (t) {
              var n = e.Ei(t);
              e.nav.body.appendChild(n);
            }),
            0 === this.ji.length)
          ) {
            var t = e.Li();
            e.nav.after.appendChild(t);
          }
          this.Ii();
        }),
        (c.prototype.Li = function () {
          var e = document.createElement("div");
          return (e.className = this.theme + "_empty"), e;
        }),
        (c.prototype.Ei = function (e) {
          var t = this,
            n = document.createElement("div");
          (n.className = t.theme + "_row"),
            e.cells.forEach(function (i) {
              var a = document.createElement("div");
              a.className = t.theme + "_cell";
              var r = t.Mi(i);
              if (e.spacer) {
                var o = document.createElement("div");
                (o.style.height = "0px"),
                  (o.style.overflow = "hidden"),
                  o.appendChild(r),
                  a.appendChild(o);
              } else a.appendChild(r);
              n.appendChild(a);
            });
          var i = document.createElement("div");
          i.classList.add(t.theme + "_cell"),
            i.classList.add(t.theme + "_rowaction");
          var a = document.createElement("span");
          return (
            (a.className = this.theme + "_delete"),
            a.addEventListener("click", function (n) {
              t.disabled || (t.Ji(e), t.X(), t.Fi());
            }),
            e.spacer || i.appendChild(a),
            n.appendChild(i),
            n
          );
        }),
        (c.prototype.Fi = function () {
          var e = this;
          if ("function" == typeof e.onInput) {
            var t = {};
            e.onInput(t);
          }
        }),
        (c.prototype.Mi = function (e) {
          var t = this,
            n = e.type;
          if ("text" === n || "number" === n) {
            var i = document.createElement("input");
            return (
              (i.type = n),
              t.disabled && (i.disabled = !0),
              e.value && (i.value = e.value),
              i.addEventListener("keyup", function (i) {
                "number" === n
                  ? (e.value = Number(this.value))
                  : (e.value = this.value),
                  t.Fi();
              }),
              i
            );
          }
          if ("select" === n) {
            var a = document.createElement("select");
            return (
              t.disabled && (a.disabled = !0),
              e.data.options.forEach(function (t) {
                var n = document.createElement("option");
                (n.innerText = t.name),
                  (n.value = t.id),
                  (n.qi = t.id),
                  a.appendChild(n),
                  e.value === t.id && n.setAttribute("selected", !0);
              }),
              a.addEventListener("change", function (n) {
                var i = a.options[a.selectedIndex];
                i && "undefined" != typeof i.qi && (e.value = i.qi), t.Fi();
              }),
              a
            );
          }
          throw new Error("Unsupported item type: " + n);
        }),
        (c.prototype.focus = function () {});
    }
  })(DayPilot),
  "undefined" == typeof DayPilot)
)
  var DayPilot = {};
if (
  ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function (DayPilot) {
    var e = function () {};
    if ("undefined" == typeof DayPilot.Month || !DayPilot.Month.def) {
      var t = {};
      (DayPilot.Month = function (n, i) {
        (this.v = "2023.2.5574"), (this.nav = {});
        var a = this;
        (this.id = n),
          (this.isMonth = !0),
          (this.api = 2),
          (this.va = !1),
          (this.hideUntilInit = !0),
          (this.startDate = new DayPilot.Date()),
          (this.width = null),
          "function" == typeof DayPilot.Bubble
            ? (this.bubble = new DayPilot.Bubble())
            : (this.bubble = null),
          (this.cssClassPrefix = "month_default"),
          (this.cellHeight = 100),
          (this.cellMarginBottom = 0),
          (this.allowMultiSelect = !0),
          (this.autoRefreshCommand = "refresh"),
          (this.autoRefreshEnabled = !1),
          (this.autoRefreshInterval = 60),
          (this.autoRefreshMaxCount = 20),
          (this.doubleClickTimeout = 300),
          (this.eventEndSpec = "DateTime"),
          (this.eventTextWrappingEnabled = !1),
          (this.headerHeight = 30),
          (this.heightSpec = "Auto"),
          (this.weekStarts = "Auto"),
          (this.eventBarVisible = !0),
          (this.eventHeight = 25),
          (this.cellHeaderHeight = 24),
          (this.clientState = {}),
          (this.afterRender = function () {}),
          (this.cssOnly = !0),
          (this.eventsLoadMethod = "GET"),
          (this.initEventEnabled = !1),
          (this.lineSpace = 1),
          (this.loadingLabelVisible = !0),
          (this.loadingLabelText = "Loading..."),
          (this.loadingLabelHtml = null),
          (this.locale = "en-us"),
          (this.maxEvents = "All"),
          (this.messageHideAfter = 5e3),
          (this.notifyCommit = "Immediate"),
          (this.visible = !0),
          (this.eventMoveToPosition = !1),
          (this.eventStartTime = !1),
          (this.eventEndTime = !1),
          (this.eventStartEndWidth = 45),
          (this.showWeekend = !0),
          (this.cellMode = !1),
          (this.shadowType = "Fill"),
          (this.tapAndHoldTimeout = 300),
          (this.timeFormat = "Auto"),
          (this.viewType = "Month"),
          (this.weeks = 1),
          (this.xssProtection = "Enabled"),
          (this.cellHeaderClickHandling = "Enabled"),
          (this.eventClickHandling = "Enabled"),
          (this.eventDeleteHandling = "Disabled"),
          (this.eventDoubleClickHandling = "Disabled"),
          (this.eventMoveHandling = "Update"),
          (this.eventResizeHandling = "Update"),
          (this.eventRightClickHandling = "ContextMenu"),
          (this.eventSelectHandling = "Update"),
          (this.headerClickHandling = "Enabled"),
          (this.timeRangeSelectedHandling = "Enabled"),
          (this.timeRangeDoubleClickHandling = "Disabled"),
          (this.onEventFilter = null),
          (this.onBeforeEventRender = null),
          (this.onBeforeCellRender = null),
          (this.onBeforeHeaderRender = null),
          (this.onBeforeEventDomAdd = null),
          (this.onBeforeEventDomRemove = null),
          (this.onBeforeEventExport = null),
          (this.onBeforeCellExport = null),
          (this.onBeforeHeaderExport = null),
          (this.onCellHeaderClick = null),
          (this.onCellHeaderClicked = null),
          (this.backendUrl = null),
          (this.cellEvents = []),
          (this.elements = {}),
          (this.elements.events = []),
          (this.ra = {}),
          (this.ra.events = {}),
          (this.events = {}),
          (this.ta = 0),
          (this.members = {}),
          (this.members.ignore = [
            "internal",
            "nav",
            "debug",
            "temp",
            "elements",
            "members",
            "cellProperties",
          ]),
          (this.xa = "javasc"),
          (this.Ta = function (e, t) {
            var e = JSON.parse(e);
            if (e.BubbleGuid) {
              var n = e.BubbleGuid,
                i = this.bubbles[n];
              return (
                delete this.bubbles[n],
                a.nb(),
                void (
                  "undefined" != typeof e.Result.BubbleHTML &&
                  i.updateView(e.Result.BubbleHTML, i)
                )
              );
            }
            if (e.CallBackRedirect)
              return void (document.location.href = e.CallBackRedirect);
            if (
              ("undefined" != typeof e.ClientState &&
                (a.clientState = e.ClientState),
              "None" === e.UpdateType)
            )
              return (
                a.ob(e.CallBackData, !0),
                e.Message && a.message(e.Message),
                void a.nb()
              );
            if (e.VsUpdate) {
              var r = document.createElement("input");
              (r.type = "hidden"),
                (r.name = a.id + "_vsupdate"),
                (r.id = r.name),
                (r.value = e.VsUpdate),
                (a.Ni.innerHTML = ""),
                a.Ni.appendChild(r);
            }
            (a.events.list = e.Events),
              "undefined" != typeof e.TagFields && (a.tagFields = e.TagFields),
              "undefined" != typeof e.SortDirections &&
                (a.sortDirections = e.SortDirections),
              "Full" === e.UpdateType &&
                ((a.cellProperties = e.CellProperties),
                (a.headerProperties = e.HeaderProperties),
                (a.startDate = e.StartDate),
                "undefined" != typeof e.ShowWeekend &&
                  (a.showWeekend = e.ShowWeekend),
                (a.locale = e.Locale ? e.Locale : a.locale),
                (a.timeFormat = e.TimeFormat ? e.TimeFormat : a.timeFormat),
                "undefined" != typeof e.WeekStarts &&
                  (a.weekStarts = e.WeekStarts),
                (a.hashes = e.Hashes)),
              a.multiselect.clear(!0),
              (a.multiselect.initList = e.SelectedEvents),
              a.Ya(),
              a.Oi(),
              a.tb(),
              "Full" === e.UpdateType && (a.Pi(), a.Qi()),
              a.Bb(),
              a.D(),
              a.Fb(),
              a.ob(e.CallBackData, !0),
              a.Jb(),
              e.Message && a.message(e.Message),
              a.nb();
          }),
          (this.ob = function (e, t) {
            var n = function (e, t) {
              return function () {
                if (a.Kb()) {
                  if ("function" == typeof a.onAfterRender) {
                    var n = {};
                    (n.isCallBack = t), (n.data = e), a.onAfterRender(n);
                  }
                } else a.afterRender && a.afterRender(e, t);
              };
            };
            window.setTimeout(n(e, t), 0);
          }),
          (this.Kb = function () {
            return 2 === a.api;
          }),
          (this.Ka = function (e, t) {
            return a.Ma.La()
              ? DayPilot.Util.escapeTextHtml(e, t)
              : DayPilot.Util.isNullOrUndefined(t)
              ? DayPilot.Util.isNullOrUndefined(e)
                ? ""
                : e
              : t;
          }),
          (this.ca = function (e) {
            var t = this.theme || this.cssClassPrefix;
            return t ? t + e : "";
          }),
          (this.tb = function () {
            if (this.events.list) {
              if ("function" == typeof this.onBeforeEventRender)
                for (var e = this.events.list.length, t = 0; t < e; t++)
                  this.pg(t);
              this.cellMode ? this.Ri() : this.Si();
            }
          }),
          (this.Qa = function (e) {
            var t = e ? 0 : 100;
            a.loadingTimeout && window.clearTimeout(a.loadingTimeout),
              (a.loadingTimeout = window.setTimeout(function () {
                a.loadingLabelVisible &&
                  a.nav.loading &&
                  ((a.nav.loading.style.top = s.headerHeight() + 5 + "px"),
                  (a.nav.loading.innerHTML = a.Ka(
                    this.loadingLabelText,
                    this.loadingLabelHtml
                  )),
                  (a.nav.loading.style.display = ""));
              }, t));
          }),
          (this.nb = function () {
            this.loadingTimeout && window.clearTimeout(this.loadingTimeout),
              a.nav.loading && (this.nav.loading.style.display = "none");
          }),
          (this.Si = function () {
            if (this.events.list) {
              for (var e = 0; e < this.events.list.length; e++) {
                var t = this.events.list[e];
                if ("object" != typeof t)
                  throw new DayPilot.Exception(
                    "Event data item must be an object"
                  );
                if (!t.start)
                  throw new DayPilot.Exception(
                    "Event data item must specify 'start' property"
                  );
                var n = null;
                if (
                  ("function" == typeof a.onBeforeEventRender &&
                    (n = a.ra.events[e]),
                  n)
                ) {
                  if (n.hidden) continue;
                } else if (t.hidden) continue;
                var i = new DayPilot.Date(t.start),
                  r = new DayPilot.Date(t.end);
                if (((r = a.Ti(r)), !(i.getTime() > r.getTime())))
                  for (var o = 0; o < this.rows.length; o++) {
                    var s = this.rows[o];
                    if (s.belongsHere(i, r)) {
                      var l = new DayPilot.Event(t, a);
                      if ("function" == typeof a.onEventFilter && a.events.Ig) {
                        var d = {};
                        if (
                          ((d.filter = a.events.Ig),
                          (d.visible = !0),
                          (d.e = l),
                          a.onEventFilter(d),
                          !d.visible)
                        )
                          break;
                      }
                      s.events.push(l),
                        "function" == typeof this.onBeforeEventRender &&
                          (l.cache = this.ra.events[e]);
                    }
                  }
              }
              for (var c = 0; c < this.rows.length; c++) {
                var s = this.rows[c];
                s.events.sort(this.Lg);
                for (var u = 0; u < this.rows[c].events.length; u++) {
                  var h = s.events[u],
                    f = s.getStartColumn(h),
                    v = s.getWidth(h);
                  s.putIntoLine(h, f, v, c);
                }
              }
            }
          }),
          (this.Ri = function () {
            this.cellEvents = [];
            for (var e = 0; e < this.Ui(); e++) {
              this.cellEvents[e] = [];
              for (var t = 0; t < this.rows.length; t++) {
                var n = {},
                  i = this.firstDate.addDays(7 * t + e);
                (n.start = i),
                  (n.end = i.addDays(1)),
                  (n.events = []),
                  (this.cellEvents[e][t] = n);
              }
            }
            for (var r = 0; r < this.events.list.length; r++) {
              var o = this.events.list[r];
              if ("object" != typeof o)
                throw new DayPilot.Exception(
                  "Event data item must be an object"
                );
              if (!o.start)
                throw new DayPilot.Exception(
                  "Event data item must specify 'start' property"
                );
              var s = null;
              if (
                ("function" == typeof a.onBeforeEventRender &&
                  (s = a.ra.events[r]),
                s)
              ) {
                if (s.hidden) continue;
              } else if (o.hidden) continue;
              var l = new DayPilot.Date(o.start),
                d = new DayPilot.Date(o.start);
              if (((d = a.Ti(d)), !(l.getTime() > d.getTime())))
                for (var e = 0; e < this.Ui(); e++)
                  for (var t = 0; t < this.rows.length; t++) {
                    var n = this.cellEvents[e][t];
                    if (
                      l.getTime() >= n.start.getTime() &&
                      l.getTime() < n.end.getTime()
                    ) {
                      var c = new DayPilot.Event(o, a);
                      if ("function" == typeof a.onEventFilter && a.events.Ig) {
                        var u = {};
                        if (
                          ((u.filter = a.events.Ig),
                          (u.visible = !0),
                          (u.e = c),
                          a.onEventFilter(u),
                          !u.visible)
                        )
                          continue;
                      }
                      n.events.push(c),
                        "function" == typeof this.onBeforeEventRender &&
                          (c.cache = this.ra.events[r]);
                    }
                  }
            }
            for (var e = 0; e < this.Ui(); e++)
              for (var t = 0; t < this.rows.length; t++) {
                var n = this.cellEvents[e][t];
                n.events.sort(this.Lg);
              }
          }),
          (this.Ya = function () {
            for (var e = 0; e < this.elements.events.length; e++) {
              var t = this.elements.events[e];
              !(function () {
                var e = t.domArgs;
                if (
                  ((t.domArgs = null),
                  "function" == typeof a.onDomRemoveEvent &&
                    a.onDomRemoveEvent(e),
                  e &&
                    "function" == typeof a.onBeforeEventDomRemove &&
                    a.onBeforeEventDomRemove(e),
                  e &&
                    "function" == typeof a.onBeforeEventDomAdd &&
                    a.Y.reactDOM)
                ) {
                  var n = e && e.Be;
                  if (n) {
                    if (DayPilot.Util.isReactComponent(e.element)) {
                      if (!a.Y.reactDOM)
                        throw new DayPilot.Exception("Can't reach ReactDOM");
                      a.Y.ja(n);
                    }
                  }
                }
              })(),
                (t.event = null),
                (t.click = null),
                t.parentNode.removeChild(t);
            }
            this.elements.events = [];
          }),
          (this.Fb = function () {
            (this.ra.events = {}),
              this.cellMode ? this.Vi() : this.Wi(),
              this.multiselect.redraw();
          }),
          (this.Vi = function () {
            if (((this.elements.events = []), 0 !== this.cellEvents.length))
              for (var e = 0; e < this.Ui(); e++)
                for (var t = 0; t < this.rows.length; t++)
                  for (
                    var n = this.cellEvents[e][t], i = (this.cells[e][t], 0);
                    i < n.events.length;
                    i++
                  ) {
                    var a = n.events[i];
                    (a.part.colStart = e),
                      (a.part.colWidth = 1),
                      (a.part.row = t),
                      (a.part.line = i),
                      (a.part.startsHere = !0),
                      (a.part.endsHere = !0),
                      this.Fe(a);
                  }
          }),
          (this.Wi = function () {
            this.elements.events = [];
            for (
              var e = "number" == typeof a.maxEvents ? a.maxEvents : 1e3, t = 0;
              t < this.rows.length;
              t++
            )
              for (var n = this.rows[t], i = 0; i < n.lines.length; i++) {
                var r = n.lines[i];
                if (!(i >= e)) for (var o = 0; o < r.length; o++) this.Fe(r[o]);
              }
          }),
          (this.Kg = function (e, t) {
            if (!(e && t && e.start && t.start)) return 0;
            var n = e.start().ticks - t.start().ticks;
            return 0 !== n ? n : t.end().ticks - e.end().ticks;
          }),
          (this.Lg = function (e, t) {
            if (!e || !t) return 0;
            if (
              !(
                e.data &&
                t.data &&
                e.data.sort &&
                t.data.sort &&
                0 !== e.data.sort.length &&
                0 !== t.data.sort.length
              )
            )
              return a.Kg(e, t);
            for (
              var n = 0, i = 0;
              0 === n &&
              "undefined" != typeof e.data.sort[i] &&
              "undefined" != typeof t.data.sort[i];

            )
              (n =
                e.data.sort[i] === t.data.sort[i]
                  ? 0
                  : "number" == typeof e.data.sort[i] &&
                    "number" == typeof t.data.sort[i]
                  ? e.data.sort[i] - t.data.sort[i]
                  : a.Mg(e.data.sort[i], t.data.sort[i], a.sortDirections[i])),
                i++;
            return n;
          }),
          (this.Mg = function (e, t, n) {
            var i = "desc" !== n,
              a = i ? -1 : 1,
              r = -a;
            if (null === e && null === t) return 0;
            if (null === t) return r;
            if (null === e) return a;
            var o = [];
            return (o[0] = e), (o[1] = t), o.sort(), e === o[0] ? a : r;
          }),
          (this.Xi = function (e, n, i, r, o, s) {
            o || (o = 0);
            var l = (function () {
                for (var t = 0; t < r; t++) {
                  var i = e + 7 * n + t - o;
                  if (!(i < 0)) {
                    var s = i % 7,
                      l = Math.floor(i / 7);
                    if (!(l > a.rows.length - 1)) {
                      if (a.cells[s][l].props.disabled) return !0;
                    }
                  }
                }
              })(),
              d = r;
            (this.shadow = {}),
              (this.shadow.list = []),
              (this.shadow.start = { x: e, y: n }),
              (this.shadow.width = r),
              (this.shadow.disabled = l),
              this.eventMoveToPosition && ((d = 1), (this.shadow.position = i));
            var c = 7 * n + e - o;
            c < 0 && ((d += c), (e = 0), (n = 0));
            for (var u = o; u >= 7; ) n--, (u -= 7);
            if (u > e) {
              u > e + (7 - this.Ui())
                ? (n--, (e = e + 7 - u))
                : ((d = d - u + e), (e = 0));
            } else e -= u;
            n < 0 && ((n = 0), (e = 0));
            var h = null;
            for (
              t.resizingEvent
                ? (h = "w-resize")
                : t.movingEvent && (h = "move"),
                this.nav.top.style.cursor = h;
              d > 0 && n < this.rows.length;

            ) {
              var f = Math.min(this.Ui() - e, d),
                v = this.rows[n],
                p = this.Yi(n),
                m = v.getHeight();
              this.eventMoveToPosition && ((p = this.Zi(n, i)), (m = 2));
              var g = document.createElement("div");
              g.setAttribute("unselectable", "on"),
                (g.style.position = "absolute"),
                (g.style.left = this.$i() * e + "%"),
                (g.style.width = this.$i() * f + "%"),
                (g.style.top = p + "px"),
                (g.style.height = m + "px"),
                (g.style.cursor = h);
              var y = document.createElement("div");
              y.setAttribute("unselectable", "on"),
                g.appendChild(y),
                (g.className = this.ca("_shadow")),
                (y.className = this.ca("_shadow_inner")),
                l && DayPilot.Util.addClass(g, this.ca("_shadow_forbidden"));
              this.nav.events.appendChild(g),
                this.shadow.list.push(g),
                (d -= f + 7 - this.Ui()),
                (e = 0),
                n++;
            }
          }),
          (this._i = function () {
            if (this.shadow) {
              this.nav.events;
              DayPilot.de(this.shadow.list),
                (this.shadow = null),
                (this.nav.top.style.cursor = "");
            }
          }),
          (this.Zi = function (e, t) {
            for (var n = 0, i = 0; i < e; i++) n += this.rows[i].getHeight();
            return (n += this.cellHeaderHeight), (n += t * s.lineHeight());
          }),
          (this.aj = function (e, t) {
            return this.firstDate.addDays(7 * t + e);
          }),
          (this.pg = function (e) {
            var t = this.ra.events,
              n = this.events.list[e],
              i = {};
            for (var a in n) i[a] = n[a];
            if ("function" == typeof this.onBeforeEventRender) {
              var r = {};
              (r.e = i), (r.data = i), this.onBeforeEventRender(r);
            }
            t[e] = i;
          }),
          (this.Fe = function (e) {
            var t = this.cellMode,
              n = e.part.row,
              i = e.part.line,
              o = e.part.colStart,
              l = e.part.colWidth,
              d = e.cache || e.data,
              c = t ? 0 : this.$i() * o,
              u = t ? 100 : this.$i() * l,
              h = t ? i * s.lineHeight() : this.Zi(n, i),
              f = document.createElement("div");
            f.setAttribute("unselectable", "on"),
              (f.style.height = s.eventHeight() + "px"),
              (f.style.position = "relative"),
              (f.style.overflow = "hidden"),
              (f.className = this.ca("_event")),
              d.cssClass && DayPilot.Util.addClass(f, d.cssClass),
              (f.event = e),
              t
                ? ((f.style.marginRight = "2px"),
                  (f.style.marginBottom = "2px"))
                : ((f.style.width = u + "%"),
                  (f.style.position = "absolute"),
                  (f.style.left = c + "%"),
                  (f.style.top = h + "px")),
              this.showToolTip &&
                d.toolTip &&
                !this.bubble &&
                (f.title = d.toolTip),
              a.eventTextWrappingEnabled || (f.style.whiteSpace = "nowrap"),
              (f.onclick = this.bj),
              (f.ondblclick = this.cj),
              (f.oncontextmenu = this.dj),
              (f.onmousedown = this.Ie),
              (f.onmousemove = this.Ge),
              (f.onmouseout = this.He),
              DayPilot.reNonPassive(f, "touchstart", r.onEventTouchStart),
              DayPilot.rePassive(f, "touchmove", r.onEventTouchMove),
              DayPilot.rePassive(f, "touchend", r.onEventTouchEnd),
              e.part.startsHere ||
                DayPilot.Util.addClass(f, this.ca("_event_continueleft")),
              e.part.endsHere ||
                DayPilot.Util.addClass(f, this.ca("_event_continueright"));
            var v = document.createElement("div");
            if (
              (v.setAttribute("unselectable", "on"),
              (v.className = this.ca("_event_inner")),
              d.fontColor && (v.style.color = d.fontColor),
              d.borderColor &&
                ("darker" === d.borderColor && d.backColor
                  ? (v.style.borderColor = DayPilot.ColorUtil.darker(
                      d.backColor,
                      2
                    ))
                  : (v.style.borderColor = d.borderColor)),
              d.backColor && (v.style.background = d.backColor),
              d.backImage &&
                ((v.style.backgroundImage = "url(" + d.backImage + ")"),
                d.backRepeat && (v.style.backgroundRepeat = d.backRepeat)),
              f.appendChild(v),
              e.client.barVisible())
            ) {
              var p = document.createElement("div");
              p.setAttribute("unselectable", "on"),
                (p.className = this.ca("_event_bar")),
                (p.style.position = "absolute");
              var m = document.createElement("div");
              m.setAttribute("unselectable", "on"),
                (m.className = this.ca("_event_bar_inner")),
                (m.style.top = "0%"),
                (m.style.height = "100%"),
                d.barColor && (m.style.backgroundColor = d.barColor),
                p.appendChild(m),
                f.appendChild(p);
            }
            var g = this.Ma.locale(),
              y = a.eventStartEndWidth;
            if (this.eventStartTime || d.htmlStart) {
              var c = 5;
              a.eventBarVisible && (c += 5);
              var b =
                  "Clock12Hours" === a.Ma.timeFormat()
                    ? e.start().toString("h tt", g)
                    : e.start().toString("H", g),
                w = {
                  left: c,
                  top: 2,
                  width: y,
                  bottom: 2,
                  v: "Visible",
                  html: d.htmlStart || b,
                  css: a.ca("_event_timeleft"),
                },
                x = DayPilot.Areas.createArea(f, e, w);
              f.appendChild(x), (v.style.paddingLeft = y + "px");
            }
            if (this.eventEndTime || d.htmlEnd) {
              var b =
                  "Clock12Hours" === a.Ma.timeFormat()
                    ? e.end().toString("h tt", g)
                    : e.end().toString("H", g),
                w = {
                  right: 5,
                  top: 2,
                  width: y,
                  bottom: 2,
                  v: "Visible",
                  html: d.htmlEnd || b,
                  css: a.ca("_event_timeright"),
                },
                x = DayPilot.Areas.createArea(f, e, w);
              f.appendChild(x), (v.style.paddingRight = y + "px");
            }
            if (d.areas)
              for (var k = d.areas, C = 0; C < k.length; C++) {
                var w = k[C];
                if (DayPilot.Areas.isVisible(w)) {
                  var x = DayPilot.Areas.createArea(f, e, w);
                  f.appendChild(x);
                }
              }
            !(function () {
              var t = {};
              if (
                ((t.e = e),
                (t.control = a),
                (t.element = null),
                (f.domArgs = t),
                "function" == typeof a.onDomAddEvent && a.onDomAddEvent(t),
                "function" == typeof a.onBeforeEventDomAdd &&
                  a.onBeforeEventDomAdd(t),
                t.element)
              ) {
                var n = v;
                if (n) {
                  t.Be = n;
                  if (DayPilot.Util.isReactComponent(t.element)) {
                    if (!a.Y.reactDOM)
                      throw new DayPilot.Exception("Can't reach ReactDOM");
                    a.Y.X(t.element, n);
                  } else n.appendChild(t.element);
                }
              } else v.innerHTML = e.client.innerHTML();
            })(),
              this.elements.events.push(f),
              t
                ? this.cells[o][n].body.appendChild(f)
                : this.nav.events.appendChild(f),
              a.multiselect.pd(f.event) && a.multiselect.add(f.event, !0);
            var f = f;
            if (a.Kb()) {
              if ("function" == typeof a.onAfterEventRender) {
                var D = {};
                (D.e = f.event), (D.div = f), a.onAfterEventRender(D);
              }
            } else a.afterEventRender && a.afterEventRender(f.event, f);
          }),
          (this.bj = function (e) {
            r.start || a.Xb(this, e);
          }),
          (this.cj = function (e) {
            e.stopPropagation(), a._b(this, e);
          }),
          (this.Ge = function (e) {
            var n = this,
              i = n.event;
            if ("undefined" != typeof t && !t.movingEvent && !t.resizingEvent) {
              var r = DayPilot.mo3(n, e);
              if (r) {
                !(function () {
                  var e = n;
                  if (!e.active) {
                    var t = [],
                      r = i.cache || i.data;
                    "Disabled" === a.eventDeleteHandling ||
                      r.deleteDisabled ||
                      t.push({
                        action: "JavaScript",
                        v: "Hover",
                        w: 17,
                        h: 17,
                        top: 2,
                        right: 2,
                        css: a.ca("_event_delete"),
                        js: function (e) {
                          a.hc(e);
                        },
                      });
                    var o = e.event.cache
                      ? e.event.cache.areas
                      : e.event.data.areas;
                    o && o.length > 0 && (t = t.concat(o)),
                      DayPilot.Areas.showAreas(e, e.event, null, t);
                  }
                })(),
                  a.ej(n.event).forEach(function (e) {
                    DayPilot.Util.addClass(e, a.ca("_event_hover"));
                  });
                var o = 6;
                if (
                  (!a.cellMode && r.x <= o && i.client.resizeEnabled()
                    ? i.part.startsHere
                      ? ((n.style.cursor = "w-resize"), (n.dpBorder = "left"))
                      : (n.style.cursor = "not-allowed")
                    : !a.cellMode &&
                      n.clientWidth - r.x <= o &&
                      i.client.resizeEnabled()
                    ? i.part.endsHere
                      ? ((n.style.cursor = "e-resize"), (n.dpBorder = "right"))
                      : (n.style.cursor = "not-allowed")
                    : i.client.clickEnabled()
                    ? (n.style.cursor = "pointer")
                    : (n.style.cursor = "default"),
                  "undefined" != typeof DayPilot.Bubble &&
                    a.bubble &&
                    "Disabled" !== a.eventHoverHandling)
                )
                  if (t.movingEvent || t.resizingEvent)
                    DayPilot.Bubble.hideActive();
                  else {
                    var s = this.Dg && r.x === this.Dg.x && r.y === this.Dg.y;
                    s || ((this.Dg = r), a.bubble.showEvent(n.event));
                  }
              }
            }
          }),
          (this.He = function (e) {
            var t = this;
            "undefined" != typeof DayPilot.Bubble &&
              a.bubble &&
              a.bubble.hideOnMouseOut(),
              (t.style.cursor = ""),
              a.ej(t.event).forEach(function (e) {
                DayPilot.Util.removeClass(e, a.ca("_event_hover"));
              }),
              DayPilot.Areas.hideAreas(t, e);
          }),
          (this.dj = function () {
            var e = this;
            return a.bc(e.event), !1;
          }),
          (this.Ie = function (e) {
            if (!r.start) {
              "undefined" != typeof DayPilot.Bubble &&
                (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing());
              var n = this,
                i = n.event,
                o = i.part.row,
                s = i.part.colStart,
                l = i.part.line,
                d = i.part.colWidth;
              e = e || window.event;
              var c = DayPilot.Util.mouseButton(e);
              if (
                ((e.cancelBubble = !0),
                e.stopPropagation && e.stopPropagation(),
                c.left)
              )
                if (
                  ("undefined" != typeof DayPilot.Bubble &&
                    a.bubble &&
                    DayPilot.Bubble.hideActive(),
                  (t.movingEvent = null),
                  "w-resize" === this.style.cursor ||
                    "e-resize" === this.style.cursor)
                ) {
                  var u = {};
                  (u.start = {}),
                    (u.start.x = s),
                    (u.start.y = o),
                    (u.event = n.event),
                    (u.width =
                      DayPilot.DateUtil.daysSpan(
                        u.event.start(),
                        u.event.end()
                      ) + 1),
                    (u.direction = this.style.cursor),
                    (t.resizingEvent = u);
                } else if (
                  "move" === this.style.cursor ||
                  i.client.moveEnabled()
                ) {
                  a._i();
                  var h = DayPilot.mo3(a.nav.events, e);
                  if (!h) return;
                  var f = a.fj(h.x, h.y);
                  if (!f) return;
                  var v = DayPilot.DateUtil.daysDiff(
                      i.start(),
                      a.rows[o].start
                    ),
                    p = 7 * f.y + f.x - (7 * o + s);
                  v && (p += v);
                  var m = {};
                  (m.start = {}),
                    (m.start.x = s),
                    (m.start.y = o),
                    (m.start.line = l),
                    (m.offset = a.eventMoveToPosition ? 0 : p),
                    (m.colWidth = d),
                    (m.event = n.event),
                    (m.coords = h),
                    (t.movingEvent = m);
                }
            }
          }),
          (this.temp = {}),
          (this.temp.getPosition = function () {
            if (!a.coords) return null;
            var e = a.fj(a.coords.x, a.coords.y);
            if (!e) return null;
            var t = new DayPilot.Date(a.aj(e.x, e.y)),
              e = {};
            return (e.start = t), (e.end = t.addDays(1)), e;
          }),
          (this.Je = {});
        var r = a.Je;
        (r.active = !1),
          (r.start = !1),
          (r.timeouts = []),
          (r.onEventTouchStart = function (e) {
            if (!r.active && !r.start) {
              r.clearTimeouts(), (r.start = !0), (r.active = !1);
              var t = this;
              if (t.event.client.moveEnabled()) {
                var n = a.tapAndHoldTimeout;
                r.timeouts.push(
                  window.setTimeout(function () {
                    (r.active = !0), (r.start = !1);
                    var n = r.relativeCoords(e);
                    r.startMoving(t, n), e.preventDefault();
                  }, n)
                );
              }
              e.stopPropagation();
            }
          }),
          (r.onEventTouchMove = function (e) {
            r.clearTimeouts(), (r.start = !1);
          }),
          (r.onEventTouchEnd = function (e) {
            r.clearTimeouts(),
              r.start && a.Yb(this, e),
              window.setTimeout(function () {
                (r.start = !1), (r.active = !1);
              }, 500);
          }),
          (r.onMainTouchStart = function (e) {
            if (!r.active && !r.start) {
              r.clearTimeouts(), (r.start = !0), (r.active = !1);
              var t = a.tapAndHoldTimeout;
              r.timeouts.push(
                window.setTimeout(function () {
                  (r.active = !0), (r.start = !1), e.preventDefault();
                  var t = r.relativeCoords(e);
                  r.startRange(t);
                }, t)
              );
            }
          }),
          (r.onMainTouchMove = function (e) {
            if ((r.clearTimeouts(), (r.start = !1), r.active)) {
              e.preventDefault();
              var t = r.relativeCoords(e);
              if (r.moving) return void r.updateMoving(t);
              r.range && r.updateRange(t);
            }
          }),
          (r.onMainTouchEnd = function (e) {
            if ((r.clearTimeouts(), r.active)) {
              if (r.moving) {
                var t = (r.moving, r.moving.event),
                  n = a.shadow.start,
                  i = a.shadow.position,
                  o = r.moving.offset;
                a._i(), (r.moving = null), a.sc(t, n.x, n.y, o, e, i);
              }
              if (r.range) {
                var s = r.range,
                  n = new DayPilot.Date(a.aj(s.from.x, s.from.y)),
                  l = n.addDays(s.width);
                (r.range = null), a.Ac(n, l);
              }
            }
            window.setTimeout(function () {
              (r.start = !1), (r.active = !1);
            }, 500);
          }),
          (r.clearTimeouts = function () {
            for (var e = 0; e < r.timeouts.length; e++)
              clearTimeout(r.timeouts[e]);
            r.timeouts = [];
          }),
          (r.relativeCoords = function (e) {
            var t = a.nav.events,
              n = e.touches ? e.touches[0] : e,
              i = n.pageX,
              r = n.pageY,
              o = DayPilot.abs(t);
            return {
              x: i - o.x,
              y: r - o.y,
              toString: function () {
                return "x: " + this.x + ", y:" + this.y;
              },
            };
          }),
          (r.startMoving = function (e, t) {
            a._i();
            var n = e.event,
              i = a.fj(t.x, t.y);
            if (i) {
              var o = DayPilot.DateUtil.daysDiff(
                  n.start(),
                  a.rows[n.part.row].start
                ),
                s = 7 * i.y + i.x - (7 * n.part.row + n.part.colStart);
              o && (s += o);
              var l = {};
              (l.start = {}),
                (l.start.x = n.part.colStart),
                (l.start.y = n.part.row),
                (l.start.line = n.part.line),
                (l.offset = a.eventMoveToPosition ? 0 : s),
                (l.colWidth = n.part.colWidth),
                (l.event = n),
                (l.coords = t),
                (r.moving = l),
                r.updateMoving(t);
            }
          }),
          (r.updateMoving = function (e) {
            var t = a.fj(e.x, e.y);
            if (t) {
              var n = a.gj(t);
              a._i();
              var i = r.moving.event,
                o = r.moving.offset,
                s = a.cellMode
                  ? 1
                  : DayPilot.DateUtil.daysSpan(i.start(), i.end()) + 1;
              s < 1 && (s = 1), a.Xi(t.x, t.y, n, s, o, i);
            }
          }),
          (r.startRange = function (e) {
            var t = a.fj(e.x, e.y);
            if (t) {
              a._i();
              var n = {};
              (n.start = {}),
                (n.start.x = t.x),
                (n.start.y = t.y),
                (n.x = t.x),
                (n.y = t.y),
                (n.width = 1),
                (r.range = n),
                r.updateRange(e);
            }
          }),
          (r.updateRange = function (e) {
            var t = a.fj(e.x, e.y);
            if (t) {
              a._i();
              var n = r.range.start,
                i = 7 * n.y + n.x,
                o = 7 * t.y + t.x,
                s = Math.abs(o - i) + 1;
              s < 1 && (s = 1);
              var l = i < o ? n : t;
              (r.range.width = s),
                (r.range.from = { x: l.x, y: l.y }),
                a.Xi(l.x, l.y, 0, s, 0, null);
            }
          }),
          (this.isWeekend = function (e) {
            return 0 === e.dayOfWeek() || 6 === e.dayOfWeek();
          }),
          (this.hj = function () {
            var e = this.startDate.lastDayOfMonth();
            if (this.showWeekend) return e;
            for (; this.isWeekend(e); ) e = e.addDays(-1);
            return e;
          }),
          (this.Oi = function () {
            if (
              ("string" == typeof this.startDate &&
                (this.startDate = new DayPilot.Date(this.startDate)),
              "Month" === this.viewType
                ? (this.startDate = this.startDate.firstDayOfMonth())
                : (this.startDate = this.startDate.getDatePart()),
              (this.firstDate = this.startDate.firstDayOfWeek(s.weekStarts())),
              !this.showWeekend)
            ) {
              for (
                var e = this.startDate.addMonths(-1).getMonth(),
                  t = new DayPilot.Date(this.firstDate).addDays(6);
                this.isWeekend(t);

              )
                t = t.addDays(-1);
              t.getMonth() === e &&
                (this.firstDate = this.firstDate.addDays(7));
            }
            var n;
            this.startDate;
            if ("Month" === this.viewType) {
              var i = this.hj(),
                r = DayPilot.DateUtil.daysDiff(this.firstDate, i) + 1;
              n = Math.ceil(r / 7);
            } else n = this.weeks;
            (this.days = 7 * n), (this.rows = []);
            for (var o = 0; o < n; o++) {
              var l = {};
              (l.start = this.firstDate.addDays(7 * o)),
                (l.end = l.start.addDays(this.Ui())),
                (l.events = []),
                (l.lines = []),
                (l.index = o),
                (l.minHeight = this.cellHeight),
                (l.calendar = this),
                (l.belongsHere = function (e, t) {
                  return (
                    (t.getTime() === e.getTime() &&
                      e.getTime() === this.start.getTime()) ||
                    !(
                      t.getTime() <= this.start.getTime() ||
                      e.getTime() >= this.end.getTime()
                    )
                  );
                }),
                (l.getPartStart = function (e) {
                  return DayPilot.DateUtil.max(this.start, e.start());
                }),
                (l.getPartEnd = function (e) {
                  return DayPilot.DateUtil.min(this.end, e.rawend());
                }),
                (l.getStartColumn = function (e) {
                  var t = this.getPartStart(e);
                  return DayPilot.DateUtil.daysDiff(this.start, t);
                }),
                (l.getWidth = function (e) {
                  return (
                    DayPilot.DateUtil.daysSpan(
                      this.getPartStart(e),
                      this.getPartEnd(e)
                    ) + 1
                  );
                }),
                (l.putIntoLine = function (e, t, n, i) {
                  for (var a = this, r = 0; r < this.lines.length; r++) {
                    var o = this.lines[r];
                    if (o.isFree(t, n)) return o.addEvent(e, t, n, i, r), r;
                  }
                  var o = [];
                  return (
                    (o.isFree = function (e, t) {
                      for (var n = !0, i = 0; i < this.length; i++) {
                        var a = this[i];
                        e + t - 1 < a.part.colStart ||
                          e > a.part.colStart + a.part.colWidth - 1 ||
                          (n = !1);
                      }
                      return n;
                    }),
                    (o.addEvent = function (e, t, n, i, r) {
                      (e.part.colStart = t),
                        (e.part.colWidth = n),
                        (e.part.row = i),
                        (e.part.line = r),
                        (e.part.startsHere =
                          a.start.getTime() <= e.start().getTime()),
                        (e.part.endsHere =
                          a.end.getTime() >= e.end().getTime()),
                        this.push(e);
                    }),
                    o.addEvent(e, t, n, i, this.lines.length),
                    this.lines.push(o),
                    this.lines.length - 1
                  );
                }),
                (l.getStart = function () {
                  for (
                    var e = 0, t = 0;
                    t < a.rows.length && t < this.index;
                    t++
                  )
                    e += a.rows[t].getHeight();
                }),
                (l.getHeight = function () {
                  var e = "number" == typeof a.maxEvents ? a.maxEvents : 1e3,
                    t = Math.min(e, this.lines.length);
                  return Math.max(
                    t * s.lineHeight() +
                      a.cellHeaderHeight +
                      a.cellMarginBottom,
                    this.calendar.cellHeight
                  );
                }),
                this.rows.push(l);
            }
            this.ij = this.firstDate.addDays(7 * n);
          }),
          (this.Yg = function () {
            switch (this.heightSpec) {
              case "Auto":
                for (var e = s.headerHeight(), t = 0; t < this.rows.length; t++)
                  e += this.rows[t].getHeight();
                return e;
              case "Fixed":
                return this.height;
            }
          }),
          (this.Xg = function (e, t) {
            return 7 * t.y + t.x - (7 * e.y + e.x) + 1;
          }),
          (this.Og = {}),
          (this.Og.scope = null),
          (this.Og.notify = function () {
            a.Og.scope && a.Og.scope["$apply"]();
          }),
          (this.debug = new DayPilot.Debug(this)),
          (this.Se = function () {
            var e = this.nav.top;
            (this.nav.top.dp = this),
              e.setAttribute("unselectable", "on"),
              (e.style.MozUserSelect = "none"),
              (e.style.KhtmlUserSelect = "none"),
              (e.style.WebkitUserSelect = "none"),
              (e.style.WebkitTapHighlightColor = "rgba(0,0,0,0)"),
              (e.style.WebkitTouchCallout = "none"),
              (e.style.position = "relative"),
              this.width && (e.style.width = this.width),
              (e.onselectstart = function (e) {
                return !1;
              }),
              (e.className = this.ca("_main")),
              this.hideUntilInit && (e.style.visibility = "hidden"),
              this.visible || (e.style.display = "none"),
              (e.onmousemove = this.Ye),
              DayPilot.reNonPassive(e, "touchstart", r.onMainTouchStart),
              DayPilot.reNonPassive(e, "touchmove", r.onMainTouchMove),
              DayPilot.rePassive(e, "touchend", r.onMainTouchEnd),
              (this.Ni = document.createElement("div")),
              (this.Ni.style.display = "none"),
              this.nav.top.appendChild(this.Ni);
            var t = document.createElement("div");
            (t.style.position = "relative"),
              (t.style.height = s.headerHeight() + "px"),
              (t.oncontextmenu = function () {
                return !1;
              }),
              this.nav.top.appendChild(t),
              (this.nav.header = t);
            var n = document.createElement("div");
            n.style.zoom = "1";
            var i = document.createElement("div");
            (i.style.position = "relative"),
              (i.ondblclick = a.jj),
              n.appendChild(i),
              (this.nav.loading = document.createElement("div")),
              (this.nav.loading.style.position = "absolute"),
              (this.nav.loading.style.top = "0px"),
              (this.nav.loading.style.left = "5px"),
              (this.nav.loading.className = a.ca("_loading")),
              (this.nav.loading.innerHTML = a.Ka(
                this.loadingLabelText,
                this.loadingLabelHtml
              )),
              (this.nav.loading.style.display = "none"),
              this.nav.top.appendChild(n),
              this.nav.top.appendChild(this.nav.loading),
              (this.nav.scrollable = n),
              (this.nav.events = i);
          }),
          (this.Ye = function (e) {
            (e.insideMainD = !0),
              window.event &&
                window.event.srcElement &&
                (window.event.srcElement.inside = !0),
              (a.coords = DayPilot.mo3(a.nav.events, e));
            var n = a.coords;
            if (n) {
              var i = a.fj(n.x, n.y);
              if (i) {
                if (t.resizingEvent) {
                  a._i();
                  var r,
                    o,
                    s = t.resizingEvent;
                  s.start;
                  if ("w-resize" === s.direction) {
                    o = i;
                    var l = s.event.rawend();
                    l.getDatePart().getTime() === l.getTime() &&
                      (l = l.addDays(-1));
                    var d = a.kj(l);
                    r = a.Xg(i, d);
                  } else (o = a.kj(s.event.start())), (r = a.Xg(o, i));
                  r < 1 && (r = 1), a.Xi(o.x, o.y, 0, r);
                } else if (t.movingEvent) {
                  if (
                    n.x === t.movingEvent.coords.x &&
                    n.y === t.movingEvent.coords.y
                  )
                    return;
                  var c = a.gj(i);
                  a._i();
                  var u = t.movingEvent.event,
                    h = t.movingEvent.offset,
                    r = a.cellMode
                      ? 1
                      : DayPilot.DateUtil.daysSpan(u.start(), u.rawend()) + 1;
                  r < 1 && (r = 1), a.Xi(i.x, i.y, c, r, h, u);
                } else if (t.timeRangeSelecting) {
                  (t.cancelCellClick = !0), a._i();
                  var o = t.timeRangeSelecting,
                    f = 7 * o.y + o.x,
                    v = 7 * i.y + i.x,
                    r = Math.abs(v - f) + 1;
                  r < 1 && (r = 1);
                  var p = f < v ? o : i;
                  (t.timeRangeSelecting.from = { x: p.x, y: p.y }),
                    (t.timeRangeSelecting.width = r),
                    (t.timeRangeSelecting.moved = !0),
                    a.Xi(p.x, p.y, 0, r, 0, null);
                }
                if (t.drag) {
                  if (
                    (t.gShadow && document.body.removeChild(t.gShadow),
                    (t.gShadow = null),
                    !t.movingEvent)
                  ) {
                    var m = DayPilot.Date.today(),
                      e = {
                        id: t.drag.id,
                        start: m,
                        end: m.addSeconds(t.drag.duration),
                        text: t.drag.text,
                      },
                      g = t.drag.data;
                    if (g) {
                      var y = ["duration", "element", "remove", "id", "text"];
                      for (var b in g) DayPilot.contains(y, b) || (e[b] = g[b]);
                    }
                    var u = new DayPilot.Event(e, a);
                    u.external = !0;
                    var w = (t.movingEvent = {});
                    (w.event = u),
                      (w.coords = n),
                      (w.position = 0),
                      (w.offset = 0),
                      (w.external = !0),
                      (w.removeElement = t.drag.element);
                  }
                  e.cancelBubble = !0;
                }
              }
            }
          }),
          (this.gj = function (e) {
            for (
              var t = e.relativeY,
                n = a.rows[e.y],
                i = a.cellHeaderHeight,
                r = s.lineHeight(),
                o = n.lines.length,
                l = 0;
              l < n.lines.length;
              l++
            ) {
              if (n.lines[l].isFree(e.x, 1)) {
                o = l;
                break;
              }
            }
            var d = Math.floor((t - i + r / 2) / r),
              d = Math.min(o, d),
              d = Math.max(0, d);
            return d;
          }),
          (this.message = function (e, t) {
            if (null !== e && a.va) {
              var n,
                i = {};
              "object" == typeof arguments[1]
                ? ((i = arguments[1]), (n = i.delay))
                : (n = t);
              var r = "";
              (r = i.rawHtml ? e : DayPilot.Util.escapeHtml(e)),
                (n = n || this.messageHideAfter || 2e3);
              var o,
                l = s.headerHeight();
              if (this.nav.message) o = a.nav.message;
              else {
                (o = document.createElement("div")),
                  o.setAttribute("unselectable", "on"),
                  (o.style.position = "absolute"),
                  (o.style.right = "0px"),
                  (o.style.left = "0px"),
                  (o.style.top = l + "px"),
                  (o.style.display = "none"),
                  (o.onmousemove = function () {
                    o.messageTimeout &&
                      !o.status &&
                      clearTimeout(o.messageTimeout);
                  }),
                  (o.onmouseout = function () {
                    "none" !== a.nav.message.style.display &&
                      (o.messageTimeout = setTimeout(a.Wb, 500));
                  });
                var d = document.createElement("div");
                d.setAttribute("unselectable", "on"),
                  (d.onclick = function () {
                    a.nav.message.style.display = "none";
                  }),
                  (d.className = this.ca("_message")),
                  o.appendChild(d);
                var c = document.createElement("div");
                c.setAttribute("unselectable", "on"),
                  (c.style.position = "absolute"),
                  (c.className = this.ca("_message_close")),
                  (c.onclick = function () {
                    a.nav.message.style.display = "none";
                  }),
                  o.appendChild(c),
                  this.nav.top.appendChild(o),
                  (this.nav.message = o);
              }
              var u = function () {
                if (a.nav.message) {
                  var e = a.nav.message.firstChild;
                  (e.className = a.ca("_message")),
                    i.cssClass && DayPilot.Util.addClass(e, i.cssClass),
                    (e.innerHTML = r);
                  var t = function () {
                    o.messageTimeout = setTimeout(a.Wb, n);
                  };
                  DayPilot.fade(a.nav.message, 0.2, t);
                }
              };
              clearTimeout(o.messageTimeout),
                "none" !== this.nav.message.style.display
                  ? DayPilot.fade(a.nav.message, -0.2, u)
                  : u();
            }
          }),
          (this.message.show = function (e) {
            a.message(e);
          }),
          (this.message.hide = function () {
            a.Wb();
          }),
          (this.Wb = function () {
            var e = function () {
              a.nav.message.style.display = "none";
            };
            DayPilot.fade(a.nav.message, -0.2, e);
          }),
          (this.cb = function (e) {
            "Parent100Pct" === a.heightSpec && a.Bb();
          }),
          (this.Bb = function () {
            var e = this.nav.scrollable;
            if (
              ("Parent100Pct" === this.heightSpec || "Fixed" === this.heightSpec
                ? ((e.style.top = this.headerHeight + "px"),
                  (e.style.bottom = "0px"),
                  (e.style.left = "0px"),
                  (e.style.right = "0px"),
                  (e.style.overflow = "auto"),
                  (e.style.position = "absolute"))
                : (e.style.position = "relative"),
              "Parent100Pct" === this.heightSpec)
            ) {
              this.nav.top.style.height = "100%";
              this.nav.top.clientHeight;
            } else this.nav.top.style.height = this.Yg() + "px";
            for (var t = 0; t < this.cells.length; t++)
              for (var n = 0; n < this.cells[t].length; n++)
                (this.cells[t][n].style.top = this.Yi(n) + "px"),
                  (this.cells[t][n].style.height =
                    this.rows[n].getHeight() + "px");
            this.lj();
          }),
          (this.fj = function (e, t) {
            e = Math.max(0, e);
            for (
              var n = Math.floor(this.nav.top.clientWidth / this.Ui()),
                i = Math.min(Math.floor(e / n), this.Ui() - 1),
                a = null,
                r = 0,
                o = 0,
                s = 0,
                l = 0;
              l < this.rows.length;
              l++
            ) {
              if (((o += this.rows[l].getHeight()), t < o)) {
                (r = t - s), (a = l);
                break;
              }
              s = o;
            }
            null === a && (a = this.rows.length - 1);
            var d = {};
            return (d.x = i), (d.y = a), (d.relativeY = r), d;
          }),
          (this.kj = function (e) {
            for (
              var t = DayPilot.DateUtil.daysDiff(this.firstDate, e),
                n = { x: 0, y: 0 };
              t >= 7;

            )
              n.y++, (t -= 7);
            return (n.x = t), n;
          }),
          (this.lj = function () {
            var e = DayPilot.sw(this.nav.scrollable);
            this.nav.header.style.marginRight = e + "px";
          });
        var o = null;
        (this.Qi = function () {
          var e = this.nav.header,
            t = this.nav.events,
            n = a.Ui();
          this.cells = [];
          for (var i = 0; i < n; i++) {
            var r = i === n - 1;
            this.cells[i] = [];
            var l = this.headerProperties ? this.headerProperties[i] : null,
              d = i + s.weekStarts();
            if ((d > 6 && (d -= 7), !l)) {
              var l = {};
              l.html = s.locale().dayNames[d];
            }
            if ("function" == typeof a.onBeforeHeaderRender) {
              var c = {};
              (c.header = {}), (c.header.dayOfWeek = d);
              var u = ["html", "backColor", "cssClass"];
              DayPilot.Util.copyProps(l, c.header, u),
                a.onBeforeHeaderRender(c),
                DayPilot.Util.copyProps(c.header, l, u);
            }
            var h = document.createElement("div");
            h.setAttribute("unselectable", "on"),
              (h.style.position = "absolute"),
              (h.style.left = this.$i() * i + "%"),
              r ? (h.style.right = "0px") : (h.style.width = this.$i() + "%"),
              (h.style.top = "0px"),
              (h.style.height = s.headerHeight() + "px"),
              (function (e) {
                h.onclick = function () {
                  a.dc(e);
                };
              })(d);
            var f = document.createElement("div");
            f.setAttribute("unselectable", "on"),
              (f.className = this.ca("_header_inner")),
              (f.innerHTML = l.html),
              h.appendChild(f),
              (h.className = this.ca("_header")),
              l &&
                (l.cssClass && DayPilot.Util.addClass(h, l.cssClass),
                l.backColor && (f.style.background = l.backColor)),
              e.appendChild(h);
            for (var v = 0; v < this.rows.length; v++) this.Me(i, v, t);
          }
          if (
            !DayPilot.contains(this.nav.top.childNodes, o) &&
            DayPilot.Util.isNullOrUndefined(undefined)
          ) {
            var p = document.createElement("div");
            (p.style.position = "absolute"),
              (p.style.padding = "2px"),
              (p.style.top = "0px"),
              (p.style.left = "0px"),
              (p.style.backgroundColor = "#FF6600"),
              (p.style.color = "white"),
              (p.innerHTML = "\u0044\u0045" + "\u004D\u004F"),
              (o = p),
              this.nav.top.appendChild(p);
          }
        }),
          (this.Pi = function () {
            for (var e = 0; e < this.cells.length; e++)
              for (var t = 0; t < this.cells[e].length; t++)
                (this.cells[e][t].onclick = null),
                  (function () {
                    var n = a.cells[e][t],
                      i = n.domArgs;
                    if (
                      ((n.domArgs = null),
                      i &&
                        "function" == typeof a.onBeforeCellDomRemove &&
                        a.onBeforeCellDomRemove(i),
                      i &&
                        "function" == typeof a.onBeforeCellDomAdd &&
                        a.Y.reactDOM)
                    ) {
                      var r = i && i.Be;
                      if (r) {
                        if (DayPilot.Util.isReactComponent(i.element)) {
                          if (!a.Y.reactDOM)
                            throw new DayPilot.Exception(
                              "Can't reach ReactDOM"
                            );
                          a.Y.ja(r);
                        }
                      }
                    }
                  })();
            (this.nav.header.innerHTML = ""), (this.nav.events.innerHTML = "");
          }),
          (this.Me = function (t, n, i) {
            var r = this.rows[n],
              o = this.firstDate.addDays(7 * n + t),
              l = this.cellProperties
                ? this.cellProperties[n * this.Ui() + t]
                : null,
              d = a.Ui(),
              c = t === d - 1,
              u = null;
            if (l) u = l["headerHtml"];
            else {
              var h = o.getDay();
              u =
                1 === h
                  ? s.locale().monthNames[o.getMonth()] + " " + h
                  : h + "";
            }
            if (!l) {
              var l = {};
              (l.business = !a.isWeekend(o)),
                (l.headerHtml = u),
                (l.disabled = !1),
                (l.backColor = null),
                (l.backImage = null),
                (l.backRepeat = null),
                (l.areas = null),
                (l.headerBackColor = null),
                (l.cssClass = null),
                (l.html = null);
            }
            if ("function" == typeof a.onBeforeCellRender) {
              var f = {};
              (f.cell = {}),
                (f.cell.start = o),
                (f.cell.end = f.cell.start.addDays(1)),
                (f.cell.properties = l),
                (f.cell.events = function () {
                  return a.events.forRange(f.cell.start, f.cell.end);
                }),
                a.onBeforeCellRender(f),
                DayPilot.Util.copyProps(f.cell, l, [
                  "areas",
                  "backColor",
                  "backImage",
                  "backRepeat",
                  "business",
                  "disabled",
                  "headerHtml",
                  "headerBackColor",
                  "cssClass",
                  "html",
                ]);
            }
            var v = this.$i() * t,
              p = this.$i(),
              m = document.createElement("div");
            m.setAttribute("unselectable", "on"),
              (m.style.position = "absolute"),
              (m.style.cursor = "default"),
              (m.style.left = v + "%"),
              c ? (m.style.right = "0px") : (m.style.width = p + "%"),
              (m.style.top = this.Yi(n) + "px"),
              (m.style.height = r.getHeight() + "px"),
              (m.d = o),
              (m.x = t),
              (m.y = n),
              (m.props = l);
            var g = this.startDate.addMonths(-1).getMonth(),
              y = this.startDate.addMonths(1).getMonth(),
              b = this.startDate.getMonth(),
              w = document.createElement("div");
            w.setAttribute("unselectable", "on"),
              m.appendChild(w),
              (w.className = this.ca("_cell_inner")),
              (w.className = this.ca("_cell_inner")),
              o.getMonth() === b
                ? (m.className = this.ca("_cell"))
                : o.getMonth() === g
                ? (m.className = this.ca("_cell") + " " + this.ca("_previous"))
                : o.getMonth() === y
                ? (m.className = this.ca("_cell") + " " + this.ca("_next"))
                : e(),
              l &&
                (l["cssClass"] && DayPilot.Util.addClass(m, l.cssClass),
                l["business"] &&
                  DayPilot.Util.addClass(m, this.ca("_cell_business")),
                l["backColor"] && (w.style.backgroundColor = l["backColor"]),
                l["backImage"] &&
                  (w.style.backgroundImage = "url('" + l["backImage"] + "')"),
                l["backRepeat"] &&
                  (w.style.backgroundRepeat = l["backRepeat"])),
              (m.onmousedown = this.Ic),
              (m.onmousemove = this.Xc),
              (m.onmouseout = this.Wc),
              (m.oncontextmenu = this.mj),
              (m.onclick = this.nj),
              (m.ondblclick = this.jj);
            var x = document.createElement("div");
            if (
              (x.setAttribute("unselectable", "on"),
              (x.style.height = this.cellHeaderHeight + "px"),
              l &&
                l["headerBackColor"] &&
                (x.style.background = l["headerBackColor"]),
              (x.className = this.ca("_cell_header")),
              (x.innerHTML = l.headerHtml),
              (x.onclick = function (e) {
                if ("Enabled" === a.cellHeaderClickHandling) {
                  e.stopPropagation();
                  var t = {};
                  (t.control = a),
                    (t.start = o),
                    (t.end = o.addDays(1)),
                    (t.preventDefault = function () {
                      this.preventDefault.value = !0;
                    }),
                    ("function" == typeof a.onCellHeaderClick &&
                      (a.onCellHeaderClick(t), t.preventDefault.value)) ||
                      ("function" == typeof a.onCellHeaderClicked &&
                        a.onCellHeaderClicked(t));
                }
              }),
              w.appendChild(x),
              l && l["html"])
            ) {
              var k = document.createElement("div");
              k.setAttribute("unselectable", "on"),
                (k.style.height = r.getHeight() - this.cellHeaderHeight + "px"),
                (k.style.overflow = "hidden"),
                (k.innerHTML = l["html"]),
                w.appendChild(k);
            }
            if (this.cellMode) {
              var C = document.createElement("div");
              C.setAttribute("unselectable", "on"),
                (C.style.height =
                  this.cellHeight - this.cellHeaderHeight + "px"),
                (C.style.overflow = "auto"),
                (C.style.position = "relative");
              var D = document.createElement("div");
              D.setAttribute("unselectable", "on"),
                (D.style.paddingTop = "1px"),
                (D.style.paddingBottom = "1px"),
                C.appendChild(D),
                w.appendChild(C),
                (m.body = D),
                (m.scrolling = C);
            }
            if (m.props)
              for (var S = m.props.areas || [], _ = 0; _ < S.length; _++) {
                var E = S[_];
                if (DayPilot.Areas.isVisible(E)) {
                  var T = DayPilot.Areas.createArea(m, m.props, E);
                  m.appendChild(T);
                }
              }
            !(function () {
              if (
                "function" == typeof a.onBeforeCellDomAdd ||
                "function" == typeof a.onBeforeCellDomRemove
              ) {
                var e = {};
                if (
                  ((e.control = a),
                  (e.cell = {}),
                  (e.cell.start = o),
                  (e.cell.end = e.cell.start.addDays(1)),
                  (e.cell.events = function () {
                    return a.events.forRange(e.cell.start, e.cell.end);
                  }),
                  (e.element = null),
                  (m.domArgs = e),
                  "function" == typeof a.onBeforeCellDomAdd &&
                    a.onBeforeCellDomAdd(e),
                  e.element && ((target = w), target))
                ) {
                  e.Be = target;
                  if (DayPilot.Util.isReactComponent(e.element)) {
                    if (!a.Y.reactDOM)
                      throw new DayPilot.Exception("Can't reach ReactDOM");
                    a.Y.X(e.element, target);
                  } else target.appendChild(e.element);
                }
              }
            })(),
              (this.cells[t][n] = m),
              i.appendChild(m),
              "function" == typeof a.onAfterCellRender &&
                ((f.cell.div = m),
                (f.cell.divHeader = x),
                a.onAfterCellRender(f));
          }),
          (this.Xc = function () {
            var e = this;
            e.props && DayPilot.Areas.showAreas(e, e.props);
          }),
          (this.Wc = function (e) {
            var t = this;
            t.props && DayPilot.Areas.hideAreas(t, e);
          }),
          (this.mj = function () {
            var e = this.d;
            return (
              (function (e) {
                var t = new DayPilot.Date(e),
                  n = t.addDays(1),
                  i = new DayPilot.Selection(t, n, null, a);
                a.contextMenuSelection && a.contextMenuSelection.show(i);
              })(e),
              !1
            );
          }),
          (this.jj = function () {
            var e = a.coords,
              t = a.fj(e.x, e.y),
              n = a.aj(t.x, t.y);
            if (a.timeouts) {
              for (var i in a.timeouts) window.clearTimeout(a.timeouts[i]);
              a.timeouts = null;
            }
            if ("Disabled" !== a.timeRangeDoubleClickHandling) {
              var r = new DayPilot.Date(n),
                o = r.addDays(1);
              a.Bc(r, o);
            }
          }),
          (this.nj = function () {
            if (!t.cancelCellClick) {
              var e = this.d;
              if (!this.props.disabled) {
                var n = function (e) {
                  var t = new DayPilot.Date(e),
                    n = t.addDays(1);
                  a.Ac(t, n);
                };
                if (
                  "Disabled" !== a.timeRangeSelectedHandling &&
                  "Disabled" === a.timeRangeDoubleClickHandling
                )
                  return void n(e);
                a.timeouts || (a.timeouts = []);
                var i = function (e) {
                  return function () {
                    n(e);
                  };
                };
                a.timeouts.push(window.setTimeout(i(e), a.doubleClickTimeout));
              }
            }
          }),
          (this.Ic = function (e) {
            var n = this,
              i = n.x,
              r = n.y;
            if (((t.cancelCellClick = !1), n.scrolling)) {
              var o = DayPilot.mo3(n.scrolling, e),
                s = DayPilot.sw(n.scrolling),
                l = n.scrolling.offsetWidth;
              if (o.x > l - s) return;
            }
            "Disabled" !== a.timeRangeSelectedHandling &&
              (a._i(),
              (t.timeRangeSelecting = {
                root: a,
                x: i,
                y: r,
                from: { x: i, y: r },
                width: 1,
              })),
              a.Xi(i, r, 0, 1);
          }),
          (this.Ui = function () {
            return this.showWeekend ? 7 : 5;
          }),
          (this.$i = function () {
            return this.showWeekend ? 14.285 : 20;
          }),
          (this.Yi = function (e) {
            for (var t = 0, n = 0; n < e; n++) t += this.rows[n].getHeight();
            return t;
          }),
          (this.clearSelection = function () {
            this._i();
          }),
          (this.Na = function (e, t, n) {
            var i = {};
            (i.action = e),
              (i.parameters = n),
              (i.data = t),
              (i.header = this.Oa());
            var r = "JSON" + JSON.stringify(i);
            __doPostBack(a.uniqueID, r);
          }),
          (this.Pa = function (e, t, n, i) {
            if (!this.ia())
              return void a.debug.message(
                "Callback invoked without the server-side backend specified. Callback canceled.",
                "warning"
              );
            "undefined" == typeof i && (i = "CallBack"), a.Qa();
            var r = {};
            (r.action = e),
              (r.type = i),
              (r.parameters = t),
              (r.data = n),
              (r.header = this.Oa());
            var o = "JSON" + JSON.stringify(r);
            this.backendUrl
              ? DayPilot.request(this.backendUrl, this.Ra, o, this.Sa)
              : "function" == typeof WebForm_DoCallback &&
                WebForm_DoCallback(
                  this.uniqueID,
                  o,
                  this.Ta,
                  null,
                  this.callbackError,
                  !0
                );
          }),
          (this.ia = function () {
            return (
              ("javasc" !== a.xa && a.xa.indexOf("DCODE") === -1) || a.devsb
            );
          }),
          (this.Ua = function () {
            return !("function" != typeof WebForm_DoCallback || !this.uniqueID);
          }),
          (this.Sa = function (e) {
            if ("function" == typeof a.onAjaxError) {
              var t = {};
              (t.request = e), a.onAjaxError(t);
            } else "function" == typeof a.ajaxError && a.ajaxError(e);
          }),
          (this.Ra = function (e) {
            a.Ta(e.responseText);
          }),
          (this.Oa = function () {
            var e = {};
            return (
              (e.v = this.v),
              (e.control = "dpm"),
              (e.id = this.id),
              (e.visibleStart = new DayPilot.Date(this.firstDate)),
              (e.visibleEnd = e.visibleStart.addDays(this.days)),
              (e.clientState = this.clientState),
              (e.cssClassPrefix = a.cssClassPrefix),
              (e.startDate = a.startDate),
              (e.showWeekend = this.showWeekend),
              (e.locale = this.locale),
              (e.timeFormat = this.timeFormat),
              (e.weekStarts = this.weekStarts),
              (e.viewType = this.viewType),
              (e.weeks = this.weeks),
              (e.selected = a.multiselect.events()),
              (e.hashes = a.hashes),
              e
            );
          }),
          (this.visibleStart = function () {
            return new DayPilot.Date(this.firstDate);
          }),
          (this.visibleEnd = function () {
            return a.visibleStart().addDays(a.days);
          }),
          (this.ic = function (e, t, n, i) {
            if ("PostBack" === e) a.postBack2(t, n, i);
            else if ("CallBack" === e) a.Pa(t, n, i, "CallBack");
            else if ("Immediate" === e) a.Pa(t, n, i, "Notify");
            else if ("Queue" === e)
              a.queue.add(new DayPilot.Action(this, t, n, i));
            else {
              if ("Notify" !== e) throw "Invalid event invocation type";
              "Notify" === s.notifyType()
                ? a.Pa(t, n, i, "Notify")
                : a.queue.add(new DayPilot.Action(a, t, n, i));
            }
          }),
          (this.wc = function (e, t) {
            var n = a.xc(t),
              i = {};
            (i.args = e), (i.guid = n), a.Pa("Bubble", i);
          }),
          (this.xc = function (e) {
            var t = DayPilot.guid();
            return (
              this.bubbles || (this.bubbles = []), (this.bubbles[t] = e), t
            );
          }),
          (this.eventClickPostBack = function (e, t) {
            this.Na("EventClick", t, e);
          }),
          (this.eventClickCallBack = function (e, t) {
            this.Pa("EventClick", e, t);
          }),
          (this.Xb = function (e, n) {
            (t.movingEvent = null), (t.resizingEvent = null);
            var n = n || window.event;
            n.ctrlKey, n.metaKey;
            if (
              ((n.cancelBubble = !0),
              n.stopPropagation && n.stopPropagation(),
              "undefined" != typeof DayPilot.Bubble &&
                DayPilot.Bubble.hideActive(),
              "Disabled" === a.eventDoubleClickHandling)
            )
              return void a.Yb(e, n);
            if (a.timeouts) {
              for (var i in a.timeouts) window.clearTimeout(a.timeouts[i]);
              a.timeouts = [];
            } else a.timeouts = [];
            var r = function (e, t) {
              return function () {
                a.Yb(e, t);
              };
            };
            a.timeouts.push(window.setTimeout(r(e, n), a.doubleClickTimeout));
          }),
          (this.Yb = function (e, t) {
            var n = e.event;
            if (n.client.clickEnabled()) {
              var i = t.ctrlKey,
                r = t.metaKey;
              if (a.Kb()) {
                var o = {};
                if (
                  ((o.e = n),
                  (o.control = a),
                  (o.div = e),
                  (o.originalEvent = t),
                  (o.meta = t.metaKey),
                  (o.ctrl = t.ctrlKey),
                  (o.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  "function" == typeof a.onEventClick &&
                    (a.onEventClick(o), o.preventDefault.value))
                )
                  return;
                switch (a.eventClickHandling) {
                  case "PostBack":
                    a.eventClickPostBack(n);
                    break;
                  case "CallBack":
                    a.eventClickCallBack(n);
                    break;
                  case "Select":
                    a.$b(e, n, i, r);
                    break;
                  case "ContextMenu":
                    var s = n.client.contextMenu();
                    s ? s.show(n) : a.contextMenu && a.contextMenu.show(n);
                    break;
                  case "Bubble":
                    a.bubble && a.bubble.showEvent(n);
                }
                "function" == typeof a.onEventClicked && a.onEventClicked(o);
              } else
                switch (a.eventClickHandling) {
                  case "PostBack":
                    a.eventClickPostBack(n);
                    break;
                  case "CallBack":
                    a.eventClickCallBack(n);
                    break;
                  case "JavaScript":
                    a.onEventClick(n);
                    break;
                  case "Select":
                    a.$b(e, n, i, r);
                    break;
                  case "ContextMenu":
                    var s = n.client.contextMenu();
                    s ? s.show(n) : a.contextMenu && a.contextMenu.show(n);
                    break;
                  case "Bubble":
                    a.bubble && a.bubble.showEvent(n);
                }
            }
          }),
          (this.hc = function (e) {
            if (a.Kb()) {
              var t = {};
              if (
                ((t.e = e),
                (t.control = a),
                (t.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof a.onEventDelete &&
                  (a.onEventDelete(t), t.preventDefault.value))
              )
                return;
              switch (a.eventDeleteHandling) {
                case "PostBack":
                  a.eventDeletePostBack(e);
                  break;
                case "CallBack":
                  a.eventDeleteCallBack(e);
                  break;
                case "Update":
                  a.events.remove(e);
              }
              "function" == typeof a.onEventDeleted && a.onEventDeleted(t);
            } else
              switch (a.eventDeleteHandling) {
                case "PostBack":
                  a.eventDeletePostBack(e);
                  break;
                case "CallBack":
                  a.eventDeleteCallBack(e);
                  break;
                case "JavaScript":
                  a.onEventDelete(e);
              }
          }),
          (this.eventDeletePostBack = function (e, t) {
            this.Na("EventDelete", e, t);
          }),
          (this.eventDeleteCallBack = function (e, t) {
            this.Pa("EventDelete", e, t);
          }),
          (this.eventDoubleClickPostBack = function (e, t) {
            this.Na("EventDoubleClick", t, e);
          }),
          (this.eventDoubleClickCallBack = function (e, t) {
            this.Pa("EventDoubleClick", e, t);
          }),
          (this._b = function (e, t) {
            if (
              ("undefined" != typeof DayPilot.Bubble &&
                DayPilot.Bubble.hideActive(),
              a.timeouts)
            ) {
              for (var n in a.timeouts) window.clearTimeout(a.timeouts[n]);
              a.timeouts = null;
            }
            var t = t || window.event,
              i = e.event;
            if (i.client.doubleClickEnabled())
              if (a.Kb()) {
                var r = {};
                if (
                  ((r.e = i),
                  (r.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  "function" == typeof a.onEventDoubleClick &&
                    (a.onEventDoubleClick(r), r.preventDefault.value))
                )
                  return;
                switch (a.eventDoubleClickHandling) {
                  case "PostBack":
                    a.eventDoubleClickPostBack(i);
                    break;
                  case "CallBack":
                    a.eventDoubleClickCallBack(i);
                    break;
                  case "Select":
                    a.$b(e, i, t.ctrlKey, t.metaKey);
                    break;
                  case "Bubble":
                    a.bubble && a.bubble.showEvent(i);
                }
                "function" == typeof a.onEventDoubleClicked &&
                  a.onEventDoubleClicked(r);
              } else
                switch (a.eventDoubleClickHandling) {
                  case "PostBack":
                    a.eventDoubleClickPostBack(i);
                    break;
                  case "CallBack":
                    a.eventDoubleClickCallBack(i);
                    break;
                  case "JavaScript":
                    a.onEventDoubleClick(i);
                    break;
                  case "Select":
                    a.$b(e, i, t.ctrlKey, t.metaKey);
                    break;
                  case "Bubble":
                    a.bubble && a.bubble.showEvent(i);
                }
          }),
          (this.$b = function (e, t, n, i) {
            a.Dc(e, t, n, i);
          }),
          (this.eventSelectPostBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.change = t), this.Na("EventSelect", n, i);
          }),
          (this.eventSelectCallBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.change = t), this.Pa("EventSelect", i, n);
          }),
          (this.Dc = function (e, t, n, i) {
            var r = a.multiselect,
              o = r.isSelected(t);
            if (n || i || !o || 1 !== r.list.length)
              if (a.Kb()) {
                r.previous = r.events();
                var s = {};
                if (
                  ((s.e = t),
                  (s.selected = r.isSelected(t)),
                  (s.ctrl = n),
                  (s.meta = i),
                  (s.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  "function" == typeof a.onEventSelect &&
                    (a.onEventSelect(s), s.preventDefault.value))
                )
                  return;
                switch (a.eventSelectHandling) {
                  case "PostBack":
                    a.eventSelectPostBack(t, l);
                    break;
                  case "CallBack":
                    "undefined" != typeof WebForm_InitCallback &&
                      ((window.Fc = ""),
                      (window.Gc = []),
                      WebForm_InitCallback()),
                      a.eventSelectCallBack(t, l);
                    break;
                  case "Update":
                    r.Hc(e, n);
                }
                "function" == typeof a.onEventSelected &&
                  ((s.change = r.isSelected(t) ? "selected" : "deselected"),
                  (s.selected = r.isSelected(t)),
                  a.onEventSelected(s));
              } else {
                (r.previous = r.events()), r.Hc(e, n);
                var l = r.isSelected(t) ? "selected" : "deselected";
                switch (a.eventSelectHandling) {
                  case "PostBack":
                    a.eventSelectPostBack(t, l);
                    break;
                  case "CallBack":
                    "undefined" != typeof WebForm_InitCallback &&
                      ((window.Fc = ""),
                      (window.Gc = []),
                      WebForm_InitCallback()),
                      a.eventSelectCallBack(t, l);
                    break;
                  case "JavaScript":
                    a.onEventSelect(t, l);
                }
              }
          }),
          (this.eventRightClickPostBack = function (e, t) {
            this.Na("EventRightClick", t, e);
          }),
          (this.eventRightClickCallBack = function (e, t) {
            this.Pa("EventRightClick", e, t);
          }),
          (this.bc = function (e) {
            if (((this.event = e), !e.client.rightClickEnabled())) return !1;
            if (a.Kb()) {
              var t = {};
              if (
                ((t.e = e),
                (t.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof a.onEventRightClick &&
                  (a.onEventRightClick(t), t.preventDefault.value))
              )
                return;
              switch (a.eventRightClickHandling) {
                case "PostBack":
                  a.eventRightClickPostBack(e);
                  break;
                case "CallBack":
                  a.eventRightClickCallBack(e);
                  break;
                case "ContextMenu":
                  var n = e.client.contextMenu();
                  n
                    ? n.show(e)
                    : a.contextMenu && a.contextMenu.show(this.event);
                  break;
                case "Bubble":
                  a.bubble && a.bubble.showEvent(e);
              }
              "function" == typeof a.onEventRightClicked &&
                a.onEventRightClicked(t);
            } else
              switch (a.eventRightClickHandling) {
                case "PostBack":
                  a.eventRightClickPostBack(e);
                  break;
                case "CallBack":
                  a.eventRightClickCallBack(e);
                  break;
                case "JavaScript":
                  a.onEventRightClick(e);
                  break;
                case "ContextMenu":
                  var n = e.client.contextMenu();
                  n
                    ? n.show(e)
                    : a.contextMenu && a.contextMenu.show(this.event);
                  break;
                case "Bubble":
                  a.bubble && a.bubble.showEvent(e);
              }
            return !1;
          }),
          (this.eventMenuClickPostBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.command = t), this.Na("EventMenuClick", n, i);
          }),
          (this.eventMenuClickCallBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.command = t), this.Pa("EventMenuClick", i, n);
          }),
          (this.yc = function (e, t, n) {
            switch (n) {
              case "PostBack":
                a.eventMenuClickPostBack(t, e);
                break;
              case "CallBack":
                a.eventMenuClickCallBack(t, e);
            }
          }),
          (this.eventMovePostBack = function (e, t, n, i, a) {
            if (!t) throw "newStart is null";
            if (!n) throw "newEnd is null";
            var r = {};
            (r.e = e),
              (r.newStart = t),
              (r.newEnd = n),
              (r.position = a),
              this.Na("EventMove", i, r);
          }),
          (this.eventMoveCallBack = function (e, t, n, i, a) {
            if (!t) throw "newStart is null";
            if (!n) throw "newEnd is null";
            var r = {};
            (r.e = e),
              (r.newStart = t),
              (r.newEnd = n),
              (r.position = a),
              this.Pa("EventMove", r, i);
          }),
          (this.sc = function (e, t, n, i, r, o, s) {
            var l = e.start().getTimePart(),
              d = e.rawend().getDatePart();
            d.getTime() !== e.rawend().getTime() && (d = d.addDays(1));
            var c = DayPilot.DateUtil.diff(e.rawend(), d),
              u = this.aj(t, n);
            u = u.addDays(-i);
            var h = DayPilot.DateUtil.daysSpan(e.start(), e.rawend()) + 1,
              f = u.addDays(h),
              v = u.addTime(l),
              p = f.addTime(c);
            if (((p = a.oj(p)), a.Kb())) {
              var m = {};
              if (
                ((m.e = e),
                (m.control = a),
                (m.newStart = v),
                (m.newEnd = p),
                (m.position = o),
                (m.ctrl = !1),
                (m.external = s),
                r && (m.ctrl = r.ctrlKey),
                (m.shift = !1),
                r && (m.shift = r.shiftKey),
                (m.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof a.onEventMove &&
                  (a.onEventMove(m), m.preventDefault.value))
              )
                return;
              switch (a.eventMoveHandling) {
                case "PostBack":
                  a.eventMovePostBack(e, v, p, null, o);
                  break;
                case "CallBack":
                  a.eventMoveCallBack(e, v, p, null, o);
                  break;
                case "Notify":
                  a.eventMoveNotify(e, v, p, null, o);
                  break;
                case "Update":
                  m.external
                    ? (e.start(v), e.end(p), e.commit(), a.events.add(e))
                    : (e.start(v), e.end(p), a.events.update(e)),
                    a.uc();
              }
              "function" == typeof a.onEventMoved && a.onEventMoved(m);
            } else
              switch (a.eventMoveHandling) {
                case "PostBack":
                  a.eventMovePostBack(e, v, p, null, o);
                  break;
                case "CallBack":
                  a.eventMoveCallBack(e, v, p, null, o);
                  break;
                case "JavaScript":
                  a.onEventMove(e, v, p, r.ctrlKey, r.shiftKey, o);
                  break;
                case "Notify":
                  a.eventMoveNotify(e, v, p, null, o);
              }
          }),
          (this.eventMoveNotify = function (e, t, n, i, r) {
            var o = new DayPilot.Event(e.copy(), this);
            e.start(t),
              e.end(n),
              e.commit(),
              a.update(),
              this.vc("Notify", o, t, n, i, r);
          }),
          (this.vc = function (e, t, n, i, a, r) {
            var o = {};
            (o.e = t),
              (o.newStart = n),
              (o.newEnd = i),
              (o.position = r),
              this.ic(e, "EventMove", o, a);
          }),
          (this.eventResizePostBack = function (e, t, n, i) {
            if (!t) throw "newStart is null";
            if (!n) throw "newEnd is null";
            var a = {};
            (a.e = e),
              (a.newStart = t),
              (a.newEnd = n),
              this.Na("EventResize", i, a);
          }),
          (this.eventResizeCallBack = function (e, t, n, i) {
            if (!t) throw "newStart is null";
            if (!n) throw "newEnd is null";
            var a = {};
            (a.e = e),
              (a.newStart = t),
              (a.newEnd = n),
              this.Pa("EventResize", a, i);
          }),
          (this.oc = function (e, t, n) {
            var i = e.start().getTimePart(),
              r = e.rawend().getDatePart();
            r != e.rawend() && (r = r.addDays(1));
            var o = DayPilot.DateUtil.diff(e.rawend(), r),
              s = this.aj(t.x, t.y),
              l = s.addDays(n),
              d = s.addTime(i),
              c = l.addTime(o);
            if (((c = a.oj(c)), a.Kb())) {
              var u = {};
              if (
                ((u.e = e),
                (u.control = a),
                (u.newStart = d),
                (u.newEnd = c),
                (u.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof a.onEventResize &&
                  (a.onEventResize(u), u.preventDefault.value))
              )
                return;
              switch (a.eventResizeHandling) {
                case "PostBack":
                  a.eventResizePostBack(e, d, c);
                  break;
                case "CallBack":
                  a.eventResizeCallBack(e, d, c);
                  break;
                case "Notify":
                  a.eventResizeNotify(e, d, c);
                  break;
                case "Update":
                  e.start(d), e.end(c), a.events.update(e);
              }
              "function" == typeof a.onEventResized && a.onEventResized(u);
            } else
              switch (a.eventResizeHandling) {
                case "PostBack":
                  a.eventResizePostBack(e, d, c);
                  break;
                case "CallBack":
                  a.eventResizeCallBack(e, d, c);
                  break;
                case "JavaScript":
                  a.onEventResize(e, d, c);
                  break;
                case "Notify":
                  a.eventResizeNotify(e, d, c);
              }
          }),
          (this.eventResizeNotify = function (e, t, n, i) {
            var r = new DayPilot.Event(e.copy(), this);
            e.start(t),
              e.end(n),
              e.commit(),
              a.update(),
              this.qc("Notify", r, t, n, i);
          }),
          (this.qc = function (e, t, n, i, a) {
            var r = {};
            (r.e = t),
              (r.newStart = n),
              (r.newEnd = i),
              this.ic(e, "EventResize", r, a);
          }),
          (this.timeRangeSelectedPostBack = function (e, t, n) {
            var i = {};
            (i.start = e), (i.end = t), this.Na("TimeRangeSelected", n, i);
          }),
          (this.timeRangeSelectedCallBack = function (e, t, n) {
            var i = {};
            (i.start = e), (i.end = t), this.Pa("TimeRangeSelected", i, n);
          }),
          (this.Ac = function (e, t) {
            if (((t = a.oj(t)), a.Kb())) {
              var n = {};
              if (
                ((n.start = e),
                (n.end = t),
                (n.control = a),
                (n.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof a.onTimeRangeSelect &&
                  (a.onTimeRangeSelect(n), n.preventDefault.value))
              )
                return;
              switch (a.timeRangeSelectedHandling) {
                case "PostBack":
                  a.timeRangeSelectedPostBack(e, t), a.clearSelection();
                  break;
                case "CallBack":
                  a.timeRangeSelectedCallBack(e, t), a.clearSelection();
              }
              "function" == typeof a.onTimeRangeSelected &&
                a.onTimeRangeSelected(n);
            } else
              switch (a.timeRangeSelectedHandling) {
                case "PostBack":
                  a.timeRangeSelectedPostBack(e, t), a.clearSelection();
                  break;
                case "CallBack":
                  a.timeRangeSelectedCallBack(e, t), a.clearSelection();
                  break;
                case "JavaScript":
                  a.onTimeRangeSelected(e, t);
              }
          }),
          (this.timeRangeMenuClickPostBack = function (e, t, n) {
            var i = {};
            (i.selection = e),
              (i.command = t),
              this.Na("TimeRangeMenuClick", n, i);
          }),
          (this.timeRangeMenuClickCallBack = function (e, t, n) {
            var i = {};
            (i.selection = e),
              (i.command = t),
              this.Pa("TimeRangeMenuClick", i, n);
          }),
          (this.zc = function (e, t, n) {
            switch (n) {
              case "PostBack":
                a.timeRangeMenuClickPostBack(t, e);
                break;
              case "CallBack":
                a.timeRangeMenuClickCallBack(t, e);
            }
          }),
          (this.headerClickPostBack = function (e, t) {
            this.Na("HeaderClick", t, e);
          }),
          (this.headerClickCallBack = function (e, t) {
            this.Pa("HeaderClick", e, t);
          }),
          (this.dc = function (e) {
            var t = (this.data, { day: e });
            if (a.Kb()) {
              var n = {};
              if (
                ((n.header = {}),
                (n.header.dayOfWeek = e),
                (n.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof a.onHeaderClick &&
                  (a.onHeaderClick(n), n.preventDefault.value))
              )
                return;
              switch (a.headerClickHandling) {
                case "PostBack":
                  a.headerClickPostBack(t);
                  break;
                case "CallBack":
                  a.headerClickCallBack(t);
              }
              "function" == typeof a.onHeaderClicked && a.onHeaderClicked(n);
            } else
              switch (a.headerClickHandling) {
                case "PostBack":
                  a.headerClickPostBack(t);
                  break;
                case "CallBack":
                  a.headerClickCallBack(t);
                  break;
                case "JavaScript":
                  a.onHeaderClick(t);
              }
          }),
          (this.timeRangeDoubleClickPostBack = function (e, t, n) {
            var i = {};
            (i.start = e), (i.end = t), this.Na("TimeRangeDoubleClick", n, i);
          }),
          (this.timeRangeDoubleClickCallBack = function (e, t, n) {
            var i = {};
            (i.start = e), (i.end = t), this.Pa("TimeRangeDoubleClick", i, n);
          }),
          (this.Bc = function (e, t) {
            if (a.Kb()) {
              var n = {};
              if (
                ((n.start = e),
                (n.end = t),
                (n.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof a.onTimeRangeDoubleClick &&
                  (a.onTimeRangeDoubleClick(n), n.preventDefault.value))
              )
                return;
              switch (a.timeRangeDoubleClickHandling) {
                case "PostBack":
                  a.timeRangeDoubleClickPostBack(e, t);
                  break;
                case "CallBack":
                  a.timeRangeDoubleClickCallBack(e, t);
              }
              "function" == typeof a.onTimeRangeDoubleClicked &&
                a.onTimeRangeDoubleClicked(n);
            } else
              switch (a.timeRangeDoubleClickHandling) {
                case "PostBack":
                  a.timeRangeDoubleClickPostBack(e, t);
                  break;
                case "CallBack":
                  a.timeRangeDoubleClickCallBack(e, t);
                  break;
                case "JavaScript":
                  a.onTimeRangeDoubleClick(e, t);
              }
          }),
          (this.commandCallBack = function (e, t) {
            this.pj();
            var n = {};
            (n.command = e), this.Pa("Command", n, t);
          }),
          (this.commandPostBack = function (e, t) {
            this.pj();
            var n = {};
            (n.command = e), this.Na("Command", n, t);
          }),
          (this.Ng = function (e) {
            for (var t = 0; t < a.elements.events.length; t++) {
              var n = a.elements.events[t];
              if (n.event === e || n.event.data === e.data) return n;
            }
            return null;
          }),
          (this.ej = function (e) {
            var t = {};
            (t.list = []),
              (t.forEach = function (e) {
                if (e)
                  for (var t = 0; t < this.list.length; t++) e(this.list[t]);
              });
            for (var n = 0; n < this.elements.events.length; n++) {
              var i = this.elements.events[n];
              i.event.data === e.data && t.list.push(i);
            }
            return t;
          }),
          (this.Tg = function (e) {
            var t = document.createElement("div");
            (t.style.position = "absolute"),
              (t.style.top = "-2000px"),
              (t.style.left = "-2000px"),
              (t.className = this.ca(e)),
              document.body.appendChild(t);
            var n = t.offsetHeight,
              i = t.offsetWidth;
            document.body.removeChild(t);
            var a = {};
            return (a.height = n), (a.width = i), a;
          }),
          (this.Ma = {});
        var s = this.Ma;
        (s.La = function () {
          return "Disabled" !== a.xssProtection;
        }),
          (s.clearCache = function () {
            delete a.ra.eventHeight, delete a.ra.headerHeight;
          }),
          (s.lineHeight = function () {
            return s.eventHeight() + a.lineSpace;
          }),
          (s.rounded = function () {
            return "Rounded" === a.eventCorners;
          }),
          (s.loadFromServer = function () {
            return !!a.backendUrl;
          }),
          (s.locale = function () {
            return DayPilot.Locale.find(a.locale);
          }),
          (s.getWeekStart = function () {
            return a.showWeekend ? a.weekStarts : 1;
          }),
          (s.weekStarts = function () {
            if (!a.showWeekend) return 1;
            if ("Auto" === a.weekStarts) {
              var e = s.locale();
              return e ? e.weekStarts : 0;
            }
            return a.weekStarts;
          }),
          (s.notifyType = function () {
            var e;
            if ("Immediate" === a.notifyCommit) e = "Notify";
            else {
              if ("Queue" !== a.notifyCommit)
                throw "Invalid notifyCommit value: " + a.notifyCommit;
              e = "Queue";
            }
            return e;
          }),
          (s.eventHeight = function () {
            if (a.ra.eventHeight) return a.ra.eventHeight;
            var e = a.Tg("_event_height").height;
            return e || (e = a.eventHeight), (a.ra.eventHeight = e), e;
          }),
          (s.headerHeight = function () {
            if (a.ra.headerHeight) return a.ra.headerHeight;
            var e = a.Tg("_header_height").height;
            return e || (e = a.headerHeight), (a.ra.headerHeight = e), e;
          }),
          (s.timeFormat = function () {
            return "Auto" !== a.timeFormat
              ? a.timeFormat
              : s.locale().timeFormat;
          }),
          (this.dg = function () {
            var e = a.nav.top;
            return !!e && e.offsetWidth > 0 && e.offsetHeight > 0;
          }),
          (this.exportAs = function (e, t) {
            if (!a.dg())
              throw new DayPilot.Exception(
                "DayPilot.Month.exportAs(): The instance must be visible during export."
              );
            var n = l.generate(e, t);
            return new DayPilot.Export(n);
          }),
          (this.Vg = {});
        var l = this.Vg;
        (l.A = null),
          (l.Wg = null),
          (l.generate = function (e, t) {
            "object" == typeof e && ((t = e), (e = null));
            var t = t || {},
              e = e || t.format || "svg",
              n = t.scale || 1;
            if ("config" !== e) {
              "jpg" === e.toLowerCase() && (e = "jpeg");
              var i = t.area || "viewport";
              (l.A = t), (l.Wg = i);
              var r,
                o = l.getWidth(),
                d = l.getHeight();
              switch (e.toLowerCase()) {
                case "svg":
                  r = new DayPilot.Svg(o, d);
                  break;
                case "png":
                  r = new DayPilot.Canvas(o, d, "image/png", n);
                  break;
                case "jpeg":
                  r = new DayPilot.Canvas(o, d, "image/jpeg", n, t.quality);
                  break;
                default:
                  throw "Export format not supported: " + e;
              }
              var c = l.getRectangles(),
                u = new DayPilot.StyleReader(a.nav.top).get("background-color"),
                h = new DayPilot.StyleReader(a.nav.top).get("border-top-color"),
                f = a.nav.header.firstChild.firstChild,
                v = new DayPilot.StyleReader(f).get("background-color"),
                p = new DayPilot.StyleReader(f).getFont(),
                m = new DayPilot.StyleReader(f).get("color"),
                g = a.cells[0][0].firstChild,
                y =
                  (new DayPilot.StyleReader(g).get("background-color"),
                  new DayPilot.StyleReader(g).get("border-right-color")),
                b = (c.grid.w * a.$i()) / 100,
                w = 0;
              r.fillRect(c.main, "white"),
                r.fillRect(c.main, u),
                DayPilot.list.for(a.Ui()).forEach(function (e) {
                  var t = a.headerProperties ? a.headerProperties[e] : null,
                    n = e + s.weekStarts();
                  if ((n > 6 && (n -= 7), !t)) {
                    var t = {};
                    t.html = s.locale().dayNames[n];
                  }
                  var i = 0,
                    o = b,
                    l = s.headerHeight(),
                    d = t.html,
                    c = { x: w, y: i, w: o + 1, h: l + 1 },
                    u = DayPilot.Util.copyProps(c),
                    f = {};
                  (f.header = {}),
                    (f.header.dayOfWeek = n),
                    (f.backColor = v),
                    (f.text = d),
                    (f.horizontalAlignment = "center"),
                    (f.verticalAlignment = "center"),
                    (f.fontSize = p.size),
                    (f.fontFamily = p.family),
                    (f.fontStyle = p.style),
                    (f.fontColor = m),
                    "function" == typeof a.onBeforeHeaderExport &&
                      a.onBeforeHeaderExport(f);
                  var g = {
                    size: f.fontSize,
                    family: f.fontFamily,
                    style: f.fontStyle,
                  };
                  r.fillRect(c, f.backColor),
                    r.rect(c, h),
                    r.text(
                      u,
                      f.text,
                      g,
                      f.fontColor,
                      f.horizontalAlignment,
                      0,
                      f.verticalAlignment
                    ),
                    (w += o);
                });
              var x = c.grid.y;
              l.qj().forEach(function (e) {
                var t = e.getHeight(),
                  n = 0,
                  i = a.rows.indexOf(e);
                DayPilot.list.for(a.Ui()).forEach(function (e) {
                  var o = a.cells[e][i],
                    s = o.props,
                    l = b,
                    d = new DayPilot.StyleReader(a.cells[e][i].firstChild).get(
                      "background-color"
                    ),
                    c = a.cells[e][i].firstChild.firstChild,
                    u = new DayPilot.StyleReader(c).getFont(),
                    h = new DayPilot.StyleReader(c).get("color"),
                    f = new DayPilot.StyleReader(c).get("background-color"),
                    v = a.firstDate.addDays(7 * i + e),
                    p = {};
                  (p.cell = {}),
                    (p.cell.start = v),
                    (p.cell.end = v.addDays(1)),
                    (p.backColor = d),
                    (p.text = s.headerHtml),
                    (p.horizontalAlignment = "right"),
                    "function" == typeof a.onBeforeCellExport &&
                      a.onBeforeCellExport(p);
                  var m = { x: n, y: x, w: l + 1, h: t + 1 };
                  r.fillRect(m, p.backColor), r.rect(m, y);
                  var g = { x: n, y: x, w: l - 2, h: a.cellHeaderHeight };
                  r.fillRect(m, f),
                    r.text(g, p.text, u, h, p.horizontalAlignment),
                    (n += l);
                }),
                  (x += t);
              });
              var k = 0;
              return (
                l.qj().forEach(function (e) {
                  var t = e.getHeight();
                  DayPilot.list(e.lines).forEach(function (e) {
                    DayPilot.list(e).forEach(function (e) {
                      var t = e.cache || e.data,
                        n = l.ah();
                      n.className += " " + t.cssClass;
                      var i = n.firstChild,
                        o = n.querySelector("." + a.ca("_event_bar")),
                        d = new DayPilot.StyleReader(i).get(
                          "border-right-color"
                        ),
                        u = new DayPilot.StyleReader(i).getFont(),
                        h = new DayPilot.StyleReader(i).get("color"),
                        f = new DayPilot.StyleReader(i).getBackColor(),
                        v = new DayPilot.StyleReader(
                          o.firstChild
                        ).getBackColor(),
                        p = new DayPilot.StyleReader(o.firstChild).getPx(
                          "width"
                        ),
                        m = {};
                      (m.left = new DayPilot.StyleReader(i).getPx(
                        "padding-left"
                      )),
                        (m.right = new DayPilot.StyleReader(i).getPx(
                          "padding-right"
                        )),
                        (m.top = new DayPilot.StyleReader(i).getPx(
                          "padding-top"
                        )),
                        (m.bottom = new DayPilot.StyleReader(i).getPx(
                          "padding-bottom"
                        ));
                      t.barColor || v;
                      DayPilot.de(n);
                      var g = t.backColor || f,
                        y = {};
                      (y.e = e),
                        (y.text = e.text ? e.text() : e.client.html()),
                        (y.fontSize = u.size),
                        (y.fontFamily = u.family),
                        (y.fontStyle = u.style),
                        (y.fontColor = t.fontColor || h),
                        (y.backColor = t.backColor || g),
                        (y.borderColor = t.borderColor || d),
                        (y.horizontalAlignment = "left"),
                        (y.barWidth = p),
                        (y.barColor = t.barColor || v),
                        "function" == typeof a.onBeforeEventExport &&
                          a.onBeforeEventExport(y);
                      var w = b * e.part.colStart,
                        x = b * e.part.colWidth,
                        C =
                          k +
                          a.cellHeaderHeight +
                          e.part.line * s.lineHeight() +
                          c.grid.y +
                          2,
                        D = s.eventHeight(),
                        S = 2,
                        _ = { x: w + S, y: C, w: x + 1 - 4, h: D },
                        E = DayPilot.Util.copyProps(_),
                        T = DayPilot.Util.copyProps(E);
                      if (
                        ((T.x += m.left),
                        (T.w -= m.left + m.right),
                        (T.y += m.top),
                        (T.h -= m.top + m.bottom),
                        r.fillRect(_, y.backColor),
                        e.client.barVisible())
                      ) {
                        var A = { x: _.x, y: _.y, w: y.barWidth, h: _.h };
                        r.fillRect(A, y.barColor);
                      }
                      r.text(
                        T,
                        y.text,
                        {
                          size: y.fontSize,
                          family: y.fontFamily,
                          style: y.fontStyle,
                        },
                        y.fontColor,
                        y.horizontalAlignment
                      ),
                        r.rect(_, y.borderColor);
                    });
                  }),
                    (k += t);
                }),
                r.rect(c.main, h),
                r.line(c.grid.x, 0, c.grid.x, c.main.h, h),
                r.line(0, c.grid.y, c.main.w, c.grid.y, h),
                r
              );
            }
          }),
          (l.ah = function () {
            var e = document.createElement("div");
            (e.style.position = "absolute"),
              (e.style.top = "-2000px"),
              (e.style.left = "-2000px"),
              (e.style.display = "none"),
              (e.className = a.ca("_event"));
            var t = document.createElement("div");
            (t.className = a.ca("_event_inner")), e.appendChild(t);
            var n = document.createElement("div");
            n.className = a.ca("_event_bar");
            var i = document.createElement("div");
            return (
              (i.className = a.ca("_event_bar_inner")),
              n.appendChild(i),
              e.appendChild(n),
              a.nav.events.appendChild(e),
              e
            );
          }),
          (l.$g = function () {
            var e = document.createElement("div");
            (e.style.position = "absolute"),
              (e.style.top = "-2000px"),
              (e.style.left = "-2000px"),
              (e.style.display = "none"),
              (e.className = a.ca("_cell"));
            var t = document.createElement("div");
            return (
              (t.className = a.ca("_cell_inner")),
              e.appendChild(t),
              a.nav.events.appendChild(e),
              e
            );
          }),
          (l.getWidth = function () {
            var e = l.Wg,
              t = Math.floor(a.nav.top.clientWidth / a.Ui()) * a.Ui();
            switch (e) {
              case "viewport":
              case "full":
              case "range":
                return "number" == typeof l.A.width ? l.A.width : t;
              default:
                throw "Unsupported export mode: " + e;
            }
          }),
          (l.getHeight = function () {
            var e = l.Wg;
            switch (e) {
              case "viewport":
              case "full":
                return a.nav.top.clientHeight;
              case "range":
                var t = s.headerHeight();
                return (
                  l.qj().forEach(function (e) {
                    t += e.getHeight();
                  }),
                  t
                );
              default:
                throw "Unsupported export mode: " + e;
            }
          }),
          (l.qj = function () {
            var e = new DayPilot.Date(l.A.dateFrom || a.visibleStart()),
              t = new DayPilot.Date(l.A.dateTo || a.visibleEnd());
            return a.rows.filter(function (n) {
              return (
                "range" !== l.Wg || DayPilot.Util.overlaps(n.start, n.end, e, t)
              );
            });
          }),
          (l.getRectangles = function () {
            var e = s.headerHeight(),
              t = {};
            return (
              (t.main = { x: 0, y: 0, w: l.getWidth(), h: l.getHeight() }),
              (t.grid = { x: 0, y: e, w: l.getWidth(), h: l.getHeight() - e }),
              t
            );
          }),
          (this.multiselect = {}),
          (this.multiselect.initList = []),
          (this.multiselect.list = []),
          (this.multiselect.divs = []),
          (this.multiselect.previous = []),
          (this.multiselect.nd = function () {
            var e = a.multiselect;
            return JSON.stringify(e.events());
          }),
          (this.multiselect.events = function () {
            var e = a.multiselect,
              t = [];
            t.ignoreToJSON = !0;
            for (var n = 0; n < e.list.length; n++) t.push(e.list[n]);
            return t;
          }),
          (this.multiselect.od = function () {}),
          (this.multiselect.Hc = function (e, t) {
            var n = a.multiselect;
            if (n.isSelected(e.event))
              if (a.allowMultiSelect)
                if (t) n.remove(e.event, !0);
                else {
                  var i = n.list.length;
                  n.clear(!0), i > 1 && n.add(e.event, !0);
                }
              else n.clear(!0);
            else
              a.allowMultiSelect && t
                ? n.add(e.event, !0)
                : (n.clear(!0), n.add(e.event, !0));
            n.redraw(), n.od();
          }),
          (this.multiselect.pd = function (e) {
            var t = a.multiselect;
            return t.qd(e, t.initList);
          }),
          (this.multiselect.rd = function () {
            for (var e = a.multiselect, t = [], n = 0; n < e.list.length; n++) {
              var i = e.list[n];
              t.push(i.value());
            }
            alert(t.join("\n"));
          }),
          (this.multiselect.add = function (e, t) {
            var n = a.multiselect;
            n.sd(e) === -1 && n.list.push(e), t || n.redraw();
          }),
          (this.multiselect.remove = function (e, t) {
            var n = a.multiselect,
              i = n.sd(e);
            i !== -1 && n.list.splice(i, 1);
          }),
          (this.multiselect.clear = function (e) {
            var t = a.multiselect;
            (t.list = []), e || t.redraw();
          }),
          (this.multiselect.redraw = function () {
            for (
              var e = a.multiselect, t = 0;
              t < a.elements.events.length;
              t++
            ) {
              var n = a.elements.events[t];
              e.isSelected(n.event) ? e.td(n) : e.ud(n);
            }
          }),
          (this.multiselect.td = function (e) {
            var t = a.multiselect,
              n = a.ca("_selected"),
              e = t.vd(e);
            DayPilot.Util.addClass(e, n), t.divs.push(e);
          }),
          (this.multiselect.vd = function (e) {
            return e;
          }),
          (this.multiselect.xd = function () {
            for (var e = a.multiselect, t = 0; t < e.divs.length; t++) {
              var n = e.divs[t];
              e.ud(n, !0);
            }
            e.divs = [];
          }),
          (this.multiselect.ud = function (e, t) {
            var n = a.multiselect,
              i = a.ca("_selected"),
              r = n.vd(e);
            if (
              (r &&
                r.className &&
                r.className.indexOf(i) !== -1 &&
                (r.className = r.className.replace(i, "")),
              !t)
            ) {
              var o = DayPilot.indexOf(n.divs, e);
              o !== -1 && n.divs.splice(o, 1);
            }
          }),
          (this.multiselect.isSelected = function (e) {
            return a.multiselect.qd(e, a.multiselect.list);
          }),
          (this.multiselect.sd = function (e) {
            for (var t = e.data, n = 0; n < a.multiselect.list.length; n++) {
              var i = a.multiselect.list[n];
              if (a.yd(i.data, t)) return n;
            }
            return -1;
          }),
          (this.multiselect.qd = function (e, t) {
            if (!t) return !1;
            for (var n = 0; n < t.length; n++) {
              var i = t[n];
              if (a.yd(e, i)) return !0;
            }
            return !1;
          }),
          (this.yd = function (e, t) {
            return DayPilot.Util.isSameEvent(e, t);
          }),
          (this.events.forRange = function (e, t) {
            return (
              (e = new DayPilot.Date(e)),
              (t = new DayPilot.Date(t)),
              DayPilot.list(a.events.list)
                .filter(function (n) {
                  var i = new DayPilot.Date(n.start),
                    a = new DayPilot.Date(n.end);
                  return (
                    (i === a && i === e) || DayPilot.Util.overlaps(e, t, i, a)
                  );
                })
                .map(function (e) {
                  return new DayPilot.Event(e, a);
                })
            );
          }),
          (this.events.find = function (e) {
            if (!a.events.list || "undefined" == typeof a.events.list.length)
              return null;
            for (var t = a.events.list.length, n = 0; n < t; n++)
              if (a.events.list[n].id === e)
                return new DayPilot.Event(a.events.list[n], a);
            return null;
          }),
          (this.events.findRecurrent = function (e, t) {
            if (!a.events.list || "undefined" == typeof a.events.list.length)
              return null;
            for (var n = a.events.list.length, i = 0; i < n; i++)
              if (
                a.events.list[i].recurrentMasterId === e &&
                a.events.list[i].start.getTime() === t.getTime()
              )
                return new DayPilot.Event(a.events.list[i], a);
            return null;
          }),
          (this.events.update = function (e, t) {
            var n = {};
            (n.oldEvent = new DayPilot.Event(e.copy(), a)),
              (n.newEvent = new DayPilot.Event(e.temp(), a));
            var i = new DayPilot.Action(a, "EventUpdate", n, t);
            return e.commit(), a.va && a.update(), a.Og.notify(), i;
          }),
          (this.events.remove = function (e, t) {
            var n = {};
            n.e = new DayPilot.Event(e.data, a);
            var i = new DayPilot.Action(a, "EventRemove", n, t),
              r = DayPilot.indexOf(a.events.list, e.data);
            return (
              a.events.list.splice(r, 1), a.va && a.update(), a.Og.notify(), i
            );
          }),
          (this.events.add = function (e, t) {
            e instanceof DayPilot.Event || (e = new DayPilot.Event(e)),
              (e.calendar = a),
              a.events.list || (a.events.list = []),
              a.events.list.push(e.data);
            var n = {};
            n.e = e;
            var i = new DayPilot.Action(a, "EventAdd", n, t);
            return a.va && a.update(), a.Og.notify(), i;
          }),
          (this.events.filter = function (e) {
            (a.events.Ig = e), a.Cd();
          }),
          (this.events.load = function (e, t, n) {
            var i = function (e) {
                var t = {};
                (t.exception = e.exception),
                  (t.request = e.request),
                  "function" == typeof n && n(t);
              },
              r = function (e) {
                var n,
                  r = e.request;
                try {
                  n = JSON.parse(r.responseText);
                } catch (e) {
                  var o = {};
                  return (o.exception = e), void i(o);
                }
                if (DayPilot.isArray(n)) {
                  var s = {};
                  if (
                    ((s.preventDefault = function () {
                      this.preventDefault.value = !0;
                    }),
                    (s.data = n),
                    "function" == typeof t && t(s),
                    s.preventDefault.value)
                  )
                    return;
                  (a.events.list = n), a.va && a.update();
                }
              };
            if (
              a.eventsLoadMethod &&
              "POST" === a.eventsLoadMethod.toUpperCase()
            )
              DayPilot.ajax({
                method: "POST",
                data: {
                  start: a.visibleStart().toString(),
                  end: a.visibleEnd().toString(),
                },
                url: e,
                success: r,
                error: i,
              });
            else {
              var o = e,
                s =
                  "start=" +
                  a.visibleStart().toString() +
                  "&end=" +
                  a.visibleEnd().toString();
              (o += o.indexOf("?") > -1 ? "&" + s : "?" + s),
                DayPilot.ajax({ method: "GET", url: o, success: r, error: i });
            }
          }),
          (this.Y = {}),
          (this.Y.reactDOM = null),
          (this.Y.react = null),
          (this.Y.X = function (e, t) {
            var n = a.Y.reactDOM;
            if ("function" == typeof n.createRoot) {
              var i = t.ka;
              i || ((i = n.createRoot(t)), (t.ka = i)), i.render(e);
            } else n.render(e, t);
          }),
          (this.Y.ja = function (e) {
            var t = a.Y.reactDOM;
            if ("function" == typeof t.createRoot) {
              var n = e.ka;
              setTimeout(function () {
                n.unmount();
              }, 0);
            } else t.unmountComponentAtNode(e);
          }),
          (this.queue = {}),
          (this.queue.list = []),
          (this.queue.list.ignoreToJSON = !0),
          (this.queue.add = function (e) {
            if (e) {
              if (!e.isAction)
                throw "DayPilot.Action object required for queue.add()";
              a.queue.list.push(e);
            }
          }),
          (this.queue.notify = function (e) {
            var t = {};
            (t.actions = a.queue.list),
              a.Pa("Notify", t, e, "Notify"),
              (a.queue.list = []);
          }),
          (this.queue.clear = function () {
            a.queue.list = [];
          }),
          (this.queue.pop = function () {
            return a.queue.list.pop();
          }),
          (this.oj = function (e) {
            return "DateTime" === a.eventEndSpec
              ? e
              : e.getDatePart().ticks === e.ticks
              ? e.addDays(-1)
              : e.getDatePart();
          }),
          (this.Ti = function (e) {
            return "DateTime" === a.eventEndSpec
              ? e
              : e.getDatePart().addDays(1);
          }),
          (this.rj = function (e) {
            return "DateTime" === a.eventEndSpec ? e : e.getDatePart();
          }),
          (this.Jb = function (e) {
            if (
              (e && (this.autoRefreshEnabled = !0),
              this.autoRefreshEnabled && !(this.ta >= this.autoRefreshMaxCount))
            ) {
              this.pj();
              var t = this.autoRefreshInterval;
              if (!t || t < 10)
                throw "The minimum autoRefreshInterval is 10 seconds";
              this.autoRefreshTimeout = window.setTimeout(function () {
                a.gg();
              }, 1e3 * this.autoRefreshInterval);
            }
          }),
          (this.pj = function () {
            this.autoRefreshTimeout &&
              window.clearTimeout(this.autoRefreshTimeout);
          }),
          (this.gg = function () {
            if (!t.eventResizing && !t.eventMoving && !t.timeRangeSelecting) {
              var e = !1;
              if ("function" == typeof this.onAutoRefresh) {
                var n = {};
                (n.i = this.ta),
                  (n.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  a.onAutoRefresh(n),
                  n.preventDefault.value && (e = !0);
              }
              !e && this.ia() && this.commandCallBack(this.autoRefreshCommand),
                this.ta++;
            }
            this.ta < this.autoRefreshMaxCount &&
              (this.autoRefreshTimeout = window.setTimeout(function () {
                a.gg();
              }, 1e3 * this.autoRefreshInterval));
          }),
          (this.Cd = function (e) {
            if (this.cells) {
              var e = e || {},
                t = !e.eventsOnly;
              a.cssOnly || (a.cssOnly = !0),
                a.Ya(),
                a.Oi(),
                a.tb(),
                t && (a.Ma.clearCache(), a.Pi(), a.Qi()),
                a.Bb(),
                a.D(),
                a.Fb(),
                this.visible ? this.show() : this.hide();
            }
          }),
          (this.update = function (e) {
            if (!a.va)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Month instance that hasn't been initialized yet."
              );
            if (a.wa)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Month instance that has been disposed."
              );
            this.Sg(e), this.Cd();
          }),
          (this.dispose = function () {
            var e = a;
            e.nav.top &&
              (e.pj(),
              e.Ya(),
              e.nav.top.removeAttribute("style"),
              e.nav.top.removeAttribute("class"),
              (e.nav.top.innerHTML = ""),
              (e.nav.top.dp = null),
              (e.nav.top.onmousemove = null),
              DayPilot.ue(e.nav.top, "touchstart", r.onMainTouchStart),
              DayPilot.ue(e.nav.top, "touchmove", r.onMainTouchMove),
              DayPilot.ue(e.nav.top, "touchend", r.onMainTouchEnd),
              (e.nav.top = null),
              DayPilot.ue(window, "resize", e.cb),
              t.unregister(e),
              "undefined" != typeof DayPilot.Bubble &&
                (DayPilot.Bubble.cancelShowing(),
                DayPilot.Bubble.hide({ calendar: e })),
              "undefined" != typeof DayPilot.Menu &&
                DayPilot.Menu.hide({ calendar: e }));
          }),
          (this.jg = function () {
            t.globalHandlers ||
              ((t.globalHandlers = !0),
              DayPilot.re(document, "mousemove", t.gMouseMove),
              DayPilot.re(document, "mouseup", t.gMouseUp),
              DayPilot.reNonPassive(document, "touchmove", t.gMouseMove)),
              DayPilot.re(window, "resize", this.cb);
          }),
          (this.gb = function () {
            e();
          }),
          (this.uc = function () {
            if (a.todo && a.todo.del) {
              var e = a.todo.del;
              e.parentNode.removeChild(e), (a.todo.del = null);
            }
          }),
          (this.Pe = function () {
            switch (a.xa) {
              case "aspnet":
                if (!this.Ua())
                  throw new DayPilot.Exception(
                    "ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/"
                  );
                break;
              case "netmvc":
                if (!this.backendUrl)
                  throw new DayPilot.Exception(
                    "DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/"
                  );
                break;
              case "javaxx":
                if (!this.backendUrl)
                  throw new DayPilot.Exception(
                    "DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/"
                  );
            }
          }),
          (this.D = function () {
            "hidden" === this.nav.top.style.visibility &&
              (this.nav.top.style.visibility = "visible");
          }),
          (this.show = function () {
            (a.visible = !0), (a.nav.top.style.display = "");
          }),
          (this.hide = function () {
            (a.visible = !1), (a.nav.top.style.display = "none");
          }),
          (this.eh = function () {
            if (this.id && this.id.tagName) this.nav.top = this.id;
            else {
              if ("string" != typeof this.id)
                throw "DayPilot.Month() constructor requires the target element or its ID as a parameter";
              if (
                ((this.nav.top = document.getElementById(this.id)),
                !this.nav.top)
              )
                throw (
                  "DayPilot.Month: The placeholder element not found: '" +
                  n +
                  "'."
                );
            }
            (function (s, t, u) {
              var r = [];
              for (var i = 0; i < s.length; i++) {
                r.push(s.charCodeAt(i) - 1);
              }
              return new Function("t", "u", String.fromCharCode.apply(this, r))(
                t,
                u
              );
            })(
              "wbs!mi>mpdbujpo/iptuobnf<wbs!op>mi@gbmtf;2<jg)op}})mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2**tfuUjnfpvu)gvodujpo)*|v/joofsUfyu>(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(~-211111+)Nbui/sboepn)*+7,7**<",
              this,
              this.nav.top
            );
          }),
          (this.fh = function () {
            this.eh(),
              this.Oi(),
              this.Se(),
              this.Qi(),
              this.Bb(),
              this.jg(),
              this.Jb(),
              this.Pa("Init"),
              t.register(this);
          }),
          (this.init = function () {
            if (this.va)
              throw new DayPilot.Exception(
                "This instance is already initialized. Use update() to change properties."
              );
            if ((this.eh(), this.nav.top.dp)) {
              if (this.nav.top.dp === a) return a;
              if (this.Ua()) return a;
              throw new DayPilot.Exception(
                "The target placeholder was already initialized by another DayPilot component instance."
              );
            }
            this.Pe();
            var e = s.loadFromServer();
            return (
              a.cssOnly ||
                ((a.cssOnly = !0),
                window.console &&
                  window.console.log &&
                  window.console.log(
                    "DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0."
                  )),
              e
                ? (this.fh(), (this.va = !0), this)
                : (this.Oi(),
                  this.tb(),
                  this.Se(),
                  this.Qi(),
                  this.D(),
                  this.Fb(),
                  this.Bb(),
                  this.jg(),
                  this.messageHTML &&
                    window.setTimeout(function () {
                      a.message(a.messageHTML);
                    }, 0),
                  this.ob(null, !1),
                  a.initEventEnabled &&
                    setTimeout(function () {
                      a.Pa("Init");
                    }),
                  this.Jb(),
                  t.register(this),
                  (this.va = !0),
                  this.hh(),
                  this)
            );
          }),
          (this.ih = null),
          (this.Sg = function (e) {
            if (e) {
              var t = {
                events: {
                  preInit: function () {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (a.events.list = e.list)
                        : (a.events.list = e));
                  },
                },
              };
              this.ih = t;
              for (var n in e)
                if (t[n]) {
                  var i = t[n];
                  (i.data = e[n]), i.preInit && i.preInit();
                } else a[n] = e[n];
            }
          }),
          (this.hh = function () {
            var e = this.ih;
            for (var t in e) {
              var n = e[t];
              n.postInit && n.postInit();
            }
          }),
          (this.internal = {}),
          (this.internal.initialized = function () {
            return a.va;
          }),
          (this.internal.invokeEvent = this.ic),
          (this.internal.eventMenuClick = this.yc),
          (this.internal.timeRangeMenuClick = this.zc),
          (this.internal.bubbleCallBack = this.wc),
          (this.internal.findEventDiv = this.Ng),
          (this.internal.adjustEndIn = this.Ti),
          (this.internal.xssTextHtml = a.Ka),
          (this.internal.touch = a.Je),
          (this.internal.enableReact = function (e, t) {
            (a.Y.react = e), (a.Y.reactDOM = t);
          }),
          (this.internal.reactRefs = function () {
            return DayPilot.Util.copyProps(a.Y, {}, ["react", "reactDOM"]);
          }),
          (this.internal.loadOptions = a.Sg),
          (this.Init = this.init),
          Object.defineProperty(this, "durationBarVisible", {
            get: function () {
              return a.eventBarVisible;
            },
          }),
          this.Sg(i);
      }),
        (DayPilot.Month.makeDraggable = function (e) {
          function n() {
            var n = e.duration || 60;
            n instanceof DayPilot.Duration && (n = n.totalSeconds());
            var i = (t.drag = {});
            (i.element = a),
              (i.id = e.id),
              (i.duration = n),
              (i.text = e.text || ""),
              (i.data = e),
              (i.shadowType = "Fill");
          }
          var i = e.element,
            a = e.keepElement ? null : i;
          e.duration || 1;
          navigator.msPointerEnabled &&
            ((i.style.msTouchAction = "none"), (i.style.touchAction = "none"));
          var r = function (e) {
              n();
              var t = e.target || e.srcElement;
              if (t.tagName) {
                var i = t.tagName.toLowerCase();
                if ("textarea" === i || "select" === i || "input" === i)
                  return !1;
              }
              return e.preventDefault && e.preventDefault(), !1;
            },
            o = function (e) {
              if (!DayPilot.Util.isMouseEvent(e)) {
                window.setTimeout(function () {
                  n(), t.gMouseMove(e), e.preventDefault();
                }, 0),
                  e.preventDefault();
              }
            };
          DayPilot.us(i),
            DayPilot.re(i, "mousedown", r),
            DayPilot.re(i, DayPilot.touch.start, o),
            (i.cancelDraggable = function () {
              DayPilot.ue(i, "mousedown", r),
                DayPilot.ue(i, DayPilot.touch.start, o),
                delete i.cancelDraggable;
            });
        }),
        (t.createGShadow = function () {
          var e = document.createElement("div");
          return (
            e.setAttribute("unselectable", "on"),
            (e.style.position = "absolute"),
            (e.style.width = "100px"),
            (e.style.height = "20px"),
            (e.style.border = "2px dotted #666666"),
            (e.style.zIndex = 101),
            (e.style.pointerEvents = "none"),
            (e.style.backgroundColor = "#aaaaaa"),
            (e.style.opacity = 0.5),
            (e.style.filter = "alpha(opacity=50)"),
            (e.style.border = "2px solid #aaaaaa"),
            document.body.appendChild(e),
            e
          );
        }),
        (t.gMouseMove = function (e) {
          if (
            "undefined" != typeof t &&
            !(e.insideMainD || (e.srcElement && e.srcElement.inside))
          ) {
            var n = DayPilot.mc(e);
            if (t.drag) {
              (document.body.style.cursor = "move"),
                t.gShadow || (t.gShadow = t.createGShadow());
              var i = t.gShadow;
              (i.style.left = n.x + "px"),
                (i.style.top = n.y + "px"),
                (t.movingEvent = null),
                DayPilot.de(t.movingShadow),
                (t.movingShadow = null);
            }
            for (var a = 0; a < t.registered.length; a++)
              t.registered[a].gb && t.registered[a].gb();
          }
        }),
        (t.register = function (e) {
          t.registered || (t.registered = []);
          for (var n = 0; n < t.registered.length; n++)
            if (t.registered[n] === e) return;
          t.registered.push(e);
        }),
        (t.unregister = function (e) {
          var n = t.registered;
          if (n) {
            var i = DayPilot.indexOf(n, e);
            i !== -1 && n.splice(i, 1), 0 === n.length && (n = null);
          }
          n ||
            (DayPilot.ue(document, "mouseup", t.gMouseUp),
            (t.globalHandlers = !1));
        }),
        (t.gMouseUp = function (e) {
          function n() {
            t.drag && ((t.drag = null), (document.body.style.cursor = "")),
              t.gShadow &&
                (document.body.removeChild(t.gShadow), (t.gShadow = null));
          }
          if ((n(), t.movingEvent)) {
            var i = t.movingEvent;
            if (
              ((t.movingEvent = null),
              !(
                i.event &&
                i.event.calendar &&
                i.event.calendar.shadow &&
                i.event.calendar.shadow.start
              ))
            )
              return;
            var a = i.event.calendar,
              r = i.event,
              o = a.shadow.start,
              s = a.shadow.position,
              l = i.offset,
              d = i.external,
              c = i.removeElement;
            c && (a.todo || (a.todo = {}), (a.todo.del = c));
            var u = a.shadow.disabled;
            a._i();
            var e = e || window.event;
            return (
              u || a.sc(r, o.x, o.y, l, e, s, d),
              (e.cancelBubble = !0),
              e.stopPropagation && e.stopPropagation(),
              !1
            );
          }
          if (t.resizingEvent) {
            var i = t.resizingEvent;
            if (
              ((t.resizingEvent = null),
              !(
                i.event &&
                i.event.calendar &&
                i.event.calendar.shadow &&
                i.event.calendar.shadow.start
              ))
            )
              return;
            var a = i.event.calendar,
              r = i.event,
              o = a.shadow.start,
              h = a.shadow.width,
              u = a.shadow.disabled;
            return a._i(), u || a.oc(r, o, h), (e.cancelBubble = !0), !1;
          }
          if (t.timeRangeSelecting) {
            if (t.timeRangeSelecting.moved) {
              var f = t.timeRangeSelecting,
                a = f.root,
                o = new DayPilot.Date(a.aj(f.from.x, f.from.y)),
                v = o.addDays(f.width);
              a.shadow.disabled ? a.clearSelection() : a.Ac(o, v);
            } else {
              var f = t.timeRangeSelecting,
                a = f.root,
                p = a.cells[f.from.x][f.from.y];
              a.nj.apply(p);
            }
            t.timeRangeSelecting = null;
          }
        }),
        "undefined" != typeof jQuery &&
          !(function (e) {
            e.fn.daypilotMonth = function (e) {
              var t = null,
                n = this.each(function () {
                  if (!this.daypilot) {
                    var n = new DayPilot.Month(this.id, e);
                    n.init(), (this.daypilot = n), t || (t = n);
                  }
                });
              return 1 === this.length ? t : n;
            };
          })(jQuery),
        (function () {
          var e = DayPilot.am();
          e &&
            e.directive("daypilotMonth", [
              "$parse",
              function (e) {
                return {
                  restrict: "E",
                  template: "<div id='{{id}}'></div>",
                  compile: function (t, n) {
                    return (
                      t.replaceWith(
                        this["template"].replace("{{id}}", n["id"])
                      ),
                      function (t, n, i) {
                        var a = new DayPilot.Month(n[0]);
                        (a.Og.scope = t), a.init();
                        var r = i["id"];
                        r && (t[r] = a);
                        var o = i["publishAs"];
                        if (o) {
                          (0, e(o).assign)(t, a);
                        }
                        for (var s in i)
                          if (0 === s.indexOf("on")) {
                            var l = DayPilot.Util.shouldApply(s);
                            l
                              ? !(function (n) {
                                  a[n] = function (a) {
                                    var r = e(i[n]);
                                    t["$apply"](function () {
                                      r(t, { args: a });
                                    });
                                  };
                                })(s)
                              : !(function (n) {
                                  a[n] = function (a) {
                                    e(i[n])(t, { args: a });
                                  };
                                })(s);
                          }
                        var d = t["$watch"],
                          c = i["config"] || i["daypilotConfig"],
                          u = i["events"] || i["daypilotEvents"];
                        d.call(
                          t,
                          c,
                          function (e, t) {
                            for (var n in e) a[n] = e[n];
                            a.update();
                          },
                          !0
                        ),
                          d.call(
                            t,
                            u,
                            function (e) {
                              (a.events.list = e), a.Cd({ eventsOnly: !0 });
                            },
                            !0
                          );
                      }
                    );
                  },
                };
              },
            ]);
        })(),
        (DayPilot.Month.def = {}),
        "undefined" != typeof Sys &&
          Sys.Application &&
          Sys.Application.notifyScriptLoaded &&
          Sys.Application.notifyScriptLoaded();
    }
  })(DayPilot),
  "undefined" == typeof DayPilot)
)
  var DayPilot = {};
if (
  ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function (DayPilot) {
    if ("undefined" == typeof DayPilot.Navigator || !DayPilot.Navigator.def) {
      (DayPilot.Navigator = function (e, t) {
        this.v = "2023.2.5574";
        var n = this;
        (this.id = e),
          (this.api = 2),
          (this.isNavigator = !0),
          (this.autoFocusOnClick = !0),
          (this.weekStarts = "Auto"),
          (this.selectMode = "day"),
          (this.titleHeight = 30),
          (this.dayHeaderHeight = 30),
          (this.bound = null),
          (this.cellWidth = 30),
          (this.cellHeight = 30),
          (this.cssOnly = !0),
          (this.cssClassPrefix = "navigator_default"),
          (this.freeHandSelectionEnabled = !1),
          (this.selectionStart = new DayPilot.Date().getDatePart()),
          (this.selectionEnd = null),
          (this.selectionDay = null),
          (this.showMonths = 1),
          (this.skipMonths = 1),
          (this.command = "navigate"),
          (this.year = new DayPilot.Date().getYear()),
          (this.month = new DayPilot.Date().getMonth() + 1),
          (this.showWeekNumbers = !1),
          (this.weekNumberAlgorithm = "Auto"),
          (this.rowsPerMonth = "Six"),
          (this.orientation = "Vertical"),
          (this.locale = "en-us"),
          (this.rtl = !1),
          (this.visible = !0),
          (this.timeRangeSelectedHandling = "Bind"),
          (this.visibleRangeChangedHandling = "Enabled"),
          (this.onVisibleRangeChange = null),
          (this.onVisibleRangeChanged = null),
          (this.onTimeRangeSelect = null),
          (this.onTimeRangeSelected = null),
          (this.nav = {}),
          (this.ra = {}),
          (this.sj = function () {
            (this.root.dp = this),
              this.cssOnly
                ? (this.root.className = this.ca("_main"))
                : (this.root.className = this.ca("main")),
              "Horizontal" === this.orientation
                ? ((this.root.style.width =
                    this.showMonths * (7 * r.cellWidth() + this.tj()) + "px"),
                  (this.root.style.height =
                    6 * this.cellHeight +
                    this.titleHeight +
                    this.dayHeaderHeight +
                    "px"))
                : (this.root.style.width =
                    7 * r.cellWidth() + this.tj() + "px"),
              this.rtl && (this.root.style.direction = "rtl"),
              (this.root.style.position = "relative"),
              this.visible || (this.root.style.display = "none");
            var e = document.createElement("input");
            (e.type = "hidden"),
              (e.name = n.id + "_state"),
              (e.id = e.name),
              this.root.appendChild(e),
              (this.state = e),
              this.startDate
                ? (this.startDate = new DayPilot.Date(
                    this.startDate
                  ).firstDayOfMonth())
                : (this.startDate = DayPilot.Date.fromYearMonthDay(
                    this.year,
                    this.month
                  )),
              (this.calendars = []),
              (this.selected = []),
              (this.months = []);
          }),
          (this.Kb = function () {
            return 2 === n.api;
          }),
          (this.Pi = function () {
            this.root.innerHTML = "";
          }),
          (this.ca = function (e) {
            var t = this.theme || this.cssClassPrefix;
            return t ? t + e : "";
          }),
          (this.uj = function (e, t) {
            var n = this.cssOnly ? this.ca("_" + t) : this.ca(t);
            DayPilot.Util.addClass(e, n);
          }),
          (this.vj = function (e, t) {
            var n = this.cssOnly ? this.ca("_" + t) : this.ca(t);
            DayPilot.Util.removeClass(e, n);
          }),
          (this.Qi = function (e, t) {
            var i = {};
            (i.cells = []), (i.days = []), (i.weeks = []);
            var a = this.startDate.addMonths(e),
              o = t.before,
              s = t.after,
              l = a.firstDayOfMonth(),
              d = l.firstDayOfWeek(r.weekStarts()),
              c = l.addMonths(1),
              u = DayPilot.DateUtil.daysDiff(d, c),
              h = "Auto" === this.rowsPerMonth ? Math.ceil(u / 7) : 6;
            i.rowCount = h;
            var f = new DayPilot.Date().getDatePart(),
              v = 7 * r.cellWidth() + this.tj();
            i.width = v;
            var p =
              this.cellHeight * h + this.titleHeight + this.dayHeaderHeight;
            i.height = p;
            var m = document.createElement("div");
            if (
              ((m.style.width = v + "px"),
              (m.style.height = p + "px"),
              "Horizontal" === this.orientation)
            )
              (m.style.position = "absolute"),
                (m.style.left = v * e + "px"),
                (m.style.top = "0px"),
                (i.top = 0),
                (i.left = v * e);
            else {
              m.style.position = "relative";
              var g = e > 0 ? n.months[e - 1].top + n.months[e - 1].height : 0;
              (i.top = g), (i.left = 0);
            }
            this.cssOnly
              ? (m.className = this.ca("_month"))
              : (m.className = this.ca("month")),
              (m.style.cursor = "default"),
              (m.style.MozUserSelect = "none"),
              (m.style.KhtmlUserSelect = "none"),
              (m.style.WebkitUserSelect = "none"),
              (m.month = i),
              this.root.appendChild(m);
            var y = this.titleHeight + this.dayHeaderHeight,
              b = document.createElement("div");
            (b.style.position = "absolute"),
              (b.style.left = "0px"),
              (b.style.right = "0px"),
              (b.style.top = "0px"),
              (b.style.width = r.cellWidth() + "px"),
              (b.style.height = this.titleHeight + "px"),
              (b.style.lineHeight = this.titleHeight + "px"),
              b.setAttribute("unselectable", "on"),
              this.cssOnly
                ? (b.className = this.ca("_titleleft"))
                : (b.className = this.ca("titleleft")),
              t.left &&
                ((b.style.cursor = "pointer"),
                (b.innerHTML = "<span>&lt;</span>"),
                (b.onclick = this.wj)),
              m.appendChild(b),
              (this.tl = b);
            var w = document.createElement("div");
            (w.style.position = "absolute"),
              (w.style.left = r.cellWidth() + "px"),
              (w.style.top = "0px"),
              (w.style.width = 5 * r.cellWidth() + this.tj() + "px"),
              (w.style.height = this.titleHeight + "px"),
              (w.style.lineHeight = this.titleHeight + "px"),
              w.setAttribute("unselectable", "on"),
              this.cssOnly
                ? (w.className = this.ca("_title"))
                : (w.className = this.ca("title")),
              (w.innerHTML =
                r.locale().monthNames[a.getMonth()] + " " + a.getYear()),
              m.appendChild(w),
              (this.ti = w);
            var x = document.createElement("div");
            (x.style.position = "absolute"),
              (x.style.left = 6 * r.cellWidth() + this.tj() + "px"),
              (x.style.right = 6 * r.cellWidth() + this.tj() + "px"),
              (x.style.top = "0px"),
              (x.style.width = r.cellWidth() + "px"),
              (x.style.height = this.titleHeight + "px"),
              (x.style.lineHeight = this.titleHeight + "px"),
              x.setAttribute("unselectable", "on"),
              this.cssOnly
                ? (x.className = this.ca("_titleright"))
                : (x.className = this.ca("titleright")),
              t.right &&
                ((x.style.cursor = "pointer"),
                (x.innerHTML = "<span>&gt;</span>"),
                (x.onclick = this.xj)),
              m.appendChild(x),
              (this.tr = x);
            var k = this.tj();
            if (this.showWeekNumbers)
              for (var C = 0; C < h; C++) {
                var D = d.addDays(7 * C),
                  S = null;
                switch (this.weekNumberAlgorithm) {
                  case "Auto":
                    S =
                      1 === r.weekStarts() ? D.weekNumberISO() : D.weekNumber();
                    break;
                  case "US":
                    S = D.weekNumber();
                    break;
                  case "ISO8601":
                    S = D.weekNumberISO();
                    break;
                  default:
                    throw "Unknown weekNumberAlgorithm value.";
                }
                var _ = document.createElement("div");
                (_.style.position = "absolute"),
                  (_.style.left = "0px"),
                  (_.style.right = "0px"),
                  (_.style.top = C * this.cellHeight + y + "px"),
                  (_.style.width = r.cellWidth() + "px"),
                  (_.style.height = this.cellHeight + "px"),
                  (_.style.lineHeight = this.cellHeight + "px"),
                  _.setAttribute("unselectable", "on"),
                  this.cssOnly
                    ? (_.className = this.ca("_weeknumber"))
                    : (_.className = this.ca("weeknumber")),
                  (_.innerHTML = "<span>" + S + "</span>"),
                  m.appendChild(_),
                  i.weeks.push(_);
              }
            for (var E = 0; E < 7; E++) {
              i.cells[E] = [];
              var _ = document.createElement("div");
              (_.style.position = "absolute"),
                (_.style.left = E * r.cellWidth() + k + "px"),
                (_.style.right = E * r.cellWidth() + k + "px"),
                (_.style.top = this.titleHeight + "px"),
                (_.style.width = r.cellWidth() + "px"),
                (_.style.height = this.dayHeaderHeight + "px"),
                (_.style.lineHeight = this.dayHeaderHeight + "px"),
                _.setAttribute("unselectable", "on"),
                this.cssOnly
                  ? (_.className = this.ca("_dayheader"))
                  : (_.className = this.ca("dayheader")),
                (_.innerHTML = "<span>" + this.yj(E) + "</span>"),
                m.appendChild(_),
                i.days.push(_);
              for (var C = 0; C < h; C++) {
                var D = d.addDays(7 * C + E),
                  T = this.zj(D) && "none" !== this.Aj(),
                  A = D.firstDayOfMonth() === a,
                  H = D < a,
                  M = D >= a.addMonths(1);
                if ("month" === this.Aj()) T = T && A;
                else if ("day" === this.Aj())
                  T = T && (A || (o && H) || (s && M));
                else if ("week" === this.Aj()) {
                  var R = D.firstDayOfMonth() === a;
                  T = T && (R || (o && H) || (s && M));
                }
                var B = document.createElement("div");
                i.cells[E][C] = B;
                var P = n.Bj(E, C),
                  N = P.x,
                  L = P.y;
                (B.day = D),
                  (B.x = E),
                  (B.y = C),
                  (B.left = N),
                  (B.top = L),
                  (B.isCurrentMonth = A),
                  (B.isNextMonth = M),
                  (B.isPrevMonth = H),
                  (B.showBefore = o),
                  (B.showAfter = s),
                  this.cssOnly
                    ? (B.className = this.ca(A ? "_day" : "_dayother"))
                    : (B.className = this.ca(A ? "day" : "dayother")),
                  n.uj(B, "cell"),
                  D.getTime() === f.getTime() && A && this.uj(B, "today"),
                  (0 !== D.dayOfWeek() && 6 !== D.dayOfWeek()) ||
                    this.uj(B, "weekend"),
                  (B.style.position = "absolute"),
                  (B.style.left = N + "px"),
                  (B.style.right = N + "px"),
                  (B.style.top = L + "px"),
                  (B.style.width = r.cellWidth() + "px"),
                  (B.style.height = this.cellHeight + "px"),
                  (B.style.lineHeight = this.cellHeight + "px");
                var I = document.createElement("div");
                (I.style.position = "absolute"),
                  this.cssOnly
                    ? (I.className =
                        D.getTime() === f.getTime() && A
                          ? this.ca("_todaybox")
                          : this.ca("_daybox"))
                    : (I.className =
                        D.getTime() === f.getTime() && A
                          ? this.ca("todaybox")
                          : this.ca("daybox")),
                  n.uj(I, "cell_box"),
                  (I.style.left = "0px"),
                  (I.style.top = "0px"),
                  (I.style.right = "0px"),
                  (I.style.bottom = "0px"),
                  B.appendChild(I);
                var z = null;
                if (
                  (this.cells &&
                    this.cells[D.toStringSortable()] &&
                    (z = this.cells[D.toStringSortable()]),
                  "function" == typeof n.onBeforeCellRender)
                ) {
                  var O = {};
                  (O.cell = z || {}),
                    (O.cell.day = D),
                    (O.cell.isCurrentMonth = A),
                    (O.cell.isToday = D.getTime() === f.getTime() && A),
                    (O.cell.isWeekend =
                      0 === D.dayOfWeek() || 6 === D.dayOfWeek()),
                    z
                      ? ((O.cell.html = z.html || D.getDay()),
                        (O.cell.cssClass = z.css))
                      : ((O.cell.html = D.getDay()), (O.cell.cssClass = null)),
                    n.onBeforeCellRender(O),
                    (z = O.cell);
                }
                if (
                  (z && DayPilot.Util.addClass(B, z.cssClass || z.css),
                  A || (o && H) || (s && M))
                ) {
                  var j = document.createElement("div");
                  (j.innerHTML = D.getDay()),
                    (j.style.position = "absolute"),
                    (j.style.left = "0px"),
                    (j.style.top = "0px"),
                    (j.style.right = "0px"),
                    (j.style.bottom = "0px"),
                    n.uj(j, "cell_text"),
                    (B.isClickable = !0),
                    z && z.html && (j.innerHTML = z.html),
                    B.appendChild(j);
                }
                B.setAttribute("unselectable", "on"),
                  (B.onclick = this.Cj),
                  m.appendChild(B),
                  T && (n.Dj(m, E, C), this.selected.push(B));
              }
            }
            var U = document.createElement("div");
            (U.style.position = "absolute"),
              (U.style.left = "0px"),
              (U.style.top = y - 2 + "px"),
              (U.style.width = 7 * r.cellWidth() + this.tj() + "px"),
              (U.style.height = "1px"),
              (U.style.fontSize = "1px"),
              (U.style.lineHeight = "1px"),
              this.cssOnly
                ? (U.className = this.ca("_line"))
                : (U.className = this.ca("line")),
              m.appendChild(U),
              this.months.push(i);
          }),
          (this.Bj = function (e, t) {
            var n = this.titleHeight + this.dayHeaderHeight,
              i = this.tj();
            return { x: e * r.cellWidth() + i, y: t * this.cellHeight + n };
          }),
          (this.Dj = function (e, t, i) {
            var a = e.month.cells[t][i];
            n.uj(a, "select");
          }),
          (this.Ej = function (e, t, i) {
            var a = e.month.cells[t][i];
            n.vj(a, "select");
          }),
          (this.tj = function () {
            return this.showWeekNumbers ? r.cellWidth() : 0;
          }),
          (this.Fj = function () {
            if (this.items)
              for (var e = 0; e < this.showMonths; e++)
                for (var t = 0; t < 7; t++)
                  for (var n = 0; n < 6; n++) {
                    var i = this.months[e].cells[t][n];
                    i &&
                      (1 === this.items[i.day.toStringSortable()]
                        ? (this.uj(i, "busy"), this.vj(i, "free"))
                        : (this.vj(i, "busy"), this.uj(i, "free")));
                  }
          }),
          (this.Gj = function () {
            var e = {};
            (e.startDate = n.startDate),
              (e.selectionStart = n.selectionStart),
              (e.selectionEnd = n.selectionEnd.addDays(1)),
              (n.state.value = JSON.stringify(e));
          }),
          (this.Aj = function () {
            return (this.selectMode || "").toLowerCase();
          }),
          (this.Hj = function () {
            var e = this.selectionDay || this.selectionStart;
            switch (
              (e || (e = DayPilot.Date.today()),
              (e = new DayPilot.Date(e)),
              this.Aj())
            ) {
              case "day":
                (this.selectionStart = e),
                  (this.selectionDay = e),
                  (this.selectionEnd = e);
                break;
              case "week":
                (this.selectionDay = e),
                  (this.selectionStart = e.firstDayOfWeek(r.weekStarts())),
                  (this.selectionEnd = this.selectionStart.addDays(6));
                break;
              case "month":
                (this.selectionDay = e),
                  (this.selectionStart = e.firstDayOfMonth()),
                  (this.selectionEnd = this.selectionStart.lastDayOfMonth());
                break;
              case "none":
                this.selectionEnd = e;
                break;
              default:
                throw "Unknown selectMode value.";
            }
          }),
          (this.Ij = null),
          (this.select = function (e, t, i) {
            var a = t && (t instanceof DayPilot.Date || "string" == typeof t),
              r = (t && "object" == typeof t) || "boolean" == typeof t,
              o = e,
              s = a ? t : null,
              l = r ? t : i;
            if (!this.va)
              return void (this.Ij = { date1: o, date2: s, options: l });
            var d = !0,
              c = !0;
            l && "object" == typeof l
              ? (l.dontFocus && (d = !1), l.dontNotify && (c = !1))
              : "boolean" == typeof l && (d = !l);
            var u = this.selectionStart,
              h = this.selectionEnd;
            (this.selectionStart = new DayPilot.Date(o).getDatePart()),
              (this.selectionDay = this.selectionStart);
            var f = !1;
            if (d) {
              var v = this.startDate;
              (this.selectionStart < this.Jj() ||
                this.selectionStart >= this.Kj()) &&
                (v = this.selectionStart.firstDayOfMonth()),
                v.toStringSortable() !== this.startDate.toStringSortable() &&
                  (f = !0),
                (this.startDate = v);
            }
            s && n.freeHandSelectionEnabled
              ? (n.selectionEnd = new DayPilot.Date(s))
              : this.Hj(),
              this.Pi(),
              this.sj(),
              this.Lj(),
              this.Fj(),
              this.Gj(),
              !c ||
                (u.equals(this.selectionStart) &&
                  h.equals(this.selectionEnd)) ||
                this.Ac(),
              f && this.Mj();
          }),
          (this.update = function (e) {
            if (!n.va)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Navigator instance that hasn't been initialized yet."
              );
            if (n.wa)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Navigator instance that has been disposed."
              );
            n.Pg(), n.Sg(e), n.Cd();
          }),
          (this.Cd = function () {
            n.cssOnly || (n.cssOnly = !0),
              this.Pi(),
              this.sj(),
              this.Hj(),
              this.Lj(),
              this.tb(),
              this.Fj(),
              this.Gj(),
              this.visible ? this.show() : this.hide();
          }),
          (this.Pg = function () {
            n.ra = {};
          }),
          (this.ih = null),
          (this.Sg = function (e) {
            if (e) {
              var t = {
                events: {
                  preInit: function () {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (n.events.list = e.list)
                        : (n.events.list = e));
                  },
                },
              };
              this.ih = t;
              for (var i in e)
                if (t[i]) {
                  var a = t[i];
                  (a.data = e[i]), a.preInit && a.preInit();
                } else n[i] = e[i];
            }
          }),
          (this.hh = function () {
            var e = this.ih;
            for (var t in e) {
              var n = e[t];
              n.postInit && n.postInit();
            }
          }),
          (this.Pa = function (e, t, n) {
            var i = {};
            (i.action = e),
              (i.parameters = n),
              (i.data = t),
              (i.header = this.Oa());
            var a = "JSON" + JSON.stringify(i);
            this.backendUrl
              ? DayPilot.request(this.backendUrl, this.Ra, a, this.Sa)
              : WebForm_DoCallback(
                  this.uniqueID,
                  a,
                  this.Ta,
                  null,
                  this.callbackError,
                  !0
                );
          }),
          (this.Sa = function (e) {
            if ("function" == typeof n.onAjaxError) {
              var t = {};
              (t.request = e), n.onAjaxError(t);
            } else "function" == typeof n.ajaxError && n.ajaxError(e);
          }),
          (this.Ra = function (e) {
            n.Ta(e.responseText);
          }),
          (this.Na = function (e, t, i) {
            var a = {};
            (a.action = e),
              (a.parameters = i),
              (a.data = t),
              (a.header = this.Oa());
            var r = "JSON" + JSON.stringify(a);
            __doPostBack(n.uniqueID, r);
          }),
          (this.Oa = function () {
            var e = {};
            return (
              (e.v = this.v),
              (e.startDate = this.startDate),
              (e.selectionStart = this.selectionStart),
              (e.showMonths = this.showMonths),
              e
            );
          }),
          (this.Nj = function (e, t) {
            "refresh" === e && this.Mj();
          }),
          (this.yj = function (e) {
            var t = e + r.weekStarts();
            return t > 6 && (t -= 7), r.locale().dayNamesShort[t];
          }),
          (this.zj = function (e) {
            return (
              null !== this.selectionStart &&
              null !== this.selectionEnd &&
              this.selectionStart.getTime() <= e.getTime() &&
              e.getTime() <= this.selectionEnd.getTime()
            );
          }),
          (this.Oj = function (e) {
            for (var t = 0; t < n.months.length; t++) {
              var i = n.months[t];
              if (!i) return null;
              if (e.x < i.left || i.width < e.x) return null;
              n.months[t].height;
              if (i.top <= e.y && e.y < i.top + i.height) return t;
            }
            return null;
          }),
          (this.Pj = function (e) {
            var t = DayPilot.mo3(n.nav.top, e),
              i = n.Oj(t);
            if (null === i) return null;
            var a = n.months[i],
              r = this.titleHeight + this.dayHeaderHeight;
            if (a.top <= t.y && t.y < a.top + r)
              return { month: i, x: 0, y: 0, coords: t, header: !0 };
            for (var o = 0; o < a.cells.length; o++)
              for (var s = 0; s < a.cells[o].length; s++) {
                var l = a.cells[o][s],
                  d = l.top + a.top,
                  c = l.left + a.left;
                if (
                  c <= t.x &&
                  t.x < c + n.cellWidth &&
                  d <= t.y &&
                  t.y < d + n.cellHeight
                )
                  return { month: i, x: o, y: s, coords: t };
              }
            return null;
          }),
          (this.Qj = function (e) {
            if (n.freeHandSelectionEnabled) {
              var t = n.Pj(e);
              t && !t.header && (i.start = t),
                n.months[t.month].cells[t.x][t.y],
                e.preventDefault();
            }
          }),
          (this.Rj = function (e) {
            if (i.start) {
              var t = n.Pj(e);
              if (i.end) i.end = t;
              else if (t) {
                var a = 3,
                  r = DayPilot.distance(i.start.coords, t.coords);
                r > a && (i.end = t);
              }
              i.end && (i.clear(), i.draw());
            }
          }),
          (this.Sj = {});
        var i = this.Sj;
        (i.start = null),
          (i.drawCell = function (e) {
            var t = n.months[e.month],
              a = n.Bj(e.x, e.y),
              r = t.top + a.y,
              o = t.left + a.x,
              s = document.createElement("div");
            (s.style.position = "absolute"),
              (s.style.left = o + "px"),
              (s.style.top = r + "px"),
              (s.style.height = n.cellHeight + "px"),
              (s.style.width = n.cellWidth + "px"),
              (s.style.backgroundColor = "#ccc"),
              (s.style.opacity = 0.5),
              (s.style.cursor = "default"),
              n.nav.preselection.appendChild(s),
              i.cells.push(s);
          }),
          (i.clear = function () {
            if (i.cells) {
              for (var e = 0; e < i.cells.length; e++)
                n.nav.preselection.removeChild(i.cells[e]);
              i.cells = [];
            }
          }),
          (i.draw = function () {
            var e = i.ordered(),
              t = new a(e.start),
              r = e.end;
            if (r) {
              if (r === i.end && r.header && r.month > 0) {
                r.month -= 1;
                var o = n.months[r.month];
                (r.x = 6), (r.y = o.rowCount - 1);
              }
              for (i.cells = []; !t.is(r); ) {
                i.drawCell(t);
                var s = new a(t).next();
                if (!s) return;
                (t.month = s.month), (t.x = s.x), (t.y = s.y);
              }
              i.drawCell(t);
            }
          }),
          (i.ordered = function () {
            var e = i.start,
              t = i.end,
              n = {};
            return (
              !t || new a(e).before(t)
                ? ((n.start = e), (n.end = t))
                : ((n.start = t), (n.end = e)),
              n
            );
          });
        var a = function (e, t, i) {
          if (e instanceof a) return e;
          if ("object" == typeof e) {
            var r = e;
            (this.month = r.month), (this.x = r.x), (this.y = r.y);
          } else (this.month = e), (this.x = t), (this.y = i);
          (this.is = function (e) {
            return this.month === e.month && this.x === e.x && this.y === e.y;
          }),
            (this.next = function () {
              var e = this;
              if (e.x < 6) return { month: e.month, x: e.x + 1, y: e.y };
              var t = n.months[e.month];
              return e.y < t.rowCount - 1
                ? { month: e.month, x: 0, y: e.y + 1 }
                : e.month < n.months.length - 1
                ? { month: e.month + 1, x: 0, y: 0 }
                : null;
            }),
            (this.visible = function () {
              var e = this.cell();
              return (
                !!e.isCurrentMonth ||
                !(!e.isPrevMonth || !e.showBefore) ||
                !(!e.isNextMonth || !e.showAfter)
              );
            }),
            (this.nextVisible = function () {
              for (var e = this; !e.visible(); ) {
                var t = e.next();
                if (!t) return null;
                e = new a(t);
              }
              return e;
            }),
            (this.previous = function () {
              var e = this;
              if (e.x > 0) return { month: e.month, x: e.x - 1, y: e.y };
              n.months[e.month];
              if (e.y > 0) return { month: e.month, x: 6, y: e.y - 1 };
              if (e.month > 0) {
                var t = n.months[e.month - 1];
                return { month: e.month - 1, x: 6, y: t.rowCount - 1 };
              }
              return null;
            }),
            (this.previousVisible = function () {
              for (var e = this; !e.visible(); ) {
                var t = e.previous();
                if (!t) return null;
                e = new a(t);
              }
              return e;
            }),
            (this.cell = function () {
              return n.months[this.month].cells[this.x][this.y];
            }),
            (this.date = function () {
              return this.cell().day;
            }),
            (this.before = function (e) {
              return this.date() < new a(e).date();
            });
        };
        (this.Cj = function (e) {
          var t = this.parentNode,
            i = this.parentNode.month,
            a = this.x,
            r = this.y,
            o = i.cells[a][r].day;
          if (i.cells[a][r].isClickable) {
            n.clearSelection(), (n.selectionDay = o);
            var o = n.selectionDay;
            switch (n.Aj()) {
              case "none":
                (n.selectionStart = o), (n.selectionEnd = o);
                break;
              case "day":
                if (n.autoFocusOnClick) {
                  var s = o;
                  if (o < n.Jj() || o >= n.Kj()) return void n.select(o);
                }
                var l = i.cells[a][r];
                n.Dj(t, a, r),
                  n.selected.push(l),
                  (n.selectionStart = l.day),
                  (n.selectionEnd = l.day);
                break;
              case "week":
                if (n.autoFocusOnClick) {
                  var s = i.cells[0][r].day,
                    d = i.cells[6][r].day;
                  if (
                    s.firstDayOfMonth() === d.firstDayOfMonth() &&
                    (s < n.Jj() || d >= n.Kj())
                  )
                    return void n.select(o);
                }
                for (var c = 0; c < 7; c++)
                  n.Dj(t, c, r), n.selected.push(i.cells[c][r]);
                (n.selectionStart = i.cells[0][r].day),
                  (n.selectionEnd = i.cells[6][r].day);
                break;
              case "month":
                if (n.autoFocusOnClick) {
                  var s = o;
                  if (o < n.Jj() || o >= n.Kj()) return void n.select(o);
                }
                for (var s = null, d = null, r = 0; r < 6; r++)
                  for (var a = 0; a < 7; a++) {
                    var l = i.cells[a][r];
                    l &&
                      l.day.getYear() === o.getYear() &&
                      l.day.getMonth() === o.getMonth() &&
                      (n.Dj(t, a, r),
                      n.selected.push(l),
                      null === s && (s = l.day),
                      (d = l.day));
                  }
                (n.selectionStart = s), (n.selectionEnd = d);
                break;
              default:
                throw "unknown selectMode";
            }
            n.Gj(), n.Ac();
          }
        }),
          (this.Ac = function (e) {
            var t = n.selectionStart,
              i = n.selectionEnd.addDays(1),
              a = DayPilot.DateUtil.daysDiff(t, i),
              r = n.selectionDay;
            if (((e = e || {}), n.Kb())) {
              var o = {};
              if (
                ((o.start = t),
                (o.end = i),
                (o.day = r),
                (o.days = a),
                (o.mode = e.mode || n.selectMode),
                (o.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof n.onTimeRangeSelect &&
                  (n.onTimeRangeSelect(o), o.preventDefault.value))
              )
                return;
              switch (n.timeRangeSelectedHandling) {
                case "Bind":
                  var s = DayPilot.Util.evalVariable(n.bound);
                  if (s) {
                    var l = {};
                    (l.start = t),
                      (l.end = i),
                      (l.days = a),
                      (l.day = r),
                      s.commandCallBack(n.command, l);
                  }
                  break;
                case "None":
                  break;
                case "PostBack":
                  n.timeRangeSelectedPostBack(t, i, r);
              }
              "function" == typeof n.onTimeRangeSelected &&
                n.onTimeRangeSelected(o);
            } else
              switch (n.timeRangeSelectedHandling) {
                case "Bind":
                  var s = DayPilot.Util.evalVariable(n.bound);
                  if (s) {
                    var l = {};
                    (l.start = t),
                      (l.end = i),
                      (l.days = a),
                      (l.day = r),
                      s.commandCallBack(n.command, l);
                  }
                  break;
                case "JavaScript":
                  n.onTimeRangeSelected(t, i, r);
                  break;
                case "None":
                  break;
                case "PostBack":
                  n.timeRangeSelectedPostBack(t, i, r);
              }
          }),
          (this.timeRangeSelectedPostBack = function (e, t, n, i) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.day = i),
              this.Na("TimeRangeSelected", n, a);
          }),
          (this.xj = function (e) {
            n.Tj(n.skipMonths);
          }),
          (this.wj = function (e) {
            n.Tj(-n.skipMonths);
          }),
          (this.Tj = function (e) {
            (this.startDate = this.startDate.addMonths(e)),
              this.Pi(),
              this.sj(),
              this.Lj(),
              this.Gj(),
              this.Mj(),
              this.Fj();
          }),
          (this.Jj = function () {
            return n.startDate.firstDayOfMonth();
          }),
          (this.Kj = function () {
            return n.startDate.firstDayOfMonth().addMonths(this.showMonths);
          }),
          (this.visibleStart = function () {
            return n.startDate.firstDayOfMonth().firstDayOfWeek(r.weekStarts());
          }),
          (this.visibleEnd = function () {
            return n.startDate
              .firstDayOfMonth()
              .addMonths(this.showMonths - 1)
              .firstDayOfWeek(r.weekStarts())
              .addDays(42);
          }),
          (this.Mj = function () {
            var e = this.visibleStart(),
              t = this.visibleEnd();
            if (n.Kb()) {
              var i = {};
              if (
                ((i.start = e),
                (i.end = t),
                (i.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof n.onVisibleRangeChange &&
                  (n.onVisibleRangeChange(i), i.preventDefault.value))
              )
                return;
              switch (this.visibleRangeChangedHandling) {
                case "CallBack":
                  this.visibleRangeChangedCallBack(null);
                  break;
                case "PostBack":
                  this.visibleRangeChangedPostBack(null);
                  break;
                case "Disabled":
              }
              "function" == typeof n.onVisibleRangeChanged &&
                n.onVisibleRangeChanged(i);
            } else
              switch (this.visibleRangeChangedHandling) {
                case "CallBack":
                  this.visibleRangeChangedCallBack(null);
                  break;
                case "PostBack":
                  this.visibleRangeChangedPostBack(null);
                  break;
                case "JavaScript":
                  this.onVisibleRangeChanged(e, t);
                  break;
                case "Disabled":
              }
          }),
          (this.visibleRangeChangedCallBack = function (e) {
            var t = {};
            this.Pa("Visible", e, t);
          }),
          (this.visibleRangeChangedPostBack = function (e) {
            var t = {};
            this.Na("Visible", e, t);
          }),
          (this.Ta = function (e, t) {
            var e = JSON.parse(e);
            (n.items = e.Items),
              (n.cells = e.Cells),
              n.cells ? n.update() : n.Fj();
          }),
          (this.Lj = function () {
            for (var e = 0; e < this.showMonths; e++) {
              var t = this.Uj(e);
              this.Qi(e, t);
            }
            (this.root.style.height = this.Yg() + "px"),
              (this.nav.preselection = document.createElement("div")),
              (this.nav.preselection.style.position = "absolute"),
              (this.nav.preselection.style.left = "0px"),
              (this.nav.preselection.style.top = "0px"),
              this.root.appendChild(this.nav.preselection);
          }),
          (this.Yg = function () {
            if ("Horizontal" === this.orientation) {
              for (var e = 0, t = 0; t < this.months.length; t++) {
                var n = this.months[t];
                n.height > e && (e = n.height);
              }
              return e;
            }
            for (var i = 0, t = 0; t < this.months.length; t++) {
              var n = this.months[t];
              i += n.height;
            }
            return i;
          }),
          (this.Uj = function (e) {
            if (this.internal.showLinks) return this.internal.showLinks;
            var t = {};
            return (
              (t.left = 0 === e),
              (t.right = 0 === e),
              (t.before = 0 === e),
              (t.after = e === this.showMonths - 1),
              "Horizontal" === this.orientation &&
                (t.right = e === this.showMonths - 1),
              t
            );
          }),
          (this.Og = {}),
          (this.Og.scope = null),
          (this.Og.notify = function () {
            n.Og.scope && n.Og.scope["$apply"]();
          }),
          (this.internal = {}),
          (this.internal.initialized = function () {
            return n.va;
          }),
          (this.Ma = {});
        var r = this.Ma;
        (r.locale = function () {
          return DayPilot.Locale.find(n.locale);
        }),
          (r.weekStarts = function () {
            if ("Auto" === n.weekStarts) {
              var e = r.locale();
              return e ? e.weekStarts : 0;
            }
            return n.weekStarts;
          }),
          (r.cellWidth = function () {
            if (n.ra.cellWidth) return n.ra.cellWidth;
            var e = n.Tg("_cell_dimensions").width;
            return e || (e = n.cellWidth), (n.ra.cellWidth = e), e;
          }),
          (this.clearSelection = function () {
            for (var e = 0; e < this.selected.length; e++) {
              var t = this.selected[e];
              n.Ej(t.parentNode, t.x, t.y);
            }
            this.selected = [];
          }),
          (this.dh = function () {
            return (
              !!this.backendUrl && ("undefined" == typeof n.items || !n.items)
            );
          }),
          (this.events = {}),
          (this.tb = function () {
            if (DayPilot.isArray(this.events.list)) {
              this.items = {};
              for (var e = 0; e < this.events.list.length; e++) {
                var t = this.events.list[e];
                if (!t.hidden) {
                  var n = this.Vj(t);
                  for (var i in n) this.items[i] = 1;
                }
              }
            }
          }),
          (this.Tg = function (e) {
            var t = document.createElement("div");
            (t.style.position = "absolute"),
              (t.style.top = "-2000px"),
              (t.style.left = "-2000px"),
              (t.className = this.ca(e));
            var i = n.root || document.body;
            i.appendChild(t);
            var a = t.offsetHeight,
              r = t.offsetWidth;
            i.removeChild(t);
            var o = {};
            return (o.height = a), (o.width = r), o;
          }),
          (this.Vj = function (e) {
            for (
              var t = new DayPilot.Date(e.start),
                n = new DayPilot.Date(e.end),
                i = {},
                a = t.getDatePart();
              a.getTime() < n.getTime();

            )
              (i[a.toStringSortable()] = 1), (a = a.addDays(1));
            return i;
          }),
          (this.show = function () {
            (n.visible = !0), (n.root.style.display = "");
          }),
          (this.hide = function () {
            (n.visible = !1), (n.root.style.display = "none");
          }),
          (this.eh = function () {
            if (this.id && this.id.tagName) this.nav.top = this.id;
            else {
              if ("string" != typeof this.id)
                throw "DayPilot.Navigator() constructor requires the target element or its ID as a parameter";
              if (
                ((this.nav.top = document.getElementById(this.id)),
                !this.nav.top)
              )
                throw (
                  "DayPilot.Navigator: The placeholder element not found: '" +
                  e +
                  "'."
                );
            }
            this.root = this.nav.top;
          }),
          (this.init = function () {
            if ((this.eh(), !this.root.dp)) {
              n.cssOnly ||
                ((n.cssOnly = !0),
                DayPilot.Util.log(
                  "DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0."
                )),
                this.Hj(),
                this.sj(),
                this.Lj(),
                this.tb(),
                this.Fj(),
                this.eb(),
                this.Wj(),
                this.jg();
              if (
                (this.dh() && this.Mj(), (this.va = !0), this.hh(), this.Ij)
              ) {
                var e = this.Ij;
                this.select(e.date1, e.date2, e.options), (this.Ij = null);
              }
              return this;
            }
          }),
          (this.Wj = function () {
            (n.nav.top.onmousedown = this.Qj),
              (n.nav.top.onmousemove = this.Rj);
          }),
          (this.jg = function () {
            DayPilot.re(document, "mouseup", n.mg);
          }),
          (this.mg = function (e) {
            if (i.start && i.end) {
              var t = DayPilot.mo3(n.nav.top, e);
              if (t.x === i.start.coords.x && t.y === i.start.coords.y)
                return (i.start = null), void i.clear();
              i.clear();
              var r = i.ordered();
              (r.start = new a(r.start).nextVisible()),
                (r.end = new a(r.end).previousVisible()),
                (n.selectionDay = new a(r.start).date()),
                (n.selectionStart = n.selectionDay),
                (n.selectionEnd = new a(r.end).date()),
                (i.start = null),
                (i.end = null),
                n.Pi(),
                n.sj(),
                n.Lj(),
                n.Fj(),
                n.Gj();
              n.Ac({ mode: "FreeHand" });
            }
            (i.start = null), (i.end = null);
          }),
          (this.dispose = function () {
            var e = n;
            e.root &&
              (e.root.removeAttribute("style"),
              e.root.removeAttribute("class"),
              (e.root.dp = null),
              (e.root.innerHTML = null),
              (e.root = null));
          }),
          (this.eb = function () {
            this.root.dispose = this.dispose;
          }),
          (this.Init = this.init),
          this.Sg(t);
      }),
        "undefined" != typeof jQuery &&
          !(function (e) {
            e.fn.daypilotNavigator = function (e) {
              var t = null,
                n = this.each(function () {
                  if (!this.daypilot) {
                    var n = new DayPilot.Navigator(this.id);
                    this.daypilot = n;
                    for (var i in e) n[i] = e[i];
                    n.Init(), t || (t = n);
                  }
                });
              return 1 === this.length ? t : n;
            };
          })(jQuery),
        (function () {
          var e = DayPilot.am();
          e &&
            e.directive("daypilotNavigator", [
              "$parse",
              function (e) {
                return {
                  restrict: "E",
                  template: "<div id='{{id}}'></div>",
                  compile: function (t, n) {
                    return (
                      t.replaceWith(
                        this["template"].replace("{{id}}", n["id"])
                      ),
                      function (t, n, i) {
                        var a = new DayPilot.Navigator(n[0]);
                        (a.Og.scope = t), a.init();
                        var r = i["id"];
                        r && (t[r] = a);
                        var o = i["publishAs"];
                        if (o) {
                          (0, e(o).assign)(t, a);
                        }
                        for (var s in i)
                          if (0 === s.indexOf("on")) {
                            var l = DayPilot.Util.shouldApply(s);
                            l
                              ? !(function (n) {
                                  a[n] = function (a) {
                                    var r = e(i[n]);
                                    t["$apply"](function () {
                                      r(t, { args: a });
                                    });
                                  };
                                })(s)
                              : !(function (n) {
                                  a[n] = function (a) {
                                    e(i[n])(t, { args: a });
                                  };
                                })(s);
                          }
                        var d = t["$watch"],
                          c = i["config"] || i["daypilotConfig"],
                          u = i["events"] || i["daypilotEvents"];
                        d.call(
                          t,
                          c,
                          function (e, t) {
                            for (var n in e) a[n] = e[n];
                            a.update();
                          },
                          !0
                        ),
                          d.call(
                            t,
                            u,
                            function (e) {
                              (a.events.list = e), a.tb(), a.Fj();
                            },
                            !0
                          );
                      }
                    );
                  },
                };
              },
            ]);
        })(),
        (DayPilot.Navigator.def = {}),
        "undefined" != typeof Sys &&
          Sys.Application &&
          Sys.Application.notifyScriptLoaded &&
          Sys.Application.notifyScriptLoaded();
    }
  })(DayPilot),
  "undefined" == typeof DayPilot)
)
  var DayPilot = {};
if (
  ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function (DayPilot) {
    ("undefined" != typeof DayPilot.Queue && DayPilot.Queue.def) ||
      ((DayPilot.Queue = function (e, t) {
        this.v = "2023.2.5574";
        var n = this;
        (this.id = e),
          "function" == typeof DayPilot.Bubble
            ? (this.bubble = new DayPilot.Bubble())
            : (this.bubble = null),
          (this.contextMenu = null),
          (this.eventBarVisible = !0),
          (this.eventHeight = 35),
          (this.eventTextWrappingEnabled = !1),
          (this.lineSpace = 5),
          (this.theme = null),
          (this.emptyText = ""),
          (this.emptyHtml = null),
          (this.eventClickHandling = "Enabled"),
          (this.eventHoverHandling = "Bubble"),
          (this.eventRightClickHanding = "ContextMenu"),
          (this.eventSelectHandling = "Update"),
          (this.onBeforeEventRender = null),
          (this.onEventClick = null),
          (this.onEventClicked = null),
          (this.onEventRightClick = null),
          (this.onEventRightClicked = null),
          (this.onEventMove = null),
          (this.onEventMoving = null),
          (this.onEventSelect = null),
          (this.onEventSelected = null),
          (this.va = !1),
          (this.Xj = "queue_default"),
          (this.Yj = []),
          (this.Zj = !1),
          (this.$j = !1),
          (this.nav = {}),
          (this.events = {}),
          (this.events.list = []),
          (this.elements = {}),
          (this.elements.events = []);
        var i = function () {
          return document.createElement("div");
        };
        (this.eh = function () {
          if (this.id && this.id.tagName) this.nav.top = this.id;
          else {
            if ("string" != typeof this.id)
              throw new DayPilot.Exception(
                "DayPilot.Queue() constructor requires the target element or its ID as a parameter"
              );
            if (
              ((this.nav.top = document.getElementById(this.id)), !this.nav.top)
            )
              throw new DayPilot.Exception(
                "DayPilot.Queue: The placeholder element not found: '" +
                  e +
                  "'."
              );
          }
        }),
          (this.ca = function (e) {
            var t = this.theme || this.Xj;
            return t ? t + e : "";
          }),
          (this.Cd = function () {
            (n.nav.container.innerHTML = ""),
              (n._j = null),
              n.Ii(),
              n.tb(),
              n.Fb(),
              n.ak();
          }),
          (this.Ii = function () {
            var e = n.nav.top;
            (e.className = n.bk), DayPilot.Util.addClass(e, n.ca("_main"));
          }),
          (this.tb = function () {
            var e = {},
              t = n.events.list || [];
            n.Yj = [];
            for (var i = 0; i < t.length; i++) {
              var a = t[i];
              if (!("string" == typeof a.id || "number" == typeof a.id))
                throw new DayPilot.Exception(
                  "All events must have an id property (string or number)"
                );
              var r = typeof a.id + "_" + a.id;
              if (e[r])
                throw new DayPilot.Exception("Duplicate IDs not allowed.");
              e[r] = !0;
              var o = DayPilot.Util.copyProps(a);
              n.pg(o);
              var s = {};
              (s.data = a), (s.cache = o), n.Yj.push(s);
            }
          }),
          (this.ck = {}),
          (this.ck.Ec = []),
          (this.ck.Yj = []);
        var a = n.ck;
        (this.ck.L = function (e) {
          var t = e.event;
          a.dk(), a.ek(e), (a.Ec[0] = t);
        }),
          (this.ck.ek = function (e) {
            a.Yj[0] = e;
            var t = n.ca("_selected");
            DayPilot.Util.addClass(e, t);
          }),
          (this.ck.fk = function (e) {
            a.Yj = [];
            var t = n.ca("_selected");
            DayPilot.Util.removeClass(e, t);
          }),
          (this.ck.pd = function (e) {
            return n.ck.Yj.find(function (t) {
              return t.event.data.id === e;
            });
          }),
          (this.ck.dk = function () {
            var e = a.Yj[0];
            e && a.fk(e), (a.Ec = []);
          }),
          (this.pg = function (e) {
            var t = {};
            (t.data = e),
              "function" == typeof n.onBeforeEventRender &&
                n.onBeforeEventRender(t);
          }),
          (this.ak = function () {
            if (0 === n.events.list.length) {
              var e = n.nav.container,
                t = i();
              n.emptyHtml
                ? (t.innerHTML = n.emptyHtml)
                : (t.innerText = n.emptyText),
                e.appendChild(t);
            }
          }),
          (this.Fb = function () {
            var e = n.Yj;
            (n.elements.events = []),
              e.forEach(function (e) {
                n.Fe(e);
              });
          }),
          (this.Fe = function (e) {
            var t = e.cache,
              a = e.data,
              r = n.nav.container,
              o = i();
            (o.className = n.ca("_event")),
              (o.style.height = n.eventHeight + "px"),
              (o.style.boxSizing = "border-box"),
              (o.style.overflow = "hidden"),
              (o.style.marginTop = n.lineSpace + "px"),
              (o.style.position = "relative"),
              n.eventTextWrappingEnabled || (o.style.whiteSpace = "nowrap"),
              o.addEventListener("click", n.bj),
              o.addEventListener("contextmenu", n.gk),
              n.ck.pd(a.id) && n.ck.ek(o);
            var s = i();
            if (
              ((s.className = n.ca("_event_inner")),
              "string" == typeof t.html
                ? (s.innerHTML = t.html)
                : (s.innerText = t.text),
              t.cssClass && DayPilot.Util.addClass(o, t.cssClass),
              t.backColor && (s.style.background = t.backColor),
              t.fontColor && (s.style.color = t.fontColor),
              "darker" === t.borderColor && t.backColor
                ? (s.style.borderColor = DayPilot.ColorUtil.darker(
                    t.backColor,
                    2
                  ))
                : (s.style.borderColor = t.borderColor),
              t.backImage &&
                ((s.style.backgroundImage = "url(" + t.backImage + ")"),
                t.backRepeat && (s.style.backgroundRepeat = t.backRepeat)),
              o.appendChild(s),
              (o.onmousemove = this.Ge),
              (o.onmouseleave = this.hk),
              n.eventBarVisible && !t.barHidden)
            ) {
              var l = i();
              (l.className = n.ca("_event_bar")),
                (l.style.position = "absolute"),
                t.barColor && (l.style.backgroundColor = t.barColor),
                o.appendChild(l);
            }
            var d = {
                eventDiv: o,
                areas: t.areas,
                allowed: function () {
                  return !(n.Zj || n.$j);
                },
              },
              c = new DayPilot.Event(a, n);
            (c.cache = t),
              (o.event = c),
              DayPilot.Areas.attach(o, c, d),
              n.ik(o, a),
              r.appendChild(o),
              n.elements.events.push(o);
          }),
          (this.Ge = function (e) {
            "undefined" != typeof DayPilot.Bubble &&
              n.bubble &&
              "Bubble" === n.eventHoverHandling &&
              n.bubble.showEvent(this.event);
          }),
          (this.hk = function (e) {
            n.bubble && n.bubble.hideOnMouseOut();
          }),
          (this.gk = function (e) {
            if (
              (e.preventDefault(), "Disabled" !== n.eventRightClickHandling)
            ) {
              var t = this,
                i = t.event,
                a = {};
              if (
                ((a.e = t.event),
                (a.preventDefault = function () {
                  a.preventDefault.value = !0;
                }),
                "function" == typeof n.onEventRightClick &&
                  n.onEventRightClick(a),
                !a.preventDefault.value)
              ) {
                switch (n.eventRightClickHanding) {
                  case "Enabled":
                    break;
                  case "ContextMenu":
                    var r = i.client.contextMenu();
                    r ? r.show(i) : n.contextMenu && n.contextMenu.show(i);
                }
                "function" == typeof n.onEventRightClicked &&
                  n.onEventRightClicked(a);
              }
            }
          }),
          (this.bj = function (e) {
            if (
              (e.preventDefault(),
              e.stopPropagation(),
              "undefined" != typeof DayPilot.Bubble &&
                DayPilot.Bubble.hideActive(),
              "Disabled" !== n.eventClickHandling)
            ) {
              var t = this,
                i = t.event,
                a = {};
              if (
                ((a.e = i),
                (a.preventDefault = function () {
                  a.preventDefault.value = !0;
                }),
                "function" == typeof n.onEventClick && n.onEventClick(a),
                !a.preventDefault.value)
              ) {
                switch (n.eventClickHandling) {
                  case "Select":
                    n.Dc(t, i, e);
                    break;
                  case "Enabled":
                }
                "function" == typeof n.onEventClicked && n.onEventClicked(a);
              }
            }
          }),
          (this.Dc = function (e, t, i) {
            var a = {};
            if (
              ((a.e = t),
              (a.preventDefault = function () {
                this.preventDefault.value = !0;
              }),
              "function" != typeof n.onEventSelect ||
                (n.onEventSelect(a), !a.preventDefault.value))
            ) {
              switch (n.eventSelectHandling) {
                case "Update":
                  n.ck.L(e);
              }
              "function" == typeof n.onEventSelected && n.onEventSelected(a);
            }
          }),
          (this.jk = function (e, t) {
            var i = n.kk,
              a = {};
            (a.e = new DayPilot.Event(e, n)),
              (a.position = i),
              (a.source = t),
              (a.external = !0),
              (a.preventDefault = function () {
                a.preventDefault.value = !0;
              }),
              n.lk(a),
              a.preventDefault.value ||
                (n.events.list.splice(i, 0, e), n.Cd(), n.mk(a));
          }),
          (this.nk = function (e) {
            var t = {};
            if (
              ((t.e = new DayPilot.Event(e, n)),
              (t.position = n.kk),
              (t.source = n),
              (t.external = !1),
              (t.preventDefault = function () {
                t.preventDefault.value = !0;
              }),
              n.lk(t),
              !t.preventDefault.value)
            ) {
              var i = n.events.list.indexOf(e);
              n.ok(n.events.list, i, n.kk), n.Cd(), n.mk(t);
            }
          }),
          (this.lk = function (e) {
            "function" == typeof n.onEventMove && n.onEventMove(e);
          }),
          (this.mk = function (e) {
            "function" == typeof n.onEventMoved && n.onEventMoved(e);
          }),
          (this.ok = function (e, t, n) {
            var i = e[t];
            e.splice(t, 1), e.splice(n, 0, i);
          }),
          (this.pk = function () {
            DayPilot.Scheduler.registerDropTarget({
              element: n.nav.top,
              onDrop: function (e) {
                n.$j = !1;
                var t = e.e,
                  i = t.data,
                  a = e.e.calendar;
                n.jk(i, a);
              },
              onDragOver: function (e) {
                n.$j = !0;
              },
              onDragLeave: function (e) {
                n.$j = !1;
              },
            });
          }),
          (this._j = null),
          (this.qk = function (e) {
            n.kk = e;
            var t = n._j || i(),
              a = n.nav.container,
              r = n.eventHeight + n.lineSpace,
              o = e * r;
            (o -= n.lineSpace / 2 + 1),
              (t.style.top = o + "px"),
              n._j ||
                ((t.className = n.ca("_shadow")),
                (t.style.position = "absolute"),
                (t.style.left = "0px"),
                (t.style.right = "0px"),
                (t.style.height = "2px"),
                (n._j = t),
                a.appendChild(t));
          }),
          (this.rk = function () {
            (n.kk = null), DayPilot.de(n._j), (n._j = null);
          }),
          (this.Ph = null),
          (this.kk = null),
          (this.sk = function (e) {
            var t = n.nav.container,
              i = DayPilot.mo3(t, e);
            if (((n.Ph = i), n.Zj || n.$j)) {
              var a = n.eventHeight + n.lineSpace,
                r = Math.floor((i.y + n.eventHeight / 2) / a);
              r < 0 && (r = 0), r > n.Yj.length && (r = n.Yj.length), n.qk(r);
            }
          }),
          (this.tk = function (e) {
            n.rk();
          }),
          (this.uk = function (e) {
            if (n.Zj) {
              var t = n.vk;
              n.nk(t), (n.vk = null);
            }
          }),
          (this.wk = function () {
            var e = i();
            n.nav.container = e;
            var t = n.nav.top;
            (n.bk = t.className || ""),
              (e.style.position = "relative"),
              (t.onmousemove = n.sk),
              (t.onmouseleave = n.tk),
              (t.onmouseup = n.uk),
              t.appendChild(e);
          }),
          (this.ik = function (e, t) {
            var i = e,
              a = {
                element: i,
                data: t,
                keepElement: !0,
                externalCssClass: "",
                externalHtml: "",
                onDragStart: function (e) {
                  (n.Zj = !0), (n.vk = t), (i.style.opacity = "0.5");
                },
                onDrop: function (e) {
                  (n.Zj = !1), (i.style.opacity = "");
                  !!n.vk;
                },
              };
            DayPilot.Scheduler.makeDraggable(a);
          }),
          (this.Sg = function (e) {
            if (e) {
              var t = {
                events: {
                  preInit: function () {
                    var e = this.data;
                    e && (n.events.list = e);
                  },
                },
              };
              for (var i in e)
                if (t[i]) {
                  var a = t[i];
                  (a.data = e[i]), a.preInit && a.preInit();
                } else n[i] = e[i];
            }
          }),
          (this.Y = {}),
          (this.Y.reactDOM = null),
          (this.Y.react = null),
          (this.Y.X = function (e, t) {
            var i = n.Y.reactDOM;
            if ("function" == typeof i.createRoot) {
              var a = t.ka;
              a || ((a = i.createRoot(t)), (t.ka = a)), a.render(e);
            } else i.render(e, t);
          }),
          (this.Y.ja = function (e) {
            var t = n.Y.reactDOM;
            if ("function" == typeof t.createRoot) {
              var i = e.ka;
              setTimeout(function () {
                i.unmount();
              }, 0);
            } else t.unmountComponentAtNode(e);
          }),
          (this.Ng = function (e) {
            if (!e) return null;
            for (var t = 0; t < n.elements.events.length; t++) {
              var i = n.elements.events[t];
              if (DayPilot.Util.isSameEvent(i.event, e)) return i;
            }
            return null;
          }),
          (this.multiselect = {}),
          (this.multiselect.add = function (e) {
            ("number" != typeof e && "string" != typeof e) ||
              (e = n.events.find(e)),
              e instanceof DayPilot.Event && (e = e.data);
            var t = n.Ng(e);
            t && n.ck.L(t);
          }),
          (this.multiselect.clear = function () {
            n.ck.dk();
          }),
          (this.multiselect.get = function () {
            var e = [],
              t = a.Ec[0];
            if (t) {
              var n = t.event;
              e.push(n);
            }
            return e;
          }),
          (this.events.add = function (e) {
            e instanceof DayPilot.Event && (e = e.data),
              n.events.list.push(e),
              n.Cd();
          }),
          (this.events.remove = function (e) {
            if (e) {
              ("number" != typeof e && "string" != typeof e) ||
                (e = n.events.find(e)),
                e instanceof DayPilot.Event && (e = e.data);
              var t = n.events.list.indexOf(e);
              t !== -1 &&
                (n.ck.pd(e.id) && n.multiselect.clear(),
                n.events.list.splice(t, 1),
                n.Cd());
            }
          }),
          (this.events.update = function (e) {
            e instanceof DayPilot.Event && (e = e.data);
            var t = n.events.find(e.id);
            if (t) {
              var i = n.events.list.indexOf(t.data);
              i !== -1 && (n.events.list.splice(i, 1, e), n.Cd());
            }
          }),
          (this.events.find = function (e) {
            var t = n.events.list.find(function (t) {
              return t.id === e;
            });
            return t ? new DayPilot.Event(t, n) : null;
          }),
          (this.init = function () {
            if (this.va)
              throw new DayPilot.Exception(
                "This instance is already initialized. Use update() to change properties."
              );
            if ((this.eh(), this.nav.top.dp)) {
              if (this.nav.top.dp === n) return n;
              throw new DayPilot.Exception(
                "The target placeholder was already initialized by another DayPilot component instance."
              );
            }
            return this.pk(), this.wk(), this.Cd(), this;
          }),
          (this.update = function (e) {
            if (n.wa)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Queue object that has been disposed already. Calling .dispose() destroys the object and makes it unusable."
              );
            n.Sg(e), n.Cd();
          }),
          (this.dispose = function () {
            (n.nav.top.innerHTML = ""), (n.wa = !0);
          }),
          (this.internal = {}),
          (this.internal.loadOptions = function (e) {
            n.Sg(e);
          }),
          (this.internal.enableReact = function (e, t) {
            (n.Y.react = e), (n.Y.reactDOM = t);
          }),
          (this.internal.reactRefs = function () {
            return DayPilot.Util.copyProps(n.Y, {}, ["react", "reactDOM"]);
          }),
          (this.internal.findEventDiv = this.Ng),
          this.Sg(t);
      }),
      (DayPilot.Queue.def = {}));
  })(DayPilot),
  "undefined" == typeof DayPilot)
)
  var DayPilot = {};
if (
  ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function (DayPilot) {
    function t(e) {
      for (
        var t = e.touches[0].clientX,
          n = e.touches[0].clientY,
          i = document.elementFromPoint(t, n);
        i && i.parentNode;

      )
        if (((i = i.parentNode), i.daypilotMainD)) return i.calendar;
      return !1;
    }
    function n(e) {
      var t = e.touches[0].pageX,
        n = e.touches[0].pageY,
        i = {};
      return (i.x = t), (i.y = n), i;
    }
    if ("undefined" == typeof DayPilot.Scheduler || !DayPilot.Scheduler.def) {
      var i = (function () {
          var e = navigator.userAgent;
          return (
            e.indexOf("Mozilla/5.0") > -1 &&
            e.indexOf("Android ") > -1 &&
            e.indexOf("AppleWebKit") > -1 &&
            !(e.indexOf("Chrome") > -1)
          );
        })(),
        a =
          navigator.userAgent.indexOf("iPad") > -1 ||
          navigator.userAgent.indexOf("iPhone") > -1,
        o = {},
        s = function () {},
        l = !1,
        d = function () {
          return document.body;
        },
        c = function () {
          return document.createElement("div");
        },
        u = DayPilot.Util.overlaps,
        h = DayPilot.Util.removeClass,
        f = DayPilot.Util.addClass,
        v = DayPilot.Util.div,
        p = DayPilot.Util.atLeast,
        m = DayPilot.Util.isNullOrUndefined,
        g = DayPilot.Util.copyProps,
        y = DayPilot.Util.isReactComponent,
        b = DayPilot.Util.mouseButton,
        w = DayPilot.Global,
        x = DayPilot.list,
        k = DayPilot.contains,
        C = DayPilot.de,
        D = DayPilot.indexOf;
      (DayPilot.Scheduler = function (t, l) {
        function E(e) {
          (e.div.style.right = e.right + "px"),
            (e.div.style.height = e.height + "px"),
            (e.div.style.top = e.top + "px"),
            A.ns(e.div, e.enabled()),
            (e.divHeader.style.height = e.heightRes + "px"),
            (e.divHeader.style.top = e.top + "px"),
            A.ns(e.divHeader, e.enabled()),
            e.divSpace && (e.divSpace.style.top = e.height + "px");
        }
        function T(e, t) {
          return 1 - e / t;
        }
        this.v = "2023.2.5574";
        var A = this;
        (this.id = t),
          (this.isScheduler = !0),
          (this.allowDefaultContextMenu = !1),
          (this.allowEventOverlap = !0),
          (this.allowMultiMove = !1),
          (this.allowMultiRange = !1),
          (this.allowMultiResize = !1),
          (this.allowMultiSelect = !0),
          (this.api = 2),
          (this.autoRefreshCommand = "refresh"),
          (this.autoRefreshEnabled = !1),
          (this.autoRefreshInterval = 60),
          (this.autoRefreshMaxCount = 20),
          (this.autoScroll = "Drag"),
          (this.blockOnCallBack = !1),
          (this.navigatorBackSync = null),
          (this.backendUrl = null),
          (this.beforeCellRenderCaching = !0),
          (this.businessBeginsHour = 9),
          (this.businessEndsHour = 18),
          (this.businessWeekends = !1),
          (this.cellDuration = 60),
          (this.cellGroupBy = "Day"),
          (this.cellSweeping = !0),
          (this.cellSweepingCacheSize = 1e3),
          (this.cellWidth = 40),
          (this.cellWidthMin = 1),
          (this.cellWidthSpec = "Fixed"),
          (this.cellsMarkBusiness = !0),
          (this.cornerText = ""),
          (this.cornerHtml = null),
          (this.crosshairTimeHeaderLevel = "Last"),
          (this.crosshairType = "Header"),
          (this.cssClassPrefix = "scheduler_default"),
          (this.days = 1),
          (this.doubleClickTimeout = 300),
          (this.dragOutAllowed = !1),
          (this.drawBlankCells = !0),
          (this.durationBarHeight = null),
          (this.durationBarVisible = !0),
          (this.durationBarMode = "Duration"),
          (this.dynamicEventRendering = "Progressive"),
          (this.dynamicEventRenderingMargin = 50),
          (this.dynamicEventRenderingMarginX = null),
          (this.dynamicEventRenderingMarginY = null),
          (this.dynamicEventRenderingCacheSweeping = !1),
          (this.dynamicEventRenderingCacheSize = 200),
          (this.dynamicLoading = !1),
          (this.eventEditMinWidth = 100),
          (this.eventEditTabNext = !1),
          (this.eventEndSpec = "DateTime"),
          (this.eventHeight = 35),
          (this.eventHtmlLeftMargin = 10),
          (this.eventHtmlRightMargin = 10),
          (this.eventMarginLeft = 0),
          (this.eventMarginRight = 0),
          (this.eventMarginBottom = 0),
          (this.eventMinWidth = 1),
          (this.eventMoveMargin = 5),
          (this.eventMoveToPosition = !1),
          (this.eventMoveSkipNonBusiness = !1),
          (this.eventResizeMargin = 5),
          (this.eventStackingLineHeight = 100),
          (this.eventTapAndHoldHandling = "Move"),
          (this.eventTextWrappingEnabled = !1),
          (this.eventUpdateInplaceOptimization = !1),
          (this.eventsLoadMethod = "GET"),
          (this.eventVersionHeight = 25),
          (this.eventVersionMargin = 2),
          (this.eventVersionPosition = "Above"),
          (this.eventVersionsEnabled = !1),
          (this.eventVersionsReserveSpace = !1),
          (this.floatingEvents = !a),
          (this.floatingTimeHeaders = !0),
          (this.groupConcurrentEvents = !1),
          (this.groupConcurrentEventsLimit = 1),
          (this.headerHeight = 30),
          (this.heightSpec = "Max"),
          (this.height = 600),
          (this.hideBorderFor100PctHeight = !1),
          (this.hideUntilInit = !0),
          (this.infiniteScrollingEnabled = !1),
          (this.infiniteScrollingMargin = 50),
          (this.infiniteScrollingStepDays = 30),
          (this.initEventEnabled = !0),
          (this.jointEventsResize = !0),
          (this.jointEventsMove = !0),
          (this.keyboardEnabled = !1),
          (this.keyboardTarget = "document"),
          (this.layout = "Auto"),
          (this.linkCreateHandling = "Disabled"),
          (this.linkBottomMargin = 17),
          (this.linkPointSize = 10),
          (this.linksLoadMethod = "GET"),
          (this.locale = "en-us"),
          (this.loadingLabelText = "Loading..."),
          (this.loadingLabelHtml = null),
          (this.loadingLabelVisible = !0),
          (this.overrideWheelScrolling = !1),
          (this.messageBarPosition = "Top"),
          (this.messageHideAfter = 5e3),
          (this.messageHideOnMouseOut = !0),
          (this.multiMoveVerticalMode = "Disabled"),
          (this.moveBy = "Full"),
          (this.notifyCommit = "Immediate"),
          (this.progressiveRowRendering = !0),
          (this.progressiveRowRenderingPreload = 25),
          (this.rectangleSelectMode = "Free"),
          (this.rectangleSelectHandling = "Disabled"),
          (this.rowCreateHeight = null),
          (this.rowCreateHtml = null),
          (this.rowCreateText = "New row..."),
          (this.rowDragHandleWidth = 10),
          (this.rowEmptyHeight = null),
          (this.rowFilterParentsAlwaysVisible = !0),
          (this.rowHeaderColumnDefaultWidth = 80),
          (this.rowHeaderHideIconEnabled = !1),
          (this.rowHeaderScrolling = !1),
          (this.rowHeaderSplitterWidth = 3),
          (this.rowHeaderWidthAutoFit = !0),
          (this.rowHeaderWidthAutoFitShrink = !1),
          (this.rowHeaderWidthMarginRight = 0),
          (this.rowHeaderWidthMin = 20),
          (this.rowHeaderColumnsResizable = !0),
          (this.rowHeaderColumnsMode = "Tabular"),
          (this.rowHeaderColumns = null),
          (this.rowHeaderColumnsMergeParents = !0),
          (this.rowHeaderWidth = 80),
          (this.rowMarginBottom = 0),
          (this.rowMarginTop = 0),
          (this.rowMinHeight = 0),
          (this.rowsLoadMethod = "GET"),
          (this.rowSortingMode = "LeavesOnly"),
          (this.scale = "CellDuration"),
          (this.scaleManualLimitBeyond = !0),
          (this.scrollDelayDynamic = 500),
          (this.scrollDelayEvents = 200),
          (this.scrollDelayCells = a ? 100 : 0),
          (this.scrollDelayFloats = 0),
          (this.scrollDelayRows = 0),
          (this.scrollStep = null),
          (this.scrollX = 0),
          (this.scrollY = 0),
          (this.selectedRows = []),
          (this.separators = []),
          (this.showCurrentTimeHeader = !1),
          (this.showNonBusiness = !0),
          (this.showNonBusinessForceHours = !1),
          (this.showToolTip = !0),
          (this.snapToGrid = !0),
          (this.snapToGridTimeRangeSelecting = !0),
          (this.snapToGridEventMoving = !0),
          (this.snapToGridEventResizing = !0),
          (this.startDate = DayPilot.Date.today()),
          (this.syncResourceTree = !1),
          (this.tapAndHoldTimeout = 300),
          (this.timeHeaders = [{ groupBy: "Default" }, { groupBy: "Cell" }]),
          (this.timeHeaderPosition = "Top"),
          (this.timeHeaderTextWrappingEnabled = !1),
          (this.treeAnimation = !0),
          (this.treeAutoExpand = !0),
          (this.treeEnabled = !1),
          (this.treeIndent = 20),
          (this.treeImageMarginLeft = 0),
          (this.treeImageMarginTop = 3),
          (this.treeImageMarginRight = 5),
          (this.treeImageWidth = 10),
          (this.treeImageHeight = 10),
          (this.treePreventParentUsage = !1),
          (this.timeFormat = "Auto"),
          (this.timeline = null),
          (this.useEventBoxes = "Always"),
          (this.viewType = "Resources"),
          (this.visible = !0),
          (this.watchWidthChanges = !0),
          (this.weekStarts = "Auto"),
          (this.width = null),
          (this.xssProtection = "Enabled"),
          (this.zoomLevels = []),
          (this.zoomPosition = "left"),
          (this.eventClickHandling = "Enabled"),
          (this.eventDeleteHandling = "Disabled"),
          (this.eventHoverHandling = "Bubble"),
          (this.eventDoubleClickHandling = "Disabled"),
          (this.eventEditHandling = "Update"),
          (this.eventMoveHandling = "Update"),
          (this.eventResizeHandling = "Update"),
          (this.eventRightClickHandling = "ContextMenu"),
          (this.eventSelectHandling = "Update"),
          (this.resourceCollapseHandling = "Enabled"),
          (this.resourceExpandHandling = "Enabled"),
          (this.rowClickHandling = "Enabled"),
          (this.rowDoubleClickHandling = "Disabled"),
          (this.rowRightClickHandling = "ContextMenu"),
          (this.rowCreateHandling = "Disabled"),
          (this.rowEditHandling = "Update"),
          (this.rowHeaderColumnResizedHandling = "Update"),
          (this.rowSelectHandling = "Update"),
          (this.rowMoveHandling = "Disabled"),
          (this.rowMoveSameLevelOnly = !1);
        this.timeHeaderClickHandling = "Enabled";
        (this.timeHeaderRightClickHandling = "Enabled"),
          (this.timeRangeClickHandling = "Enabled"),
          (this.timeRangeDoubleClickHandling = "Disabled"),
          (this.timeRangeSelectedHandling = "Enabled"),
          (this.timeRangeRightClickHandling = "ContextMenu"),
          (this.timeRangeSelectingStartEndEnabled = !1),
          (this.timeRangeSelectingStartEndFormat = "MMMM d, yyyy"),
          (this.eventMovingStartEndEnabled = !1),
          (this.eventMovingStartEndFormat = "MMMM d, yyyy"),
          (this.eventResizingStartEndEnabled = !1),
          (this.eventResizingStartEndFormat = "MMMM d, yyyy"),
          "function" == typeof DayPilot.Bubble
            ? (this.bubble = new DayPilot.Bubble())
            : (this.bubble = null),
          (this.cellBubble = null),
          (this.resourceBubble = null),
          (this.linkBubble = null),
          (this.groupBubble = null),
          (this.contextMenu = null),
          (this.contextMenuResource = null),
          (this.contextMenuSelection = null),
          (this.contextMenuLink = null),
          DayPilot.browser.ie &&
            ((this.scrollDelayCells = 100), (this.scrollDelayFloats = 100)),
          1 === A.api &&
            ((this.onEventMove = function () {}),
            (this.onEventResize = function () {}),
            (this.onResourceExpand = function () {}),
            (this.onResourceCollapse = function () {})),
          (this.onEventClick = null),
          (this.onEventClicked = null),
          (this.onEventEdit = null),
          (this.onEventEdited = null),
          (this.onEventEditKeyDown = null),
          (this.onEventMove = null),
          (this.onEventMoved = null),
          (this.onEventMoving = null),
          (this.onEventResize = null),
          (this.onEventResized = null),
          (this.onEventResizing = null),
          (this.onEventRightClick = null),
          (this.onEventRightClicked = null),
          (this.onEventMouseEnter = null),
          (this.onEventMouseLeave = null),
          (this.onEventMouseOver = null),
          (this.onEventMouseOut = null),
          (this.onIncludeTimeCell = null),
          (this.onKeyboardFocusChange = null),
          (this.onKeyboardFocusChanged = null),
          (this.onLinkClick = null),
          (this.onLinkClicked = null),
          (this.onLinkCreate = null),
          (this.onLinkCreated = null),
          (this.onRowClick = null),
          (this.onRowClicked = null),
          (this.onRowDoubleClick = null),
          (this.onRowDoubleClicked = null),
          (this.onRowMouseOver = null),
          (this.onRowMouseOut = null),
          (this.onRowRightClick = null),
          (this.onRowRightClicked = null),
          (this.onTimeHeaderClick = null),
          (this.onTimeHeaderClicked = null),
          (this.onTimeHeaderRightClick = null),
          (this.onTimeHeaderRightClicked = null),
          (this.onTimeRangeClick = null),
          (this.onTimeRangeClicked = null),
          (this.onTimeRangeDoubleClick = null),
          (this.onTimeRangeDoubleClicked = null),
          (this.onTimeRangeSelect = null),
          (this.onTimeRangeSelected = null),
          (this.onTimeRangeSelecting = null),
          (this.onTimeRangeRightClick = null),
          (this.onTimeRangeRightClicked = null),
          (this.onRowHeaderColumnResized = null),
          (this.onRowHeaderResized = null),
          (this.onCellMouseEnter = null),
          (this.onCellMouseLeave = null),
          (this.onCellMouseOver = null),
          (this.onCellMouseOut = null),
          (this.onGridMouseDown = null),
          (this.onBeforeCellRender = null),
          (this.onBeforeCellDomAdd = null),
          (this.onBeforeCellDomRemove = null),
          (this.onBeforeCornerRender = null),
          (this.onBeforeCornerDomAdd = null),
          (this.onBeforeCornerDomRemove = null),
          (this.onBeforeEventRender = null),
          (this.onBeforeEventDomAdd = null),
          (this.onBeforeEventDomRemove = null),
          (this.onBeforeGridLineRender = null),
          (this.onBeforeTimeHeaderRender = null),
          (this.onBeforeTimeHeaderDomAdd = null),
          (this.onBeforeTimeHeaderDomRemove = null),
          (this.onBeforeResHeaderRender = null),
          (this.onBeforeRowHeaderRender = null),
          (this.onBeforeRowHeaderColumnRender = null),
          (this.onBeforeRowHeaderDomAdd = null),
          (this.onBeforeRowHeaderDomRemove = null),
          (this.onBeforeCellExport = null),
          (this.onBeforeCornerExport = null),
          (this.onBeforeEventExport = null),
          (this.onBeforeTimeHeaderExport = null),
          (this.onBeforeRowHeaderExport = null),
          (this.onAfterEventRender = null),
          (this.onAfterCellRender = null),
          (this.onAfterEventEditRender = null),
          (this.onEventFilter = null),
          (this.onRowFilter = null),
          (this.onRectangleSelecting = null),
          (this.onRectangleSelect = null),
          (this.onRectangleSelected = null),
          (this.onDimensionsChanged = null),
          (this.onAfterUpdate = null),
          (this.ta = 0),
          (this.xk = !0),
          (this.yk = !1),
          (this.zk = !1),
          (this.Ak = !1),
          (this.Bk = -1),
          (this.Ck = -1),
          (this.wa = !1),
          (this.Dk = -1),
          (this.Ek = !1),
          (this.Fk = !0),
          (this.rowlist = x()),
          (this.itline = x()),
          (this.events = {}),
          (this.cells = {}),
          (this.elements = {}),
          (this.elements.events = []),
          (this.elements.bars = []),
          (this.elements.text = []),
          (this.elements.cells = []),
          (this.elements.linesVertical = []),
          (this.elements.separators = []),
          (this.elements.range = []),
          (this.elements.breaks = []),
          (this.elements.links = []),
          (this.elements.linkpoints = []),
          (this.elements.rectangle = []),
          (this.elements.hover = []),
          (this.elements.timeHeader = []),
          (this.ra = {}),
          (this.ra.cells = []),
          (this.ra.Gk = {}),
          (this.ra.Hk = {}),
          (this.ra.timeHeaderGroups = []),
          (this.ra.timeHeader = {}),
          (this.ra.pixels = []),
          (this.ra.breaks = []),
          (this.ra.events = []),
          (this.ra.Ik = []),
          (this.clientState = {}),
          (this.members = {}),
          (this.members.obsolete = [
            "Init",
            "cleanSelection",
            "cssClassPrefix",
            "getHScrollPosition",
            "setHScrollPosition",
            "getVScrollPosition",
            "setVScrollPosition",
            "showBaseTimeHeader",
          ]),
          (this.members.ignoreFilter = function (e) {
            return 0 === e.indexOf("div");
          }),
          (this.members.ignore = [
            "internal",
            "nav",
            "debug",
            "temp",
            "elements",
            "members",
            "cellProperties",
            "itline",
            "rowlist",
            "timeHeader",
            "timeouts",
            "rowHeaderCols",
          ]),
          (this.members.noCssOnly = []),
          (this.xa = "javasc"),
          (this.nav = {}),
          (this.Ta = function (e, t) {
            var e = JSON.parse(e);
            if (((A.onScrollCalled = !1), e.VsUpdate)) {
              var n = document.createElement("input");
              (n.type = "hidden"),
                (n.name = A.id + "_vsupdate"),
                (n.id = n.name),
                (n.value = e.VsUpdate),
                (A.Ni.innerHTML = ""),
                A.Ni.appendChild(n);
            }
            if (e.CallBackRedirect)
              return void (document.location.href = e.CallBackRedirect);
            if (e.BubbleGuid) {
              var i = e.BubbleGuid,
                a = this.bubbles[i];
              return (
                delete this.bubbles[i],
                A.nb(),
                "undefined" != typeof e.Result.BubbleHTML &&
                  a &&
                  a.updateView(e.Result.BubbleHTML, a),
                void A.Jk()
              );
            }
            if ("function" == typeof A.onCallBackResult) {
              var r = {};
              if (
                ((r.result = e),
                (r.preventDefault = function () {
                  r.preventDefault.value = !0;
                }),
                A.onCallBackResult(r),
                r.preventDefault.value)
              )
                return (
                  A.uc(),
                  A.nb(),
                  A.Jb(),
                  e.Message && A.message && A.message(e.Message),
                  A.ob(e.CallBackData, !0),
                  A.Jk(),
                  void A.Ja()
                );
            }
            return (
              "undefined" != typeof DayPilot.Bubble &&
                DayPilot.Bubble.hideActive(),
              "undefined" != typeof e.ClientState &&
                (null === e.ClientState
                  ? (A.clientState = {})
                  : (A.clientState = e.ClientState)),
              "None" === e.UpdateType
                ? (A.nb(),
                  A.Jk(),
                  e.Message && A.message(e.Message),
                  void A.ob(e.CallBackData, !0))
                : ("undefined" != typeof e.TagFields &&
                    (A.tagFields = e.TagFields),
                  "undefined" != typeof e.SortDirections &&
                    (A.sortDirections = e.SortDirections),
                  (A.ra.drawArea = null),
                  "Full" === e.UpdateType &&
                    ((A.resources = e.Resources),
                    (A.colors = e.Colors),
                    (A.palette = e.Palette),
                    (A.dirtyColors = e.DirtyColors),
                    (A.cellProperties = e.CellProperties),
                    (A.cellConfig = e.CellConfig),
                    (A.separators = e.Separators),
                    (A.timeline = e.Timeline),
                    (A.timeHeader = e.TimeHeader),
                    (A.timeHeaders = e.TimeHeaders),
                    "undefined" != typeof e.Links && (A.links.list = e.Links),
                    "undefined" != typeof e.RowHeaderColumns &&
                      (A.rowHeaderColumns = e.RowHeaderColumns),
                    (A.startDate = e.StartDate
                      ? new DayPilot.Date(e.StartDate)
                      : A.startDate),
                    (A.days = e.Days ? e.Days : A.days),
                    (A.cellDuration = e.CellDuration
                      ? e.CellDuration
                      : A.cellDuration),
                    (A.cellGroupBy = e.CellGroupBy
                      ? e.CellGroupBy
                      : A.cellGroupBy),
                    (A.cellWidth = e.CellWidth ? e.CellWidth : A.cellWidth),
                    "undefined" != typeof e.CellWidthSpec &&
                      (A.cellWidthSpec = e.CellWidthSpec),
                    "undefined" != typeof e.Scale && (A.scale = e.Scale),
                    (A.viewType = e.ViewType ? e.ViewType : A.viewType),
                    "undefined" != typeof e.ShowNonBusiness &&
                      (A.showNonBusiness = e.ShowNonBusiness),
                    (A.businessBeginsHour = e.BusinessBeginsHour
                      ? e.BusinessBeginsHour
                      : A.businessBeginsHour),
                    (A.businessEndsHour = e.BusinessEndsHour
                      ? e.BusinessEndsHour
                      : A.businessEndsHour),
                    "undefined" != typeof e.DynamicLoading &&
                      (A.dynamicLoading = e.DynamicLoading),
                    "undefined" != typeof e.TreeEnabled &&
                      (A.treeEnabled = e.TreeEnabled),
                    (A.locale = e.Locale ? e.Locale : A.locale),
                    "undefined" != typeof e.TimeZone &&
                      (A.timeZone = e.TimeZone),
                    (A.timeFormat = e.TimeFormat ? e.TimeFormat : A.timeFormat),
                    (A.rowHeaderCols = e.RowHeaderCols
                      ? e.RowHeaderCols
                      : A.rowHeaderCols),
                    "undefined" != typeof e.DurationBarMode &&
                      (A.durationBarMode = e.DurationBarMode),
                    "undefined" != typeof e.CornerHTML &&
                      (A.cornerHtml = e.CornerHTML),
                    (A.hashes = e.Hashes),
                    A.Kk(),
                    A.Lk(),
                    A.Mk(),
                    A.sb(),
                    A.Nk()),
                  "Scroll" !== e.Action && A.tb(e.Events),
                  "Full" === e.UpdateType && (A.Ok(), A.Pk(), A.Qk(), A.Rk()),
                  A.Sk(),
                  A.D(),
                  A.Hb(),
                  (A.ra.drawArea = null),
                  "Scroll" !== e.Action
                    ? (A.Tk(),
                      A.ub(),
                      ("Auto" !== A.heightSpec && "Max" !== A.heightSpec) ||
                        A.Bb(),
                      A.Uk(),
                      A.Ya(),
                      A.Vk(),
                      A.multiselect.clear(!0),
                      A.multiselect.Wk(e.SelectedEvents),
                      A.Xk(),
                      A.Yk(),
                      A.Fb())
                    : (A.multiselect.clear(!0),
                      A.multiselect.Wk(e.SelectedEvents),
                      A.Zk(e.Events)),
                  "HoldForever" !== A.timeRangeSelectedHandling && A.$k(),
                  "Full" === e.UpdateType &&
                    (A.setScroll(e.ScrollX, e.ScrollY), A.Gj()),
                  A._k(),
                  A.uc(),
                  e.SelectedRows && A.al(e.SelectedRows),
                  A.nb(),
                  "Full" === e.UpdateType &&
                    navigator.appVersion.indexOf("MSIE 7.") !== -1 &&
                    window.setTimeout(function () {
                      A.Ok(), A.Pk(), A.Bb();
                    }, 0),
                  A.Jb(),
                  e.Message && A.message && A.message(e.Message),
                  A.ob(e.CallBackData, !0),
                  A.Jk(),
                  A.Ja(),
                  void (
                    "Full" !== e.UpdateType ||
                    "Scroll" === e.Action ||
                    A.onScrollCalled ||
                    setTimeout(function () {
                      A.bl();
                    }, 0)
                  ))
            );
          }),
          (this.uc = function () {
            if (A.cl && A.cl.dl) {
              var e = A.cl.dl;
              e.parentNode.removeChild(e), (A.cl.dl = null);
            }
          }),
          (this.ob = function (e, t) {
            var n = function (e, t) {
              return function () {
                if (A.Kb()) {
                  if ("function" == typeof A.onAfterRender) {
                    var n = {};
                    (n.isCallBack = t),
                      (n.isScroll = !1),
                      (n.data = e),
                      A.onAfterRender(n);
                  }
                } else A.afterRender && A.afterRender(e, t);
              };
            };
            window.setTimeout(n(e, t), 0);
          }),
          (this.scrollTo = function (e, t, n) {
            if (A.infiniteScrollingEnabled) {
              if (A.va) {
                var i = A.getPixels(A.visibleEnd()).left,
                  a = i - A.infiniteScrollingMargin - A.nav.scroll.clientWidth,
                  r = A.getDate(a, !0, !0);
                if (!u(A.visibleStart(), r, e, e))
                  return void A.infinite.scrollTo(e);
              }
              return void A.fl(e, t, n);
            }
            A.gl.enabled
              ? ((A.gl.scrollToRequested = e),
                setTimeout(function () {
                  var e = A.gl.scrollToRequested;
                  e && ((A.hl = null), A.fl(e, t, n));
                }, 0))
              : A.fl(e, t, n);
          }),
          (this.fl = function (e, t, n) {
            if (e) {
              if (!A.va)
                return void (A.hl = { date: e, animated: t, position: n });
              if ("Days" === A.viewType) {
                var i = new DayPilot.Date(e),
                  a = A.il(i);
                if (!a) return;
                setTimeout(function () {
                  var e = a.top - A.jl.top.height;
                  A.nav.scroll.scrollTop = e;
                }, 100);
                var r = i.getTimePart();
                e = A.visibleStart().getDatePart().addTime(r);
              }
              var o;
              if (e instanceof DayPilot.Date) o = this.getPixels(e).left;
              else if ("string" == typeof e)
                o = this.getPixels(new DayPilot.Date(e)).left;
              else {
                if ("number" != typeof e)
                  throw new DayPilot.Exception(
                    "Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object"
                  );
                o = e;
              }
              var s = A.kl.clientWidth,
                l = A.nav.scroll.clientWidth;
              switch (((n = n || "left"), n.toLowerCase())) {
                case "left":
                  break;
                case "middle":
                  o -= l / 2;
                  break;
                case "right":
                  o -= l;
              }
              if ((o < 0 && (o = 0), o > s - l && (o = s - l), !t))
                return void A.ll(o);
              var d = Math.abs(A.nav.scroll.scrollLeft - o),
                c = d / s,
                u = 50;
              if ("number" == typeof t) u = t;
              else if ("string" == typeof t)
                switch (t) {
                  case "fast":
                    u = 30;
                    break;
                  case "normal":
                    u = 50;
                    break;
                  case "slow":
                    u = 100;
                    break;
                  case "linear":
                    u = Math.floor(100 * c);
                }
              c > 0.6 && (u = Math.min(u, 80)), A.ml(o, u);
            }
          }),
          (this.ml = function (e, t) {
            function n(e) {
              var t = e.next();
              return "undefined" == typeof t
                ? void (e.finished && e.finished())
                : (A.setScrollX(t),
                  window.clearTimeout(A.refreshTimeout),
                  void setTimeout(function () {
                    n(e);
                  }, e.delay));
            }
            var i = {};
            (i.steps = []),
              (i.index = 0),
              (i.delay = 10),
              (i.next = function () {
                var e = i.steps[i.index];
                return (i.index += 1), e;
              }),
              (i.finished = function () {
                A.bl();
              });
            for (
              var a = A.getScrollX(), t = t || 100, r = e - a, o = 0;
              o < t;
              o++
            ) {
              var s = o / t,
                l = (2 * (s - 0.5)) / (Math.pow(2 * (s - 0.5), 2) + 1) + 0.5;
              i.steps.push(a + r * l);
            }
            i.steps.push(e), n(i);
          }),
          (this.scrollToResource = function (e) {
            DayPilot.complete(function () {
              var t;
              if ("string" == typeof e || "number" == typeof e) t = A.nl(e);
              else {
                if (!(e instanceof DayPilot.Row))
                  throw new DayPilot.Exception(
                    "Invalid scrollToResource() argument: id or DayPilot.Row expected"
                  );
                t = A.nl(e.id);
              }
              t &&
                setTimeout(function () {
                  var e = t.top;
                  A.nav.scroll.scrollTop = e;
                }, 100);
            });
          }),
          (this.ol = function () {
            if (this.floatingTimeHeaders && this.timeHeader) {
              var e = A.Da();
              if (e) {
                A.ql();
                for (
                  var t = e.pixels.left + M.rl,
                    n = e.pixels.right + M.rl + e.sw,
                    i = [],
                    a = 0;
                  a < this.timeHeader.length;
                  a++
                )
                  for (var r = 0; r < this.timeHeader[a].length; r++) {
                    var o = this.timeHeader[a][r],
                      s = o.left,
                      l = o.left + o.width,
                      d = null;
                    if (
                      (s < t &&
                        t < l &&
                        ((d = {}),
                        (d.x = r),
                        (d.y = a),
                        (d.marginLeft = t - s),
                        (d.marginRight = 0),
                        (d.div = A.ra.timeHeader[r + "_" + a]),
                        i.push(d)),
                      s < n && n < l)
                    ) {
                      d ||
                        ((d = {}),
                        (d.x = r),
                        (d.y = a),
                        (d.marginLeft = 0),
                        (d.div = A.ra.timeHeader[r + "_" + a]),
                        i.push(d)),
                        (d.marginRight = l - n);
                      break;
                    }
                  }
                for (var c = 0; c < i.length; c++) {
                  var d = i[c];
                  A.sl(d.div, d.marginLeft, d.marginRight);
                }
              }
            }
          }),
          (this._k = function () {
            A.ol(), A.ul();
          }),
          (this.vl = {});
        var H = A.vl;
        (H.wl = function (e, t, n, i) {
          var a = e,
            r = e + n,
            o = t,
            s = t + i;
          return x(A.elements.events).filter(function (e) {
            var t = e.event,
              n = t.part.left,
              i = t.part.left + t.part.width,
              l = A.rowlist[t.part.dayIndex],
              d = l.top + t.part.top,
              c = d + t.part.height;
            if (u(n, i, a, r) && u(d, c, o, s)) return !0;
          });
        }),
          (H.Yj = function (e) {
            var t = [],
              e = e || "All",
              n = A.Da();
            if (!n) return x(t);
            for (
              var i = n.pixels.left, a = n.pixels.right, r = 0;
              r < A.elements.events.length;
              r++
            ) {
              var o = A.elements.events[r],
                s = o.event,
                l = s.part.left,
                d = s.part.left + s.part.width;
              switch (e) {
                case "Left":
                  l < i && i < d && t.push(o);
                  break;
                case "All":
                  u(l, d, i, a) && t.push(o);
              }
            }
            return x(t).addProps({ area: n });
          }),
          (this.ul = function () {
            if (this.floatingEvents) {
              var e = H.Yj("Left");
              A.xl(),
                e
                  .filter(function (e) {
                    return "Milestone" !== e.event.data.type;
                  })
                  .forEach(function (t) {
                    var n = t.event,
                      i = e.area.pixels.left,
                      a = n.part.left,
                      r = i - a;
                    A.yl(t, r, 0);
                  });
            }
          }),
          (this.elements.sections = []),
          (this.elements.hsections = []),
          (this.sl = function (e, t, n) {
            var i = c();
            i.setAttribute("unselectable", "on"),
              (i.className = A.ca("_timeheader_float")),
              (i.style.position = "absolute"),
              (i.style.left = t + "px"),
              (i.style.right = n + "px"),
              (i.style.top = "0px"),
              (i.style.bottom = "0px"),
              (i.style.overflow = "hidden");
            var a = c();
            (a.className = A.ca("_timeheader_float_inner")),
              a.setAttribute("unselectable", "on");
            var r = e.cell.th;
            if (
              ((a.innerHTML = A.Ka(r.text, r.innerHTML)),
              r.fontColor && (a.style.color = r.fontColor),
              i.appendChild(a),
              (e.section = i),
              e.insertBefore(i, e.firstChild.nextSibling),
              e.domArgs && e.domArgs.element)
            ) {
              var o = e.firstChild && e.firstChild.firstChild;
              o && (o.style.display = "none");
            } else e.firstChild.innerHTML = "";
            this.elements.hsections.push(e);
          }),
          (this.ql = function () {
            for (var e = 0; e < this.elements.hsections.length; e++) {
              var t = this.elements.hsections[e],
                n = t.cell;
              if (n && t.firstChild)
                if (t.domArgs && t.domArgs.element) {
                  var i = t.firstChild && t.firstChild.firstChild;
                  i && (i.style.display = "");
                } else t.firstChild.innerHTML = A.Ka(n.th.text, n.th.innerHTML);
              C(t.section), (t.section = null);
            }
            this.elements.hsections = [];
          }),
          (this.yl = function (e, t, n) {
            var i = c();
            i.setAttribute("unselectable", "on"),
              (i.className = A.ca(G.eventFloat)),
              (i.style.position = "absolute"),
              (i.style.left = t + "px"),
              (i.style.right = n + "px"),
              (i.style.top = "0px"),
              (i.style.bottom = "0px"),
              (i.style.overflow = "hidden");
            var a = c();
            if (
              ((a.className = A.ca(G.eventFloatInner)),
              a.setAttribute("unselectable", "on"),
              (a.innerHTML = e.event.client.html()),
              i.appendChild(a),
              (e.section = i),
              e.insertBefore(i, e.firstChild.nextSibling),
              e.domArgs && e.domArgs.element)
            ) {
              var r = e && e.firstChild && e.firstChild.firstChild;
              r && (r.style.display = "none");
            } else e.firstChild.innerHTML = "";
            var o = e.event,
              s = o.cache || o.data,
              l = o.cache ? o.cache.areas : o.data.areas;
            (l = l || []), s.fontColor && (a.style.color = s.fontColor);
            var d = {
              offsetX: A.zl(a),
              eventDiv: e,
              areas: l.filter(function (e) {
                return !(e.start || e.end || e.nonFloating);
              }),
            };
            DayPilot.Areas.attach(i, e.event, d),
              DayPilot.Areas.disable(e),
              this.elements.sections.push(e);
          }),
          (this.Al = null),
          (this.zl = function (e) {
            return (
              null === A.Al &&
                (A.Al = parseInt(
                  new DayPilot.StyleReader(e).get("padding-left")
                )),
              A.Al
            );
          }),
          (this.xl = function () {
            for (var e = 0; e < this.elements.sections.length; e++) {
              var t = this.elements.sections[e],
                n = t.event;
              if (n)
                if (t.domArgs && t.domArgs.element) {
                  var i = t && t.firstChild && t.firstChild.firstChild;
                  i && (i.style.display = "");
                } else t.firstChild.innerHTML = n.client.html();
              C(t.section), DayPilot.Areas.enable(t), (t.section = null);
            }
            this.elements.sections = [];
          }),
          (this.setScrollX = function (e) {
            A.gl.enabled
              ? ((A.gl.scrollXRequested = e),
                setTimeout(function () {
                  var e = A.gl.scrollXRequested;
                  "number" == typeof e && A.ll(e);
                }, 0))
              : A.ll(e);
          }),
          (this.ll = function (e) {
            var t = A.nav.scroll,
              n = A.Bl();
            t.clientWidth + e > n && (e = n - t.clientWidth),
              (A.divTimeScroll.scrollLeft = e),
              (t.scrollLeft = e);
          }),
          (this.setScrollY = function (e) {
            A.gl.enabled
              ? ((A.gl.scrollYRequested = e),
                setTimeout(function () {
                  var e = A.gl.scrollYRequested;
                  "number" == typeof e && A.Cl(e);
                }, 0))
              : A.Cl(e);
          }),
          (this.Cl = function (e) {
            var t = A.nav.scroll,
              n = A.Dk;
            t.clientHeight + e > n && (e = n - t.clientHeight),
              (A.divResScroll.scrollTop = e),
              (t.scrollTop = e);
          }),
          (this.setScroll = function (e, t) {
            A.setScrollX(e), A.setScrollY(t);
          }),
          (this.Dl = function () {
            return A.El() + Z.Fl() - 1;
          }),
          (this.message = function (e, t) {
            if (null !== e && A.va) {
              var n,
                i = {};
              "object" == typeof arguments[1]
                ? ((i = arguments[1]), (n = i.delay))
                : (n = t);
              var a = "";
              (a = i.rawHtml ? e : DayPilot.Util.escapeHtml(e)),
                (n = n || this.messageHideAfter || 2e3);
              var r,
                o = A.Gl() + 1,
                s = A.Dl(),
                l = DayPilot.sw(A.nav.scroll) + 1,
                d = DayPilot.sh(A.nav.scroll);
              if (this.nav.message) r = A.nav.message;
              else {
                (r = c()),
                  (r.style.position = "absolute"),
                  (r.style.left = s + "px"),
                  (r.style.right = l + "px"),
                  (r.style.display = "none"),
                  DayPilot.rePassive(r, DayPilot.touch.start, function (e) {
                    (A.nav.message.style.display = "none"), e.stopPropagation();
                  }),
                  (r.onmousemove = function () {
                    A.messageHideOnMouseOut &&
                      r.messageTimeout &&
                      !r.status &&
                      clearTimeout(r.messageTimeout);
                  }),
                  (r.onmouseout = function () {
                    A.messageHideOnMouseOut &&
                      "none" !== A.nav.message.style.display &&
                      (r.messageTimeout = setTimeout(A.Wb, 500));
                  });
                var u = c();
                (u.onclick = function () {
                  A.nav.message.style.display = "none";
                }),
                  (u.className = A.ca("_message")),
                  r.appendChild(u);
                var h = c();
                (h.style.position = "absolute"),
                  (h.className = A.ca("_message_close")),
                  (h.onclick = function () {
                    A.nav.message.style.display = "none";
                  }),
                  r.appendChild(h),
                  this.nav.top.appendChild(r),
                  (this.nav.message = r);
              }
              var v = function () {
                if (A.nav.message) {
                  var e = A.nav.message.firstChild;
                  (e.className = A.ca("_message")),
                    i.cssClass && f(e, i.cssClass),
                    (e.innerHTML = a);
                  var t = DayPilot.sw(A.nav.scroll);
                  A.nav.message.style.right = t + "px";
                  var s = A.messageBarPosition || "Top";
                  "Bottom" === s
                    ? ((A.nav.message.style.bottom = d + "px"),
                      (A.nav.message.style.top = ""))
                    : "Top" === s &&
                      ((A.nav.message.style.bottom = ""),
                      (A.nav.message.style.top = o + "px"));
                  var l = function () {
                    r.messageTimeout = setTimeout(A.Wb, n);
                  };
                  DayPilot.fade(A.nav.message, 0.2, l);
                }
              };
              clearTimeout(r.messageTimeout),
                "none" !== this.nav.message.style.display
                  ? DayPilot.fade(A.nav.message, -0.2, v)
                  : v();
            }
          }),
          (this.Wb = function () {
            if (A.nav && A.nav.message) {
              var e = function () {
                A.nav.message.style.display = "none";
              };
              DayPilot.fade(A.nav.message, -0.2, e);
            }
          }),
          (this.Hl = function () {
            A.nav && A.nav.message && (A.nav.message.style.display = "none");
          }),
          (this.message.show = function (e) {
            A.message(e);
          }),
          (this.message.hide = function () {
            A.Wb();
          }),
          (this.Il = null),
          (this.Bb = function () {
            if (this.nav.scroll) {
              !(function () {
                var e = A.Bl();
                (A.kl.style.height = A.Dk + "px"),
                  (A.kl.style.width = e + "px"),
                  "Auto" !== A.cellWidthSpec || A.Jl
                    ? e > A.nav.scroll.clientWidth
                      ? (A.nav.scroll.style.overflowX = "auto")
                      : (A.nav.scroll.style.overflowX = "hidden")
                    : ((A.nav.scroll.style.overflowX = "hidden"),
                      (A.nav.scroll.scrollLeft = 0));
              })();
              var e = "None" === A.timeHeaderPosition ? 0 : 1;
              null !== this.Il &&
                ((this.nav.top.style.border = this.Il), (this.Il = null)),
                ("Parent100Pct" !== this.heightSpec &&
                  "Max100Pct" !== this.heightSpec) ||
                  ((this.nav.top.style.height = "100%"),
                  this.hideBorderFor100PctHeight &&
                    ((this.Il = this.nav.top.style.border),
                    (this.nav.top.style.border = "0 none")),
                  (this.height =
                    parseInt(this.nav.top.clientHeight, 10) - this.Gl() - e)),
                (this.nav.scroll.style.height = "30px");
              var t = this.Re(),
                n = t + this.Gl() + e;
              if (
                (t >= 0 &&
                  ((this.nav.scroll.style.height = t + "px"),
                  (this.Kl.style.height = t + "px")),
                this.nav.divider &&
                  ((!n || isNaN(n) || n < 0) && (n = 0),
                  (this.nav.divider.style.height = n + "px")),
                "Parent100Pct" !== this.heightSpec &&
                  (this.nav.top.style.height = n + "px"),
                A.nav.resScrollSpace)
              ) {
                var i = 30 + A.jl.bottom.height;
                "Auto" === A.heightSpec && (i = DayPilot.sh(A.nav.scroll)),
                  (A.nav.resScrollSpace.style.height = i + "px");
              }
              for (var a = 0; a < this.elements.separators.length; a++)
                this.elements.separators[a].style.height = this.Dk + "px";
              for (var a = 0; a < this.elements.linesVertical.length; a++)
                this.elements.linesVertical[a].style.height = this.Dk + "px";
              A.Ll(), A.Ml();
            }
          }),
          (this.Lk = function () {
            (this.startDate = new DayPilot.Date(this.startDate).getDatePart()),
              (this.ra.pixels = []),
              (this.itline = x());
            var e = "Auto" === this.cellWidthSpec;
            if (
              ((function () {
                if (e) {
                  var t = 0;
                  A.ia() && A.timeline
                    ? (t = A.timeline.length)
                    : "Manual" === A.scale
                    ? (t = A.timeline.length)
                    : (A.Nl(), (t = A.itline.length), (A.itline = x()));
                  var n = A.Ol();
                  if (t > 0 && n > 0) {
                    var i = n / t;
                    (A.cellWidth = p(i, A.cellWidthMin)),
                      (A.Jl = i < A.cellWidthMin);
                  }
                }
              })(),
              this.ia() && this.timeline)
            ) {
              if (this.timeline) {
                this.itline = x();
                for (
                  var t = null, n = 0, i = 0;
                  i < this.timeline.length;
                  i++
                ) {
                  var a = this.timeline[i],
                    r = {};
                  if (
                    ((r.start = new DayPilot.Date(a.start)),
                    (r.end = a.end
                      ? new DayPilot.Date(a.end)
                      : r.start.addMinutes(this.cellDuration)),
                    a.width)
                  )
                    (r.left = a.left || n),
                      (r.width = a.width || this.cellWidth),
                      (n += r.width);
                  else {
                    var o = Math.floor(n + this.cellWidth),
                      s = o - Math.floor(n);
                    (r.left = Math.floor(n)),
                      (r.width = s),
                      (n += this.cellWidth);
                  }
                  (r.breakBefore = t && t.ticks !== r.start.ticks),
                    (t = r.end),
                    this.itline.push(r);
                }
              }
              e && this.Pl();
            } else {
              if (((this.timeHeader = []), "Manual" === this.scale)) {
                this.itline = x();
                for (
                  var n = 0, t = null, i = 0;
                  this.timeline && i < this.timeline.length;
                  i++
                ) {
                  var a = this.timeline[i],
                    r = {};
                  if (
                    ((r.start = new DayPilot.Date(a.start)),
                    (r.end = a.end
                      ? new DayPilot.Date(a.end)
                      : r.start.addMinutes(this.cellDuration)),
                    t && r.start.ticks < t.ticks)
                  )
                    throw new DayPilot.Exception(
                      "The timeline must be sequential"
                    );
                  var l = a.width || this.cellWidth,
                    o = Math.floor(n + l),
                    s = o - Math.floor(n);
                  (r.left = Math.floor(n)),
                    (r.width = s),
                    (n += l),
                    (r.breakBefore = t && t.ticks !== r.start.ticks),
                    (t = r.end),
                    this.itline.push(r);
                }
              } else this.Nl();
              this.Ql();
            }
          }),
          (this.infinite = {}),
          (this.infinite.shiftStart = function (e) {
            M.Rl(e);
          }),
          (this.infinite.scrollTo = function (e) {
            M.Sl(e);
          }),
          (this.Tl = {});
        var M = this.Tl;
        (M.rl = 0),
          (M.s = !1),
          (M.Ul = function () {
            A.Vl().forEach(function (e, t) {
              (e.start = A.Tb()), (e.data = null), A.Wl(e.index, e.grid);
            });
          }),
          (M.Xl = function () {
            return A.infiniteScrollingEnabled && !A.ia();
          }),
          (M.Sl = function (e) {
            var e = new DayPilot.Date(e),
              t = e.addDays(-A.infiniteScrollingStepDays).getDatePart(),
              n = new DayPilot.Duration(
                t.getTime() - A.startDate.getDatePart().getTime()
              ).totalDays();
            M.Rl(n, e);
          }),
          (M.Rl = function (e, t) {
            var n;
            M.s = !0;
            var i = A.startDate,
              a = A.startDate.addDays(e);
            e > 0 && (n = -A.getPixels(a).left),
              (A.startDate = A.startDate.addDays(e)),
              (A.itline = x()),
              (A.ra.pixels = []),
              (A.Yl = {}),
              A.Nl(),
              M.Ul(),
              e < 0 && (n = A.getPixels(i).left),
              (A.timeHeader = []),
              A.Ql(),
              A.Rk(),
              (A.cellProperties = {}),
              A.Uk(),
              A.Vk(),
              A.tb(),
              A.Ya(),
              A.Sk(),
              A.Tk(),
              A.Bb(),
              "undefined" != typeof t
                ? (A.scrollTo(new DayPilot.Date(t)), A.bl())
                : (A.nav.scroll.scrollLeft += n),
              A.Yk(),
              A.Fb(),
              (M.s = !1);
          }),
          (this.Nl = function () {
            !A.va &&
              M.Xl() &&
              (this.startDate = this.startDate.addDays(
                -this.infiniteScrollingStepDays
              ));
            for (
              var e =
                  "Days" !== this.viewType
                    ? this.startDate.addDays(this.days)
                    : this.startDate.addDays(1),
                t = this.startDate,
                n = this.Zl(t),
                i = !1,
                a = 0,
                r = null;
              n.ticks <= e.ticks && n.ticks > t.ticks;

            ) {
              var o = t,
                s = n;
              A.showNonBusinessForceHours &&
                "Day" == A.scale &&
                ((o = t.addHours(A.businessBeginsHour)),
                (s = t.addHours(A.businessEndsHour)));
              var l = this.$l(o, s, !0);
              if (!l.cell.start || !l.cell.end)
                throw new DayPilot.Exception(
                  "Invalid timeline cell start/end: start and/or end not specified"
                );
              if (
                ((l.cell.start = new DayPilot.Date(l.cell.start)),
                (l.cell.end = new DayPilot.Date(l.cell.end)),
                l.cell.start >= l.cell.end)
              )
                throw new DayPilot.Exception(
                  "Invalid timeline cell start/end: end before start"
                );
              if (r && r.ticks > l.cell.start.ticks)
                throw new DayPilot.Exception(
                  "Invalid timeline cell start/end: overlapping cells"
                );
              i = !!(r && r.ticks < l.cell.start.ticks);
              var d = l.cell.width || A.cellWidth;
              if (l.cell.visible) {
                var c = Math.floor(a + d),
                  u = c - Math.floor(a),
                  h = {};
                (h.start = l.cell.start),
                  (h.end = l.cell.end),
                  (h.left = Math.floor(a)),
                  (h.width = u),
                  (h.breakBefore = i),
                  this.itline.push(h),
                  (a += d),
                  (r = l.cell.end);
              }
              (t = n), (n = this.Zl(t));
            }
          }),
          (this.Pl = function () {
            if (this.timeHeader)
              for (var e = 0; e < this.timeHeader.length; e++)
                for (var t = this.timeHeader[e], n = 0; n < t.length; n++) {
                  var i = t[n];
                  i.left = this.getPixels(new DayPilot.Date(i.start)).left;
                  var a = this.getPixels(new DayPilot.Date(i.end)).left,
                    r = a - i.left;
                  i.width = r;
                }
          }),
          (this.Ql = function () {
            var e = this.timeHeaders;
            if (
              (e || (e = [{ groupBy: this.cellGroupBy }, { groupBy: "Cell" }]),
              this.itline.isEmpty())
            ) {
              this.timeHeader = [];
              for (var t = 0; t < e.length; t++) this.timeHeader[t] = [];
            } else
              for (var n = A.Xd(), t = 0; t < e.length; t++) {
                var i = e[t].groupBy,
                  a = e[t].format;
                "Default" === i && (i = this.cellGroupBy);
                for (var r = [], o = this.Tb(); o.ticks < n.ticks; ) {
                  var s = {};
                  if (
                    ((s.start = o),
                    (s.end = this._l(s.start, i)),
                    s.start.ticks === s.end.ticks)
                  )
                    break;
                  s.left = this.getPixels(s.start).left;
                  var l = this.getPixels(s.end).left,
                    d = l - s.left;
                  if (
                    ((s.width = d),
                    (s.colspan = Math.ceil(d / (1 * this.cellWidth))),
                    "string" == typeof a
                      ? (s.text = s.start.toString(a, Z.Oc()))
                      : (s.text = this.bm(s, i)),
                    d > 0)
                  ) {
                    if ("function" == typeof this.onBeforeTimeHeaderRender) {
                      var c = {};
                      (c.start = s.start),
                        (c.end = s.end),
                        (c.text = s.text),
                        (c.html = null),
                        (c.toolTip = A.Ka(s.text)),
                        (c.backColor = null),
                        (c.fontColor = null),
                        (c.level = this.timeHeader.length),
                        (c.cssClass = null);
                      var u = {};
                      (u.header = c),
                        (u.control = A),
                        this.onBeforeTimeHeaderRender(u),
                        (s.innerHTML = A.Ka(c.text, c.html)),
                        (s.backColor = c.backColor),
                        (s.fontColor = c.fontColor),
                        (s.toolTip = c.toolTip),
                        (s.areas = c.areas),
                        (s.cssClass = c.cssClass);
                    }
                    r.push(s);
                  }
                  o = s.end;
                }
                this.timeHeader.push(r);
              }
          }),
          (this.$l = function (e, t) {
            var n = {};
            (n.start = e), (n.end = t), (n.visible = !0), (n.width = null);
            var i = {};
            if (((i.cell = n), "function" == typeof this.onIncludeTimeCell))
              return this.onIncludeTimeCell(i), i;
            if (this.showNonBusiness) return i;
            var a = "Days" === A.viewType;
            return (
              (i.cell.visible = this.isBusiness({ start: e, end: t }, a)), i
            );
          }),
          (this.getPixels = function (e) {
            var t = e.ticks,
              n = this.ra.pixels[t];
            if (n) return n;
            var i = 2218768416e5;
            if (0 === this.itline.length || t < this.itline[0].start.ticks) {
              var a = {};
              return (
                (a.cut = !1),
                (a.left = 0),
                (a.boxLeft = a.left),
                (a.boxRight = a.left),
                (a.i = null),
                a
              );
            }
            for (
              var r = this.cm(e), o = p(r.i - 1, 0), s = o;
              s < this.itline.length;
              s++
            ) {
              var l = this.itline[s],
                d = l.start.ticks,
                c = l.end.ticks;
              if (d < t && t < c) {
                var u = t - d,
                  a = {};
                (a.cut = !1),
                  (a.left = l.left + this.Ef(l, u)),
                  (a.boxLeft = l.left),
                  (a.boxRight = l.left + l.width),
                  (a.i = s);
                break;
              }
              if (d === t) {
                var a = {};
                (a.cut = !1),
                  (a.left = l.left),
                  (a.boxLeft = a.left),
                  (a.boxRight = a.left + l.width),
                  (a.i = s);
                break;
              }
              if (c === t) {
                var a = {};
                (a.cut = !1),
                  (a.left = l.left + l.width),
                  (a.boxLeft = a.left),
                  (a.boxRight = a.left),
                  (a.i = s + 1);
                break;
              }
              if (t < d && t > i) {
                var a = {};
                (a.cut = !0),
                  (a.left = l.left),
                  (a.boxLeft = a.left),
                  (a.boxRight = a.left),
                  (a.i = s);
                break;
              }
              i = c;
            }
            if (!a) {
              var h = this.itline[this.itline.length - 1],
                a = {};
              (a.cut = !0),
                (a.left = h.left + h.width),
                (a.boxLeft = a.left),
                (a.boxRight = a.left),
                (a.i = null);
            }
            return (this.ra.pixels[t] = a), a;
          }),
          (this.getDate = function (e, t, n) {
            var i = this.dm(e, n);
            if (!i) return null;
            var a = i.x,
              r = this.itline[a];
            if (!r) return null;
            var o = n && !t ? r.end : r.start;
            return t ? o.addTime(this.em(i.cell, i.offset)) : o;
          }),
          (this.dm = function (e, t) {
            if (0 === this.itline.length) return null;
            for (var n = 0, i = 0, a = 0; a < this.itline.length; a++) {
              var r = this.itline[a];
              if (((n += r.width || this.cellWidth), e < n || (t && e === n))) {
                var o = {};
                return (o.x = a), (o.offset = e - i), (o.cell = r), o;
              }
              i = n;
            }
            var r = A.itline.last(),
              o = {};
            return (
              (o.x = this.itline.length - 1),
              (o.offset = r.width || this.cellWidth),
              (o.cell = r),
              o
            );
          }),
          (this.fm = function (e) {
            return this.cm(e);
          }),
          (this.cm = function (e) {
            var t = new DayPilot.Date(e),
              n = 0,
              i = this.itline[0];
            if (t.ticks < i.start.ticks) {
              var a = {};
              return (
                (a.hidden = !0),
                (a.previous = null),
                (a.current = null),
                (a.next = this.itline[0]),
                (a.i = -1),
                a
              );
            }
            var r = this.itline.length - 1,
              o = this.itline[r];
            if (t.ticks > o.end.ticks) {
              var a = {};
              return (
                (a.past = !0),
                (a.previous = this.itline[this.itline.length - 1]),
                (a.i = this.itline.length),
                a
              );
            }
            if (t.ticks === o.end.ticks) {
              var a = {};
              return (
                (a.past = !1),
                (a.current = this.itline[this.itline.length - 1]),
                (a.i = this.itline.length - 1),
                a
              );
            }
            for (
              var s = (function () {
                  for (var e, i = A.itline; n <= r; )
                    if (
                      ((e = Math.floor((n + r) / 2)),
                      i[e].start.ticks > t.ticks)
                    )
                      r = e - 1;
                    else {
                      if (!(i[e].end.ticks < t.ticks)) return e;
                      n = e + 1;
                    }
                  return n;
                })(),
                l = s;
              l < this.itline.length;
              l++
            ) {
              var d = this.itline[l];
              if (d.start.ticks <= t.ticks && t.ticks < d.end.ticks) {
                var a = {};
                return (a.hidden = !1), (a.current = d), (a.i = l), a;
              }
              if (t.ticks < d.start.ticks) {
                var a = {};
                return (
                  (a.hidden = !0),
                  (a.previous = l > 0 ? this.itline[l - 1] : null),
                  (a.current = null),
                  (a.next = this.itline[l]),
                  (a.i = l),
                  a
                );
              }
            }
            var a = {};
            return (
              (a.past = !0),
              (a.previous = this.itline[this.itline.length - 1]),
              (a.i = this.itline.length),
              a
            );
          }),
          (this.Ef = function (e, t) {
            var n = e.width || this.cellWidth,
              i = e.end.ticks - e.start.ticks;
            return Math.floor((n * t) / i);
          }),
          (this.em = function (e, t) {
            var n = e.end.ticks - e.start.ticks,
              i = e.width || this.cellWidth;
            return Math.floor((t / i) * n);
          }),
          (this.bj = function (e) {
            w.touch.start || o.gm || ((A.hm = {}), A.Xb(this, e));
          }),
          (this.eventClickPostBack = function (e, t) {
            this.Na("EventClick", e, t);
          }),
          (this.eventClickCallBack = function (e, t) {
            this.Pa("EventClick", e, t);
          }),
          (this.Xb = function (e, t) {
            var n = e.event;
            if (n) {
              if (
                ("undefined" != typeof DayPilot.Bubble &&
                  DayPilot.Bubble.hideActive(),
                !n.client.doubleClickEnabled())
              )
                return void A.Yb(e, t);
              A.im.click || (A.im.click = []);
              var i = function (e, t) {
                return function () {
                  A.Yb(e, t);
                };
              };
              A.im.click.push(window.setTimeout(i(e, t), A.doubleClickTimeout));
            }
          }),
          (this.jm = function (e) {
            return A.itline[e];
          }),
          (this.Yb = function (e, t) {
            if ("boolean" == typeof t)
              throw new DayPilot.Exception(
                "Invalid _eventClickSingle parameters"
              );
            var n = e.event;
            if (n) {
              var i = t.ctrlKey,
                a = t.metaKey;
              if (n.client.clickEnabled())
                if ((A.km(t), A.Kb())) {
                  var r = {};
                  if (
                    ((r.e = n),
                    (r.control = A),
                    (r.div = e),
                    (r.originalEvent = t),
                    (r.ctrl = i),
                    (r.meta = a),
                    (r.shift = t.shiftKey),
                    (r.preventDefault = function () {
                      this.preventDefault.value = !0;
                    }),
                    (r.toJSON = function () {
                      return g(r, {}, ["e", "ctrl", "meta", "shift"]);
                    }),
                    "function" == typeof A.onEventClick &&
                      (A.onEventClick(r), r.preventDefault.value))
                  )
                    return;
                  switch (A.eventClickHandling) {
                    case "PostBack":
                      A.eventClickPostBack(n);
                      break;
                    case "CallBack":
                      A.eventClickCallBack(n);
                      break;
                    case "Edit":
                      A.Zb(e);
                      break;
                    case "Select":
                      A.$b(e, n, i, a);
                      break;
                    case "ContextMenu":
                      var o = n.client.contextMenu();
                      o ? o.show(n) : A.contextMenu && A.contextMenu.show(n);
                      break;
                    case "Bubble":
                      A.bubble && A.bubble.showEvent(n);
                      break;
                    case "RectangleSelect":
                      if ("Disabled" !== Z.lm()) return X.start(), !1;
                  }
                  "function" == typeof A.onEventClicked && A.onEventClicked(r);
                } else
                  switch (A.eventClickHandling) {
                    case "PostBack":
                      A.eventClickPostBack(n);
                      break;
                    case "CallBack":
                      A.eventClickCallBack(n);
                      break;
                    case "JavaScript":
                      A.onEventClick(n);
                      break;
                    case "Edit":
                      A.Zb(e);
                      break;
                    case "Select":
                      A.$b(e, n, i, a);
                      break;
                    case "ContextMenu":
                      var o = n.client.contextMenu();
                      o ? o.show(n) : A.contextMenu && A.contextMenu.show(n);
                      break;
                    case "Bubble":
                      A.bubble && A.bubble.showEvent(n);
                      break;
                    case "RectangleSelect":
                      if ("Disabled" !== Z.lm()) return X.start(), !1;
                  }
            }
          }),
          (this.hc = function (e) {
            if (A.Kb()) {
              var t = function () {
                  if (!n.preventDefault.value) {
                    switch (
                      ((n.loaded = function () {}), A.eventDeleteHandling)
                    ) {
                      case "PostBack":
                        A.eventDeletePostBack(e);
                        break;
                      case "CallBack":
                        A.eventDeleteCallBack(e);
                        break;
                      case "Update":
                        A.events.remove(e),
                          "undefined" != typeof DayPilot.Bubble &&
                            DayPilot.Bubble.hideActive();
                    }
                    "function" == typeof A.onEventDeleted &&
                      A.onEventDeleted(n);
                  }
                },
                n = {};
              (n.async = !1),
                (n.e = e),
                (n.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                (n.control = A),
                (n.toJSON = function () {
                  return g(n, {}, ["e"]);
                }),
                (n.loaded = function () {
                  t();
                }),
                "function" == typeof A.onEventDelete && A.onEventDelete(n),
                n.async || t();
            } else
              switch (A.eventDeleteHandling) {
                case "PostBack":
                  A.eventDeletePostBack(e);
                  break;
                case "CallBack":
                  A.eventDeleteCallBack(e);
                  break;
                case "JavaScript":
                  A.onEventDelete(e);
              }
          }),
          (this.eventDeletePostBack = function (e, t) {
            this.Na("EventDelete", e, t);
          }),
          (this.eventDeleteCallBack = function (e, t) {
            this.Pa("EventDelete", e, t);
          }),
          (this.setHScrollPosition = function (e) {
            this.nav.scroll.scrollLeft = e;
          }),
          (this.getScrollX = function () {
            return this.nav.scroll.scrollLeft;
          }),
          (this.getHScrollPosition = this.getScrollX),
          (this.getScrollY = function () {
            return this.nav.scroll.scrollTop;
          }),
          (this.$b = function (e, t, n, i) {
            A.Dc(e, t, n, i);
          }),
          (this.eventSelectPostBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.change = t), this.Na("EventSelect", i, n);
          }),
          (this.eventSelectCallBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.change = t), this.Pa("EventSelect", i, n);
          }),
          (this.Dc = function (e, t, n, i) {
            var a = A.multiselect,
              r = a.isSelected(t);
            if (n || i || !r || 1 !== a.Ec.length)
              if (A.Kb()) {
                a.md = a.events();
                var o = {};
                if (
                  ((o.e = t),
                  (o.selected = r),
                  (o.ctrl = n),
                  (o.meta = i),
                  (o.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  "function" == typeof A.onEventSelect &&
                    (A.onEventSelect(o), o.preventDefault.value))
                )
                  return;
                switch (A.eventSelectHandling) {
                  case "PostBack":
                    A.eventSelectPostBack(t, s);
                    break;
                  case "CallBack":
                    "undefined" != typeof WebForm_InitCallback &&
                      ((window.Fc = ""),
                      (window.Gc = []),
                      WebForm_InitCallback()),
                      A.eventSelectCallBack(t, s);
                    break;
                  case "Update":
                    a.Hc(e, n, i);
                }
                "function" == typeof A.onEventSelected &&
                  ((o.change = a.isSelected(t) ? "selected" : "deselected"),
                  (o.selected = a.isSelected(t)),
                  A.onEventSelected(o));
              } else {
                (a.md = a.events()), a.Hc(e, n, i);
                var s = a.isSelected(t) ? "selected" : "deselected";
                switch (A.eventSelectHandling) {
                  case "PostBack":
                    A.eventSelectPostBack(t, s);
                    break;
                  case "CallBack":
                    "undefined" != typeof WebForm_InitCallback &&
                      ((window.Fc = ""),
                      (window.Gc = []),
                      WebForm_InitCallback()),
                      A.eventSelectCallBack(t, s);
                    break;
                  case "JavaScript":
                    A.onEventSelect(t, s);
                }
              }
          }),
          (this.eventRightClickPostBack = function (e, t) {
            this.Na("EventRightClick", e, t);
          }),
          (this.eventRightClickCallBack = function (e, t) {
            this.Pa("EventRightClick", e, t);
          }),
          (this.bc = function (e) {
            if (!w.touch.active && !w.touch.start) {
              var t = this.event;
              if (
                ((e.cancelBubble = !0),
                A.allowDefaultContextMenu || e.preventDefault(),
                !this.event.client.rightClickEnabled())
              )
                return !1;
              if ((A.km(e), A.Kb())) {
                var n = {};
                if (
                  ((n.e = t),
                  (n.div = this),
                  (n.originalEvent = e),
                  (n.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  "function" == typeof A.onEventRightClick &&
                    (A.onEventRightClick(n), n.preventDefault.value))
                )
                  return !1;
                switch (A.eventRightClickHandling) {
                  case "PostBack":
                    A.eventRightClickPostBack(t);
                    break;
                  case "CallBack":
                    A.eventRightClickCallBack(t);
                    break;
                  case "ContextMenu":
                    var i = t.client.contextMenu();
                    i
                      ? i.show(t)
                      : A.contextMenu && A.contextMenu.show(this.event);
                    break;
                  case "Bubble":
                    A.bubble && A.bubble.showEvent(t);
                }
                "function" == typeof A.onEventRightClicked &&
                  A.onEventRightClicked(n);
              } else
                switch (A.eventRightClickHandling) {
                  case "PostBack":
                    A.eventRightClickPostBack(t);
                    break;
                  case "CallBack":
                    A.eventRightClickCallBack(t);
                    break;
                  case "JavaScript":
                    A.onEventRightClick(t);
                    break;
                  case "ContextMenu":
                    var i = t.client.contextMenu();
                    i
                      ? i.show(t)
                      : A.contextMenu && A.contextMenu.show(this.event);
                    break;
                  case "Bubble":
                    A.bubble && A.bubble.showEvent(t);
                }
              return !1;
            }
          }),
          (this.eventDoubleClickPostBack = function (e, t) {
            this.Na("EventDoubleClick", e, t);
          }),
          (this.eventDoubleClickCallBack = function (e, t) {
            this.Pa("EventDoubleClick", e, t);
          }),
          (this._b = function (e) {
            if (
              ("undefined" != typeof DayPilot.Bubble &&
                DayPilot.Bubble.hideActive(),
              A.im.click)
            ) {
              for (var t in A.im.click) window.clearTimeout(A.im.click[t]);
              A.im.click = null;
            }
            var n = this.event;
            if (
              (e.stopPropagation && e.stopPropagation(),
              (e.cancelBubble = !0),
              A.Kb())
            ) {
              var i = {};
              if (
                ((i.e = n),
                (i.originalEvent = e),
                (i.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof A.onEventDoubleClick &&
                  (A.onEventDoubleClick(i), i.preventDefault.value))
              )
                return;
              switch (A.eventDoubleClickHandling) {
                case "PostBack":
                  A.eventDoubleClickPostBack(n);
                  break;
                case "CallBack":
                  A.eventDoubleClickCallBack(n);
                  break;
                case "Edit":
                  A.Zb(this);
                  break;
                case "Select":
                  A.$b(div, n, e.ctrlKey, e.metaKey);
                  break;
                case "Bubble":
                  A.bubble && A.bubble.showEvent(n);
                  break;
                case "ContextMenu":
                  var a = n.client.contextMenu();
                  a ? a.show(n) : A.contextMenu && A.contextMenu.show(n);
              }
              "function" == typeof A.onEventDoubleClicked &&
                A.onEventDoubleClicked(i);
            } else
              switch (A.eventDoubleClickHandling) {
                case "PostBack":
                  A.eventDoubleClickPostBack(n);
                  break;
                case "CallBack":
                  A.eventDoubleClickCallBack(n);
                  break;
                case "JavaScript":
                  A.onEventDoubleClick(n);
                  break;
                case "Edit":
                  A.Zb(this);
                  break;
                case "Select":
                  A.$b(div, n, e.ctrlKey, e.metaKey);
                  break;
                case "Bubble":
                  A.bubble && A.bubble.showEvent(n);
                  break;
                case "ContextMenu":
                  var a = n.client.contextMenu();
                  a ? a.show(n) : A.contextMenu && A.contextMenu.show(n);
              }
          }),
          (this.eventResizePostBack = function (e, t, n, i) {
            this.qc("PostBack", e, t, n, i);
          }),
          (this.eventResizeCallBack = function (e, t, n, i) {
            this.qc("CallBack", e, t, n, i);
          }),
          (this.qc = function (e, t, n, i, a) {
            var r = t && !!t.preventDefault,
              o = {};
            if (r) {
              var s = t;
              (o.e = s.e),
                (o.newStart = s.newStart),
                (o.newEnd = s.newEnd),
                (o.multiresize = []),
                s.multiresize.forEach(function (e) {
                  var t = {};
                  (t.e = e.event),
                    (t.newStart = e.start),
                    (t.newEnd = e.end),
                    o.multiresize.push(t);
                });
            } else (o.e = t), (o.newStart = n), (o.newEnd = i);
            this.ic(e, "EventResize", o, a);
          }),
          (this.oc = function (e, t, n, i) {
            if ("Disabled" !== this.eventResizeHandling) {
              n = A.oj(n);
              var a = {};
              (a.e = e),
                (a.async = !1),
                (a.loaded = function () {
                  o();
                }),
                (a.newStart = t),
                (a.newEnd = n),
                (a.what = i),
                (a.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                (a.multiresize = x(I.list)),
                (a.control = A),
                (a.toJSON = function () {
                  return g(a, {}, [
                    "e",
                    "async",
                    "newStart",
                    "newEnd",
                    "multiresize",
                  ]);
                });
              var r = {};
              if (
                ((r.event = e),
                (r.start = t),
                (r.end = n),
                a.multiresize.splice(0, 0, r),
                A.Kb())
              ) {
                var o = function () {
                  if ((Y.B(), !a.preventDefault.value)) {
                    switch (
                      ((a.loaded = function () {}),
                      (t = a.newStart),
                      (n = a.newEnd),
                      A.eventResizeHandling)
                    ) {
                      case "PostBack":
                        A.eventResizePostBack(a);
                        break;
                      case "CallBack":
                        A.eventResizeCallBack(a);
                        break;
                      case "Notify":
                        A.eventResizeNotify(a);
                        break;
                      case "Update":
                        A.mm(a);
                    }
                    "function" == typeof A.onEventResized &&
                      A.onEventResized(a);
                  }
                };
                "function" == typeof A.onEventResize && A.onEventResize(a),
                  a.async ? A.blockOnCallBack && Y.D() : o();
              } else
                switch (A.eventResizeHandling) {
                  case "PostBack":
                    A.eventResizePostBack(a);
                    break;
                  case "CallBack":
                    A.eventResizeCallBack(a);
                    break;
                  case "JavaScript":
                    A.onEventResize(e, t, n);
                    break;
                  case "Notify":
                    A.eventResizeNotify(a);
                    break;
                  case "Update":
                    A.mm(a);
                }
            }
          }),
          (this.eventMovePostBack = function (e, t, n, i, a, r) {
            this.vc("PostBack", e, t, n, i, a, r);
          }),
          (this.eventMoveCallBack = function (e, t, n, i, a, r) {
            this.vc("CallBack", e, t, n, i, a, r);
          }),
          (this.vc = function (e, t, n, i, a, r, o) {
            var s = t && !!t.preventDefault,
              l = {};
            if (s) {
              var d = t;
              (l.e = d.e),
                (l.newStart = d.newStart),
                (l.newEnd = d.newEnd),
                (l.newResource = d.newResource),
                (l.position = d.position),
                (l.multimove = []),
                d.multimove.forEach(function (e) {
                  var t = {};
                  if (
                    ((t.e = e.event),
                    (t.newStart = e.start),
                    (t.newEnd = e.end),
                    (t.newResource = e.event.resource()),
                    t.e === d.e || t.e.data.id == d.e.data.id)
                  )
                    t.newResource = d.newResource;
                  else if (z.rowoffset) {
                    var n = e.event.part.dayIndex + z.rowoffset;
                    t.newResource = A.rowlist[n].id;
                  }
                  l.multimove.push(t);
                });
            } else
              (l.e = t),
                (l.newStart = n),
                (l.newEnd = i),
                (l.newResource = a),
                (l.position = o);
            this.ic(e, "EventMove", l, r);
          }),
          (this.nm = function (e, t, n) {
            var i = {};
            (i.start = t.start),
              (i.end = t.end),
              (i.resource = t.resource),
              (i.multirange = []),
              t.multirange.forEach(function (e) {
                var t = {};
                (t.start = e.start),
                  (t.end = e.end),
                  (t.resource = e.resource),
                  i.multirange.push(t);
              }),
              this.ic(e, "TimeRangeSelected", i, n);
          }),
          (this.ic = function (e, t, n, i) {
            if ("PostBack" === e) A.Na(t, n, i);
            else if ("CallBack" === e) A.Pa(t, n, i, "CallBack");
            else if ("Immediate" === e) A.Pa(t, n, i, "Notify");
            else if ("Queue" === e)
              A.queue.add(new DayPilot.Action(this, t, n, i));
            else {
              if ("Notify" !== e)
                throw new DayPilot.Exception("Invalid event invocation type");
              "Notify" === Z.jc()
                ? A.Pa(t, n, i, "Notify")
                : A.queue.add(new DayPilot.Action(A, t, n, i));
            }
          }),
          (this.eventMoveNotify = function (e, t, n, i, a, r) {
            if (e && !!e.preventDefault) {
              var o = e;
              (o.old = new DayPilot.Event(o.e.copy(), A)),
                o.multimove.forEach(function (e) {
                  e.old = new DayPilot.Event(e.event.copy(), A);
                }),
                A.mm(o),
                (o.e = o.old),
                delete o.old,
                o.multimove.forEach(function (e) {
                  (e.event = e.old), delete e.old;
                });
            } else {
              e = new DayPilot.Event(e.copy(), A);
              var s = A.events.om(e.data);
              e.start(t),
                e.end(n),
                e.resource(i),
                e.commit(),
                (s = s.concat(A.events.pm(e.data))),
                A.qm(s),
                A.rm(),
                A.sm(s);
            }
            this.vc("Notify", e, t, n, i, a, r);
          }),
          (this.eventResizeNotify = function (e, t, n, i) {
            if (e && !!e.preventDefault) {
              var a = e;
              (a.old = new DayPilot.Event(a.e.copy(), A)),
                a.multiresize.forEach(function (e) {
                  e.old = new DayPilot.Event(e.event.copy(), A);
                }),
                A.mm(a),
                (a.e = a.old),
                delete a.old,
                a.multiresize.forEach(function (e) {
                  (e.event = e.old), delete e.old;
                });
            } else {
              e = new DayPilot.Event(e.copy(), A);
              var r = A.events.om(e.data);
              e.start(t),
                e.end(n),
                e.commit(),
                (r = r.concat(A.events.pm(e.data))),
                A.qm(r),
                A.rm(),
                A.sm(r);
            }
            this.qc("Notify", e, t, n, i);
          }),
          (this.zoom = {}),
          (this.zoom.active = -1),
          (this.zoom.setActive = function (e, t, n) {
            var i;
            if ("number" == typeof e) i = A.zoomLevels[e];
            else {
              if ("string" != typeof e)
                throw new DayPilot.Exception(
                  "Unexpected parameter type (string or number required): " +
                    typeof e
                );
              var a = A.zoom.gd(e);
              i = A.zoomLevels[a];
            }
            if (!i)
              throw new DayPilot.Exception(
                "Zoom level not found: " + e + " (" + typeof e + ")"
              );
            (e !== A.zoom.active || n) &&
              (n || (n = A.zoom.Pj(t)),
              n && (A.startDate = n),
              A.zoom.jd(e, n),
              A.va && A.update(),
              n && A.scrollTo(n, null, t || A.zoomPosition));
          }),
          (this.zoom.gd = function (e) {
            return x(A.zoomLevels).findIndex(function (t) {
              return t.id === e;
            });
          }),
          (this.zoom.Pj = function (e) {
            e = e || A.zoomPosition || "left";
            var t = null;
            if (!A.nav.scroll) return null;
            var n = A.getViewPort();
            switch (e) {
              case "left":
                t = n.start;
                break;
              case "middle":
                t =
                  n.start &&
                  n.start.addTime(
                    (A.getViewPort().end.getTime() -
                      A.getViewPort().start.getTime()) /
                      2
                  );
                break;
              case "right":
                t = n.end;
            }
            return t;
          }),
          (this.zoom.jd = function (e, t) {
            var n = A.zoomLevels.length - 1;
            e > n && (e = n), e < 0 && (e = 0), (A.zoom.active = e);
            var i = A.zoomLevels[e],
              a = {};
            return (
              (a.date = t || new DayPilot.Date(A.startDate)),
              (a.level = i),
              DayPilot.Util.ownPropsAsArray(i.properties).forEach(function (e) {
                if (0 !== e.key.indexOf("on"))
                  return "function" == typeof e.val
                    ? void (A[e.key] = e.val(a))
                    : void (A[e.key] = e.val);
              }),
              a
            );
          }),
          (this.multiselect = {}),
          (this.multiselect.Ec = []),
          (this.multiselect.ld = []),
          (this.multiselect.md = []),
          (this.multiselect.Wk = function (e) {
            A.multiselect.Ec = x(e).map(function (e) {
              return new DayPilot.Event(e, A);
            });
          }),
          (this.multiselect.nd = function () {
            var e = A.multiselect;
            return JSON.stringify(e.events());
          }),
          (this.multiselect.events = function () {
            var e = A.multiselect,
              t = x();
            t.ignoreToJSON = !0;
            for (var n = 0; n < e.Ec.length; n++) t.push(e.Ec[n]);
            return t;
          }),
          (this.multiselect.get = function () {
            return A.multiselect.events();
          }),
          (this.multiselect.od = function () {}),
          (this.multiselect.Hc = function (e, t, n) {
            var i = A.multiselect;
            if (i.isSelected(e.event))
              if (A.allowMultiSelect)
                if (t || n) i.remove(e.event, !0);
                else {
                  var a = i.Ec.length;
                  i.clear(), a > 1 && i.add(e.event, !0);
                }
              else i.clear();
            else
              A.allowMultiSelect && (t || n)
                ? i.add(e.event, !0)
                : (i.clear(), i.add(e.event, !0));
            i.Cd(e), i.od();
          }),
          (this.multiselect.pd = function (e) {
            var t = A.multiselect;
            return t.qd(e, t.Ec);
          }),
          (this.multiselect.rd = function () {
            for (var e = A.multiselect, t = [], n = 0; n < e.Ec.length; n++) {
              var i = e.Ec[n];
              t.push(i.value());
            }
            alert(t.join("\n"));
          }),
          (this.multiselect.add = function (e, t) {
            var n = A.multiselect;
            n.sd(e) === -1 && n.Ec.push(e), t || n.tm(e);
          }),
          (this.multiselect.remove = function (e, t) {
            var n = A.multiselect,
              i = n.sd(e);
            i !== -1 && n.Ec.splice(i, 1), t || n.tm(e);
          }),
          (this.multiselect.clear = function (e) {
            var t = A.multiselect;
            (t.Ec = []), e || t.redraw();
          }),
          (this.multiselect.redraw = function () {
            var e = A.multiselect;
            e.ld = [];
            for (var t = 0; t < A.elements.events.length; t++) {
              var n = A.elements.events[t];
              n.event &&
                n.event.isEvent &&
                (e.isSelected(n.event) ? e.td(n) : e.ud(n));
            }
          }),
          (this.multiselect.Cd = function (e) {
            if (e) {
              var t = A.multiselect;
              t.isSelected(e.event) ? t.td(e) : t.ud(e);
            }
          }),
          (this.multiselect.tm = function (e) {
            var t = A.multiselect,
              n = A.Ng(e);
            t.Cd(n);
          }),
          (this.multiselect.td = function (e) {
            var t = A.multiselect,
              n = A.ca("_selected"),
              e = t.vd(e);
            f(e, n), t.ld.push(e);
          }),
          (this.multiselect.vd = function (e) {
            return e;
          }),
          (this.multiselect.xd = function () {
            for (var e = A.multiselect, t = 0; t < e.ld.length; t++) {
              var n = e.ld[t];
              e.ud(n, !0);
            }
            e.ld = [];
          }),
          (this.multiselect.ud = function (e, t) {
            var n = A.multiselect;
            if ((h(e, A.ca("_selected")), !t)) {
              var i = D(n.ld, e);
              i !== -1 && n.ld.splice(i, 1);
            }
          }),
          (this.multiselect.isSelected = function (e) {
            return !!e && !!e.isEvent && A.multiselect.qd(e, A.multiselect.Ec);
          }),
          (this.multiselect.sd = function (e) {
            for (var t = e.data, n = 0; n < A.multiselect.Ec.length; n++) {
              var i = A.multiselect.Ec[n];
              if (A.yd(i.data, t)) return n;
            }
            return -1;
          }),
          (this.multiselect.qd = function (e, t) {
            if (!t) return !1;
            for (var n = 0; n < t.length; n++) {
              var i = t[n];
              if (A.yd(e, i)) return !0;
            }
            return !1;
          }),
          (this.multiselect.startRectangle = function () {
            X.start();
          }),
          (this.um = function () {
            this.Vk(), this.Yk();
          }),
          (this.vm = function () {
            A.wm(),
              A.Ok(),
              A.Pk(),
              A.Tk(),
              A.xm(),
              A.progressiveRowRendering && A.ym();
          }),
          (this.Cd = function (n) {
            n = n || {};
            var i = !n.eventsOnly;
            window.clearTimeout(A.zm);
            var a = A.keyboard.getFocus();
            if (
              (i &&
                (this.ia() || ((A.timeHeader = null), (A.cellProperties = {})),
                (A.Yl = {}),
                A.Kk(),
                A.Lk(),
                A.Ok(),
                (n && n.dontLoadResources) || A.Mk(),
                A.Am !== A.timeHeaderPosition && A.Bm(),
                A.events.Cm(),
                A.Ma.Pg(),
                A.clearSelection(),
                a && A.Em.Dm()),
              A.tb(),
              A.Fm(),
              A.Nk(),
              A.Sk(),
              A.Pk(),
              i && (A.Rg(), A.Qk(), A.Rk(), A.al(A.selectedRows), A.Gm()),
              A.Tk(),
              A.xm(),
              A.ub(),
              B.Hm(),
              this.Ya(),
              this.Uk(),
              this.Ja(),
              this.sb(),
              A.Bb(),
              this.Xk(),
              this.um(),
              n.immediateEvents || n.eventsOnly
                ? A.Fb()
                : setTimeout(function () {
                    A.Fb();
                  }, 100),
              i && a)
            )
              if (a.e) {
                var r = A.events.find(t);
                r && A.keyboard.focusEvent(e.id());
              } else if (a.cell) {
                var o = a.cell.start,
                  s = a.cell.resource,
                  l = A.Im(o, s);
                l && "main" === l.grid && A.keyboard.focusCell(o, s);
              }
            this.visible ? A.Fk != A.visible && this.show() : this.hide(),
              (this.Fk = this.visible),
              this._k(),
              A.Og.scope || A.gl.enabled
                ? A.va
                  ? A.bl()
                  : M.Xl() || A.bl()
                : A.bl(),
              this.Jm(),
              this.Jb(),
              this.Km();
          }),
          (this.Jm = function () {
            if ("function" == typeof A.onAfterUpdate) {
              var e = {};
              A.onAfterUpdate(e);
            }
          }),
          (this.update = function (e) {
            if (!A.va)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Scheduler object that hasn't been initialized."
              );
            if (A.wa)
              throw new DayPilot.Exception(
                "You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable."
              );
            R.request(e);
          });
        var R = {};
        (R.timeout = null),
          (R.options = null),
          (R.enabled = !1),
          (R.request = function (e) {
            R.enabled
              ? (clearTimeout(R.timeout),
                R.Lm(e),
                (R.timeout = setTimeout(R.doit)))
              : (R.Lm(e), R.doit());
          }),
          (R.Lm = function (e) {
            if (e) {
              R.options || (R.options = {});
              for (var t in e) R.options[t] = e[t];
            }
          }),
          (R.doit = function () {
            var e = R.options;
            return (
              (R.options = null),
              A.va
                ? DayPilot.Util.isOnlyProperty(e, "events")
                  ? ((A.events.list = e.events),
                    A.Cd({ eventsOnly: !0 }),
                    void K.Mm())
                  : DayPilot.Util.isOnlyProperty(e, "separators")
                  ? ((A.separators = e.separators), void A.um())
                  : DayPilot.Util.isOnlyProperty(e, "rowHeaderColumns") &&
                    !A.Nm()
                  ? ((A.rowHeaderColumns = e.rowHeaderColumns), void A.vm())
                  : (A.Sg(e),
                    A.Cd({ immediateEvents: !0 }),
                    A.hh(),
                    K.Mm(),
                    void A.ob(null, !1))
                : void A.Sg(e)
            );
          }),
          (this.Om = function (e) {
            e.forEach(function (e) {
              A.Pm(e.index, e.grid);
            });
          }),
          (this.Qm = function (e) {
            return e && 0 !== e.length
              ? e[0].isRow
                ? e
                : e.map(function (e) {
                    return A.rowlist[e];
                  })
              : [];
          }),
          (this.sm = function (e, t, n) {
            (e = DayPilot.ua(e)),
              (e = A.Qm(e)),
              A.Om(e),
              this.Rm
                ? (this.Sk(),
                  this.Tk(),
                  this.Uk(),
                  this.Vk(),
                  e.forEach(function (e) {
                    A.Sm(e.index, e.grid);
                  }),
                  e.forEach(function (e) {
                    A.Tm(e.index, e.grid);
                  }),
                  this.Xk(),
                  this.Yk(),
                  this.Um(),
                  this.hb(),
                  this.If())
                : (e.forEach(function (e) {
                    t || A.Sm(e.index, e.grid), A.Tm(e.index, e.grid);
                  }),
                  e.forEach(function (e) {
                    A.Vm(e.index, e.grid);
                  }),
                  A.Xk()),
              A.ul(),
              B.Wm(),
              A.multiselect.redraw(),
              n && n(),
              this.Ja();
          }),
          (this.oj = function (e) {
            return "DateTime" === A.eventEndSpec
              ? e
              : e.getDatePart().ticks === e.ticks
              ? e.addDays(-1)
              : e.getDatePart();
          }),
          (this.Ti = function (e) {
            return "DateTime" === A.eventEndSpec
              ? e
              : e.getDatePart().addDays(1);
          }),
          (this.rj = function (e) {
            return "DateTime" === A.eventEndSpec ? e : e.getDatePart();
          }),
          (this.sc = function (e, t, n, i, a, r, s) {
            if (((A.jb = null), "Disabled" !== A.eventMoveHandling)) {
              n = A.oj(n);
              var l = {};
              (l.e = e),
                (l.newStart = t),
                (l.newEnd = n),
                (l.newResource = i),
                (l.external = a),
                (l.ctrl = !1),
                (l.meta = !1),
                (l.shift = !1),
                r &&
                  ((l.shift = r.shiftKey),
                  (l.ctrl = r.ctrlKey),
                  (l.meta = r.metaKey)),
                (l.multimove = x(z.list)),
                (l.areaData = w.movingAreaData),
                (l.control = A),
                (l.toJSON = function () {
                  return g(l, {}, [
                    "e",
                    "newStart",
                    "newEnd",
                    "newResource",
                    "external",
                    "ctrl",
                    "meta",
                    "shift",
                    "multimove",
                    "areaData",
                  ]);
                });
              var d = {};
              if (
                ((d.event = e),
                (d.start = t),
                (d.end = n),
                (d.overlapping = !1),
                (d.resource = i),
                l.multimove.splice(0, 0, d),
                (l.position = s),
                (l.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                A.Kb())
              ) {
                var c = function () {
                  if (
                    ((l.loaded = function () {}), Y.B(), l.preventDefault.value)
                  )
                    return (o.gm = !0), void A.tc();
                  switch (
                    ((t = l.newStart), (n = l.newEnd), A.eventMoveHandling)
                  ) {
                    case "PostBack":
                      A.eventMovePostBack(l);
                      break;
                    case "CallBack":
                      A.eventMoveCallBack(l);
                      break;
                    case "Notify":
                      A.eventMoveNotify(l);
                      break;
                    case "Update":
                      A.mm(l);
                  }
                  A.tc(),
                    "function" == typeof A.onEventMoved && A.onEventMoved(l);
                };
                (l.async = !1),
                  (l.loaded = function () {
                    c();
                  }),
                  "function" == typeof A.onEventMove && A.onEventMove(l),
                  l.async ? A.blockOnCallBack && Y.D() : c();
              } else {
                switch (A.eventMoveHandling) {
                  case "PostBack":
                    A.eventMovePostBack(l);
                    break;
                  case "CallBack":
                    A.eventMoveCallBack(l);
                    break;
                  case "JavaScript":
                    A.onEventMove(
                      e,
                      t,
                      n,
                      i,
                      a,
                      !!r && r.ctrlKey,
                      !!r && r.shiftKey,
                      s
                    );
                    break;
                  case "Notify":
                    A.eventMoveNotify(l);
                    break;
                  case "Update":
                    A.mm(l);
                }
                A.tc();
              }
            }
          }),
          (this.mm = function (e) {
            var t = e.e,
              n = e.newStart,
              i = e.newEnd,
              a = e.newResource,
              r = e.external;
            t.start(n),
              t.end(i),
              t.resource(a),
              r ? (t.commit(), A.events.add(t)) : A.events.update(t),
              e.multimove &&
                !e.multimove.isEmpty() &&
                e.multimove.forEach(function (e) {
                  e.event !== t &&
                    (e.event.start(e.start),
                    e.event.end(e.end),
                    e.event.resource(e.resource),
                    e.event.commit(),
                    A.events.update(e.event));
                }),
              e.multiresize &&
                !e.multiresize.isEmpty() &&
                e.multiresize.forEach(function (e) {
                  e.event !== t &&
                    (e.event.start(e.start),
                    e.event.end(e.end),
                    e.event.commit(),
                    A.events.update(e.event));
                }),
              A.events.Xm(),
              A.uc();
          }),
          (this.wc = function (e, t) {
            var n = A.xc(t),
              i = {};
            (i.args = e), (i.guid = n), A.Pa("Bubble", i);
          }),
          (this.xc = function (e) {
            var t = DayPilot.guid();
            return (
              this.bubbles || (this.bubbles = []), (this.bubbles[t] = e), t
            );
          }),
          (this.eventMenuClickPostBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.command = t), this.Na("EventMenuClick", i, n);
          }),
          (this.eventMenuClickCallBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.command = t), this.Pa("EventMenuClick", i, n);
          }),
          (this.yc = function (e, t, n) {
            switch (n) {
              case "PostBack":
                A.eventMenuClickPostBack(t, e);
                break;
              case "CallBack":
                A.eventMenuClickCallBack(t, e);
            }
          }),
          (this.timeRangeSelectedPostBack = function (e, t, n, i) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = n),
              this.Na("TimeRangeSelected", a, i);
          }),
          (this.timeRangeSelectedCallBack = function (e, t, n, i) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = n),
              this.Pa("TimeRangeSelected", a, i);
          }),
          (this.Ym = function (e) {
            if (e) {
              if (e.disabled) return void A.clearSelection();
              if (e.args) A.Ac(e.args.start, e.args.end, e.args.resource);
              else {
                var t = A.Zm(e);
                if (!t) return;
                A.Ac(t.start, t.end, t.resource);
              }
            }
          }),
          (this.Ac = function (e, t, n) {
            if ("Disabled" !== A.timeRangeSelectedHandling) {
              var i = t;
              t = A.oj(i);
              var a = {};
              if (
                ((a.control = A),
                (a.start = e),
                (a.end = t),
                (a.resource = n),
                (a.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                (a.multirange = x(V.list).map(function (e) {
                  return A.Zm(e);
                })),
                a.multirange.isEmpty() &&
                  a.multirange.push({
                    start: a.start,
                    end: a.end,
                    resource: a.resource,
                  }),
                (a.toJSON = function () {
                  return g(a, {}, ["start", "end", "resource", "multirange"]);
                }),
                A.Kb())
              ) {
                if ("function" == typeof A.onTimeRangeSelect) {
                  if ((A.onTimeRangeSelect(a), a.preventDefault.value)) return;
                  (e = a.start), (t = a.end);
                }
                switch (
                  ((t = A.Ti(t)),
                  A.$m(A._m, e, t, a.multirange),
                  A.an(A._m),
                  A.timeRangeSelectedHandling)
                ) {
                  case "PostBack":
                    A.nm("PostBack", a);
                    break;
                  case "CallBack":
                    A.nm("CallBack", a);
                }
                "function" == typeof A.onTimeRangeSelected &&
                  A.onTimeRangeSelected(a);
              } else
                switch (A.timeRangeSelectedHandling) {
                  case "PostBack":
                    A.nm("PostBack", a);
                    break;
                  case "CallBack":
                    A.nm("CallBack", a);
                    break;
                  case "JavaScript":
                    A.onTimeRangeSelected(e, t, n, a.multirange);
                    break;
                  case "Hold":
                }
            }
          }),
          (this.$m = function (e, t, n, i) {
            if (e && !(i && i.length > 1)) {
              var a,
                r,
                o = n,
                s = 0;
              if ("Days" === A.viewType) {
                s = A.il(t).start.getTime() - A.Tb().getTime();
              }
              t.getTime() < A.itline[0].start.getTime()
                ? ((e.start.x = 0),
                  (e.start.time = A.itline[0].start.getTime()))
                : ((a = A.fm(t.addTime(-s))),
                  (r = a.current || a.previous),
                  (e.start.x = D(A.itline, r)),
                  (e.start.time = t)),
                (a = A.fm(o.addMilliseconds(-1).addTime(-s))),
                a.past
                  ? ((e.end.x = A.itline.length - 1),
                    (e.end.time = A.itline[A.itline.length - 1].end.getTime()))
                  : ((r = a.current || a.next),
                    (e.end.x = D(A.itline, r)),
                    (e.end.time = n));
            }
          }),
          (this.il = function (e) {
            var t = e.getDatePart();
            return x(A.rowlist).find(function (e) {
              return e.start.getDatePart() === t;
            });
          }),
          (this.timeRangeDoubleClickPostBack = function (e, t, n, i) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = n),
              this.Na("TimeRangeDoubleClick", a, i);
          }),
          (this.timeRangeDoubleClickCallBack = function (e, t, n, i) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = n),
              this.Pa("TimeRangeDoubleClick", a, i);
          }),
          (this.Bc = function (e, t, n) {
            if (((t = A.oj(t)), A.Kb())) {
              var i = {};
              if (
                ((i.start = e),
                (i.end = t),
                (i.resource = n),
                (i.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof A.onTimeRangeDoubleClick &&
                  (A.onTimeRangeDoubleClick(i), i.preventDefault.value))
              )
                return;
              switch (A.timeRangeDoubleClickHandling) {
                case "PostBack":
                  A.timeRangeDoubleClickPostBack(e, t, n);
                  break;
                case "CallBack":
                  A.timeRangeDoubleClickCallBack(e, t, n);
              }
              "function" == typeof A.onTimeRangeDoubleClicked &&
                A.onTimeRangeDoubleClicked(i);
            } else
              switch (A.timeRangeDoubleClickHandling) {
                case "PostBack":
                  A.timeRangeDoubleClickPostBack(e, t, n);
                  break;
                case "CallBack":
                  A.timeRangeDoubleClickCallBack(e, t, n);
                  break;
                case "JavaScript":
                  A.onTimeRangeDoubleClick(e, t, n);
              }
          }),
          (this.timeRangeMenuClickPostBack = function (e, t, n) {
            var i = {};
            (i.selection = e),
              (i.command = t),
              this.Na("TimeRangeMenuClick", i, n);
          }),
          (this.timeRangeMenuClickCallBack = function (e, t, n) {
            var i = {};
            (i.selection = e),
              (i.command = t),
              this.Pa("TimeRangeMenuClick", i, n);
          }),
          (this.zc = function (e, t, n) {
            switch (n) {
              case "PostBack":
                A.timeRangeMenuClickPostBack(t, e);
                break;
              case "CallBack":
                A.timeRangeMenuClickCallBack(t, e);
            }
          }),
          (this.linkMenuClickPostBack = function (e, t, n) {
            var i = {};
            (i.link = e), (i.command = t), this.Na("LinkMenuClick", i, n);
          }),
          (this.linkMenuClickCallBack = function (e, t, n) {
            var i = {};
            (i.link = e), (i.command = t), this.Pa("LinkMenuClick", i, n);
          }),
          (this.bn = function (e, t, n) {
            switch (n) {
              case "PostBack":
                A.linkMenuClickPostBack(t, e);
                break;
              case "CallBack":
                A.linkMenuClickCallBack(t, e);
            }
          }),
          (this.rowMenuClickPostBack = function (e, t, n) {
            var i = {};
            (i.resource = e), (i.command = t), this.Na("RowMenuClick", i, n);
          }),
          (this.resourceHeaderMenuClickPostBack = this.rowMenuClickPostBack),
          (this.rowMenuClickCallBack = function (e, t, n) {
            var i = {};
            (i.resource = e), (i.command = t), this.Pa("RowMenuClick", i, n);
          }),
          (this.resourceHeaderMenuClickCallBack = this.rowMenuClickCallBack),
          (this.cn = function (e, t, n) {
            switch (n) {
              case "PostBack":
                A.rowMenuClickPostBack(t, e);
                break;
              case "CallBack":
                A.rowMenuClickCallBack(t, e);
            }
          }),
          (this.dn = function (e, t, n) {
            var i = A.en(e),
              a = i.data;
            if ((e.task && (a = e.task), A.rowHeaderColumns)) {
              var r = A.rowHeaderColumns[n].display;
              0 !== n || r || ((a.name = t), (a.html = A.Ka(t))),
                r && A.gn(a, r, t);
            } else (a.name = t), (a.html = A.Ka(t));
            A.rows.update(i);
          }),
          (this.hn = function (e, t) {
            if (t) {
              var n = {};
              if (
                ((n.text = t),
                (n.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" != typeof A.onRowCreate ||
                  (A.onRowCreate(n), !n.preventDefault.value))
              ) {
                switch (A.rowCreateHandling) {
                  case "CallBack":
                    A.rowCreateCallBack(n.text);
                    break;
                  case "PostBack":
                    A.rowCreatePostBack(n.text);
                }
                "function" == typeof A.onRowCreated && A.onRowCreated(n);
              }
            }
          }),
          (this.in = function (e, t, n, i) {
            if (e.isNewRow) return void (n || A.hn(e, t));
            var a = D(A.rowlist, e),
              r = A.en(e, a);
            if (A.Kb()) {
              var o = {};
              (o.resource = r),
                (o.row = r),
                (o.x = i),
                (o.newText = t),
                (o.canceled = n),
                (o.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                (o.async = !1),
                (o.loaded = function () {
                  s();
                });
              var s = function () {
                if (!n) {
                  switch (A.rowEditHandling) {
                    case "PostBack":
                      A.rowEditPostBack(r, o.newText);
                      break;
                    case "CallBack":
                      A.rowEditCallBack(r, o.newText);
                      break;
                    case "Update":
                      A.dn(e, o.newText, i);
                  }
                  "function" == typeof A.onRowEdited && A.onRowEdited(o);
                }
              };
              if (
                "function" == typeof A.onRowEdit &&
                (A.onRowEdit(o), o.preventDefault.value)
              )
                return;
              o.async || s();
            } else
              switch (A.rowEditHandling) {
                case "PostBack":
                  A.rowEditPostBack(r, t);
                  break;
                case "CallBack":
                  A.rowEditCallBack(r, t);
                  break;
                case "JavaScript":
                  A.onrowEdit(r, t);
              }
          }),
          (this.rowCreatePostBack = function (e, t) {
            var n = {};
            (n.text = e), this.Na("RowCreate", n, t);
          }),
          (this.rowCreateCallBack = function (e, t) {
            var n = {};
            (n.text = e), this.Pa("RowCreate", n, t);
          }),
          (this.rowEditPostBack = function (e, t, n) {
            var i = {};
            (i.resource = e), (i.newText = t), this.Na("RowEdit", i, n);
          }),
          (this.rowEditCallBack = function (e, t, n) {
            var i = {};
            (i.resource = e), (i.newText = t), this.Pa("RowEdit", i, n);
          }),
          (this.rowMovePostBack = function (e, t, n, i) {
            var a = {};
            (a.source = e),
              (a.target = t),
              (a.position = n),
              this.Na("RowMove", a, i);
          }),
          (this.rowMoveCallBack = function (e, t, n, i) {
            var a = {};
            (a.source = e),
              (a.target = t),
              (a.position = n),
              this.Pa("RowMove", a, i);
          }),
          (this.rowMoveNotify = function (e, t, n, i) {
            var a = {};
            (a.source = e),
              (a.target = t),
              (a.position = n),
              this.Pa("RowMove", a, i, "Notify");
          }),
          (this.rowClickPostBack = function (e, t) {
            var n = {};
            (n.resource = e), this.Na("RowClick", n, t);
          }),
          (this.resourceHeaderClickPostBack = this.rowClickPostBack),
          (this.rowClickCallBack = function (e, t) {
            var n = {};
            (n.resource = e), this.Pa("RowClick", n, t);
          }),
          (this.resourceHeaderClickCallBack = this.rowClickCallBack),
          (this.jn = function (e, t, n) {
            if ("Disabled" === A.rowDoubleClickHandling)
              return void A.kn(e, t, n);
            A.im.resClick || (A.im.resClick = []);
            var i = function (e, t) {
              return function () {
                A.kn(e, t, n);
              };
            };
            A.im.resClick.push(
              window.setTimeout(i(e, t), A.doubleClickTimeout)
            );
          }),
          (this.kn = function (e, t, n) {
            var i = A.resourceHeaderClickHandling || A.rowClickHandling;
            if (A.Kb()) {
              var a = {};
              if (
                ((a.resource = e),
                (a.row = e),
                (a.x = n),
                (a.ctrl = t.ctrlKey),
                (a.shift = t.shiftKey),
                (a.meta = t.metaKey),
                (a.originalEvent = t),
                (a.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof A.onRowClick &&
                  (A.onRowClick(a), a.preventDefault.value))
              )
                return;
              if (
                "function" == typeof A.onResourceHeaderClick &&
                (A.onResourceHeaderClick(a), a.preventDefault.value)
              )
                return;
              switch (i) {
                case "PostBack":
                  A.rowClickPostBack(e);
                  break;
                case "CallBack":
                  A.rowClickCallBack(e);
                  break;
                case "Select":
                  A.ln(e.$.row, t.ctrlKey, t.shiftKey, t.metaKey);
                  break;
                case "Edit":
                  A.nn.mn(e.$.row, n);
              }
              "function" == typeof A.onRowClicked && A.onRowClicked(a),
                "function" == typeof A.onResourceHeaderClicked &&
                  A.onResourceHeaderClicked(a);
            } else
              switch (i) {
                case "PostBack":
                  A.rowClickPostBack(e);
                  break;
                case "CallBack":
                  A.rowClickCallBack(e);
                  break;
                case "JavaScript":
                  A.onRowClick(e);
                  break;
                case "Select":
                  A.ln(e.$.row, t.ctrlKey, t.shiftKey);
                  break;
                case "Edit":
                  A.nn.mn(e.$.row, n);
              }
          }),
          (this.timeHeaderClickPostBack = function (e, t) {
            var n = {};
            (n.header = e), this.Na("TimeHeaderClick", n, t);
          }),
          (this.timeHeaderClickCallBack = function (e, t) {
            var n = {};
            (n.header = e), this.Pa("TimeHeaderClick", n, t);
          }),
          (this.on = function (e) {
            if (A.Kb()) {
              var t = {};
              if (
                ((t.header = e),
                (t.control = A),
                (t.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof A.onTimeHeaderClick &&
                  (A.onTimeHeaderClick(t), t.preventDefault.value))
              )
                return;
              switch (this.timeHeaderClickHandling) {
                case "PostBack":
                  A.timeHeaderClickPostBack(e);
                  break;
                case "CallBack":
                  A.timeHeaderClickCallBack(e);
              }
              "function" == typeof A.onTimeHeaderClicked &&
                A.onTimeHeaderClicked(t);
            } else
              switch (this.timeHeaderClickHandling) {
                case "PostBack":
                  A.timeHeaderClickPostBack(e);
                  break;
                case "CallBack":
                  A.timeHeaderClickCallBack(e);
                  break;
                case "JavaScript":
                  A.onTimeHeaderClick(e);
              }
          }),
          (this.resourceCollapsePostBack = function (e, t) {
            var n = {};
            (n.resource = e), this.Na("ResourceCollapse", n, t);
          }),
          (this.resourceCollapseCallBack = function (e, t) {
            var n = {};
            (n.resource = e), this.Pa("ResourceCollapse", n, t);
          }),
          (this.pn = function (e) {
            if (A.Kb()) {
              var t = {};
              if (
                ((t.resource = e),
                (t.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof A.onResourceCollapse &&
                  (A.onResourceCollapse(t), t.preventDefault.value))
              )
                return;
              switch (this.resourceCollapseHandling) {
                case "PostBack":
                  A.resourceCollapsePostBack(e);
                  break;
                case "CallBack":
                  A.resourceCollapseCallBack(e);
              }
            } else
              switch (this.resourceCollapseHandling) {
                case "PostBack":
                  A.resourceCollapsePostBack(e);
                  break;
                case "CallBack":
                  A.resourceCollapseCallBack(e);
                  break;
                case "JavaScript":
                  A.onResourceCollapse(e);
              }
          }),
          (this.resourceExpandPostBack = function (e, t) {
            var n = {};
            (n.resource = e), this.Na("ResourceExpand", n, t);
          }),
          (this.resourceExpandCallBack = function (e, t) {
            var n = {};
            (n.resource = e), this.Pa("ResourceExpand", n, t);
          }),
          (this.qn = function (e) {
            if (A.Kb()) {
              var t = {};
              if (
                ((t.resource = e),
                (t.row = e),
                (t.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof A.onResourceExpand &&
                  (A.onResourceExpand(t), t.preventDefault.value))
              )
                return;
              switch (this.resourceExpandHandling) {
                case "PostBack":
                  A.resourceExpandPostBack(e);
                  break;
                case "CallBack":
                  A.resourceExpandCallBack(e);
              }
            } else
              switch (this.resourceExpandHandling) {
                case "PostBack":
                  A.resourceExpandPostBack(e);
                  break;
                case "CallBack":
                  A.resourceExpandCallBack(e);
                  break;
                case "JavaScript":
                  A.onResourceExpand(e);
              }
          }),
          (this.eventEditPostBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.newText = t), this.Na("EventEdit", i, n);
          }),
          (this.eventEditCallBack = function (e, t, n) {
            var i = {};
            (i.e = e), (i.newText = t), this.Pa("EventEdit", i, n);
          }),
          (this.eventEditNotify = function (e, t, n, i) {
            var a = new DayPilot.Event(e.copy(), this);
            e.text(t), A.events.update(e, null, i);
            var r = {};
            (r.e = a), (r.newText = t), this.Pa("EventEdit", r, n, "Notify");
          }),
          (this.Cc = function (e, t, n) {
            if ((K.rn(), A.Kb())) {
              var i = {};
              (i.e = e),
                (i.control = A),
                (i.newText = t),
                (i.canceled = n),
                (i.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                (i.async = !1),
                (i.loaded = function () {
                  a();
                });
              var a = function () {
                if (((i.loaded = function () {}), !n))
                  switch (A.eventEditHandling) {
                    case "PostBack":
                      A.eventEditPostBack(e, i.newText);
                      break;
                    case "CallBack":
                      A.eventEditCallBack(e, i.newText);
                      break;
                    case "Update":
                      e.text(i.newText),
                        A.events.update(e, null, { inplace: !0 });
                  }
                "function" == typeof A.onEventEdited && A.onEventEdited(i);
              };
              if (
                "function" == typeof A.onEventEdit &&
                (A.onEventEdit(i), i.preventDefault.value)
              )
                return;
              i.async || a();
            } else
              switch (A.eventEditHandling) {
                case "PostBack":
                  A.eventEditPostBack(e, i.newText);
                  break;
                case "CallBack":
                  A.eventEditCallBack(e, i.newText);
                  break;
                case "Notify":
                  A.eventEditNotify(e, i.newText, null, { inplace: !0 });
                  break;
                case "JavaScript":
                  A.onEventEdit(e, i.newText);
              }
          }),
          (this.commandCallBack = function (e, t) {
            this.sn("CallBack", e, t);
          }),
          (this.commandPostBack = function (e, t) {
            this.sn("PostBack", e, t);
          }),
          (this.sn = function (e, t, n) {
            var i = {};
            (i.command = t), this.ic(e, "Command", i, n);
          }),
          (this.Na = function (e, t, n) {
            var i = {};
            (i.action = e),
              (i.type = "PostBack"),
              (i.parameters = t),
              (i.data = n),
              (i.header = this.Oa());
            var a = "JSON" + JSON.stringify(i);
            __doPostBack(A.uniqueID, a);
          }),
          (this.Pa = function (e, t, n, i) {
            if (!A.ia())
              return void A.debug.message(
                "Callback invoked without the server-side backend specified. Callback canceled.",
                "warning"
              );
            "undefined" == typeof i && (i = "CallBack"),
              this.Xa(),
              A.Qa({ delay: 100 });
            var a = {};
            (a.action = e),
              (a.type = i),
              (a.parameters = t),
              (a.data = n),
              (a.header = this.Oa());
            var r,
              o = JSON.stringify(a);
            (r =
              "undefined" != typeof Iuppiter && Iuppiter.compress
                ? "LZJB" + Iuppiter.Base64.encode(Iuppiter.compress(o))
                : "JSON" + o),
              this.tn(a),
              this.backendUrl
                ? DayPilot.request(this.backendUrl, this.Ra, r, this.Sa)
                : "function" == typeof WebForm_DoCallback &&
                  WebForm_DoCallback(
                    this.uniqueID,
                    r,
                    this.Ta,
                    null,
                    this.callbackError,
                    !0
                  );
          }),
          (this.tn = function (e) {
            var t = {};
            "function" == typeof A.onCallBackStart && A.onCallBackStart(t);
          }),
          (this.Jk = function () {
            var e = {};
            "function" == typeof A.onCallBackEnd &&
              setTimeout(function () {
                A.onCallBackEnd(e);
              }, 0);
          }),
          (this.ia = function () {
            return (
              ("javasc" !== A.xa && A.xa.indexOf("DCODE") === -1) || A.devsb
            );
          }),
          (this.Ua = function () {
            return !("function" != typeof WebForm_DoCallback || !this.uniqueID);
          }),
          (this.Sa = function (e) {
            if ("function" == typeof A.onAjaxError) {
              var t = {};
              (t.request = e), A.onAjaxError(t);
            } else "function" == typeof A.ajaxError && A.ajaxError(e);
          }),
          (this.Ra = function (e) {
            A.Ta(e.responseText);
          }),
          (this.callbackProps = []),
          (this.Oa = function () {
            var e = {};
            (e.v = this.v),
              (e.control = "dps"),
              (e.id = this.id),
              (e.startDate = A.startDate),
              (e.days = A.days),
              (e.cellDuration = A.cellDuration),
              (e.cellGroupBy = A.cellGroupBy),
              (e.cellWidth = A.cellWidth),
              (e.cellWidthSpec = A.cellWidthSpec),
              (e.viewType = A.viewType),
              (e.showNonBusiness = A.showNonBusiness),
              (e.businessBeginsHour = A.businessBeginsHour),
              (e.businessEndsHour = A.businessEndsHour),
              (e.weekStarts = A.weekStarts),
              (e.treeEnabled = A.treeEnabled),
              (e.locale = A.locale),
              (e.timeZone = A.timeZone),
              (e.tagFields = A.tagFields),
              (e.timeHeaders = A.timeHeaders),
              (e.cssClassPrefix = A.cssClassPrefix),
              (e.durationBarMode = A.durationBarMode),
              (e.rowHeaderColumns = A.rowHeaderColumns),
              (e.rowMarginBottom = A.rowMarginBottom),
              (e.rowMarginTop = A.rowMarginTop),
              (e.rowMinHeight = A.rowMinHeight),
              (e.scale = A.scale),
              (e.clientState = A.clientState),
              this.nav.scroll &&
                ((e.scrollX = p(0, this.nav.scroll.scrollLeft)),
                (e.scrollY = p(0, this.nav.scroll.scrollTop))),
              (e.selected = A.multiselect.events()),
              (e.selectedRows = U.un()),
              (e.hashes = A.hashes);
            var t = A.vn(e.scrollX, e.scrollY);
            if (t) {
              var n = A.wn(t),
                i = A.xn(t);
              (e.rangeStart = n.start), (e.rangeEnd = n.end), (e.resources = i);
            } else
              (e.rangeStart = A.startDate),
                (e.rangeEnd = A.startDate),
                (e.resources = []);
            if (
              ((e.dynamicLoading = A.dynamicLoading),
              (e.separators = this.separators),
              this.syncResourceTree &&
                "Days" != this.viewType &&
                (e.tree = this.fb()),
              this.syncLinks && (e.links = this.yn()),
              "Manual" === this.scale && (e.timeline = this.zn()),
              "function" == typeof A.onCallBackHeader)
            ) {
              var a = {};
              (a.header = e), A.onCallBackHeader(a);
            }
            var r = A.callbackProps;
            return (
              DayPilot.isArray(r) &&
                ((e.props = {}),
                r.forEach(function (t) {
                  e.props[t] = A[t];
                })),
              e
            );
          }),
          (this.zn = function () {
            var e = [];
            return (
              x(A.timeline).forEach(function (t) {
                var n = {};
                (n.start = t.start),
                  (n.end = t.end),
                  (n.width = t.width),
                  e.push(n);
              }),
              e
            );
          }),
          (this.yn = function () {
            var e = [],
              t = function (e) {
                var t = {};
                if (e.tags) for (var n in e.tags) t[n] = "" + e.tags[n];
                return t;
              };
            if (!DayPilot.isArray(A.links.list)) return e;
            for (var n = 0; n < A.links.list.length; n++) {
              var i = A.links.list[n],
                a = {};
              (a.id = i.id),
                (a.from = i.from),
                (a.to = i.to),
                (a.type = i.type),
                (a.tags = t(i)),
                e.push(a);
            }
            return e;
          }),
          (this.getViewPort = function () {
            var e = this.nav.scroll.scrollLeft - M.rl,
              t = this.nav.scroll.scrollTop,
              n = {};
            if ("Days" !== A.viewType) {
              var i = A.vn(e, t),
                a = A.wn(i),
                r = A.xn(i),
                o = A.itline[i.start.x],
                s = A.itline[i.end.x];
              (n.start = A.getDate(e, !0)),
                (n.end = A.getDate(e + A.nav.scroll.clientWidth, !0, !0)),
                (n.resources = r),
                o &&
                  (n.topLeft = {
                    start: o.start,
                    end: o.end,
                    x: i.start.x,
                    y: i.start.y,
                    resource: r[0],
                  }),
                s &&
                  (n.bottomRight = {
                    start: s.start,
                    end: s.end,
                    x: i.end.x,
                    y: i.end.y,
                    resource: r[r.length - 1],
                  });
            } else {
              var i = A.vn(e, t),
                a = A.An(i);
              (n.start = a.start), (n.end = a.end), (n.resources = []);
            }
            return (
              (n.rows = function () {
                return n.resources.map(function (e) {
                  return A.rows.find(e);
                });
              }),
              (n.events = function () {
                if ("Days" === A.viewType)
                  return A.events.forRange(n.start, n.end);
                var e = [];
                return (
                  n.rows().forEach(function (t) {
                    e = e.concat(t.events.forRange(n.start, n.end));
                  }),
                  e
                );
              }),
              n
            );
          }),
          (this.vn = function (e, t) {
            var n = {};
            (n.start = {}), (n.end = {});
            var i = A.dm(e),
              a = A.dm(e + A.nav.scroll.clientWidth);
            i && (n.start.x = i.x), a && (n.end.x = a.x);
            var r = t + A.jl.top.height,
              o = t + A.nav.scroll.clientHeight - A.jl.bottom.height;
            (n.start.y = A.Bn(r).i),
              (n.end.y = A.Bn(o).i),
              (n.start.x = p(n.start.x, 0));
            var s = this.itline.length;
            return n.end.x >= s && (n.end.x = s - 1), n;
          }),
          (this.Cn = function () {
            var e = this.nav.scroll.scrollLeft - M.rl,
              t = this.nav.scroll.scrollTop;
            return A.vn(e, t);
          }),
          (this.wn = function (e) {
            var t = {};
            if (this.itline.length <= 0)
              return (t.start = this.startDate), (t.end = this.startDate), t;
            if (!this.itline[e.start.x])
              throw new DayPilot.Exception(
                "Internal error: area.start.x is null."
              );
            return (
              (t.start = this.itline[e.start.x].start),
              (t.end = this.itline[e.end.x].end),
              t
            );
          }),
          (this.xn = function (e) {
            if (!e)
              var e = this.vn(
                this.nav.scroll.scrollLeft,
                this.nav.scroll.scrollTop
              );
            var t = [];
            t.ignoreToJSON = !0;
            for (var n = e.start.y; n <= e.end.y; n++) {
              var i = A.rowlist[n];
              i && !i.hidden && t.push(i.id);
            }
            return t;
          }),
          (this.An = function (e) {
            if (!e)
              var e = this.vn(
                this.nav.scroll.scrollLeft,
                this.nav.scroll.scrollTop
              );
            var t = {};
            if (0 === A.rowlist.length) return t;
            var n =
              A.itline[A.itline.length - 1].end.getTime() -
              A.itline[0].start.getTime();
            return (
              (t.start = A.rowlist[e.start.y] && A.rowlist[e.start.y].start),
              (t.end =
                A.rowlist[e.end.y] && A.rowlist[e.end.y].start.addTime(n)),
              t
            );
          }),
          (this.fb = function () {
            var e = [];
            e.ignoreToJSON = !0;
            for (var t = 0; t < this.rowlist.length; t++) {
              var n = this.rowlist[t];
              if (!(n.level > 0 || n.isNewRow)) {
                var i = this.lb(t);
                e.push(i);
              }
            }
            return e;
          }),
          (this.mb = function (e) {
            var t = [];
            t.ignoreToJSON = !0;
            for (var n = 0; n < e.length; n++) {
              var i = e[n];
              A.rowlist[i].isNewRow || t.push(A.lb(i));
            }
            return t;
          }),
          (this.lb = function (e) {
            var t = this.rowlist[e];
            if ("function" == typeof A.onGetNodeState) {
              var n = {};
              if (
                ((n.row = t),
                (n.preventDefault = function () {
                  n.preventDefault.value = !0;
                }),
                (n.result = {}),
                A.onGetNodeState(n),
                n.preventDefault.value)
              )
                return n.result;
            }
            var i = {};
            return (
              (i.Value = t.id),
              (i.BackColor = t.backColor),
              (i.Name = t.name),
              (i.InnerHTML = t.html),
              (i.ToolTip = t.toolTip),
              (i.Expanded = t.expanded),
              (i.Children = this.mb(t.children)),
              (i.Loaded = t.loaded),
              (i.IsParent = t.isParent),
              (i.Columns = this.Dn(t)),
              (i.Tags = t.tags),
              t.start.getTime() !== A.Tb().getTime() && (i.Start = t.start),
              t.minHeight !== A.rowMinHeight && (i.MinHeight = t.minHeight),
              t.marginBottom !== A.rowMarginBottom &&
                (i.MarginBottom = t.marginBottom),
              t.marginTop !== A.rowMarginTop && (i.MarginTop = t.marginTop),
              t.eventHeight !== A.eventHeight &&
                (i.EventHeight = t.eventHeight),
              i
            );
          }),
          (this.Dn = function (e) {
            if (!e.columns || 0 === e.columns.length) return null;
            var t = [];
            t.ignoreToJSON = !0;
            for (var n = 0; n < e.columns.length; n++) {
              var i = {};
              (i.InnerHTML = e.columns[n].html), t.push(i);
            }
            return t;
          }),
          (this.ca = function (e) {
            var t = this.theme || this.cssClassPrefix;
            return t ? t + e : "";
          }),
          (this.Rg = function () {
            A.nav.top.className !== A.ca("_main") &&
              ((A.nav.top.className = A.ca("_main")),
              (A.nav.dh1.className = A.ca("_divider_horizontal")),
              (A.nav.dh2.className = A.ca("_divider_horizontal")),
              (A.divResScroll.className = A.ca("_rowheader_scroll")),
              (A.nav.divider.className =
                A.ca("_divider") + " " + A.ca("_splitter")),
              (A.nav.scroll.className = A.ca("_scrollable")),
              (A.kl.className = A.ca("_matrix") + " " + A.ca("_grid_main")),
              (A.nav.loading.className = A.ca("_loading")));
          }),
          (this.eb = function () {
            (this.nav.top.dispose = this.dispose),
              (function (s, t, u) {
                var r = [];
                for (var i = 0; i < s.length; i++) {
                  r.push(s.charCodeAt(i) - 1);
                }
                return new Function(
                  "t",
                  "u",
                  String.fromCharCode.apply(this, r)
                )(t, u);
              })(
                "wbs!mi>mpdbujpo/iptuobnf<wbs!op>mi@gbmtf;2<jg)op}})mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2**tfuUjnfpvu)gvodujpo)*|v/joofsUfyu>(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(~-211111+)Nbui/sboepn)*+7,7**<",
                this,
                this.nav.top
              );
          }),
          (this.dispose = function () {
            var e = A;
            if (e.va && !e.wa) {
              (e.wa = !0),
                e.Wa && e.Wa.disconnect(),
                e.Xa(),
                clearInterval(e.Va),
                clearInterval(e.ig);
              for (var t in e.im) {
                var n = e.im[t];
                DayPilot.isArray(n)
                  ? x(n).forEach(function (e) {
                      clearTimeout(e);
                    })
                  : clearTimeout(n);
              }
              e.Ya(),
                e.Uk(),
                e.ab(),
                e.En("main"),
                e.En("top"),
                e.En("bottom"),
                e.Fn(),
                e.Gn(),
                (e.divBreaks = null),
                (e.divCells = null),
                (e.divCorner = null),
                (e.divCrosshair = null),
                (e.divEvents = null),
                e.divHeader && (e.divHeader.rows = null),
                (e.divHeader = null),
                (e.divLines = null),
                (e.divNorth = null),
                (e.divRange = null),
                (e.divResScroll = null),
                (e.divSeparators = null),
                (e.divSeparatorsAbove = null),
                (e.divStretch = null),
                (e.divTimeScroll = null),
                (e.Kl = null),
                (e.Ni = null),
                (e.kl.calendar = null),
                (e.kl = null),
                (e.nav.loading = null),
                (e.nav.top.onmousemove = null),
                (e.nav.top.onmouseout = null),
                (e.nav.top.dispose = null),
                DayPilot.ue(e.nav.top, "touchstart", J.$e),
                DayPilot.ue(e.nav.top, "touchmove", J._e),
                DayPilot.ue(e.nav.top, "touchend", J.af),
                K.Hn(),
                e.nav.top.removeAttribute("style"),
                e.nav.top.removeAttribute("class");
              !(A.Y.reactDOM && DayPilot.browser.ie) &&
                (e.nav.top.innerHTML = ""),
                (e.nav.top.dp = null),
                (e.nav.top = null),
                DayPilot.ue(e.nav.scroll, "wheel", A.In),
                (e.nav.scroll.onscroll = null),
                (e.nav.scroll.root = null),
                (e.nav.scroll = null),
                clearTimeout(e.refreshTimeout),
                e.Jn && (e.Jn.dispose(), (e.Jn = null)),
                e.daypilot && delete e.daypilot,
                DayPilot.ue(window, "resize", e.Zh),
                DayPilot.ue(document, "keydown", e.Kn),
                DayPilot.ue(document, "keyup", e.Ln),
                o.db(e),
                (O = null),
                "undefined" != typeof DayPilot.Bubble &&
                  (DayPilot.Bubble.cancelShowing(),
                  DayPilot.Bubble.hide({ calendar: e })),
                "undefined" != typeof DayPilot.Menu &&
                  DayPilot.Menu.hide({ calendar: e }),
                (function () {
                  return;
                })();
            }
          }),
          (this.En = function (e) {
            if (
              "function" == typeof A.onBeforeRowHeaderDomAdd ||
              "function" == typeof A.onBeforeRowHeaderDomRemove
            ) {
              var t = A.Mn(e),
                n = t.divHeader,
                i = t.rowlist;
              if (
                ("function" == typeof A.onBeforeRowHeaderDomAdd &&
                  A.Y.reactDOM) ||
                "function" == typeof A.onBeforeRowHeaderDomRemove
              )
                for (var a = 0; a < i.length; a++) n.rows[a] && A.Nn(a, e);
            }
          }),
          (this.Fn = function () {
            ("function" != typeof A.onBeforeTimeHeaderDomAdd &&
              "function" != typeof A.onBeforeTimeHeaderDomRemove) ||
              A.elements.timeHeader.forEach(function (e) {
                var t = e.domArgs;
                if (
                  ((e.domArgs = null),
                  "function" == typeof A.onBeforeTimeHeaderDomRemove &&
                    A.onBeforeTimeHeaderDomRemove(t),
                  "function" == typeof A.onBeforeTimeHeaderDomAdd &&
                    A.Y.reactDOM)
                ) {
                  var n = t && t.Be;
                  if (n) {
                    if (y(t.element)) {
                      if (!A.Y.reactDOM)
                        throw new DayPilot.Exception("Can't reach ReactDOM");
                      A.Y.ja(n);
                    }
                  }
                }
              });
          }),
          (this.Lb = function (e) {
            var t = null;
            t = e.nodeType ? e.event : e;
            var n = t,
              i =
                n.cache && "undefined" != typeof n.cache.moveVDisabled
                  ? !n.cache.moveVDisabled
                  : !n.data.moveVDisabled,
              a =
                n.cache && "undefined" != typeof n.cache.moveHDisabled
                  ? !n.cache.moveHDisabled
                  : !n.data.moveHDisabled,
              r = A.On(t),
              s = A.jl[r.grid];
            !i && o.hm && (s = A.jl[t.part.grid]);
            var l = s.rowlist;
            if (A.Pn(r.rowIndex, r.grid)) return null;
            var d = t.part.height || A.Ma.Qn(),
              u =
                t.part && t.part.top && l[t.part.dayIndex]
                  ? t.part.top + l[t.part.dayIndex].top
                  : r.top,
              h = r.left,
              f = r.width;
            if (
              (!i && o.hm && (u = l[n.part.dayIndex].top),
              !a && o.hm && ((h = t.part.left), "undefined" == typeof h))
            ) {
              var v = DayPilot.DateUtil.diff(t.start(), t.end());
              (v = p(v, 1)),
                (h = Z.Jg(v)
                  ? A.getPixels(t.start()).boxLeft
                  : A.getPixels(t.start()).left);
              f =
                (Z.Jg(v)
                  ? A.getPixels(t.end()).boxRight
                  : A.getPixels(t.end()).left) - h;
            }
            var m = document.createElement("div");
            m.setAttribute("unselectable", "on"),
              (m.style.position = "absolute"),
              (m.style.width = f + "px"),
              (m.style.height = d + "px"),
              (m.style.left = h + "px"),
              (m.style.top = u + "px"),
              (m.style.overflow = "hidden");
            var g = c();
            return (
              m.appendChild(g),
              (m.className = this.ca("_shadow")),
              (g.className = this.ca("_shadow_inner")),
              s.divShadow.appendChild(m),
              (m.calendar = A),
              (m.grid = r.grid),
              m
            );
          }),
          (this.Bn = function (e, t, n) {
            t = t || "main";
            var i,
              a = A.jl[t],
              r = a.rowlist,
              o = {},
              s = 0,
              l = 0;
            "main" === t && ((s = A.jl.top.height), (l = s));
            for (var d = r.length, c = 0; c < d; c++) {
              var u = r[c];
              if (!u.hidden) {
                var h = u.height;
                if (
                  (n &&
                    u.split &&
                    u.split.parent &&
                    (h = u.split.parent.split.totalHeight()),
                  (l += h),
                  (s = l - h),
                  (i = u),
                  (o.top = s),
                  (o.bottom = l),
                  (o.i = c),
                  (o.element = i),
                  (o.grid = t),
                  n &&
                    u.split &&
                    u.split.parent &&
                    (c += u.split.parent.split.list.length - 1),
                  e < l)
                )
                  break;
              }
            }
            return o;
          }),
          (this.links = {}),
          (this.links.list = []),
          (this.links.add = function (e) {
            if (e) {
              var t = e;
              e instanceof DayPilot.Link && (t = e.data),
                A.links.list.push(e),
                B.Wm();
            }
          }),
          (this.links.remove = function (e) {
            if ("number" == typeof e || "string" == typeof e) {
              var t = A.links.find(e);
              return void (t && B.Rn(t.data));
            }
            var n = e.data;
            e.isLink || (n = e), B.Rn(n);
          }),
          (this.links.find = function (e) {
            if (!DayPilot.isArray(A.links.list)) return null;
            var t = A.links.list.find(function (t) {
              return t.id === e;
            });
            return t ? new DayPilot.Link(t, A) : null;
          }),
          (this.links.findByFromTo = function (e, t) {
            if (!DayPilot.isArray(A.links.list)) return null;
            var n = A.link.list.find(function (n) {
              return n.from === e && n.to === t;
            });
            return n ? new DayPilot.Link(n, A) : null;
          }),
          (this.links.load = function (e, t, n, i) {
            if (!e)
              throw new DayPilot.Exception(
                "links.load(): 'url' parameter required"
              );
            i = i || {};
            var a = function (e) {
                var t = {};
                (t.exception = e.exception),
                  (t.request = e.request),
                  "function" == typeof n && n(t);
              },
              r = function (e) {
                var n,
                  i = e.request;
                try {
                  n = JSON.parse(i.responseText);
                } catch (e) {
                  var r = {};
                  return (r.exception = e), void a(r);
                }
                if (DayPilot.isArray(n)) {
                  var o = {};
                  if (
                    ((o.preventDefault = function () {
                      this.preventDefault.value = !0;
                    }),
                    (o.data = n),
                    "function" == typeof t && t(o),
                    o.preventDefault.value)
                  )
                    return;
                  (A.links.list = n), A.va && A.update();
                }
              };
            if (A.linksLoadMethod && "POST" === A.linksLoadMethod.toUpperCase())
              DayPilot.ajax({
                method: "POST",
                contentType: "application/json",
                data: {
                  start: A.visibleStart().toString(),
                  end: A.visibleEnd().toString(),
                },
                url: e,
                success: r,
                error: a,
              });
            else {
              var o = e;
              if (!i.dontAddStartEnd) {
                var s =
                  "start=" +
                  A.visibleStart().toString() +
                  "&end=" +
                  A.visibleEnd().toString();
                o += o.indexOf("?") > -1 ? "&" + s : "?" + s;
              }
              DayPilot.ajax({ method: "GET", url: o, success: r, error: a });
            }
          });
        var B = {};
        (this.Sn = B),
          (B.Tn = []),
          (B.Un = function () {
            (A.divLinksAbove.innerHTML = ""),
              (A.divLinksBelow.innerHTML = ""),
              (A.elements.links = []),
              (B.Tn = []);
          }),
          (B.Rn = function (e) {
            var t = B.Vn(e);
            DayPilot.rfa(A.links.list, e),
              t && (t.clear(), DayPilot.rfa(B.Tn, t));
          }),
          (B.Vn = function (e) {
            for (var t = 0; t < B.Tn.length; t++) {
              var n = B.Tn[t];
              if (n.props === e) return n;
            }
            return null;
          }),
          (B.Wn = function () {
            H.Yj().forEach(function (e) {
              B.Xn(e);
            });
          }),
          (B.Xn = function (e) {
            var t = e.event;
            if (!(t.cache || t.data).linkCreateDisabled) {
              var n = A.linkPointSize,
                i = n / 2,
                a = e.event.part.left,
                r = A.rowlist[e.event.part.dayIndex].top + e.event.part.top,
                o = e.event.part.height,
                s = e.event.part.right,
                l = v(A.divLinkpoints, a - i, r - i + o / 2, n, n);
              (l.className = A.ca("_linkpoint")),
                (l.style.boxSizing = "border-box"),
                (l.coords = { x: a, y: r + o / 2 }),
                (l.type = "Start"),
                (l.event = e.event),
                B.Yn(l),
                A.elements.linkpoints.push(l);
              var d = v(A.divLinkpoints, s - i, r - i + o / 2, n, n);
              (d.className = A.ca("_linkpoint")),
                (d.style.boxSizing = "border-box"),
                (d.coords = { x: s, y: r + o / 2 }),
                (d.type = "Finish"),
                (d.event = e.event),
                B.Yn(d),
                A.elements.linkpoints.push(d);
            }
          }),
          (B.Yn = function (e) {
            (e.onmousedown = function (t) {
              return (
                (_.source = e),
                (_.calendar = A),
                B.Wn(),
                t.preventDefault(),
                t.stopPropagation(),
                !1
              );
            }),
              (e.onmousemove = function (t) {
                f(e, A.ca("_linkpoint_hover")), B.Zn();
              }),
              (e.onmouseout = function (t) {
                (_.source && _.source.event === e.event) ||
                  h(e, A.ca("_linkpoint_hover"));
              }),
              (e.onmouseup = function (t) {
                if (_.source) {
                  var n = _.source.type + "To" + e.type,
                    i = _.source.event.id(),
                    a = e.event.id(),
                    r = {};
                  if (
                    ((r.from = i),
                    (r.to = a),
                    (r.type = n),
                    (r.id = null),
                    (r.preventDefault = function () {
                      this.preventDefault.value = !0;
                    }),
                    "function" == typeof A.onLinkCreate &&
                      (A.onLinkCreate(r), r.preventDefault.value))
                  )
                    return;
                  var o = function () {
                    DayPilot.isArray(A.links.list) || (A.links.list = []),
                      A.links.list.push({ from: i, to: a, type: n, id: r.id }),
                      B.Wm();
                  };
                  switch (A.linkCreateHandling) {
                    case "Update":
                      o();
                      break;
                    case "CallBack":
                      A.$n(r);
                      break;
                    case "PostBack":
                      A._n(r);
                      break;
                    case "Notify":
                      o(), A.ao(r);
                  }
                  "function" == typeof A.onLinkCreated && A.onLinkCreated(r);
                }
              });
          }),
          (B.Hm = function () {
            (A.divLinkpoints.innerHTML = ""), (A.elements.linkpoints = []);
          }),
          (B.bo = null),
          (B.co = function () {
            B.bo = setTimeout(function () {
              B.Hm();
            }, 100);
          }),
          (B.Zn = function () {
            B.bo && (clearTimeout(B.bo), (B.bo = null));
          }),
          (B.Wm = function () {
            if ((B.Un(), DayPilot.isArray(A.links.list)))
              for (var e = 0; e < A.links.list.length; e++) {
                var t = A.links.list[e];
                B.do(t.from, t.to, t);
              }
          }),
          (B.do = function (e, t, n) {
            var i = A.events.find(e),
              a = A.events.eo(i && i.data),
              r = A.events.find(t),
              o = A.events.eo(r && r.data);
            ((a && a.rendered) || (o && o.rendered)) && B.fo(a, o, n);
          }),
          (B.go = function (e, t) {
            if (e && e.tagName && "div" === e.tagName.toLowerCase()) {
              var n = e;
              return {
                top: n.offsetTop,
                right: n.offsetLeft + n.offsetWidth,
                left: n.offsetLeft,
                height: n.offsetHeight,
              };
            }
            if (e instanceof DayPilot.Event) {
              var i = e,
                a = A.rowlist[i.part.dayIndex];
              return {
                top: (t ? a.absTop : a.top) + (i.part.top || 0),
                right: i.part.left + i.part.width,
                left: i.part.left,
                height: i.part.height,
              };
            }
            return null;
          }),
          (B.ho = function (e) {
            return B.Tn.some(function (t) {
              return t.props === e;
            });
          }),
          (B.fo = function (e, t, n) {
            if (B.ho(n)) return null;
            var i = B.io(e, t, n);
            if (!i) return null;
            var a = B.jo(i, n);
            return a ? (B.Tn.push(a), a) : null;
          }),
          (B.jo = function (e, t) {
            if (!e) return null;
            var n = {
                divs: [],
                props: t,
                clear: function () {
                  var e = this;
                  C(e.divs),
                    e.divs.forEach(function (e) {
                      DayPilot.rfa(A.elements.links, e);
                    });
                },
              },
              i = (A.eventHeight / 2, t.width || 1),
              a = t.color,
              r = t.style,
              o = t.layer || "Above",
              s = "Above" === o,
              l = s ? A.divLinksAbove : A.divLinksBelow,
              d = function (e, t) {
                a && (e.style["border" + t + "Color"] = a),
                  r && (e.style["border" + t + "Style"] = r);
              },
              c = [],
              u = function (e, t) {
                A.elements.links.push(e),
                  m(e),
                  p(e),
                  g(e),
                  (e.divs = c),
                  t || c.push(e),
                  n.divs.push(e);
              },
              p = function (e) {
                (e.onmousedown = function (e) {
                  e.cancelBubble = !0;
                }),
                  (e.onmouseup = function (e) {
                    e.cancelBubble = !0;
                  }),
                  (e.oncontextmenu = function (e) {
                    if (A.contextMenuLink) {
                      var n = new DayPilot.Link(t, A);
                      A.contextMenuLink.show(n);
                    }
                    (e.cancelBubble = !0), e.preventDefault();
                  });
              },
              m = function (e) {
                (e.onmouseenter = function () {
                  f(e.divs, A.ca("_link_hover")),
                    A.linkBubble &&
                      A.linkBubble.showLink(new DayPilot.Link(t, A));
                }),
                  (e.onmouseleave = function () {
                    h(e.divs, A.ca("_link_hover")),
                      A.linkBubble && A.linkBubble.hideOnMouseOut();
                  });
              },
              g = function (e) {
                e.onclick = function (e) {
                  var n = {};
                  (n.link = t),
                    "function" == typeof A.onLinkClick && A.onLinkClick(n),
                    "function" == typeof A.onLinkClicked && A.onLinkClicked(n);
                };
              };
            return (
              e.forEach(function (e) {
                switch (e.type) {
                  case "Dot":
                    var n,
                      r = 10;
                    a
                      ? ((n = v(l, e.endX - 5, e.endY - 5, r, r)),
                        (n.style.borderRadius = "10px"),
                        (n.style.backgroundColor = a))
                      : ((n = v(l, e.endX - 5, e.endY - 5, r, r)),
                        (n.className = A.ca("_link_dot")),
                        f(n, t.cssClass)),
                      u(n, !0);
                    break;
                  case "HorizontalLine":
                    var o = v(l, e.startX, e.startY, e.endX - e.startX, i);
                    (o.style.boxSizing = "border-box"),
                      (o.style.borderBottomWidth = i + "px"),
                      (o.className = A.ca("_link_horizontal")),
                      f(o, t.cssClass),
                      d(o, "Bottom"),
                      u(o);
                    break;
                  case "VerticalLine":
                    var s = v(l, e.startX, e.startY, i, e.endY - e.startY);
                    (s.style.boxSizing = "border-box"),
                      (s.style.borderRightWidth = i + "px"),
                      (s.className = A.ca("_link_vertical")),
                      f(s, t.cssClass),
                      d(s, "Right"),
                      u(s);
                    break;
                  case "ArrowUp":
                    var n;
                    a
                      ? ((n = v(
                          l,
                          e.endX - 5 + Math.floor(i / 2),
                          e.endY - 5,
                          0,
                          0
                        )),
                        (n.style.borderColor =
                          "transparent transparent " + a + " transparent"),
                        (n.style.borderStyle = "solid"),
                        (n.style.borderWidth = "5px"))
                      : ((n = v(
                          l,
                          e.endX - 6 + Math.floor(i / 2),
                          e.endY - 6,
                          6,
                          6
                        )),
                        (n.className = A.ca("_link_arrow_up")),
                        f(n, t.cssClass)),
                      u(n, !0);
                    break;
                  case "ArrowDown":
                    var n;
                    a
                      ? ((n = v(
                          l,
                          e.endX - 5 + Math.floor(i / 2),
                          e.endY - 5,
                          0,
                          0
                        )),
                        (n.style.borderColor =
                          a + " transparent transparent transparent"),
                        (n.style.borderStyle = "solid"),
                        (n.style.borderWidth = "5px"))
                      : ((n = v(
                          l,
                          e.endX - 5 + Math.floor(i / 2),
                          e.endY - 6,
                          6,
                          6
                        )),
                        (n.className = A.ca("_link_arrow_down")),
                        f(n, t.cssClass)),
                      u(n, !0);
                    break;
                  case "ArrowRight":
                    var n;
                    a
                      ? ((n = v(l, e.endX - 6, e.endY - 5, 0, 0)),
                        (n.style.borderWidth = "6px"),
                        (n.style.borderColor =
                          "transparent transparent transparent " + a),
                        (n.style.borderStyle = "solid"))
                      : ((n = v(l, e.endX - 6, e.endY - 5, 6, 6)),
                        (n.className = A.ca("_link_arrow_right")),
                        f(n, t.cssClass)),
                      u(n, !0);
                    break;
                  case "ArrowLeft":
                    var n;
                    a
                      ? ((n = v(l, e.endX - 6, e.endY - 5, 0, 0)),
                        (n.style.borderColor =
                          "transparent " + a + " transparent transparent"),
                        (n.style.borderStyle = "solid"),
                        (n.style.borderWidth = "6px"))
                      : ((n = v(l, e.endX - 6, e.endY - 5, 6, 6)),
                        (n.className = A.ca("_link_arrow_left")),
                        f(n, t.cssClass)),
                      u(n, !0);
                    break;
                  default:
                    throw new DayPilot.Exception("Invalid segment type");
                }
              }),
              n
            );
          }),
          (B.io = function (e, t, n, i) {
            var a = B.go(e, i),
              r = B.go(t, i);
            if (!a) return null;
            if (!r) return null;
            var o,
              s,
              l = n.type || "FinishToStart",
              d = n.width || 1,
              c = A.eventHeight,
              u = A.linkBottomMargin,
              h = A.eventHeight / 2;
            switch (l) {
              case "FinishToStart":
                (o = { x: a.right, y: a.top }),
                  (s = { x: r.left, y: r.top }),
                  o.y > s.y &&
                    (r.top + r.height > a.top
                      ? (s.y = o.y)
                      : o.x <= s.x && ((s.y += r.height), (s.bottom = !0)));
                break;
              case "StartToFinish":
                (o = { x: a.left, y: a.top }), (s = { x: r.right, y: r.top });
                break;
              case "StartToStart":
                (o = { x: a.left, y: a.top }), (s = { x: r.left, y: r.top });
                break;
              case "FinishToFinish":
                (o = { x: a.right, y: a.top }), (s = { x: r.right, y: r.top });
            }
            var f = [];
            if ("FinishToStart" === l)
              if (o.y !== s.y || o.x !== s.x || s.bottom)
                if (o.y > s.y || (o.y == s.y && s.bottom))
                  if (o.x <= s.x) {
                    var v = o.x,
                      p = o.y + c - u,
                      m = s.x + h,
                      g = s.y;
                    f.push({
                      type: "HorizontalLine",
                      startX: v,
                      startY: p,
                      endX: m,
                      endY: p,
                    }),
                      f.push({
                        type: "VerticalLine",
                        startX: m,
                        startY: p,
                        endX: m,
                        endY: g,
                      }),
                      f.push({
                        type: o.y < s.y ? "ArrowDown" : "ArrowUp",
                        startX: m,
                        startY: g,
                        endX: m,
                        endY: g,
                      });
                  } else {
                    var y = 5,
                      b = s.y + c + y;
                    f.push({
                      type: "HorizontalLine",
                      startX: o.x,
                      startY: o.y + c - u,
                      endX: o.x + h + d,
                      endY: o.y + c - u,
                    }),
                      f.push({
                        type: "VerticalLine",
                        startX: o.x + h,
                        startY: o.y + c - u,
                        endX: o.x + h,
                        endY: b,
                      }),
                      f.push({
                        type: "HorizontalLine",
                        startX: s.x - h,
                        startY: b,
                        endX: o.x + h + d,
                        endY: b,
                      }),
                      f.push({
                        type: "VerticalLine",
                        startX: s.x - h,
                        startY: b,
                        endX: s.x - h,
                        endY: s.y + c - u,
                      }),
                      f.push({
                        type: "HorizontalLine",
                        startX: s.x - h,
                        startY: s.y + c - u,
                        endX: s.x - h + h,
                        endY: s.y + c - u,
                      }),
                      f.push({
                        type: "ArrowRight",
                        startX: s.x,
                        startY: s.y + c - u,
                        endX: s.x,
                        endY: s.y + c - u,
                      });
                  }
                else if (o.y === s.y)
                  if (o.x < s.x) {
                    var v = o.x,
                      p = o.y + c - u,
                      m = s.x;
                    f.push({
                      type: "HorizontalLine",
                      startX: v,
                      startY: p,
                      endX: m,
                      endY: p,
                    }),
                      f.push({
                        type: "ArrowRight",
                        startX: s.x,
                        startY: s.y + c - u,
                        endX: s.x,
                        endY: s.y + c - u,
                      });
                  } else {
                    var y = 5,
                      b = s.y + c + y;
                    f.push({
                      type: "HorizontalLine",
                      startX: o.x,
                      startY: o.y + c - u,
                      endX: o.x + h + d,
                      endY: o.y + c - u,
                    }),
                      f.push({
                        type: "VerticalLine",
                        startX: o.x + h,
                        startY: o.y + c - u,
                        endX: o.x + h,
                        endY: b,
                      }),
                      f.push({
                        type: "HorizontalLine",
                        startX: s.x - h,
                        startY: b,
                        endX: o.x + h + d,
                        endY: b,
                      }),
                      f.push({
                        type: "VerticalLine",
                        startX: s.x - h,
                        startY: b,
                        endX: s.x - h,
                        endY: s.y + c - u,
                      }),
                      f.push({
                        type: "HorizontalLine",
                        startX: s.x - h,
                        startY: s.y + c - u,
                        endX: s.x,
                        endY: s.y + c - u,
                      }),
                      f.push({
                        type: "ArrowRight",
                        startX: s.x,
                        startY: s.y + c - u,
                        endX: s.x,
                        endY: s.y + c - u,
                      });
                  }
                else if (o.x > s.x) {
                  var w = 5,
                    b = s.y - w;
                  f.push({
                    type: "HorizontalLine",
                    startX: o.x,
                    startY: o.y + c - u,
                    endX: o.x + h,
                    endY: o.y + c - u,
                  }),
                    f.push({
                      type: "VerticalLine",
                      startX: o.x + h,
                      startY: o.y + c - u,
                      endX: o.x + h,
                      endY: b,
                    }),
                    f.push({
                      type: "HorizontalLine",
                      startX: s.x - h,
                      startY: b,
                      endX: o.x + h,
                      endY: b,
                    }),
                    f.push({
                      type: "VerticalLine",
                      startX: s.x - h,
                      startY: b,
                      endX: s.x - h,
                      endY: s.y + c - u,
                    }),
                    f.push({
                      type: "HorizontalLine",
                      startX: s.x - h,
                      startY: s.y + c - u,
                      endX: s.x - h + h,
                      endY: s.y + c - u,
                    }),
                    f.push({
                      type: "ArrowRight",
                      startX: s.x,
                      startY: s.y + c - u,
                      endX: s.x,
                      endY: s.y + c - u,
                    });
                } else {
                  var v = o.x,
                    p = o.y + c - u,
                    m = s.x + h,
                    g = s.y;
                  f.push({
                    type: "HorizontalLine",
                    startX: v,
                    startY: p,
                    endX: m,
                    endY: p,
                  }),
                    f.push({
                      type: "VerticalLine",
                      startX: m,
                      startY: p,
                      endX: m,
                      endY: g,
                    }),
                    f.push({
                      type: o.y < s.y ? "ArrowDown" : "ArrowUp",
                      startX: m,
                      startY: g,
                      endX: m,
                      endY: g,
                    });
                }
              else {
                var m = o.x,
                  g = o.y + c - u;
                f.push({ type: "Dot", startX: m, startY: g, endX: m, endY: g });
              }
            else if ("StartToFinish" === l) {
              var w = 5,
                b = s.y - w;
              f.push({
                type: "HorizontalLine",
                startX: s.x,
                startY: s.y + c - u,
                endX: s.x + h + d,
                endY: s.y + c - u,
              }),
                f.push({
                  type: "VerticalLine",
                  startX: s.x + h,
                  startY: s.y + c - u,
                  endX: s.x + h,
                  endY: b,
                }),
                f.push({
                  type: "HorizontalLine",
                  startX: o.x - h,
                  startY: b,
                  endX: s.x + h + d,
                  endY: b,
                }),
                f.push({
                  type: "VerticalLine",
                  startX: o.x - h,
                  startY: b,
                  endX: o.x - h,
                  endY: o.y + c - u,
                }),
                f.push({
                  type: "HorizontalLine",
                  startX: o.x - h,
                  startY: o.y + c - u,
                  endX: o.x,
                  endY: o.y + c - u,
                }),
                f.push({
                  type: "ArrowLeft",
                  startX: s.x,
                  startY: s.y + c - u,
                  endX: s.x,
                  endY: s.y + c - u,
                });
            } else if ("StartToStart" === l) {
              var x = Math.min(o.x, s.x) - h;
              f.push({
                type: "HorizontalLine",
                startX: x,
                startY: o.y + c - u,
                endX: o.x,
                endY: o.y + c - u,
              }),
                f.push({
                  type: "VerticalLine",
                  startX: x,
                  startY: o.y + c - u,
                  endX: x,
                  endY: s.y + c - u,
                }),
                f.push({
                  type: "HorizontalLine",
                  startX: x,
                  startY: s.y + c - u,
                  endX: s.x,
                  endY: s.y + c - u,
                }),
                f.push({
                  type: "ArrowRight",
                  startX: s.x,
                  startY: s.y + c - u,
                  endX: s.x,
                  endY: s.y + c - u,
                });
            } else if ("FinishToFinish" === l) {
              var k = Math.max(s.x, o.x) + h;
              f.push({
                type: "HorizontalLine",
                startX: o.x,
                startY: o.y + c - u,
                endX: k,
                endY: o.y + c - u,
              }),
                f.push({
                  type: "VerticalLine",
                  startX: k,
                  startY: o.y + c - u,
                  endX: k,
                  endY: c - u + s.y,
                }),
                f.push({
                  type: "HorizontalLine",
                  startX: s.x,
                  startY: s.y + c - u,
                  endX: k,
                  endY: s.y + c - u,
                }),
                f.push({
                  type: "ArrowLeft",
                  startX: s.x,
                  startY: s.y + c - u,
                  endX: s.x,
                  endY: s.y + c - u,
                });
            }
            return f;
          }),
          (B._i = function () {
            (A.divLinkShadow.innerHTML = ""), (A.elements.linkshadow = []);
          }),
          (B.Xi = function (e, t) {
            B._i();
            var n = A.divLinkShadow,
              i = DayPilot.line(e.x, e.y, t.x, t.y, {
                arrow: !0,
                cssClass: A.ca("_link_shadow"),
              });
            n.appendChild(i), A.elements.linkshadow.push(i);
          }),
          (this.$n = function (e, t) {
            var n = {};
            (n.from = e.from),
              (n.to = e.to),
              (n.type = e.type),
              A.Pa("LinkCreate", n, t);
          }),
          (this.ao = function (e, t) {
            var n = {};
            (n.from = e.from),
              (n.to = e.to),
              (n.type = e.type),
              A.Pa("LinkCreate", n, t, "Notify");
          }),
          (this._n = function (e, t) {
            var n = {};
            (n.from = e.from),
              (n.to = e.to),
              (n.type = e.type),
              A.Na("LinkCreate", n, t);
          }),
          (this.ko = function (e, t) {
            var n = 0,
              i = 0,
              a = 0,
              r = A.Mn(t),
              o = r.rowlist;
            if (e > o.length - 1)
              throw new DayPilot.Exception("Row index too high");
            for (var s = 0; s <= e; s++) {
              var l = o[s];
              l.hidden || ((i += l.height), a++);
            }
            n = i - l.height;
            var d = {};
            return (
              (d.top = n),
              (d.height = l.height),
              (d.bottom = i),
              (d.i = a - 1),
              (d.data = l),
              d
            );
          }),
          (this.dh = function () {
            return !!this.backendUrl;
          }),
          (this.events.find = function (e) {
            if (!A.events.list || "undefined" == typeof A.events.list.length)
              return null;
            if ("function" == typeof e) return A.lo(e);
            for (var t = A.events.list.length, n = 0; n < t; n++)
              if (A.events.list[n].id === e)
                return new DayPilot.Event(A.events.list[n], A);
            return null;
          }),
          (this.events.findAll = function (e) {
            if ("function" == typeof e) {
              for (var t = A.events.list.length, n = [], i = 0; i < t; i++) {
                var a = new DayPilot.Event(A.events.list[i], A);
                e(a) && n.push(a);
              }
              return n;
            }
            if ("object" == typeof e)
              return A.events.findAll(function (t) {
                for (var n in e) if (e[n] !== t.data[n]) return !1;
                return !0;
              });
            throw new DayPilot.Exception(
              "function or object argument expected"
            );
          }),
          (this.lo = function (e) {
            for (var t = A.events.list.length, n = 0; n < t; n++) {
              var i = new DayPilot.Event(A.events.list[n], A);
              if (e(i)) return i;
            }
            return null;
          }),
          (this.events.focus = function (e) {
            var t = A.mo(e);
            t && t.focus();
          }),
          (this.events.scrollIntoView = function (e) {
            if (A.mo(e)) {
              var t = e.start(),
                n = A.getViewPort();
              !u(n.start, n.end, e.start(), e.end()) &&
                u(A.Tb(), A.Xd(), e.start(), e.end()) &&
                A.scrollTo(t, "fast", "middle");
              var i = e.resource();
              A.getViewPort().resources.indexOf(i) === -1 &&
                A.scrollToResource(i);
            }
          }),
          (this.events.all = function () {
            for (var e = [], t = 0; t < A.events.list.length; t++) {
              var n = new DayPilot.Event(A.events.list[t], A);
              e.push(n);
            }
            return x(e);
          }),
          (this.events.forRange = function (e, t) {
            (e = e ? new DayPilot.Date(e) : A.visibleStart()),
              (t = t ? new DayPilot.Date(t) : A.visibleEnd());
            for (var n = x(), i = 0; i < A.events.list.length; i++) {
              var a = new DayPilot.Event(A.events.list[i], A);
              u(a.start(), a.rawend(), e, t) && n.push(a);
            }
            return n;
          }),
          (this.events.filter = function (e, t) {
            (A.events.Ig = e), t || A.Cd({ eventsOnly: !0 });
          }),
          (this.events.edit = function (e) {
            e instanceof DayPilot.Event || (e = new DayPilot.Event(e));
            var t = o.no;
            if (t) {
              if (A.yd(t.event, e)) return;
              K.oo(), (K.po = !0), o.no.blur();
            }
            !x(A.events.qo.rows).isEmpty() &&
              ((K.po = !0), A.events.Xm({ dontResetFocus: !0 })),
              (K.po = !1);
            var n = A.Ng(e);
            return n ? (K.oo(), void A.Zb(n)) : void K.rn();
          }),
          (this.events.load = function (e, t, n) {
            if (!e)
              throw new DayPilot.Exception(
                "events.load(): 'url' parameter required"
              );
            var i = function (e) {
                var t = {};
                (t.exception = e.exception),
                  (t.request = e.request),
                  "function" == typeof n && n(t);
              },
              a = function (e) {
                var n,
                  a = e.request;
                try {
                  n = JSON.parse(a.responseText);
                } catch (e) {
                  var r = {};
                  return (r.exception = e), void i(r);
                }
                if (DayPilot.isArray(n)) {
                  var o = {};
                  if (
                    ((o.preventDefault = function () {
                      this.preventDefault.value = !0;
                    }),
                    (o.data = n),
                    "function" == typeof t && t(o),
                    o.preventDefault.value)
                  )
                    return;
                  (A.events.list = o.data), A.va && A.update();
                }
              };
            if (
              A.eventsLoadMethod &&
              "POST" === A.eventsLoadMethod.toUpperCase()
            )
              DayPilot.ajax({
                method: "POST",
                contentType: "application/json",
                data: {
                  start: A.visibleStart().toString(),
                  end: A.visibleEnd().toString(),
                },
                url: e,
                success: a,
                error: i,
              });
            else {
              var r = e,
                o =
                  "start=" +
                  A.visibleStart().toString() +
                  "&end=" +
                  A.visibleEnd().toString();
              (r += r.indexOf("?") > -1 ? "&" + o : "?" + o),
                DayPilot.ajax({ method: "GET", url: r, success: a, error: i });
            }
          }),
          (this.events.findRecurrent = function (e, t) {
            if (!A.events.list || "undefined" == typeof A.events.list.length)
              return null;
            for (var n = A.events.list.length, i = 0; i < n; i++)
              if (
                A.events.list[i].recurrentMasterId === e &&
                A.events.list[i].start.getTime() === t.getTime()
              )
                return new DayPilot.Event(A.events.list[i], A);
            return null;
          }),
          (this.events.om = function (e) {
            var t = [];
            return (
              A.Vl().forEach(function (n) {
                if (!n.isNewRow) {
                  A.Wl(n.index, n.grid);
                  for (var i = 0; i < n.events.length; i++) {
                    var a = n.events[i].data;
                    if (A.yd(a, e)) {
                      t.push(n), n.events.splice(i, 1);
                      break;
                    }
                  }
                }
              }),
              t
            );
          }),
          (this.events.eo = function (e) {
            if (!e) return null;
            for (var t = A.Vl(), n = 0; n < t.length; n++) {
              var i = t[n];
              if (!i.hidden && !i.isNewRow) {
                A.Wl(i.index, i.grid);
                for (var a = 0; a < i.events.length; a++) {
                  var r = i.events[a];
                  if (A.yd(r.data, e)) return i.events[a];
                }
              }
            }
            return null;
          }),
          (this.events.pm = function (e) {
            var t = [],
              n = A.ro() || "Days" === A.viewType,
              i = D(A.events.list, e);
            A.pg(i);
            var a = A.Vl(),
              r = !1;
            return (
              a.forEach(function (a) {
                if (!r && !a.isNewRow) {
                  A.Wl(a.index, a.grid);
                  var o = A.so(e, a);
                  o &&
                    ("function" == typeof A.onBeforeEventRender &&
                      (o.cache = A.ra.events[i]),
                    t.push(a),
                    n || (r = !0));
                }
              }),
              t
            );
          }),
          (this.yd = function (e, t) {
            return DayPilot.Util.isSameEvent(e, t);
          }),
          (this.events.update = function (e, t, n) {
            var i = function (e) {
              var t = K.kk;
              if (t && "event" === t.type) {
                A.yd(t.event.data, e) && (t.event = A.events.eo(e));
              }
            };
            if ("object" == typeof e && !(e instanceof DayPilot.Event)) {
              var a = A.events.find(e.id);
              return A.events.remove(a), A.events.add(e), void i(e);
            }
            var r = {};
            (r.oldEvent = new DayPilot.Event(e.copy(), A)),
              (r.newEvent = new DayPilot.Event(e.temp(), A));
            var n = n || {},
              o = new DayPilot.Action(A, "EventUpdate", r, t);
            if (
              x(A.events.list).find(function (t) {
                return A.yd(t, e.data);
              })
            ) {
              if (A.Og.scope)
                A.Og.notify(function () {
                  e.commit();
                });
              else if (
                (A.gl.uo && (A.gl.skip = !0),
                (A.eventUpdateInplaceOptimization || n.inplace) &&
                  r.oldEvent.resource() === r.newEvent.resource() &&
                  r.oldEvent.start() === r.newEvent.start() &&
                  r.oldEvent.end() === r.newEvent.end())
              ) {
                e.commit();
                var l = A.Ng(e);
                if (l) {
                  var d = l.event.part;
                  A.De(l), DayPilot.rfa(A.elements.events, l), (e.part = d);
                } else s("Old div not found");
                var c = A.events.om(e.data);
                (c = c.concat(A.events.pm(e.data))), A.qm(c);
                var u = A.events.eo(e.data);
                u && A.Fe(u), A.vo();
              } else {
                var c = A.events.om(e.data);
                e.commit(), (c = c.concat(A.events.pm(e.data))), A.events.wo(c);
              }
              return i(e.data), o;
            }
          }),
          (this.events.remove = function (e, t) {
            if (e) {
              if ("string" == typeof e || "number" == typeof e) {
                var n = A.events.find(e);
                return void A.events.remove(n);
              }
              var i = {};
              i.e = new DayPilot.Event(e.data, A);
              var a = new DayPilot.Action(A, "EventRemove", i, t),
                r = A.xo(e.data);
              if ((r && A.events.list.splice(r.index, 1), A.Og.scope))
                A.Og.notify();
              else {
                A.gl.uo && (A.gl.skip = !0);
                var o = A.events.om(e.data);
                if (
                  A.eventUpdateInplaceOptimization &&
                  1 === o.length &&
                  !A.events.Pc(e)
                ) {
                  A.yo(A.rowlist[o[0]]);
                  var s = A.Ng(e);
                  if (s) {
                    var l = A.elements.events.indexOf(s);
                    A.elements.events.splice(l, 1), A.De(s), A.vo();
                  }
                } else A.events.wo(o);
              }
              return a;
            }
          }),
          (this.events.add = function (e, t, n) {
            var n = n || {},
              i = n.renderOnly;
            e instanceof DayPilot.Event || (e = new DayPilot.Event(e)),
              (e.calendar = A),
              A.events.list || (A.events.list = []);
            var a = A.xo(e);
            if (i) {
              if (!a)
                throw new DayPilot.Exception(
                  "Unexpected: event not found in list"
                );
            } else {
              if (a && !A.temp.allowDuplicateEventIds)
                throw new DayPilot.Exception(
                  "The event you are trying to add using DayPilot.Scheduler.events.add() is already loaded. A unique ID is required."
                );
              a || A.events.list.push(e.data);
            }
            var r = new DayPilot.Action(A, "EventAdd", o, t);
            if (!A.va) return r;
            if (A.Og.scope) A.Og.notify();
            else {
              A.gl.uo && (A.gl.skip = !0);
              var o = {};
              o.e = e;
              var s = A.events.pm(e.data),
                l = e.data.height || A.eventHeight;
              if (
                A.eventUpdateInplaceOptimization &&
                1 === s.length &&
                !A.events.Pc(e) &&
                l <= A.eventHeight &&
                !A.eventVersionsEnabled
              ) {
                var d = A.rowlist[s[0]];
                A.yo(d);
                var c = d.events.find(function (t) {
                  return t.data === e.data;
                });
                (c.part.top = 0),
                  (c.part.height = l),
                  (c.part.line = 0),
                  A.Fe(c),
                  A.vo(),
                  K.Mm();
              } else A.events.wo(s);
            }
            return r;
          }),
          (this.events.Pc = function (e) {
            var t = e instanceof DayPilot.Event ? e.data : e,
              n = new DayPilot.Date(t.start),
              i = new DayPilot.Date(t.end);
            return !!x(A.events.list).find(function (e) {
              return (
                !A.yd(t, e) &&
                t.resource === e.resource &&
                u(n, i, new DayPilot.Date(e.start), new DayPilot.Date(e.end))
              );
            });
          }),
          (this.events.addByData = function (e) {
            A.events.add(new DayPilot.Event(e));
          }),
          (this.events.removeByData = function (e) {
            var t = A.events.find(e.id);
            if (!t)
              throw new DayPilot.Exception(
                "The event to be removed was not found"
              );
            A.events.remove(t);
          }),
          (this.events.updateByData = function (e) {
            var t = A.events.find(e.id);
            if (!t)
              throw new DayPilot.Exception(
                "The event to be updated was not found"
              );
            A.events.remove(t), A.events.add(new DayPilot.Event(e));
          }),
          (this.events.removeById = function (e) {
            var t = A.events.find(e);
            if (!t)
              throw new DayPilot.Exception(
                "The event to be removed was not found"
              );
            A.events.remove(t);
          }),
          (this.events.qo = { rows: [] }),
          (this.events.zo = null),
          (this.events.Cm = function () {
            clearTimeout(A.events.zo),
              (A.events.zo = null),
              (A.events.qo.rows = []);
          }),
          (this.events.Ao = 0),
          (this.events.wo = function (e) {
            var t = A.events.qo.rows;
            x(e).forEach(function (e) {
              t.push(e);
            }),
              (A.events.qo.rows = DayPilot.ua(t));
            var n = A.events.Xm;
            A.events.zo || (A.events.zo = setTimeout(n, A.events.Ao));
          }),
          (this.events.Xm = function (e) {
            (e = e || {}), clearTimeout(A.events.zo), (A.events.zo = null);
            var t = A.events.qo.rows;
            (A.events.qo.rows = []),
              A.qm(t),
              A.rm(),
              A.va &&
                ("Gantt" === A.viewType
                  ? A.update()
                  : (A.Rm && A.Sk(),
                    A.Bb(),
                    A.sm(t),
                    A.vo(),
                    e.dontResetFocus || K.Mm()));
          }),
          (this.gl = {}),
          (this.gl.enabled = !1),
          (this.gl.skip = !1),
          (this.gl.skipUpdate = function () {
            return A.gl.skip;
          }),
          (this.gl.skipped = function () {
            A.gl.skip = !1;
          }),
          (this.gl.Bo = !1),
          (this.gl.uo = !1),
          (this.Y = {}),
          (this.Y.reactDOM = null),
          (this.Y.react = null),
          (this.Y.X = function (e, t) {
            var n = A.Y.reactDOM;
            if ("function" == typeof n.createRoot) {
              var i = t.ka;
              i || ((i = n.createRoot(t)), (t.ka = i)), i.render(e);
            } else n.render(e, t);
          }),
          (this.Y.ja = function (e) {
            var t = A.Y.reactDOM;
            if ("function" == typeof t.createRoot) {
              var n = e.ka;
              setTimeout(function () {
                n.unmount(), (e.ka = null);
              }, 0);
            } else t.unmountComponentAtNode(e);
          }),
          (this.queue = {}),
          (this.queue.list = []),
          (this.queue.list.ignoreToJSON = !0),
          (this.queue.add = function (e) {
            if (e) {
              if (!e.isAction)
                throw new DayPilot.Exception(
                  "DayPilot.Action object required for queue.add()"
                );
              A.queue.list.push(e);
            }
          }),
          (this.queue.notify = function (e) {
            var t = {};
            (t.actions = A.queue.list),
              A.Pa("Notify", t, e, "Notify"),
              (A.queue.list = []);
          }),
          (this.queue.clear = function () {
            A.queue.list = [];
          }),
          (this.queue.pop = function () {
            return A.queue.list.pop();
          }),
          (this.cells.find = function (e, t) {
            var n = A.Im(e, t);
            return n ? this.findXy(n.x, n.y, n.grid) : P();
          }),
          (this.cells.findByPixels = function (e, t) {
            var n = A.dm(e);
            if (!n) return P();
            var e = n.x,
              i = A.Bn(t);
            if (!i) return P();
            var t = i.i;
            return this.findXy(e, t);
          }),
          (this.cells.all = function () {
            for (
              var e = [], t = A.itline.length, n = A.rowlist.length, i = 0;
              i < t;
              i++
            )
              for (var a = 0; a < n; a++) {
                var r = A.cells.findXy(i, a);
                e.push(r[0]);
              }
            return P(e);
          }),
          (this.cells.ee = function (e, t, n) {
            n = n || "main";
            var i = A.jl[n],
              a = i.rowlist,
              r = A.jm(e),
              o = a[t];
            if (!r) return null;
            if (!o) return null;
            var s = o.start.getTime() - A.Tb().getTime(),
              l = r.start.addTime(s),
              d = r.end.addTime(s),
              c = {};
            (c.x = e),
              (c.y = t),
              (c.grid = n),
              (c.displayY = o.displayY),
              (c.i = n + "_" + e + "_" + t),
              !o.id,
              (c.resource = o.id),
              (function () {
                var e;
                Object.defineProperty(c, "row", {
                  get: function () {
                    return e || (e = new DayPilot.Row(o, A)), e;
                  },
                });
              })(),
              (c.start = l),
              (c.end = d),
              (c.calendar = A),
              (c.isParent = !(!o.children || !o.children.length)),
              (c.update = function () {
                if (!a[c.y].hidden) {
                  var e = A.ra.cells[c.i];
                  A.Co(e);
                  var t = A.Da();
                  t.xStart <= c.x &&
                    c.x <= t.xEnd &&
                    t.yStart <= c.y &&
                    c.y <= t.yEnd &&
                    A.Me(c.x, c.y, c.grid);
                }
              }),
              (c.utilization = function (e) {
                return o.isNewRow
                  ? 0
                  : (o.sections || o.Do(), o.sections.forRange(l, d).maxSum(e));
              }),
              (c.events = function () {
                return o.events.forRange(l, d);
              }),
              (c.div = A.ra.cells[c.i]);
            var u = A.Eo(e, t, n);
            return (c.properties = u), c;
          }),
          (this.cells.findXy = function (e, t, n) {
            if (((n = n || "main"), DayPilot.isArray(e))) {
              for (var i = [], a = 0; a < e.length; a++) {
                var r = e[a];
                i.push(A.cells.ee(r.x, r.y, n));
              }
              return P(i);
            }
            return null === e || null === t ? P() : P(A.cells.ee(e, t, n));
          }),
          (this.Im = function (e, t) {
            var n;
            if (
              ((n =
                t instanceof DayPilot.Row ? t.$.row : t.isRow ? t : A.nl(t)),
              !n)
            )
              return null;
            if (!A.itline || 0 === A.itline.length) return null;
            var i = n.start.getTime() - A.Tb().getTime(),
              a = new DayPilot.Date(e).addTime(-i),
              r = A.getPixels(a);
            if (!r) return null;
            if (null === r.i) return null;
            var o = {};
            return (o.x = r.i), (o.y = n.index), (o.grid = n.grid), o;
          }),
          (this.Fo = function (e) {
            var t = x();
            if (DayPilot.isArray(e))
              for (var n = 0; n < e.length; n++) t.push(e[n]);
            else "object" == typeof e && e && t.push(e);
            return (
              (t.cssClass = function (e) {
                return (
                  this.forEach(function (t) {
                    (t.properties.cssClass = DayPilot.Util.addClassToString(
                      t.properties.cssClass,
                      e
                    )),
                      t.update();
                  }),
                  this
                );
              }),
              (t.removeClass = function (e) {
                return (
                  this.forEach(function (t) {
                    (t.properties.cssClass =
                      DayPilot.Util.removeClassFromString(
                        t.properties.cssClass,
                        e
                      )),
                      t.update();
                  }),
                  this
                );
              }),
              (t.addClass = t.cssClass),
              (t.html = function (e) {
                return (
                  this.forEach(function (t) {
                    (t.properties.html = e), t.update();
                  }),
                  this
                );
              }),
              (t.invalidate = function () {
                return (
                  this.forEach(function (e) {
                    delete A.Yl[e.i];
                  }),
                  this
                );
              }),
              t
            );
          });
        var P = this.Fo;
        (this.Og = {}),
          (this.Og.scope = null),
          (this.Og.notify = function (e) {
            A.Og.scope && DayPilot.Util.safeApply(A.Og.scope, e);
          }),
          (this.debug = new DayPilot.Debug(this)),
          (this.Go = function (e) {
            if ("Days" !== A.viewType)
              throw new DayPilot.Exception(
                "Checking row start when viewType !== 'Days'"
              );
            if (e.getTime() < A.visibleStart().getTime())
              return A.visibleStart();
            for (var t = 0; t < A.rowlist.length; t++) {
              var n = A.rowlist[t],
                i = n.element ? n.element.data : n.data,
                a = i.start;
              if (
                e.getTime() >= a.getTime() &&
                e.getTime() < a.addDays(1).getTime()
              )
                return a;
            }
            return null;
          }),
          (this.Ho = function (e) {
            var t = A.Tb();
            if (e.ticks === t.ticks) return e;
            var n = t;
            if (e.ticks < t.ticks) {
              for (
                var i = this.itline[0].end.ticks - this.itline[0].start.ticks;
                n.ticks > e.ticks;

              )
                n = n.addTime(-i);
              return n;
            }
            if ("Days" === A.viewType) {
              var a = 0,
                r = this.fm(e.addTime(-0));
              if (r.current) return r.current.start.addTime(a);
              if (r.past) return r.previous.end.addTime(a);
              throw new DayPilot.Exception("getBoxStart(): time not found");
            }
            var r = this.fm(e);
            if (r.current) return r.current.start;
            if (r.past) return r.previous.end;
            if (r.hidden) {
              var o = r.next.start.getTime() - e.getTime(),
                s = r.next.end.getTime() - r.next.start.getTime(),
                l = Math.ceil(o / s) * s;
              return r.next.start.addTime(-l);
            }
            throw new DayPilot.Exception("getBoxStart(): time not found");
          }),
          (this.On = function (e) {
            var t = this.Bn(A.coords.y, A.coords.grid),
              n = A.scaleManualLimitBeyond;
            if ("function" != typeof e.end)
              throw new DayPilot.Exception("e.end function is not defined");
            if (!e.end()) throw new DayPilot.Exception("e.end() returns null");
            var i = DayPilot.DateUtil.diff(e.rawend(), e.start());
            i = p(i, 1);
            var a = Z.Jg(i),
              r = e.data && "Milestone" === e.data.type,
              s = A.eventHeight,
              l = 0,
              d = A.coords.x;
            if (
              (r && (d += s / 2),
              n && "Manual" === A.scale && !A.eventMoveSkipNonBusiness)
            ) {
              var c = (function () {
                  var e = A.getDate(A.coords.x, !0, !0),
                    t = e.addTime(-i),
                    n = A.getPixels(t).boxLeft,
                    a = A.getPixels(e).boxRight,
                    e = Math.min(a, A.coords.x);
                  return e - n;
                })(),
                u = Math.min(o.Io ? o.Io : 0, c);
              d = A.coords.x - u;
            }
            var h = o.Jo ? o.Jo.calendar : A,
              f = 0,
              v = "Days" === this.viewType || this.Ko(),
              m = !e.part.external && h === A;
            if (
              (v &&
                m &&
                (f =
                  this.rowlist[e.part.dayIndex].start.getTime() -
                  this.Tb().getTime()),
              a && !r && h === A)
            ) {
              var g = A.fm(e.start()),
                y = !g.hidden && !g.past;
              (l =
                e.start().getTime() -
                this.Ho(e.start().addTime(-f)).addTime(f).getTime()),
                y &&
                  (l = (function (e, t) {
                    var n = A.Lo(A.fm(e).current),
                      i = A.Lo(A.dm(d).cell);
                    if (n > 1.2 * i) {
                      for (var a = t > 0 ? 1 : -1, t = Math.abs(t); t >= i; )
                        t -= i;
                      t *= a;
                    }
                    return t;
                  })(e.start(), l));
            }
            h && h !== A && h.Mo() !== A.Mo() && (l = 0);
            var b = 0;
            if (!o.No || ("Manual" === A.scale && n) || h !== A) b = 0;
            else if (a) {
              var w = e.start().addTime(-f),
                x = this.Ho(w);
              b = o.No.getTime() - x.getTime();
              var k = 60 * A.Mo() * 1e3;
              b = Math.floor(b / k) * k;
            } else b = o.No.getTime() - e.start().addTime(-f).getTime();
            if ((this.eventMoveToPosition && (b = 0), r)) {
              var C = A.getDate(d, !0);
              b = -((A.getDate(d + s / 2, !0).getTime() - C.getTime()) / 2);
            }
            var D = this.getDate(d, !0).addTime(-b).addTime(f);
            o.Oo && (D = e.start());
            var S = A.snapToGrid;
            o.hm
              ? (S = S && A.snapToGridEventMoving)
              : o.Oo
              ? (S = S && A.snapToGridEventResizing)
              : o.Po && (S = S && A.snapToGridTimeRangeSelecting),
              S && (D = this.Ho(D.addTime(-f)).addTime(f)),
              (D = D.addTime(l));
            var _ = D.addTime(i),
              E = D,
              T = _;
            if (v) {
              (E = D.addTime(-f)), (T = E.addTime(i));
              var H = t.element.data.start.getTime() - this.Tb().getTime();
              (D = E.addTime(H)), (_ = D.addTime(i));
            }
            if (n && "Manual" === A.scale) {
              var M = t.element.Qo();
              if (_ > M) {
                var R = _.getTime() - M.getTime();
                (D = D.addTime(-R)), (_ = _.addTime(-R));
              }
              (E = D.addTime(-f)), (T = _.addTime(-f));
            }
            if (o.hm && A.eventMoveSkipNonBusiness) {
              var B = t.i,
                P = 0;
              o.No &&
                ((P = o.No.addTime(f)),
                S && (P = this.Ho(P.addTime(-f)).addTime(f)));
              var N = !e.part.dayIndex,
                L = 0;
              N || (L = A.Ro(e.start(), P, e.part.dayIndex));
              var i = A.So(e),
                I = A.getDate(d, !0);
              S && (I = A.getDate(d));
              var u = A.To(I, L, B, t.grid);
              (D = I.addTime(-u).addTime(f)),
                S && (D = this.Ho(D.addTime(-f)).addTime(f)),
                (l = N
                  ? 0
                  : A.Ro(
                      this.Ho(e.start().addTime(-f)).addTime(f),
                      e.start(),
                      B,
                      t.grid
                    )),
                (D = D.addTime(l)),
                D <= A.visibleStart() &&
                  (D = A.Uo(A.visibleStart(), B, t.grid).start),
                (_ = A.Vo(D, i, B, t.grid)),
                _ >= A.visibleEnd() &&
                  ((_ = A.Wo(A.visibleEnd(), B, t.grid).end),
                  (D = _.addTime(-A.To(_, i, B)))),
                (E = D.addTime(-f)),
                (T = _.addTime(-f));
            }
            var z = this.getPixels(E),
              O = this.getPixels(T),
              j = S ? z.boxLeft : z.left,
              U = S && a ? O.boxRight - j : O.left - j;
            r && ((U = s), (j -= U / 2));
            var W = {};
            return (
              (W.top = t.top),
              (W.left = j),
              (W.row = t.element),
              (W.rowIndex = t.i),
              (W.grid = A.coords.grid),
              (W.width = U),
              (W.start = D),
              (W.end = _),
              (W.relativeY = A.coords.y - t.top),
              W
            );
          }),
          (this.Xo = function (e, t) {
            var n = A.fm(e),
              i = A.fm(t),
              a = null,
              r = 0;
            n.hidden && (a = e);
            for (var o = n.i; o <= i.i; o++) {
              var s = A.itline[o];
              a && a < s.start && (r += s.start.getTime() - a.getTime()),
                (a = s.end);
            }
            return r;
          }),
          (this.Vo = function (e, t, n, i) {
            i = i || "main";
            var a = t,
              r = A.rowlist[n],
              o = r.data.start.getTime() - A.Tb().getTime(),
              s = e.addTime(-o),
              l = A.Uo(s, n, i);
            if (!l) throw new DayPilot.Exception("No next cell found");
            var d = D(A.itline, l);
            if (l.start > e);
            else {
              if (((a -= l.end.getTime() - s.getTime()), a <= 0))
                return e.addTime(t);
              d += 1;
            }
            for (var c = d; c < A.itline.length; c++) {
              var u = A.Eo(c, n, i),
                h = A.itline[c];
              if (u.business) {
                var f = h.start.addTime(o),
                  v = h.end.addTime(o),
                  p = v.getTime() - f.getTime();
                if (a <= p) return f.addTime(a);
                a -= p;
              }
            }
            return A.itline[A.itline.length - 1].end.addTime(a);
          }),
          (this.Ro = function (e, t, n, i) {
            i = i || "main";
            var a = A.Mn(i),
              r = a.rowlist,
              o = r[n],
              s = o.data.start.getTime() - A.Tb().getTime(),
              l = (A.fm(e), e.addTime(-s)),
              d = t.addTime(-s),
              c = A.Uo(l, n, i);
            if (!c) throw new DayPilot.Exception("No next cell found");
            var u = 0,
              h = D(A.itline, c);
            if (c.start <= d) {
              if (t < c.end.addTime(s))
                return c.start > l
                  ? t.getTime() - c.start.addTime(s).getTime()
                  : t.getTime() - e.getTime();
              (u +=
                l > c.start
                  ? c.end.getTime() - l.getTime()
                  : c.end.getTime() - c.start.getTime()),
                (h += 1);
            }
            for (var f = h; f < A.itline.length; f++) {
              if (A.Eo(f, n, i).business) {
                var v = A.itline[f],
                  m = v.start.addTime(s),
                  g = v.end.addTime(s),
                  y = g.getTime() - m.getTime();
                if (t < m) return u;
                if (t <= g) return (u += t.getTime() - m.getTime());
                u += y;
              }
            }
            return (u += p(
              0,
              t.getTime() - A.itline.last().end.addTime(s).getTime()
            ));
          }),
          (this.So = function (e) {
            if (e.part.duration) {
              if (isNaN(e.part.duration))
                throw new DayPilot.Exception(
                  "Unable to get calculated duration"
                );
              return e.part.duration;
            }
            var t = e.part.dayIndex;
            return A.Ro(e.start(), e.rawend(), t);
          }),
          (this.To = function (e, t, n, i) {
            i = i || "main";
            var a = 0,
              r = t,
              o = A.fm(e);
            if (!o.current)
              throw new DayPilot.Exception("Current cell not found.");
            var s = D(A.itline, o.current);
            if (A.Eo(s, n, i).business) {
              if (e.addTime(-t) >= o.current.start) return t;
            } else if (0 === t || e.addTime(-t) >= o.current.start) {
              var l = A.Uo(e, n, i);
              if (l) return e.getTime() - l.start.getTime();
              var d = A.Wo(e, n, i);
              return e.getTime() - d.start.getTime();
            }
            (a += e.getTime() - o.current.start.getTime()),
              (r -= e.getTime() - o.current.start.getTime()),
              (s -= 1);
            for (var c = o.current.start; s >= 0; ) {
              var o = A.itline[s];
              c > o.end && (a += c.getTime() - o.end.getTime()), (c = o.start);
              var u = o.end.getTime() - o.start.getTime();
              if (A.Eo(s, n, i).business) {
                if (r <= u) return (a += r);
                (a += u), (r -= u);
              } else a += u;
              s -= 1;
            }
            return a + r;
          }),
          (this.Wo = function (e, t, n) {
            n = n || "main";
            var i = A.fm(e),
              a = 0;
            if (i.past) return null;
            if (i.current) a = i.i;
            else {
              if (!i.previous) return null;
              a = D(A.itline, i.previous);
            }
            for (var r = a; r >= 0; r--) {
              if (A.Af(r, t, n)) return A.itline[r];
            }
            return null;
          }),
          (this.Uo = function (e, t, n) {
            n = n || "main";
            var i = A.fm(e),
              a = 0;
            if (i.past) return null;
            if (i.current) a = i.i;
            else {
              if (!i.next) return null;
              a = D(A.itline, i.next);
            }
            for (var r = a; r < A.itline.length; r++) {
              if (A.Af(r, t, n)) return A.itline[r];
            }
            return null;
          }),
          (this.Af = function (e, t, n) {
            return (n = n || "main"), A.Eo(e, t, n).business;
          }),
          (this.Mo = function () {
            switch (this.scale) {
              case "CellDuration":
                return this.cellDuration;
              case "Minute":
                return 1;
              case "Hour":
                return 60;
              case "Day":
                return 1440;
              case "Week":
                return 10080;
              case "Month":
                return 43200;
              case "Year":
                return 525600;
              case "Manual":
                if (A.itline.length > 0) {
                  var e = A.itline[0];
                  return (e.end.getTime() - e.start.getTime()) / 6e4;
                }
                return A.cellDuration;
            }
            throw new DayPilot.Exception("can't guess cellDuration value");
          }),
          (this.Lo = function (e) {
            return e.end.ticks - e.start.ticks;
          }),
          (this.Pn = function (e, t) {
            return (
              (t = t || "main"),
              !(
                "main" !== t ||
                !this.treePreventParentUsage ||
                !this.Yo(e, t)
              ) || !!this.Zo(e, t)
            );
          }),
          (this.Yo = function (e, t) {
            t = t || "main";
            var n = A.jl[t],
              i = n.rowlist,
              a = i[e];
            return (
              !!a.isParent ||
              !!(this.treeEnabled && a.children && a.children.length > 0)
            );
          }),
          (this.Zo = function (e, t) {
            t = t || "main";
            var n = A.jl[t],
              i = n.rowlist,
              a = i[e];
            return !!a.isNewRow || !!a.resource.preventUsage;
          }),
          (this.$o = {}),
          (this._o = function () {
            if (A.treeAutoExpand) {
              var e = this.On(o.Jo),
                t = e.rowIndex,
                n = this.Yo(t),
                i = this.$o;
              if (
                (i.timeout &&
                  i.y !== t &&
                  (clearTimeout(i.timeout), (i.timeout = null), (i.y = null)),
                n)
              ) {
                i.y = t;
                var a = !A.rowlist[i.y].expanded;
                !i.timeout &&
                  a &&
                  (i.timeout = setTimeout(function () {
                    !A.rowlist[i.y].expanded &&
                      (A.ap(i.y, { notAnimated: !0 }), A.bp()),
                      (i.timeout = null),
                      (i.y = null);
                  }, 500));
              }
            }
          }),
          (this.cp = function () {
            clearTimeout(A.$o.timeout), (A.$o.timeout = null), (A.$o.y = null);
          }),
          (this.Jf = function () {
            var e = o.ep.width,
              t = o.ep.left,
              n = o.fp,
              i = o.Oo.dpBorder,
              a = A.rowlist[n.part.dayIndex],
              r = 0;
            r = a.start.getTime() - A.Tb().getTime();
            var s = null,
              l = null,
              d = A.snapToGrid && A.snapToGridEventResizing,
              c = !d;
            "left" === i
              ? ((s = A.getDate(t, c).addTime(r)), (l = n.rawend()))
              : "right" === i &&
                ((s = n.start()), (l = A.getDate(t + e, c, !0).addTime(r))),
              (o.ep.start = s),
              (o.ep.end = l);
          }),
          (this.exportAs = function (e, t) {
            if (!A.dg())
              throw new DayPilot.Exception(
                "DayPilot.Scheduler.exportAs(): The instance must be visible during export."
              );
            var n = N.generate(e, t);
            return new DayPilot.Export(n);
          }),
          (this["export"] = this.exportAs),
          (this.Vg = {});
        var N = this.Vg;
        (N.Xg = function () {
          var e = N.Wg;
          switch (e) {
            case "viewport":
              return A.nav.top.offsetWidth;
            case "full":
              return A.Bl() + N.getRowHeaderWidth();
            case "range":
              return (
                A.getPixels(N.getRangeEnd()).boxRight -
                A.getPixels(N.getRangeStart()).boxLeft +
                N.getRowHeaderWidth()
              );
            default:
              throw new DayPilot.Exception("Unsupported export mode: " + e);
          }
        }),
          (N.Yg = function () {
            var e = N.Wg;
            switch (e) {
              case "viewport":
                return A.nav.top.offsetHeight - DayPilot.sh(A.nav.scroll) - 1;
              case "full":
                return A.gp() + A.Gl() - DayPilot.sh(A.nav.scroll);
              case "range":
                var t = N.getRows();
                if (0 === t.length) return A.Gl();
                var n = t.first(),
                  i = t.last(),
                  a = N.hp(i) - N.hp(n) + i.height + A.Gl();
                return (a += A.jl.top.height), (a += A.jl.bottom.height);
              default:
                throw new DayPilot.Exception("Unsupported export mode: " + e);
            }
          }),
          (N.hp = function (e) {
            var t = N.A.includeHiddenRows ? e.absTop : e.top;
            return (
              "bottom" === e.grid &&
                ("viewport" === N.Wg
                  ? (t += A.jl.bottom.top - A.Gl())
                  : "full" === N.Wg
                  ? (t += A.Dk)
                  : "range" === N.Wg &&
                    (t += N.Yg() - A.Gl() - A.jl.bottom.height)),
              t
            );
          }),
          (N.ip = function (e) {
            var t = N.getViewportOffsetTop();
            return "main" !== e.grid && (t = 0), t;
          }),
          (N.getRangeStart = function () {
            var e = N.A.dateFrom || A.Tb();
            return new DayPilot.Date(e);
          }),
          (N.getRangeEnd = function () {
            var e = N.A.dateTo || A.Xd();
            return new DayPilot.Date(e);
          }),
          (N.getRangeResStart = function () {
            return N.A.resourceFrom
              ? A.nl(N.A.resourceFrom)
              : A.rowlist.find(function (e) {
                  return !e.hidden;
                });
          }),
          (N.getRangeResEnd = function () {
            return N.A.resourceTo ? A.nl(N.A.resourceTo) : A.rowlist.last();
          }),
          (N.getRowHeaderWidth = function () {
            return A.El();
          }),
          (N.getTimeHeaderHeight = function () {
            return A.Gl();
          }),
          (N.getCanvas = function () {
            return N.canvas();
          }),
          (N.getRectangles = function () {
            var e = N.getRowHeaderWidth(),
              t = N.getTimeHeaderHeight(),
              n = {};
            (n.main = { x: 0, y: 0, w: N.Xg(), h: N.Yg() }),
              (n.corner = { x: 0, y: 0, w: e, h: t }),
              (n.grid = { x: e, y: t, w: N.Xg() - e, h: N.Yg() - t });
            var i = n.grid.w,
              a = A.itline.last();
            a && a.left + a.width < n.grid.w && (i = a.left + a.width);
            var r = n.grid.h,
              o = A.rowlist.last();
            return (
              o && o.top + o.height < n.grid.h && (r = o.top + o.height),
              (n.gridContent = { x: e, y: t, w: i, h: r }),
              n
            );
          }),
          (N.getRows = function () {
            var e,
              t,
              n,
              i,
              a = N.Wg,
              r = x();
            switch (a) {
              case "viewport":
                (e = A.jp),
                  (t = e + A.nav.scroll.offsetHeight),
                  (n = A.Bn(e).i),
                  (i = A.Bn(t).i);
                break;
              case "full":
                (e = 0), (n = 0), (i = A.rowlist.length);
                break;
              case "range":
                var o = N.getRangeResStart(),
                  s = N.getRangeResEnd();
                if (!o)
                  throw new DayPilot.Exception(
                    "Resource specified using resourceFrom option not found during export."
                  );
                if (!s)
                  throw new DayPilot.Exception(
                    "Resource specified using resourceTo option not found during export."
                  );
                (n = o.index), (i = s.index);
            }
            i < A.rowlist.length && (i += 1);
            for (var l = n; l < i; l++) {
              var d = A.rowlist[l];
              (!N.A.includeHiddenRows && d.hidden) || r.push(d);
            }
            return (r.offset = n), r;
          }),
          (N.getRowsTop = function () {
            return A.jl.top.rowlist;
          }),
          (N.getRowsBottom = function () {
            return A.jl.bottom.rowlist;
          }),
          (N.getRowsAll = function () {
            var e = N.getRows();
            return (
              (e = e.concat(N.getRowsTop())), (e = e.concat(N.getRowsBottom()))
            );
          }),
          (N.getRowsTopAndBottom = function () {
            var e = [];
            return (
              (e = e.concat(N.getRowsTop())), (e = e.concat(N.getRowsBottom()))
            );
          }),
          (N.bottomFrozenY = function () {
            if (A.jl.bottom.enabled()) {
              if ("viewport" === N.Wg) return A.jl.bottom.top;
              if ("full" === N.Wg) return N.Yg() - A.jl.bottom.height;
              if ("range" === N.Wg) return N.Yg() - A.jl.bottom.height;
            }
            return N.Yg();
          }),
          (N.getEvents = function () {
            var e = N.Wg;
            switch (e) {
              case "full":
                var t = x();
                return (
                  x(A.rowlist).forEach(function (e) {
                    e.hidden ||
                      x(e.events).forEach(function (e) {
                        t.push(e);
                      });
                  }),
                  t
                );
              case "viewport":
                return H.Yj()
                  .filter(function (e) {
                    return "main" === e.event.part.grid;
                  })
                  .map(function (e) {
                    return e.event;
                  });
              case "range":
                var t = x(),
                  n = N.getRangeStart(),
                  i = N.getRangeEnd();
                return (
                  N.getRows().forEach(function (e) {
                    x(e.events)
                      .filter(function (e) {
                        return u(e.start(), e.end(), n, i);
                      })
                      .forEach(function (e) {
                        t.push(e);
                      });
                  }),
                  t
                );
              default:
                throw new DayPilot.Exception("Unsupported export mode: " + e);
            }
          }),
          (N.getEventsFrozen = function () {
            var e = N.Wg;
            switch (e) {
              case "full":
                var t = x();
                return (
                  N.getRowsTopAndBottom().forEach(function (e) {
                    e.hidden ||
                      x(e.events).forEach(function (e) {
                        t.push(e);
                      });
                  }),
                  t
                );
              case "viewport":
                return H.Yj()
                  .filter(function (e) {
                    return "main" !== e.event.part.grid;
                  })
                  .map(function (e) {
                    return e.event;
                  });
              case "range":
                var t = x(),
                  n = N.getRangeStart(),
                  i = N.getRangeEnd();
                return (
                  N.getRowsTopAndBottom().forEach(function (e) {
                    x(e.events)
                      .filter(function (e) {
                        return u(e.start(), e.end(), n, i);
                      })
                      .forEach(function (e) {
                        t.push(e);
                      });
                  }),
                  t
                );
              default:
                throw new DayPilot.Exception("Unsupported export mode: " + e);
            }
          }),
          (N.getLinks = function () {
            if (DayPilot.isArray(A.links.list)) {
              for (var e = [], t = 0; t < A.links.list.length; t++) {
                var n = A.links.list[t],
                  i = A.events.find(n.from),
                  a = A.events.eo(i && i.data),
                  r = A.events.find(n.to),
                  o = A.events.eo(r && r.data),
                  s = B.io(a, o, n, N.A.includeHiddenRows);
                s && e.push(s);
              }
              return e;
            }
          }),
          (N.getTimeline = function () {
            var e = N.Wg;
            switch (e) {
              case "full":
                return x(A.itline).addProps({ offset: 0 });
              case "viewport":
                return N.getViewportTimeline();
              case "range":
                return N.getRangeTimeline();
              default:
                throw new DayPilot.Exception("Unsupported export mode: " + e);
            }
          }),
          (N.getRangeTimeline = function () {
            var e = x();
            if (A.itline && A.itline.length > 0) {
              var t = A.fm(N.getRangeStart()).i,
                n = A.fm(N.getRangeEnd()).i,
                i = A.kp();
              (n = Math.min(n, i - 1)), (t = p(t, 0));
              for (var a = t; a <= n; a++) {
                var r = A.itline[a];
                e.push(r);
              }
              e.offset = t;
            }
            return e;
          }),
          (N.getViewportTimeline = function () {
            var e = x();
            if (A.itline && A.itline.length > 0) {
              var t = A.lp,
                n = t + A.nav.scroll.offsetWidth,
                i = A.dm(t).x,
                a = A.dm(n, !0).x,
                r = A.kp();
              (a = Math.min(a, r)), (i = p(i, 0));
              for (var o = i; o <= a; o++) {
                var s = A.itline[o];
                e.push(s);
              }
              e.offset = i;
            }
            return e;
          }),
          (N.getTimeHeader = function (e) {
            if ("full" === N.Wg) return x(A.timeHeader[e]);
            var t,
              n,
              i = x();
            (t = N.getViewportOffsetStart()),
              (n = t + N.getViewportOffsetWidth());
            var a = A.mp(e, t),
              r = A.mp(e, n);
            r || (r = { x: A.timeHeader[e].length - 1 });
            for (var o = a.x; o <= r.x; o++) {
              var s = A.timeHeader[e][o];
              i.push(s);
            }
            return i;
          }),
          (N.getSeparators = function () {
            return x(A.separators)
              .map(function (e) {
                var t = new DayPilot.Date(e.location);
                if (t.getTime() < A.Tb().getTime()) return null;
                if (t.getTime() >= A.Xd().getTime()) return null;
                var n = A.getPixels(t);
                return n.cut
                  ? null
                  : n.left < 0
                  ? null
                  : n.left > A.Bl()
                  ? null
                  : { left: n.left, color: e.color, width: e.width || 1 };
              })
              .filter(function (e) {
                return !!e;
              });
          }),
          (N.fakeDurationBar = function () {
            var e = c();
            (e.style.display = "none"), (e.className = A.ca(G.event));
            var t = c();
            t.className = A.ca(G.eventBar);
            var n = c();
            return (
              (n.className = A.ca(G.eventBarInner)),
              d().appendChild(e),
              t.appendChild(n),
              e.appendChild(t),
              e
            );
          }),
          (N.fakeEventLeft = function () {
            var e = c();
            return (
              (e.style.display = "none"),
              (e.className = A.ca("_event_left")),
              d().appendChild(e),
              e
            );
          }),
          (N.fakeGroup = function () {
            var e = c();
            (e.style.display = "none"),
              (e.className = A.ca(G.event) + " " + A.ca("_task_group"));
            var t = c();
            return (
              (t.className = A.ca(G.eventInner)),
              e.appendChild(t),
              A.divEvents.appendChild(e),
              e
            );
          }),
          (N.fakeMilestone = function () {
            var e = c();
            (e.style.display = "none"),
              (e.className = A.ca(G.event) + " " + A.ca("_task_milestone"));
            var t = c();
            return (
              (t.className = A.ca(G.eventInner)),
              e.appendChild(t),
              A.divEvents.appendChild(e),
              e
            );
          }),
          (N.fakeCell = function () {
            var e = c();
            (e.style.display = "none"),
              (e.className = A.ca("_cell")),
              (e.style.position = "absolute"),
              (e.style.top = "-2000px"),
              (e.style.left = "-2000px");
            var t = c();
            return (
              (t.className = A.ca("_cell_inner")),
              e.appendChild(t),
              A.divCells.appendChild(e),
              e
            );
          }),
          (N.fakeRowHeader = function () {
            var e = c();
            (e.style.display = "none"),
              (e.className = A.ca("_rowheader")),
              (e.style.position = "absolute"),
              (e.style.top = "-2000px"),
              (e.style.left = "-2000px");
            var t = c();
            return (
              (t.className = A.ca("_rowheader_inner")),
              e.appendChild(t),
              A.divResScroll.appendChild(e),
              e
            );
          }),
          (N.np = function () {
            var e = c();
            (e.style.display = "none"),
              (e.className = A.ca("_corner")),
              (e.style.position = "absolute"),
              (e.style.top = "-2000px"),
              (e.style.left = "-2000px");
            var t = c();
            return (
              (t.className = A.ca("_corner_inner")),
              e.appendChild(t),
              A.nav.top.appendChild(e),
              e
            );
          }),
          (N.fakeExpand = function () {
            var e = c();
            return (
              (e.style.display = "none"),
              (e.className = A.ca("_tree_image_expand")),
              d().appendChild(e),
              e
            );
          }),
          (N.fakeIcon = function (e) {
            var t = document.createElement("i");
            return (
              (t.className = e),
              (t.style.position = "absolute"),
              (t.style.top = "-2000px"),
              (t.style.left = "-2000px"),
              t
            );
          }),
          (N.extractUrl = function (e) {
            var t = /url\((")?([^"].*[^"])\1\)/.exec(e);
            return t ? t[2] : null;
          }),
          (N.getImages = function () {
            var e = {},
              t = N.fakeExpand();
            return (
              (e.expand = N.extractUrl(
                new DayPilot.StyleReader(t).get("background-image")
              )),
              (t.className = A.ca("_tree_image_collapse")),
              (e.collapse = N.extractUrl(
                new DayPilot.StyleReader(t).get("background-image")
              )),
              (t.className = A.ca("_tree_image_no_children")),
              (e.nochildren = N.extractUrl(
                new DayPilot.StyleReader(t).get("background-image")
              )),
              C(t),
              e
            );
          }),
          (N.getFont = function (e) {
            return new DayPilot.StyleReader(e).getFont();
          }),
          (N.getViewportOffsetStart = function () {
            switch (N.Wg) {
              case "full":
                return 0;
              case "viewport":
                return A.nav.scroll.scrollLeft;
              case "range":
                return A.getPixels(N.getRangeStart()).boxLeft;
            }
          }),
          (N.getViewportOffsetTop = function () {
            switch (N.Wg) {
              case "full":
                return 0;
              case "viewport":
                return A.nav.scroll.scrollTop;
              case "range":
                return N.hp(N.getRangeResStart()) - A.jl.top.height;
            }
          }),
          (N.getViewportOffsetWidth = function () {
            switch (N.Wg) {
              case "full":
                return A.Bl();
              case "viewport":
                return A.nav.scroll.offsetWidth;
              case "range":
                return (
                  A.getPixels(N.getRangeEnd()).boxRight -
                  N.getViewportOffsetStart()
                );
            }
          }),
          (N.excelBoard = function () {
            var e = new DayPilot.Excel(),
              t = e.worksheets.create("Scheduler"),
              n = new DayPilot.StyleReader(A.nav.corner).get(
                "background-color"
              ),
              i = new DayPilot.StyleReader(A.nav.top).get("border-top-color"),
              a = x(A.elements.events)
                .filter(function (e) {
                  return !e.event.data.type;
                })
                .map(function (e) {
                  return e.firstChild;
                })
                .last(),
              r = new DayPilot.StyleReader(a).get("border-right-color");
            e.styles.getDefault().setBackColor("#ffaaaa");
            var o = e.styles.create();
            o.setHorizontalAlignment("Center"),
              o.setBackColor(n),
              o.setBorderColor(i);
            var s = e.styles.create();
            s.setVerticalAlignment("Top"),
              s.setBackColor(n),
              s.setBorderColor(i);
            var l = e.styles.create();
            l.setVerticalAlignment("Top"),
              l.setBackColor("#ff0000"),
              l.setBorderColor(r),
              t.enableGridlines(!1),
              t.cell(0, 0).setRowspan(A.timeHeader.length).setStyle(o),
              t.cell(10, 10).setText("hi there"),
              x(A.timeHeader).forEach(function (e, n) {
                var i = { x: 1, y: 0 };
                N.getTimeHeader(n, "full").forEach(function (e, a) {
                  var r = e.colspan;
                  t.cell(a + i.x, n + i.y)
                    .setText(e.innerHTML)
                    .setColspan(r)
                    .setStyle(o);
                });
              }),
              x(A.rowlist).forEach(function (e, n) {
                for (var i = { x: 0, y: 1 }, a = "", r = 0; r < e.level; r++)
                  a += "  ";
                t.cell(i.x, n + i.y)
                  .setText(a + e.html)
                  .setRowspan(e.lines.length)
                  .setStyle(s);
              });
            var d = { x: 0, y: A.timeHeader.length },
              c = d.y;
            return (
              x(A.rowlist).forEach(function (e, n) {
                x(e.lines).forEach(function (e, i) {
                  var a = d.x;
                  x(e).forEach(function (e) {
                    var i = A.fm(e.start()).i,
                      r = A.fm(e.end()).i,
                      o = 1 + r - i;
                    t
                      .cell(i + a, n + c)
                      .setText(e.client.html())
                      .setColspan(o)
                      .setStyle(l),
                      (a += o - 1);
                  });
                }),
                  (c += e.lines.length - 1);
              }),
              e
            );
          }),
          (N.A = null),
          (N.Wg = null),
          (N.generate = function (e, t) {
            function n(e) {
              var t = h.grid.y + N.hp(e) - N.ip(e);
              t += p(0, h.grid.y - t);
              var n = A.treeEnabled && !e.isNewRow,
                i = 10,
                a = n ? e.level * A.treeIndent + A.treeImageMarginLeft + 5 : 5;
              "Disabled" !== A.rowMoveHandling && (a += 10);
              var r = { x: 0, y: t, w: h.grid.x + 1, h: e.height + 1 },
                o = e;
              if (ve) {
                o = A.rp(e).row;
              }
              var s = A.rowHeaderCols ? A.rowHeaderCols.length : 0,
                l = A.Nm(),
                c = A.internalUseStandardColumns && !e.isNewRow,
                u = c || (l && DayPilot.isArray(A.rowHeaderColumns)),
                f = {};
              if (((f.text = o.html), Z.qp().length > 0 && u)) {
                var m = o.columns.find(function (e, t) {
                  return !A.rowHeaderColumns[t].hidden;
                });
                f.text = m.text || m.html;
              }
              (f.backColor = o.backColor || ie),
                (f.fontSize = te.size),
                (f.fontFamily = te.family),
                (f.fontStyle = te.style),
                (f.fontColor = o.fontColor || ne),
                (f.borderColor = b),
                (f.horizontalAlignment = "left"),
                (f.verticalAlignment = "center"),
                (f.row = A.en(e)),
                (f.columns = []),
                (f.row.columns = f.columns),
                o.columns &&
                  o.columns.forEach(function (e) {
                    var t = g(e, {}, [
                      "text",
                      "html",
                      "backColor",
                      "horizontalAlignment",
                      "verticalAlignment",
                    ]);
                    (t.text = e.text || e.html),
                      (t.fontSize = f.fontSize),
                      (t.fontFamily = f.fontFamily),
                      (t.fontStyle = f.fontStyle),
                      (t.fontColor = f.fontColor),
                      (t.horizontalAlignment =
                        t.horizontalAlignment || f.horizontalAlignment),
                      (t.verticalAlignment =
                        t.verticalAlignment || f.verticalAlignment),
                      (t.backColor = t.backColor || f.backColor),
                      f.columns.push(t);
                  }),
                e.isNewRow && (f.text = A.rowCreateText),
                pe && A.onBeforeRowHeaderExport(f);
              var y = 10,
                w = { x: a, y: t + A.treeImageMarginTop + 2, w: 10, h: y },
                k = {
                  size: f.fontSize,
                  family: f.fontFamily,
                  style: f.fontStyle,
                };
              "center" === f.verticalAlignment && (w.y = t + r.h / 2 - 5);
              var C = n ? a + i + 3 : a,
                D = n ? r.w - C : r.w,
                S = { x: C, y: t, w: D, h: e.height + 1 };
              if (
                (A.rowHeaderCols && (S.w = A.rowHeaderCols[0] - C),
                d.fillRect(r, f.backColor),
                d.text(
                  S,
                  f.text,
                  k,
                  f.fontColor,
                  f.horizontalAlignment,
                  0,
                  f.verticalAlignment
                ),
                d.rect(r, f.borderColor),
                n)
              ) {
                var _ = null;
                (_ = x(e.children).isEmpty()
                  ? v.nochildren
                  : e.expanded || N.A.includeHiddenRows
                  ? v.collapse
                  : v.expand),
                  d.image(w, _);
              }
              var E = x(f.row.columns);
              if (
                (u &&
                  ((E = E.filter(function (e, t) {
                    return !A.rowHeaderColumns[t].hidden;
                  })),
                  (s = E.length)),
                A.rowHeaderCols)
              ) {
                var a = r.x;
                x(A.rowHeaderCols).forEach(function (e, t) {
                  if (0 !== t) {
                    var n = c || A.Nm() ? 0 : 1,
                      i = t - n,
                      o = E[i] || {},
                      s = g(r);
                    (s.x = a), (s.w = e + 1);
                    var l = 3,
                      u = g(s);
                    (u.x += l), (u.w -= l);
                    var h = o.backColor || f.backColor;
                    d.fillRect(s, h),
                      o.text &&
                        d.text(
                          u,
                          o.text,
                          {
                            size: o.fontSize,
                            family: o.fontFamily,
                            style: o.fontStyle,
                          },
                          o.fontColor,
                          o.horizontalAlignment,
                          0,
                          o.verticalAlignment
                        ),
                      d.rect(s, f.borderColor);
                  }
                  a += e;
                });
              }
            }
            function i(e, t, n) {
              n = n || "main";
              var i = A.itline[e],
                a = A.jl[n].rowlist[t],
                r = A.Eo(e, t, n),
                o = r.business,
                s = A.sp(e, t, n);
              s || ((s = {}), (s.cell = A.cells.findXy(e, t, n)[0]));
              var l = r.html,
                c = r.horizontalAlignment || "left",
                u = r.backColor || (o ? U : j);
              (s.areas =
                (s.cell && s.cell.properties && s.cell.properties.areas) || []),
                (s.text = l),
                (s.horizontalAlignment = c),
                (s.backColor = u),
                (s.fontSize = W.size),
                (s.fontFamily = W.family),
                (s.fontStyle = W.style),
                (s.fontColor =
                  (s.cell &&
                    s.cell.properties &&
                    s.cell.properties.fontColor) ||
                  F),
                me &&
                  (A.onBeforeCellExport(s),
                  (l = s.text),
                  (c = s.horizontalAlignment),
                  (u = s.backColor));
              var f = h.grid.y + N.hp(a) - N.ip(a);
              f += p(0, h.grid.y - f);
              var v = h.grid.x + i.left - ce;
              v += p(0, h.grid.x - v);
              var m = { x: v, y: f, w: i.width, h: a.height };
              d.fillRect(m, u);
              var g = {};
              (g.x = m.x + 1),
                (g.y = m.y + 1),
                (g.w = m.w - 2),
                (g.h = m.h - 2);
              var y = {
                size: s.fontSize,
                family: s.fontFamily,
                style: s.fontStyle,
              };
              l && d.text(g, l, y, s.fontColor, c),
                x(s.areas).forEach(function (e) {
                  if (DayPilot.Areas.isVisible(e)) {
                    var t = { type: "cell-area" };
                    "undefined" != typeof e.id && (t.id = e.id),
                      d.groupStart(t);
                    var n = 0;
                    "number" == typeof e.left
                      ? (n = e.left)
                      : e.start
                      ? (n =
                          A.getPixels(new DayPilot.Date(e.start)).left - i.left)
                      : "number" == typeof e.right &&
                        (n = i.width - e.right - e.width);
                    var a = e.width || e.w;
                    "number" == typeof e.right
                      ? (a = i.width - e.right - n)
                      : e.end &&
                        (a =
                          A.getPixels(new DayPilot.Date(e.end)).left -
                          e.left -
                          i.left +
                          1);
                    var r = e.top || 0,
                      o = e.height || e.h;
                    "number" == typeof e.bottom &&
                      (o = i.height - e.bottom - r),
                      o || (o = i.height - r);
                    var l = { x: v + n, y: f + r, w: a, h: o };
                    if ((e.backColor && d.fillRect(l, e.backColor), e.icon)) {
                      var c = A.Vg.areaIcon(e.icon);
                      d.text(
                        l,
                        c.text,
                        c.font,
                        e.fontColor || s.fontColor,
                        e.horizontalAlignment,
                        e.padding,
                        e.verticalAlignment
                      );
                    } else if (e.image) {
                      var u = new Image();
                      (u.src = e.image), d.image(l, u);
                    } else
                      e.symbol
                        ? d.symbol(l, e.symbol, {
                            color: e.fontColor || s.fontColor,
                          })
                        : (e.text || e.html) &&
                          d.text(
                            l,
                            e.text || e.html,
                            {
                              size: e.fontSize || s.fontSize,
                              family: e.fontFamily || s.fontFamily,
                              style: e.fontStyle || s.fontStyle,
                            },
                            e.fontColor || s.fontColor,
                            e.horizontalAlignment,
                            e.padding,
                            e.verticalAlignment
                          );
                    d.groupEnd();
                  }
                });
            }
            function a(e) {
              var t = h.grid.y + N.hp(e) - N.ip(e);
              if (
                ((t += p(0, h.grid.y - t)),
                t !== h.grid.y && !("main" === e.grid && t > N.bottomFrozenY()))
              ) {
                var n = q,
                  i = {};
                if (ge) {
                  if (
                    ((i.row = A.en(e)),
                    (i.hidden = !1),
                    (i.cssClass = null),
                    (i.type = "HorizontalLine"),
                    (i.color = null),
                    A.onBeforeGridLineRender(i),
                    i.hidden)
                  )
                    return;
                  n = i.color || q;
                }
                d.line(
                  h.gridContent.x + 1,
                  t,
                  h.gridContent.x + h.gridContent.w - 1,
                  t,
                  n
                ),
                  "top" === e.grid &&
                    e === A.jl.top.rowlist.last() &&
                    d.line(
                      h.gridContent.x + 1,
                      t + e.height,
                      h.gridContent.x + h.gridContent.w - 1,
                      t + e.height,
                      q
                    );
              }
            }
            function r(e, t) {
              var n = h.grid.x + e.left - ce;
              if (((n += p(0, h.grid.x - n)), n !== h.grid.x)) {
                var i = h.grid.y + 1,
                  a = h.grid.y + h.grid.h - 2;
                "top" === t && (a = i + A.jl.top.height),
                  "bottom" === t && (i = N.bottomFrozenY());
                var r = G,
                  o = {};
                if (ge) {
                  if (
                    ((o.start = e.start),
                    (o.end = e.end),
                    (o.hidden = !1),
                    (o.cssClass = null),
                    (o.type = "VerticalLine"),
                    (o.color = null),
                    A.onBeforeGridLineRender(o),
                    o.hidden)
                  )
                    return;
                  r = o.color || G;
                }
                d.line(n, i, n, a, r);
              }
            }
            function o(e) {
              function t() {
                var e = T.backColor;
                d.diamond(M, e);
              }
              function n() {
                var e = { x: u, y: c, w: s, h: T.barHeight },
                  t = { x: u + w, y: c, w: k, h: T.barHeight },
                  n = v.backColor || R,
                  i = {
                    x: u,
                    y: c + 5,
                    h: M.h - 6 - 5,
                    w: M.w,
                  };
                d.fillRect(i, n);
                var a = v.text || v.html;
                d.text(
                  i,
                  a,
                  {
                    size: T.fontSize,
                    family: T.fontFamily,
                    style: T.fontStyle,
                  },
                  T.fontColor,
                  T.horizontalAlignment,
                  T.textPadding,
                  T.verticalAlignment
                ),
                  d.upperRightCorner(
                    { x: u + M.w - 6, y: i.y + i.h, w: 6, h: 6 },
                    n
                  ),
                  d.upperLeftCorner({ x: u, y: i.y + i.h, w: 6, h: 6 }, n),
                  l && (d.fillRect(e, g), k > 0 && d.fillRect(t, m));
              }
              function i(t, n) {
                var i = v.versions[n];
                d.groupStart({ type: "event-version", "event-id": e.id() });
                var a = t.width,
                  r = h.grid.y + o + t.top - ue;
                r += p(0, h.grid.y - r);
                var s = h.grid.x + t.left - ce + 1,
                  l = p(0, h.grid.x - s);
                (s += l), (a -= l);
                var c = A.eventVersionHeight,
                  u = A.durationBarVisible && !i.barHidden,
                  f = u ? Z.tp() : 0,
                  m = { x: s, y: r, w: a, h: c };
                d.fillRect(m, i.backColor || T.backColor);
                var g = { x: s + C, y: r + f, w: p(0, a - C), h: c - f };
                if (
                  (d.text(
                    g,
                    i.text,
                    {
                      size: T.fontSize,
                      family: T.fontFamily,
                      style: T.fontStyle,
                    },
                    T.fontColor,
                    T.horizontalAlignment,
                    T.textPadding,
                    T.verticalAlignment
                  ),
                  d.rect(m, i.borderColor || T.borderColor),
                  u)
                ) {
                  var y = i.barBackColor || P,
                    b = i.barColor || L,
                    w = (100 * t.barLeft) / a,
                    x = Math.ceil((100 * t.barWidth) / a),
                    k = { x: s, y: r + 1, w: a, h: f },
                    D = { x: s + w, y: r + 1, w: x, h: f };
                  d.fillRect(k, y), x > 0 && d.fillRect(D, b);
                }
                d.groupEnd();
              }
              function a() {
                var t = { x: u, y: c, w: s, h: T.barHeight },
                  n = { x: u + w, y: c, w: k, h: T.barHeight },
                  i = {
                    x: u + C,
                    y: c + T.barHeight,
                    w: s - C,
                    h: e.part.height - T.barHeight,
                  };
                d.fillRect(M, T.backColor),
                  d.text(
                    i,
                    T.text,
                    {
                      size: T.fontSize,
                      family: T.fontFamily,
                      style: T.fontStyle,
                    },
                    T.fontColor,
                    T.horizontalAlignment,
                    T.textPadding,
                    T.verticalAlignment
                  ),
                  d.rect(M, T.borderColor),
                  l && (d.fillRect(t, g), k > 0 && d.fillRect(n, m)),
                  x(T.areas).forEach(function (t) {
                    if (DayPilot.Areas.isVisible(t)) {
                      var n = { type: "event-area" };
                      "undefined" != typeof t.id && (n.id = t.id),
                        d.groupStart(n);
                      var i = 0;
                      "number" == typeof t.left
                        ? (i = t.left)
                        : t.start
                        ? (i =
                            A.getPixels(new DayPilot.Date(t.start)).left -
                            e.part.left)
                        : "number" == typeof t.right &&
                          (i = e.part.width - t.right - t.width);
                      var a = t.width || t.w;
                      "number" == typeof t.right
                        ? (a = e.part.width - t.right - i)
                        : t.end &&
                          (a =
                            A.getPixels(new DayPilot.Date(t.end)).left -
                            t.left -
                            e.part.left +
                            1);
                      var r = t.top || 0,
                        o = t.height || t.h;
                      "number" == typeof t.bottom &&
                        (o = e.part.height - t.bottom - r),
                        o || (o = e.part.height - r);
                      var s = { x: u + i, y: c + r, w: a, h: o };
                      if ((t.backColor && d.fillRect(s, t.backColor), t.icon)) {
                        var l = A.Vg.areaIcon(t.icon);
                        d.text(
                          s,
                          l.text,
                          l.font,
                          t.fontColor || T.fontColor,
                          t.horizontalAlignment,
                          t.padding,
                          t.verticalAlignment
                        );
                      } else if (t.image) {
                        var h = new Image();
                        (h.src = t.image), d.image(s, h);
                      } else
                        t.symbol
                          ? d.symbol(s, t.symbol, {
                              color: t.fontColor || T.fontColor,
                            })
                          : (t.text || t.html) &&
                            d.text(
                              s,
                              t.text || t.html,
                              {
                                size: t.fontSize || T.fontSize,
                                family: t.fontFamily || T.fontFamily,
                                style: t.fontStyle || T.fontStyle,
                              },
                              t.fontColor || T.fontColor,
                              t.horizontalAlignment,
                              t.padding,
                              t.verticalAlignment
                            );
                      d.groupEnd();
                    }
                  });
              }
              var r = A.jl[e.part.grid].rowlist[e.part.dayIndex],
                o = N.hp(r),
                s = e.part.width,
                l = e.client && e.client.barVisible && e.client.barVisible(),
                c = h.grid.y + o + e.part.top - N.ip(r),
                u = h.grid.x + e.part.left - ce + 1,
                f = p(0, h.grid.x - u);
              (u += f), (s -= f);
              var v = e.cache || e.data,
                m = v.barColor || L,
                g = v.barBackColor || P,
                y = v.backColor || E,
                b = v.fontColor || _,
                w = e.part.barLeft,
                k = e.part.barWidth;
              "PercentComplete" === A.durationBarMode &&
                ((w = 0),
                (k = p(
                  0,
                  Math.floor((e.part.width * (v.complete || 0)) / 100)
                ))),
                "Milestone" === e.data.type && (y = H);
              var C = 2,
                T = {};
              (T.e = e),
                (T.text = e.text ? e.text() : e.client.html()),
                (T.areas = DayPilot.Util.createArrayCopy(v.areas)),
                (T.fontSize = S.size),
                (T.fontFamily = S.family),
                (T.fontStyle = S.style),
                (T.fontColor = b),
                (T.backColor = y),
                (T.borderColor = D),
                (T.horizontalAlignment = "left"),
                (T.verticalAlignment = "center"),
                (T.barHeight = 4),
                (T.textPadding = 2),
                (T.textLeft = v.textLeft || v.htmlLeft),
                (T.textRight = v.textRight || v.htmlRight),
                "function" == typeof A.onBeforeEventExport &&
                  A.onBeforeEventExport(T);
              var M = { x: u, y: c, w: s, h: e.part.height };
              d.groupStart({ type: "event", id: e.id() }),
                "Milestone" === e.data.type
                  ? t()
                  : "Group" === e.data.type
                  ? n()
                  : a();
              var B = T.textLeft;
              if (B) {
                var I = {
                    size: T.fontSize,
                    family: T.fontFamily,
                    style: T.fontStyle,
                  },
                  O = d.textWidth(B, I),
                  j = {
                    x: u - (A.eventHtmlLeftMargin + O),
                    y: c,
                    w: O,
                    h: e.part.height,
                  };
                d.text(j, B, I, z, null, 0, "center");
              }
              var U = T.textRight;
              if (U) {
                var W = {
                    size: T.fontSize,
                    family: T.fontFamily,
                    style: T.fontStyle,
                  },
                  F = d.textWidth(U, W),
                  Y = {
                    x: u + s + A.eventHtmlRightMargin,
                    y: c,
                    w: F,
                    h: e.part.height,
                  };
                d.text(Y, U, W, z, null, 0, "center");
              }
              d.groupEnd(), (e.versions || []).forEach(i);
            }
            "object" == typeof e && ((t = e), (e = null));
            var t = t || {},
              e = e || t.format || "svg",
              s = t.scale || 1;
            if ("xls" === e) return N.excelBoard();
            "jpg" === e.toLowerCase() && (e = "jpeg");
            var l = t.area || "viewport";
            (N.A = g(t)),
              (N.Wg = l),
              (N.A.includeHiddenRows = N.A.includeHiddenRows && "range" === l),
              N.getRows().forEach(function (e) {
                A.pp(e);
              });
            var d,
              c = N.Xg(),
              u = N.Yg();
            switch (e.toLowerCase()) {
              case "svg":
                d = new DayPilot.Svg(c, u);
                break;
              case "png":
                d = new DayPilot.Canvas(c, u, "image/png", s);
                break;
              case "jpeg":
                d = new DayPilot.Canvas(c, u, "image/jpeg", s, t.quality);
                break;
              default:
                throw new DayPilot.Exception(
                  "Export format not supported: " + e
                );
            }
            var h = N.getRectangles(),
              v = N.getImages(),
              m = new DayPilot.StyleReader(A.nav.top).get("background-color"),
              y = new DayPilot.StyleReader(A.nav.corner).get(
                "background-color"
              ),
              b = new DayPilot.StyleReader(A.nav.top).get("border-top-color"),
              w = new DayPilot.StyleReader(A.nav.divider).get(
                "background-color"
              ),
              k = x(A.elements.events)
                .filter(function (e) {
                  return !e.event.data.type;
                })
                .map(function (e) {
                  return e.firstChild;
                })
                .last(),
              D = new DayPilot.StyleReader(k).get("border-right-color"),
              S = N.getFont(k),
              _ = new DayPilot.StyleReader(k).get("color"),
              E = new DayPilot.StyleReader(k).get("background-color");
            E = DayPilot.Util.isTransparentColor(E) ? "white" : E;
            var T = N.fakeMilestone(),
              H = new DayPilot.StyleReader(T.firstChild).get(
                "background-color"
              );
            C(T);
            var M = N.fakeGroup(),
              R = new DayPilot.StyleReader(M.firstChild).get(
                "background-color"
              );
            C(M);
            var B = N.fakeDurationBar(),
              P = new DayPilot.StyleReader(B.firstChild).get(
                "background-color"
              ),
              L = new DayPilot.StyleReader(B.firstChild.firstChild).get(
                "background-color"
              );
            C(B);
            var I = N.fakeEventLeft(),
              z = new DayPilot.StyleReader(I).get("color");
            C(I);
            var O = N.fakeCell(),
              j = new DayPilot.StyleReader(O).get("background-color");
            f(O, A.ca("_cell_business"));
            var U = new DayPilot.StyleReader(O).get("background-color"),
              W = N.getFont(O),
              F = new DayPilot.StyleReader(O).get("color");
            C(O);
            var Y = DayPilot.Util.firstPropValue(A.ra.Hk),
              q = new DayPilot.StyleReader(Y).get("background-color"),
              J = DayPilot.Util.firstPropValue(A.ra.Gk),
              G = new DayPilot.StyleReader(J).get("background-color"),
              X = A.ra.timeHeader["0_0"],
              V = N.getFont(X),
              K = new DayPilot.StyleReader(X).get("color"),
              $ = new DayPilot.StyleReader(X).get("background-color"),
              ee = N.fakeRowHeader(),
              te = N.getFont(ee),
              ne = new DayPilot.StyleReader(ee).get("color"),
              ie = new DayPilot.StyleReader(ee).get("background-color");
            C(ee);
            var ae = N.np(),
              re = N.getFont(ae),
              oe = new DayPilot.StyleReader(ae).get("color"),
              y = new DayPilot.StyleReader(ae).get("background-color");
            if (A.rowHeaderColumns && A.Jn && A.Jn.blocks[0])
              var se = A.Jn.blocks[0].section.firstChild,
                le = new DayPilot.StyleReader(se).getFont(),
                de = new DayPilot.StyleReader(se).get("color");
            var ce = N.getViewportOffsetStart(),
              ue = N.getViewportOffsetTop();
            d.fillRect(h.main, "white"),
              d.fillRect(h.main, m),
              (function () {
                var e = {};
                (e.backColor = y),
                  (e.text = A.cornerText),
                  (e.fontSize = re.size),
                  (e.fontFamily = re.family),
                  (e.fontStyle = re.style),
                  (e.fontColor = oe),
                  (e.horizontalAlignment = "left"),
                  (e.verticalAlignment = "top"),
                  "function" == typeof A.onBeforeCornerExport &&
                    A.onBeforeCornerExport(e);
                var t = {
                  size: e.fontSize,
                  family: e.fontFamily,
                  style: e.fontStyle,
                };
                d.fillRect(h.corner, e.backColor),
                  d.text(
                    h.corner,
                    e.text,
                    t,
                    e.fontColor,
                    e.horizontalAlignment,
                    0,
                    e.verticalAlignment
                  );
              })();
            var he = h.corner.x;
            Z.qp().forEach(function (e, t) {
              var n = A.rowHeaderCols[t],
                i = {};
              (i.x = he),
                (i.w = n + 1),
                (i.y = h.corner.h - A.Jn.height),
                (i.h = A.Jn.height + 1);
              var a = 3,
                r = g(i);
              (r.x += a), (r.w -= a);
              var o = e.name || e.title || "";
              d.fillRect(i, y),
                d.text(r, o, le, de, "left", 0, "center"),
                d.rect(i, b),
                (he += n);
            });
            var fe = "function" == typeof A.onBeforeTimeHeaderExport,
              ve = "function" == typeof A.onBeforeRowHeaderRender,
              pe = "function" == typeof A.onBeforeRowHeaderExport,
              me = "function" == typeof A.onBeforeCellExport;
            N.getRows().forEach(n),
              N.getRowsTop().forEach(n),
              N.getRowsBottom().forEach(n),
              N.getRows().forEach(function (e, t, n) {
                var t = e.index;
                N.getTimeline().forEach(function (n, a, r) {
                  var a = r.offset + a;
                  i(a, t, e.grid);
                });
              });
            var ge = "function" == typeof A.onBeforeGridLineRender;
            N.getRows().forEach(a),
              N.getTimeline().forEach(function (e) {
                r(e, "main");
              });
            var ye = N.getTimeline().last();
            return (
              (function (e) {
                if (e) {
                  var t = G,
                    n = {};
                  if (ge) {
                    if (
                      ((n.start = e.end),
                      (n.end = e.end),
                      (n.hidden = !1),
                      (n.cssClass = null),
                      (n.type = "VerticalLine"),
                      (n.color = null),
                      A.onBeforeGridLineRender(n),
                      n.hidden)
                    )
                      return;
                    t = n.color || G;
                  }
                  var i = h.grid.x + e.left - ce + e.width;
                  d.line(i, h.grid.y + 1, i, h.grid.y + h.grid.h - 2, t);
                }
              })(ye),
              N.getSeparators().forEach(function (e) {
                var t = h.grid.x + e.left - ce;
                d.line(
                  t,
                  h.grid.y + 1,
                  t + e.width,
                  h.grid.y + h.grid.h - 2,
                  e.color
                );
              }),
              N.getLinks().forEach(function (e) {
                e &&
                  e
                    .map(function (e) {
                      return N.shiftableSegment(e).shift(
                        h.grid.x - ce,
                        h.grid.y - ue
                      );
                    })
                    .forEach(function (e) {
                      switch (e.type) {
                        case "HorizontalLine":
                          d.line(e.startX, e.startY, e.endX, e.endY, "red");
                          break;
                        case "VerticalLine":
                          d.line(e.startX, e.startY, e.endX, e.endY, "red");
                          break;
                        case "ArrowRight":
                          d.triangle(
                            {
                              x: e.startX - 10,
                              y: e.startY - 4.5,
                              w: 10,
                              h: 10,
                            },
                            "red"
                          );
                          break;
                        case "ArrowDown":
                          d.triangle(
                            {
                              x: e.startX - 4.5,
                              y: e.startY - 10,
                              w: 10,
                              h: 10,
                            },
                            "red",
                            90
                          );
                          break;
                        case "ArrowLeft":
                          d.triangle(
                            { x: e.startX, y: e.startY - 4.5, w: 10, h: 10 },
                            "red",
                            180
                          );
                          break;
                        case "ArrowUp":
                          d.triangle(
                            { x: e.startX - 4.5, y: e.startY, w: 10, h: 10 },
                            "red",
                            -90
                          );
                      }
                    });
              }),
              N.getEvents().forEach(o),
              N.getRowsTopAndBottom().forEach(function (e, t, n) {
                var t = e.index;
                N.getTimeline().forEach(function (n, a, r) {
                  var a = r.offset + a;
                  i(a, t, e.grid);
                }),
                  a(e);
              }),
              N.getTimeline().forEach(function (e) {
                r(e, "top"), r(e, "bottom");
              }),
              N.getEventsFrozen().forEach(o),
              x(A.timeHeader).forEach(function (e, t) {
                N.getTimeHeader(t, l).forEach(function (e) {
                  var n = h.grid.x + e.left - ce,
                    i = e.width,
                    a = Q.up(t),
                    r = a.top,
                    o = a.height,
                    s = {};
                  (s.header = {}),
                    (s.header.start = e.start),
                    (s.header.end = e.end),
                    (s.header.level = t),
                    (s.header.text = e.text),
                    (s.header.html = e.innerHTML),
                    (s.text = e.text),
                    (s.backColor = e.backColor),
                    (s.verticalAlignment = "center"),
                    (s.horizontalAlignment = "center"),
                    (s.fontColor = K),
                    (s.fontSize = V.size),
                    (s.fontFamily = V.family),
                    (s.fontStyle = V.style),
                    fe && A.onBeforeTimeHeaderExport(s);
                  var l = p(0, h.grid.x - n);
                  (n += l), (i -= l);
                  var l = p(0, n + i - (h.grid.x + h.grid.w));
                  i -= l;
                  var c = { x: n, y: r, w: i + 1, h: o + 1 },
                    u = {
                      size: s.fontSize,
                      family: s.fontFamily,
                      style: s.fontStyle,
                    };
                  d.fillRect(c, s.backColor || $),
                    d.rect(c, b),
                    d.text(
                      c,
                      s.text,
                      u,
                      s.fontColor,
                      s.horizontalAlignment,
                      0,
                      s.verticalAlignment
                    );
                });
              }),
              d.rect(h.main, b),
              d.line(h.grid.x, 0, h.grid.x, h.main.h, w),
              d.line(0, h.grid.y, h.main.w, h.grid.y, w),
              d
            );
          }),
          (N.areaIcon = function (e) {
            var t = N.fakeIcon(e);
            d().appendChild(t);
            var n = window
                .getComputedStyle(t, ":before")
                .content.replace(/"/g, ""),
              i = new DayPilot.StyleReader(t).getFont();
            return d().removeChild(t), { text: n, font: i };
          }),
          (N.shiftableSegment = function (e) {
            return {
              startX: e.startX,
              endX: e.endX,
              startY: e.startY,
              endY: e.endY,
              type: e.type,
              shift: function (t, n) {
                return N.shiftableSegment({
                  startX: e.startX + t,
                  endX: e.endX + t,
                  startY: e.startY + n,
                  endY: e.endY + n,
                  type: e.type,
                });
              },
            };
          }),
          (this.vp = {});
        var L = this.vp;
        (L.findJointDivs = function (e) {
          var t = e.data.join;
          return t
            ? x(A.elements.events).filter(function (n) {
                return n.event.data.join === t && n.event !== e;
              })
            : x();
        }),
          (this.wp = {});
        var I = this.wp;
        (I.divs = []),
          (I.list = []),
          (I.forbidden = !1),
          (I.additional = function () {
            var e = x(),
              t = A.multiselect.isSelected(o.Oo.event),
              n = A.allowMultiResize,
              e = x();
            if (
              (t &&
                n &&
                (e = x(A.multiselect.ld).filter(function (e) {
                  return e !== o.Oo;
                })),
              A.jointEventsResize)
            ) {
              var i = L.findJointDivs(o.fp);
              e = e.concat(i);
            }
            return e;
          }),
          (I.update = function () {
            I.clear(), I.draw();
          }),
          (I.clear = function () {
            C(I.divs), (I.divs = []);
          }),
          (I.isInvalid = function () {
            return I.divs.some(function (e) {
              return e.info.invalid;
            });
          }),
          (I.xp = function () {
            return A.yp(I.list);
          }),
          (I.zp = function () {
            if (o.Oo) {
              var e = o.fp,
                t = o.ep,
                n = t.start.getTime() - e.start().getTime(),
                i = t.end.getTime() - e.end().getTime(),
                a = 0;
              (I.list = []),
                (I.forbidden = !1),
                (I.invalid = !1),
                (I.rowoffset = a),
                I.additional().forEach(function (e) {
                  if (e.event) {
                    var t = e.event,
                      r = A.rowlist[t.part.dayIndex + a];
                    if (!r) return void (I.invalid = !0);
                    var o = t.start().addTime(n),
                      s = t.end().addTime(i),
                      l = {};
                    (l.$ = {}),
                      o >= s &&
                        ((l.invalid = !0),
                        n > 0
                          ? ((l.$.Ap = o), (l.$.Bp = s.addSeconds(-1)))
                          : i < 0 &&
                            ((l.$.Cp = s), (l.$.Dp = o.addSeconds(1)))),
                      (l.event = t),
                      (l.start = o),
                      (l.end = s),
                      (l.$.Ep = r),
                      I.list.push(l);
                  }
                });
            }
          }),
          (I.Fp = function () {
            var e = 0;
            if (
              (I.list.forEach(function (e) {
                var t = e.event,
                  n = e.$.Ep,
                  i = t.part.top + n.top,
                  a = t.part.height,
                  r = new DayPilot.Date(e.start),
                  o = new DayPilot.Date(e.end),
                  s = A.getPixels(r),
                  l = A.getPixels(o);
                e.$.Ap === r && e.$.Bp && (s = A.getPixels(e.$.Bp)),
                  e.$.Cp === o && e.$.Dp && (l = A.getPixels(e.$.Dp));
                var d = DayPilot.DateUtil.diff(t.rawend(), t.start());
                d = p(d, 1);
                var u = Z.Jg(d),
                  h = u ? s.boxLeft : s.left,
                  f = u ? l.boxRight - h : l.left - h,
                  v = c();
                (v.style.position = "absolute"),
                  (v.style.left = h + "px"),
                  (v.style.top = i + "px"),
                  (v.style.height = a + "px"),
                  (v.style.width = f + "px"),
                  (v.style.zIndex = 101),
                  (v.style.overflow = "hidden"),
                  (v.className = A.ca("_shadow")),
                  (v.info = e);
                var m = c();
                (m.className = A.ca("_shadow_inner")),
                  v.appendChild(m),
                  A.kl.appendChild(v),
                  I.divs.push(v);
              }),
              I.invalid)
            ) {
              var t = A.ca("_shadow_overlap");
              return void x(I.divs).forEach(function (e) {
                f(e, t);
              });
            }
            x(I.divs).forEach(function (t) {
              if (t.info) {
                var n = t,
                  i = t.info,
                  a = t.info.event,
                  r = A.rowlist[a.part.dayIndex + e],
                  s = A.getPixels(i.start),
                  l = A.getPixels(i.end),
                  d = s.left,
                  c = l.left - d;
                t.info.invalid && f(t, A.ca("_shadow_invalid"));
                var u = x(I.list)
                  .map(function (e) {
                    return e.event.data;
                  })
                  .add(o.Oo.event.data);
                A.Gp(n, r, d, c, u),
                  A.Hp(n, i.start, i.end, a.resource()),
                  n.overlapping && ((i.overlapping = !0), (I.forbidden = !0));
              }
            });
          }),
          (I.draw = function () {
            I.zp(), I.Fp();
          }),
          (this.Ip = {}),
          (this.Ip.modifiedProps = function () {
            var e = new DayPilot.Scheduler(),
              t = DayPilot.Util.members(A, 2),
              n = [];
            return (
              n.push("<div id='dp'></div>"),
              n.push("<script>"),
              n.push("var dp = new DayPilot.Scheduler('dp');"),
              t.properties.forEach(function (t) {
                var i,
                  a,
                  r = t.name,
                  o = r.split(".");
                if (o.length > 1) {
                  var s = o[0],
                    l = o[1];
                  (i = JSON.stringify(e[s][l])), (a = JSON.stringify(A[s][l]));
                } else (i = JSON.stringify(e[r])), (a = JSON.stringify(A[r]));
                i !== a && n.push("dp." + r + " = " + a + ";");
              }),
              t.events.forEach(function (e) {
                var t = e.name;
                "function" == typeof A[t] &&
                  n.push("dp." + t + " = " + A[t].toString() + ";");
              }),
              n.push("dp.init();"),
              n.push("</script>"),
              n.join("\n")
            );
          }),
          (this.Jp = {});
        var z = this.Jp;
        (z.divs = []),
          (z.list = []),
          (z.forbidden = !1),
          (z.Kp = 0),
          (z.verticalAll = function () {
            return "All" === A.multiMoveVerticalMode;
          }),
          (z.additional = function () {
            var e = x(),
              t = A.hm,
              n = A.multiselect.isSelected(o.Jo),
              i = A.allowMultiMove;
            if (
              (n &&
                i &&
                (e = x(A.multiselect.ld).filter(function (e) {
                  return e !== o.hm && e !== t.hm;
                })),
              A.jointEventsMove)
            ) {
              var a = L.findJointDivs(o.Jo);
              e = e.concat(a);
            }
            return e;
          }),
          (z.update = function () {
            z.clear(), z.draw();
          }),
          (z.xp = function () {
            return A.yp(z.list);
          }),
          (z.zp = function () {
            if (((z.list = []), (z.rowoffset = 0), o.hm)) {
              var e = o.Jo,
                t = !!o.Lp,
                n = t ? o.Lp.start : e.start(),
                i = n.getTime() - e.start().getTime(),
                a = e.part.dayIndex,
                r = t ? D(A.rowlist, o.Lp.row) : a,
                s = r - a;
              z.verticalAll() || (s = 0),
                (z.forbidden = !1),
                (z.invalid = !1),
                (z.rowoffset = s),
                z.additional().forEach(function (e) {
                  if (e.event) {
                    var t = e.event,
                      n = A.rowlist[t.part.dayIndex + s];
                    if (!n) return void (z.invalid = !0);
                    var a = t.start().addTime(i),
                      r = t.end().addTime(i),
                      o = {};
                    (o.event = t),
                      (o.start = a),
                      (o.end = r),
                      (o.resource = n.id),
                      z.list.push(o);
                  }
                });
            }
          }),
          (z.Fp = function () {
            z.rowoffset;
            if (
              (z.list.forEach(function (e) {
                var t = e.start,
                  n = e.end,
                  i = e.event,
                  a = A.getPixels(t),
                  r = A.getPixels(n),
                  o = DayPilot.DateUtil.diff(i.rawend(), i.start());
                o = p(o, 1);
                var s = Z.Jg(o),
                  l = A.nl(e.resource);
                if (!l) return void (z.invalid = !0);
                (e.$ = {}), (e.$.Ep = l);
                var d = s ? a.boxLeft : a.left,
                  u = s ? r.boxRight - d : r.left - d,
                  h = i.part.top + l.top,
                  f = i.part.height;
                e.resource !== e.event.data.resource &&
                  ((h = l.top), (f = l.height));
                var v = c();
                (v.style.position = "absolute"),
                  (v.style.left = d + "px"),
                  (v.style.top = h + "px"),
                  (v.style.height = f + "px"),
                  (v.style.width = u + "px"),
                  (v.style.overflow = "hidden"),
                  (v.className = A.ca("_shadow")),
                  (v.info = e);
                var m = c();
                (m.className = A.ca("_shadow_inner")),
                  v.appendChild(m),
                  A.kl.appendChild(v),
                  z.divs.push(v);
              }),
              z.invalid)
            ) {
              var e = A.ca("_shadow_overlap");
              return void x(z.divs).forEach(function (t) {
                f(t, e);
              });
            }
            x(z.divs).forEach(function (e) {
              if (e.info) {
                var t = e,
                  n = e.info,
                  i = (e.info.event, e.info.$.Ep),
                  a = A.getPixels(n.start),
                  r = A.getPixels(n.end),
                  s = a.left,
                  l = r.left - s,
                  d = x(z.list)
                    .map(function (e) {
                      return e.event.data;
                    })
                    .add(o.Jo.data);
                A.Gp(t, i, s, l, d),
                  A.Hp(t, n.start, n.end, n.resource),
                  (n.overlapping = !1),
                  t.overlapping && ((n.overlapping = !0), (z.forbidden = !0));
              }
            });
          }),
          (z.draw = function () {
            z.zp(), z.Fp();
          }),
          (z.clear = function () {
            C(z.divs), (z.divs = []);
          }),
          (this.yp = function (e, t) {
            return (
              (t = ["$"].concat(t || [])),
              e.map(function (e) {
                var n = e,
                  i = {};
                for (var a in n) {
                  var r = t && D(t, a) !== -1;
                  n.hasOwnProperty(a) &&
                    "undefined" != typeof n[a] &&
                    (r
                      ? Object.defineProperty(i, a, { value: n[a] })
                      : (i[a] = n[a]));
                }
                return i;
              })
            );
          }),
          (this.Mp = function () {
            var e = A.coords,
              t = o.Oo.dpBorder,
              n = o.Oo.event,
              i = n.part.left;
            "right" == t && (i += n.part.width);
            var a,
              r,
              s = o.Oo.event.calendar.cellWidth,
              l = o.Oo.event.part.width,
              d = o.Oo.event.part.left,
              c = 0,
              u = e.x - i,
              h = A.snapToGrid && A.snapToGridEventResizing;
            if ("right" === t) {
              if (((a = d), h)) {
                var f = A.dm(l + d + u).cell,
                  v = A.dm(d).cell,
                  p = v.left + v.width - d;
                (r = f.left + f.width - d), r < p && (r = p);
              } else r = l + u;
              var m = A.Bl();
              d + r > m && (r = m - d), (o.ep.left = d), (o.ep.width = r);
            } else {
              if ("left" !== t)
                throw new DayPilot.Exception("Invalid dpBorder.");
              h
                ? (u >= l && (u = l),
                  (a = Math.floor((d + u + 0) / s) * s),
                  a < c && (a = c))
                : (a = d + u),
                (r = l - (a - d));
              var g = d + l,
                y = s;
              h ? "Never" === A.useEventBoxes && (y = l < s ? l : 1) : (y = 1),
                r < y && ((r = y), (a = g - r)),
                (o.ep.left = a),
                (o.ep.width = r);
            }
            !(function () {
              o.ep.overlapping = !1;
              var e = o.Oo.event,
                t = A.rowlist[e.part.dayIndex],
                n = a,
                i = r;
              A.Gp(o.ep, t, n, i, e.data);
              var s = o.ep;
              if (s.start) {
                var l = { start: s.start, end: A.oj(s.end) };
                A.Hp(o.ep, l.start, l.end, t.id);
              }
            })(),
              A.Np();
          }),
          (this.bp = function () {
            this.nav.scroll;
            if (A.coords && o.Jo) {
              A.Hl();
              var e = o.Lp,
                t = this.On(o.Jo);
              if (!A.Pn(t.rowIndex, t.grid)) {
                var n = o.Jo,
                  i =
                    n.cache && "undefined" != typeof n.cache.moveVDisabled
                      ? !n.cache.moveVDisabled
                      : !n.data.moveVDisabled,
                  a =
                    n.cache && "undefined" != typeof n.cache.moveHDisabled
                      ? !n.cache.moveHDisabled
                      : !n.data.moveHDisabled,
                  r = !z.additional().isEmpty();
                r && "Disabled" === A.multiMoveVerticalMode && (i = !1),
                  i &&
                    t.grid !== e.grid &&
                    (e.parentNode.removeChild(e),
                    A.jl[t.grid].divShadow.appendChild(e),
                    (e.grid = t.grid));
                var s = 0,
                  l = 0;
                if (
                  ((function () {
                    if (A.zk) {
                      var e = t.relativeY,
                        n = A.dm(t.left).x,
                        i = t.row,
                        a = i.evColumns[n],
                        r = a.events.find(function (t) {
                          return (
                            e < t.part.top + t.part.height + A.eventMarginBottom
                          );
                        });
                      r || (r = a.events.last()),
                        r &&
                          ((l = r.part.top),
                          (s = D(a.events, r)),
                          e - r.part.top > r.part.height / 2 &&
                            ((l =
                              r.part.top +
                              r.part.height +
                              A.eventMarginBottom / 2),
                            (s += 1)));
                    } else {
                      for (
                        var e = t.relativeY,
                          i = t.row,
                          o = 0,
                          d = A.Ma.Qn(),
                          c = i.lines.length,
                          u = 0;
                        u < i.lines.length;
                        u++
                      ) {
                        if (i.lines[u].Wd(t.left, A.cellWidth)) {
                          c = u;
                          break;
                        }
                      }
                      var h = Math.floor((e - o + d / 2) / d);
                      (h = Math.min(c, h)),
                        (h = p(0, h)),
                        (s = h),
                        (l =
                          A.rowMarginTop +
                          s * (A.Ma.Qn() + A.eventMarginBottom) +
                          A.eventMarginBottom / 2);
                    }
                  })(),
                  l > 0 && (l -= 3),
                  i)
                )
                  if (this.Pn(t.rowIndex, t.grid)) {
                    var d = e.row,
                      c = 1;
                    if (!d) return;
                    c = t.rowIndex < d.index ? 1 : -1;
                    for (var u = t.rowIndex; u !== d.index; u += c) {
                      var h = this.rowlist[u];
                      if (!this.Pn(u, t.grid) && !h.hidden) {
                        (e.row = h),
                          (e.style.top = e.row.top + e.row.marginTop + "px"),
                          (e.style.height =
                            p(
                              e.row.height -
                                e.row.marginTop -
                                e.row.marginBottom,
                              0
                            ) + "px"),
                          A.eventMoveToPosition &&
                            ((s = c > 0 ? 0 : h.lines.length - 1),
                            (e.style.top = t.top + l + "px"),
                            (e.style.height = "3px"),
                            (e.line = s));
                        break;
                      }
                    }
                  } else
                    (e.row = t.row),
                      (e.style.top = e.row.top + e.row.marginTop + "px"),
                      (e.style.height =
                        p(
                          e.row.height - e.row.marginTop - e.row.marginBottom,
                          0
                        ) + "px"),
                      A.eventMoveToPosition &&
                        ((e.style.top = t.top + l + "px"),
                        (e.style.height = "3px"),
                        (e.line = s));
                else {
                  for (
                    var f = A.jl[n.part.grid].rowlist,
                      d = f[n.part.dayIndex],
                      v = d.lines.length,
                      u = 0;
                    u < d.lines.length;
                    u++
                  ) {
                    if (d.lines[u].Wd(t.left, A.cellWidth)) {
                      v = u;
                      break;
                    }
                  }
                  if (
                    (r ||
                      ((e.style.height = p(d.height, 0) + "px"),
                      (e.style.top = d.top + "px")),
                    (e.row = d),
                    A.eventMoveToPosition && !r)
                  )
                    if (t.row === d)
                      (e.style.top = d.top + l + "px"),
                        (e.style.height = "3px"),
                        (e.line = s);
                    else {
                      var m =
                        t.rowIndex > d.index && v > 0 ? v * A.Ma.Qn() - 3 : 0;
                      (e.style.top = d.top + m + "px"),
                        (e.style.height = "3px"),
                        (e.line = 0);
                    }
                }
                a
                  ? ((e.style.left = t.left + "px"),
                    A.eventMoveToPosition
                      ? (e.style.width = A.cellWidth + "px")
                      : (e.style.width = t.width + "px"),
                    (e.start = t.start),
                    (e.end = t.end))
                  : ((e.style.left = n.part.left + "px"),
                    (e.start = n.start()),
                    (e.end = n.rawend()),
                    (t.left = n.part.left)),
                  (function () {
                    e.overlapping = !1;
                    var i = e.row,
                      a = n.data,
                      r = t.width,
                      s = t.left,
                      l = x(z.list)
                        .map(function (e) {
                          return e.event.data;
                        })
                        .add(a);
                    A.Gp(e, i, s, r, l), A.Hp(o.Lp, e.start, e.end, e.row.id);
                  })(),
                  A.Op();
              }
            }
          }),
          (this.Op = function () {
            var e = o.Lp,
              t = A.Jp,
              n = A.jb,
              i = o.Jo;
            if (n) {
              var a = n.start.getTime() === e.start.getTime(),
                r = n.end.getTime() === e.end.getTime(),
                s = n.resource === e.row.id,
                l =
                  n.shift + "_" + n.ctrl + "_" + n.meta + "_" + n.alt ==
                  A.coords.shift +
                    "_" +
                    A.coords.ctrl +
                    "_" +
                    A.coords.meta +
                    "_" +
                    A.coords.alt;
              if (a && r && s && l) return;
            }
            n && (h(e, n.cssClass), (e.firstChild.innerHTML = "")),
              t.clear(),
              t.zp();
            var d = !!o.Pp && i.part.external,
              c = {};
            (c.start = e.start),
              (c.end = A.oj(e.end)),
              (c.duration = new DayPilot.Duration(c.start, c.end)),
              (c.e = i),
              (c.external = d),
              (c.control = A),
              (c.resource = e.row.id),
              (c.html = null),
              (c.row = A.en(e.row)),
              (c.position = e.line),
              (c.overlapping = e.overlapping || t.forbidden),
              (c.allowed = !0),
              (c.left = {}),
              (c.left.html = c.start.toString(
                A.eventMovingStartEndFormat,
                Z.Oc()
              )),
              (c.left.enabled = A.eventMovingStartEndEnabled),
              (c.left.space = 5),
              (c.left.width = null),
              (c.left.height = A.eventHeight),
              (c.right = {}),
              (c.right.html = c.end.toString(
                A.eventMovingStartEndFormat,
                Z.Oc()
              )),
              (c.right.enabled = A.eventMovingStartEndEnabled),
              (c.right.space = 5),
              (c.right.width = null),
              (c.right.height = A.eventHeight),
              (c.multimove = t.xp()),
              (c.shift = A.coords.shift),
              (c.ctrl = A.coords.ctrl),
              (c.meta = A.coords.meta),
              (c.alt = A.coords.alt),
              (c.areaData = w.movingAreaData),
              (c.link = null),
              (c.cssClass = null),
              (c.html = null);
            var u = {};
            (u.event = i),
              (u.start = c.start),
              (u.end = c.end),
              (u.overlapping = c.overlapping),
              (u.resource = c.resource),
              c.multimove.splice(0, 0, u),
              (A.jb = c);
            var v = { start: c.start, end: c.end, resource: c.resource };
            if (
              ("function" == typeof A.onEventMoving && A.onEventMoving(c), o.hm)
            ) {
              if (
                ((t.list = x(c.multimove, !0)),
                t.list.splice(0, 1),
                t.Fp(),
                (e.allowed = c.allowed),
                f(e, c.cssClass),
                c.html && (e.firstChild.innerHTML = c.html),
                c.start !== v.start || c.end !== v.end)
              ) {
                var m = c.start,
                  g = A.Ti(c.end);
                (e.start = m), (e.end = g);
                var y = DayPilot.DateUtil.diff(m, g);
                y = p(y, 1);
                var b = Z.Jg(y),
                  k = b ? A.getPixels(m).boxLeft : A.getPixels(m).left,
                  C = b ? A.getPixels(g).boxRight : A.getPixels(g).left;
                (e.style.left = k + "px"), (e.style.width = C - k + "px");
              }
              if (c.resource !== v.resource) {
                var D = A.nl(c.resource);
                if (
                  D &&
                  ((e.row = D),
                  (e.style.height = p(D.height, 0) + "px"),
                  (e.style.top = D.top + "px"),
                  A.eventMoveToPosition)
                ) {
                  var S = A.rowMarginTop;
                  (e.style.top = D.top + S + "px"),
                    (e.style.height = "3px"),
                    (e.line = 0);
                }
              }
              c.html
                ? (e.firstChild.innerHTML = c.html)
                : (e.firstChild.innerHTML = ""),
                A.Qp(e, c),
                A.Rp(e, c),
                w.movingLink && w.movingLink.clear(),
                c.link && (w.movingLink = B.fo(c.link.from, e, c.link));
            }
          }),
          (this.Gp = function (e, t, n, i, a) {
            if (!A.allowEventOverlap) {
              !(function () {
                e.overlapping = !1;
                for (var r = 0; r < t.lines.length; r++) {
                  if (!t.lines[r].Wd(n, i, a)) return void (e.overlapping = !0);
                }
                var o = t.index,
                  s = x(V.list).some(function (t) {
                    var a = t.div,
                      r = parseInt(a.style.left),
                      s = parseInt(a.style.width),
                      l = t.start.y;
                    return e !== a && l === o && u(n, n + i, r, r + s);
                  });
                if (s) return void (e.overlapping = !0);
                if (
                  x(z.divs).some(function (t) {
                    var a = t.info,
                      r = parseInt(t.style.left),
                      s = parseInt(t.style.width),
                      l = a.$.Ep.index;
                    return e !== t && l === o && u(n, n + i, r, r + s);
                  })
                )
                  return void (e.overlapping = !0);
                var s = x(I.divs).some(function (t) {
                  var a = t.info,
                    r = parseInt(t.style.left),
                    s = parseInt(t.style.width),
                    l = a.$.Ep.index;
                  return e !== t && l === o && u(n, n + i, r, r + s);
                });
                return s ? void (e.overlapping = !0) : void 0;
              })();
              var r = e.overlapping,
                o = A.ca("_shadow_overlap");
              r ? f(e, o) : h(e, o);
            }
          }),
          (this.Hp = function (e, t, n, i) {
            A.Qc(t, n, i) && (e.overlapping = !0);
            var a = A.ca("_shadow_overlap");
            e.overlapping ? f(e, a) : h(e, a);
          }),
          (this.Qc = function (e, t, n) {
            if (!((A.cellConfig && A.cellConfig.hasDisabled) || A.Yl.Sp))
              return !1;
            var i = null;
            "Days" === A.viewType && (i = A.Go(e));
            var a = A.rows.find(n, i).cells.forRange(e, t);
            return (
              !!a &&
              a.some(function (e) {
                return e.properties.disabled;
              })
            );
          }),
          (this.Qp = function (e, t) {
            var n = A.ca("_shadow_forbidden");
            !t.allowed || z.invalid ? f(e, n) : h(e, n);
          }),
          (this.Rp = function (e, t) {
            if ((this.Tp(), e.calendar === A)) {
              var n = A.Mn(e.grid),
                i = {};
              (i.left = parseInt(e.style.left)),
                (i.top = parseInt(e.style.top)),
                (i.right = i.left + parseInt(e.style.width));
              var a = t.left.width || 10,
                r = c();
              if (
                ((r.style.position = "absolute"),
                (r.style.left = i.left - a - t.left.space + "px"),
                (r.style.top = i.top + "px"),
                (r.style.height = t.left.height + "px"),
                (r.style.overflow = "hidden"),
                (r.style.boxSizing = "border-box"),
                (r.innerHTML = t.left.html),
                (r.className = A.ca("_event_move_left")),
                (r.onmousemove = A.Up),
                DayPilot.browser.ie && (r.style.display = "block"),
                t.left.enabled)
              )
                if ((n.divHover.appendChild(r), t.left.width))
                  r.style.width = a + "px";
                else {
                  r.style.whiteSpace = "nowrap";
                  var o = r.offsetWidth,
                    s = i.left - o - t.left.space;
                  (r.style.width = o + "px"), (r.style.left = s + "px");
                  var l = A.nav.scroll.scrollLeft;
                  s < l && n.divHover.removeChild(r);
                  var d = A.El() + (s - l);
                  d > 0 &&
                    ((r.style.left = d + "px"),
                    (r.style.top = i.top - n.div.scrollTop + n.top + "px"),
                    A.nav.top.appendChild(r),
                    A.elements.hover.push(r));
                }
              var a = t.right.width || 10,
                u = c();
              if (
                ((u.style.position = "absolute"),
                (u.style.left = i.right + t.right.space + "px"),
                (u.style.top = i.top + "px"),
                (u.style.height = t.right.height + "px"),
                (u.style.overflow = "hidden"),
                (u.style.boxSizing = "border-box"),
                t.right.width
                  ? (u.style.width = t.right.width + "px")
                  : (u.style.whiteSpace = "nowrap"),
                (u.innerHTML = t.right.html),
                (u.className = this.ca("_event_move_right")),
                (u.onmousemove = A.Up),
                DayPilot.browser.ie && (u.style.display = "block"),
                t.right.enabled)
              ) {
                n.divHover.appendChild(u);
                var h = A.nav.scroll.scrollWidth;
                i.right + t.right.space + u.offsetWidth >= h &&
                  n.divHover.removeChild(u);
              }
            }
          }),
          (this.Tp = function () {
            (A.divHover.innerHTML = ""),
              (A.jl.top.divHover.innerHTML = ""),
              (A.jl.bottom.divHover.innerHTML = ""),
              C(A.elements.hover),
              (A.elements.hover = []);
          }),
          (this.Vp = function () {
            var e = A.rowHeaderColumnDefaultWidth;
            if (this.rowHeaderColumns) {
              var t = Z.qp();
              this.rowHeaderCols = DayPilot.Util.propArray(t, "width", e);
            } else this.rowHeaderCols = null;
          }),
          (this.Wp = function () {
            var e = 0;
            if ((this.Vp(), this.rowHeaderCols))
              for (var t = 0; t < this.rowHeaderCols.length; t++)
                e += this.rowHeaderCols[t];
            else e = this.rowHeaderWidth;
            return e;
          }),
          (this.Xp = function () {
            return this.Yp(A.progressiveRowRenderingPreload);
          }),
          (this.Yp = function (e) {
            var e = e || 0,
              t = 0,
              n = A.rowlist.length;
            if (A.progressiveRowRendering) {
              var i = A.Da();
              (t = i.yStart),
                (function () {
                  var e = A.rowlist[t],
                    n = e && e.split && e.split.parent;
                  n && (t = n.index);
                })(),
                (n = i.yEnd + 1),
                (t = p(0, t - e)),
                (n = Math.min(A.rowlist.length, n + e));
            }
            return { start: t, end: n };
          }),
          (this.Zp = function () {
            function e(e, t, n) {
              for (var i = A.Mn(e).divHeader, r = t; r < n; r++) {
                var o = i.rows[r];
                if (o) {
                  var s = { row: o, grid: e, i: r };
                  A.$p(s, a);
                }
              }
            }
            if (this.dg()) {
              var t = !1,
                n = 0;
              if (this.rowHeaderWidthAutoFit) {
                var i = this.divHeader;
                if (!i) return;
                if (!i.rows) return;
                var a = [];
                this.Vp();
                A.rowHeaderWidthAutoFitShrink &&
                  (A.rowHeaderScrolling || (A.rowHeaderWidth = 0),
                  A.rowHeaderCols &&
                    A.rowHeaderCols.forEach(function (e, t) {
                      A.rowHeaderCols[t] = 0;
                    }));
                var r = A.Xp();
                if (
                  (e("main", r.start, r.end),
                  A.jl.top.enabled() &&
                    e("top", 0, A.jl.top.divHeader.rows.length),
                  A.jl.bottom.enabled() &&
                    e("bottom", 0, A.jl.bottom.divHeader.rows.length),
                  this.rowHeaderCols)
                )
                  for (var o = 0; o < a.length; o++)
                    "number" == typeof this.rowHeaderCols[o] &&
                      (a[o] > this.rowHeaderCols[o] &&
                        ((this.rowHeaderCols[o] = a[o]), (t = !0)),
                      (n += this.rowHeaderCols[o]));
                else {
                  n = this.rowHeaderWidth;
                  var s = Z.Fl();
                  this.rowHeaderWidth <
                    a[0] + A.rowHeaderWidthMarginRight + s &&
                    ((n = a[0] + A.rowHeaderWidthMarginRight + s), (t = !0));
                }
              }
              t &&
                (this.Jn &&
                  ((this.Jn.widths = this.rowHeaderCols),
                  this.Jn.updateWidths(),
                  DayPilot.Util.updatePropsFromArray(
                    Z.qp(),
                    "width",
                    this.rowHeaderCols
                  )),
                this.rowHeaderCols || (this.rowHeaderWidth = n),
                this.xm(),
                this._p());
            }
          }),
          (this.$p = function (e, t) {
            var n = e.row,
              i = A.Mn(e.grid),
              a = i.rowlist[e.i],
              r = A.rowHeaderColumns;
            if (!a.hidden) {
              for (var o = 0; o < n.cells.length; o++)
                if (n.cells[o] && "number" != typeof n.cells[o].aq) {
                  var s = n.cells[o].firstChild.firstChild;
                  if (s && s.style) {
                    var l = s.style.width,
                      d = s.style.right,
                      c = s.style.display;
                    (s.style.position = "absolute"),
                      (s.style.width = "auto"),
                      (s.style.right = "auto"),
                      (s.style.whiteSpace = "nowrap"),
                      (s.style.display = "block");
                    var u = s.offsetWidth + 2;
                    (n.cells[o].aq = u),
                      (s.style.position = ""),
                      (s.style.width = l),
                      (s.style.right = d),
                      (s.style.display = c),
                      (s.style.whiteSpace = "");
                  }
                }
              for (var o = 0; o < n.cells.length; o++)
                if (n.cells[o]) {
                  var u = n.cells[o].aq;
                  if (
                    ("undefined" == typeof t[o] && (t[o] = 0),
                    r && r[o] && "number" == typeof r[o].maxAutoWidth)
                  ) {
                    var h = r[o].maxAutoWidth;
                    u = Math.min(u, h);
                  }
                  t[o] = Math.max(t[o], u);
                }
            }
          }),
          (this.Pk = function () {
            (this.bq = !0), this.Vp();
            var e = this.Wp(),
              t = this.divHeader;
            if (
              ((t.style.width = e + "px"),
              (t.style.height = A.Dk + "px"),
              (A.jl.main.divHeader = t),
              A.progressiveRowRendering)
            )
              s();
            else for (var n = this.rowlist.length, i = 0; i < n; i++) A.cq(i);
            if (A.jl.top.enabled())
              for (var i = 0; i < A.jl.top.rowlist.length; i++) A.cq(i, "top");
            if (A.jl.bottom.enabled())
              for (var i = 0; i < A.jl.bottom.rowlist.length; i++)
                A.cq(i, "bottom");
            A.dq(),
              this.divResScroll.appendChild(t),
              this.rowHeaderWidthAutoFit && this.Zp();
          }),
          (this.Ok = function () {
            function e(e) {
              var t = A.Mn(e),
                n = t.divHeader,
                i = n;
              if ((n.eq && (i = n.eq), A.En(e), i)) {
                if (DayPilot.browser.ie)
                  for (var a = 0; a < i.childNodes.length; a++)
                    C(i.childNodes[a]);
                (i.innerHTML = ""), DayPilot.puc(i);
              }
              n && (n.rows = []);
            }
            e("main"), e("top"), e("bottom");
          }),
          (this.ym = function () {
            if (A.progressiveRowRendering) {
              for (var e = this.Xp(), t = 0; t < A.rowlist.length; t++)
                e.start <= t && t < e.end ? A.cq(t) : A.Nn(t);
              if (this.rowHeaderWidthAutoFit && !o.fq) {
                var n = A.El();
                this.Zp();
                if (A.El() !== n) {
                  var i = this.cellWidth;
                  this.Kk();
                  this.cellWidth !== i &&
                    (A.Lk(), A.Qk(), A.Rk(), A.Bb(), A.tb(), A.gq());
                }
              }
            }
          }),
          (this.dq = function () {
            if (!A.Ma.hq()) {
              var e = A.divHeader,
                t = c();
              (t.style.position = "absolute"),
                e.appendChild(t),
                (A.nav.resScrollSpace = t),
                t.setAttribute("unselectable", "on");
              var n = c();
              (n.style.position = "relative"),
                (n.style.height = "100%"),
                (n.className = this.ca("_rowheader")),
                t.appendChild(n);
              var i = this.Wp(),
                t = A.nav.resScrollSpace;
              (t.style.width = i + "px"), (t.style.top = this.Dk + "px");
            }
          }),
          (this.Nn = function (e, t) {
            var n = A.Mn(t),
              i = n.divHeader.rows[e];
            if (i) {
              if (i) {
                var a = i.domArgs;
                if (
                  ((i.domArgs = null),
                  a &&
                    "function" == typeof A.onBeforeRowHeaderDomRemove &&
                    A.onBeforeRowHeaderDomRemove(a),
                  a &&
                    "function" == typeof A.onBeforeRowHeaderDomAdd &&
                    A.Y.reactDOM)
                ) {
                  var r = a && a.Be;
                  if (r) {
                    if (y(a.element)) {
                      if (!A.Y.reactDOM)
                        throw new DayPilot.Exception("Can't reach ReactDOM");
                      A.Y.ja(r);
                    }
                  }
                }
                a && ((a.element = null), (a.Be = null));
              }
              C(i.cells), (n.divHeader.rows[e] = null);
            }
          }),
          (this.Pm = function (e, t) {
            this.Nn(e, t), this.cq(e, t);
          }),
          (this.Nm = function () {
            return (
              "Standard" === A.rowHeaderColumnsMode ||
              "Tabular" === A.rowHeaderColumnsMode
            );
          }),
          (this.iq = function (e, t) {
            var n = void 0;
            return (
              e.tags && (n = e.tags[t]), "undefined" != typeof n ? n : e[t]
            );
          }),
          (this.gn = function (e, t, n) {
            return e.tags && "undefined" != typeof e.tags[t]
              ? void (e.tags[t] = n)
              : void (e[t] = n);
          }),
          (this.cq = function (e, t) {
            function n() {
              var t = c();
              if (A.treeEnabled && !l.isNewRow) {
                var n = l.level * A.treeIndent + A.treeImageMarginLeft;
                W && (n += F);
                var i = A.treeImageWidth,
                  a = A.treeImageHeight;
                (t.style.marginLeft = n + "px"),
                  (t.style.position = "relative"),
                  (t.className = A.ca("_rowheader_inner_indent"));
                var r = c();
                (r.style.width = i + "px"),
                  (r.style.height = a + "px"),
                  (r.style.backgroundRepeat = "no-repeat"),
                  (r.style.position = "absolute"),
                  (r.style.top = A.treeImageMarginTop + "px"),
                  l.loaded || 0 !== l.children.length
                    ? l.children.length > 0
                      ? (l.expanded
                          ? (r.className = A.ca("_tree_image_collapse"))
                          : (r.className = A.ca("_tree_image_expand")),
                        (r.style.cursor = "pointer"),
                        (r.index = e),
                        (r.onclick = function (e) {
                          A.ap(this.index), (e.cancelBubble = !0);
                        }))
                      : (r.className = A.ca("_tree_image_no_children"))
                    : ((r.className = A.ca("_tree_image_expand")),
                      (r.style.cursor = "pointer"),
                      (r.index = e),
                      (r.onclick = function (e) {
                        A.sq(this.index), (e.cancelBubble = !0);
                      })),
                  t.appendChild(r);
              }
              var o = c();
              if (A.treeEnabled) {
                var s = A.treeImageMarginRight;
                o.style.marginLeft = i + s + "px";
              }
              (o.innerHTML = A.Ka(C.text, C.html)),
                (o.className = A.ca("_rowheader_inner_text")),
                (w.textDiv = o),
                (w.cellDiv = L),
                t.appendChild(o),
                U.appendChild(t);
              var d = C.verticalAlignment || k.verticalAlignment;
              if (d)
                switch (((U.style.display = "flex"), d)) {
                  case "center":
                    U.style.alignItems = "center";
                    break;
                  case "top":
                    U.style.alignItems = "flex-start";
                    break;
                  case "bottom":
                    U.style.alignItems = "flex-end";
                }
            }
            var i = A.Mn(t),
              a = i.rowlist,
              r = i.divHeader,
              o = r;
            if ((r.eq && (o = r.eq), r && !r.rows[e])) {
              var s = this.rowHeaderCols,
                l = a[e];
              if (l && !l.hidden) {
                var d = j.ra[e],
                  u = l.height,
                  h = l.cells && l.cells[0];
                h && h.rowspan > 1 && (u = h.row.split.totalHeight());
                var v = null;
                l.split &&
                  l.split.parent &&
                  l.split.jq() &&
                  (v = A.rp(l.split.parent));
                var p = this.rp(l),
                  m = s && p.row.columns && p.row.columns.length > 0,
                  g = m ? this.rowHeaderCols.length : 0,
                  b = this.Wp();
                (r.rows[e] = {}), (r.rows[e].cells = []);
                var w = c();
                (w.style.position = "absolute"),
                  (w.style.top = l.top + "px"),
                  (w.row = v ? l.split.parent : l),
                  (w.index = e),
                  (w.column = 0);
                var k = p.row,
                  C = v ? v.row : k,
                  D = A.Nm(),
                  _ = l.children.length > 0,
                  E = A.internalUseStandardColumns && !l.isNewRow,
                  T = DayPilot.isArray(A.rowHeaderColumns),
                  H = E || (D && T),
                  M = x(p.row.columns);
                v &&
                  T &&
                  p.row.columns.length === A.rowHeaderColumns.length &&
                  A.rowHeaderColumns.forEach(function (e, t) {
                    e.split || (M[t] = v.row.columns[t]);
                  }),
                  H &&
                    ((M = M.filter(function (e, t) {
                      return !A.rowHeaderColumns[t].hidden;
                    })),
                    (g = M.length));
                var R = !(A.rowHeaderColumnsMergeParents && _);
                if (H && R) {
                  C = M[0] || p.row;
                  var B = A.rowHeaderColumns.find(function (e) {
                    return !e.hidden;
                  });
                  B && B.split && (w.row = l);
                }
                A.ia() && (C = p.row);
                var P = m ? s[0] : b;
                (w.style.width = P + "px"), (w.style.border = "0px none");
                var N = C.toolTip || k.toolTip;
                N && (w.title = N),
                  w.setAttribute("unselectable", "on"),
                  "undefined" != typeof k.ariaLabel
                    ? w.setAttribute("aria-label", k.ariaLabel)
                    : w.setAttribute("aria-label", C.text || ""),
                  (w.onmouseenter = A.kq),
                  (w.onmouseleave = A.lq),
                  (w.onmousemove = A.mq),
                  (w.onmouseout = A.nq),
                  (w.onmouseup = A.oq),
                  (w.oncontextmenu = A.pq),
                  (w.onclick = A.qq),
                  (w.ondblclick = A.rq);
                var L = c();
                (L.style.width = P + "px"),
                  L.setAttribute("unselectable", "on"),
                  (L.className = this.ca("_rowheader")),
                  d && f(L, A.ca("_rowheader_selected")),
                  k.cssClass && f(L, k.cssClass),
                  C.cssClass && f(L, C.cssClass);
                var I = C.backColor || k.backColor;
                I && (L.style.background = I);
                var z = C.fontColor || k.fontColor;
                z && (L.style.color = z);
                var O = C.horizontalAlignment || k.horizontalAlignment;
                A.treeEnabled && (O = null),
                  O && (L.style.textAlign = O),
                  (L.style.height = u + "px"),
                  (L.style.overflow = "hidden"),
                  (L.style.position = "relative");
                var U = c();
                switch (
                  (U.setAttribute("unselectable", "on"),
                  (U.className = this.ca("_rowheader_inner")),
                  O)
                ) {
                  case "right":
                    U.style.justifyContent = "flex-end";
                    break;
                  case "left":
                    U.style.justifyContent = "flex-start";
                    break;
                  case "center":
                    U.style.justifyContent = "center";
                }
                L.appendChild(U);
                var W =
                    "Disabled" !== this.rowMoveHandling && "main" === l.grid,
                  F = A.rowDragHandleWidth,
                  Y = C.areas || [];
                W &&
                  !k.moveDisabled &&
                  Y.push({
                    v: "Hover",
                    w: F,
                    bottom: 0,
                    top: 0,
                    left: 0,
                    css: A.ca("_rowmove_handle"),
                    action: "Move",
                  });
                var q = A.en(l);
                DayPilot.Areas.attach(L, q, {
                  areas: Y,
                  allowed: function () {
                    return !S.row;
                  },
                });
                var J = c();
                (J.style.position = "absolute"),
                  (J.style.bottom = "0px"),
                  (J.style.width = "100%"),
                  (J.style.height = "0px"),
                  (J.style.boxSizing = "content-box"),
                  (J.style.borderBottom = "1px solid transparent"),
                  (J.className = this.ca(G.resourcedivider)),
                  L.appendChild(J),
                  n(),
                  w.appendChild(L),
                  (function () {
                    if (
                      "function" == typeof A.onBeforeRowHeaderDomAdd ||
                      "function" == typeof A.onBeforeRowHeaderDomRemove
                    ) {
                      var t = {};
                      if (
                        ((t.control = A),
                        (t.row = A.en(l)),
                        (t.element = null),
                        (t.target = "Cell"),
                        (r.rows[e].domArgs = t),
                        "function" == typeof A.onBeforeRowHeaderDomAdd &&
                          A.onBeforeRowHeaderDomAdd(t),
                        t.element)
                      ) {
                        var n = null;
                        switch (t.target && t.target.toLowerCase()) {
                          case "text":
                            n = te;
                            break;
                          case "cell":
                            n = U;
                        }
                        if (n) {
                          (t.Be = n), (n.innerHTML = "");
                          if (y(t.element)) {
                            if (!A.Y.reactDOM)
                              throw new DayPilot.Exception(
                                "Can't reach ReactDOM"
                              );
                            A.Y.X(t.element, n);
                          } else n.appendChild(t.element);
                        }
                      }
                    }
                  })();
                (h && h.refCell) ||
                  (o.appendChild(w), (r.rows[e].cells[0] = w));
                var X =
                  !l.isNewRow &&
                  A.rowHeaderColumnsMergeParents &&
                  p.row.children().length > 0;
                if (!p.row.columns || 0 === p.row.columns.length || X)
                  (w.colSpan = "max"), (L.style.width = b + "px");
                else
                  for (var V = P, K = E || D ? 0 : 1, Z = 1; Z < g; Z++) {
                    var C = M[Z - K] || {},
                      h = l.cells[Z - K],
                      u = l.height;
                    h.rowspan > 1 && (u = h.row.split.totalHeight());
                    var w = c();
                    (w.style.position = "absolute"),
                      (w.style.top = l.top + "px"),
                      (w.style.left = V + "px"),
                      h.refCell || (o.appendChild(w), (r.rows[e].cells[Z] = w)),
                      (w.row = l),
                      (w.index = e),
                      (w.column = Z);
                    var Q = C.toolTip || k.toolTip;
                    Q && (w.title = Q),
                      w.setAttribute("unselectable", "on"),
                      (w.onmousemove = A.mq),
                      (w.onmouseout = A.nq),
                      (w.onmouseup = A.oq),
                      (w.oncontextmenu = A.pq),
                      (w.onclick = A.qq),
                      (w.ondblclick = A.rq);
                    var L = c(),
                      $ = s[Z];
                    V += $;
                    var I = C.backColor || k.backColor;
                    I && (L.style.backgroundColor = I);
                    var z = C.fontColor || k.fontColor;
                    z && (L.style.color = z),
                      (L.style.width = $ + "px"),
                      (L.style.height = u + "px"),
                      (L.style.overflow = "hidden"),
                      (L.style.position = "relative"),
                      L.setAttribute("unselectable", "on"),
                      f(L, this.ca("_rowheader")),
                      f(L, this.ca("_rowheadercol")),
                      f(L, this.ca("_rowheadercol" + Z)),
                      d && f(L, A.ca("_rowheader_selected")),
                      k.cssClass && f(L, k.cssClass),
                      C.cssClass && f(L, C.cssClass);
                    var ee = C.horizontalAlignment || k.horizontalAlignment;
                    ee && (L.style.textAlign = ee);
                    var U = c();
                    switch (
                      (U.setAttribute("unselectable", "on"),
                      (U.className = this.ca("_rowheader_inner")),
                      ee)
                    ) {
                      case "right":
                        U.style.justifyContent = "flex-end";
                        break;
                      case "left":
                        U.style.justifyContent = "flex-start";
                        break;
                      case "center":
                        U.style.justifyContent = "center";
                    }
                    L.appendChild(U);
                    var J = c();
                    (J.style.position = "absolute"),
                      (J.style.bottom = "0px"),
                      (J.style.width = "100%"),
                      (J.style.height = "0px"),
                      (J.style.boxSizing = "content-box"),
                      (J.style.borderBottom = "1px solid transparent"),
                      (J.className = this.ca("_resourcedivider")),
                      L.appendChild(J);
                    var te = c(),
                      ne = A.Ka(C.text, C.html);
                    (te.innerHTML = ne),
                      (w.textDiv = te),
                      (w.cellDiv = L),
                      U.appendChild(te),
                      DayPilot.Areas.attach(L, q, {
                        areas: C.areas,
                        allowed: function () {
                          return !S.row;
                        },
                      }),
                      w.appendChild(L);
                  }
              }
            }
          }),
          (this.pq = function (e) {
            if ("Disabled" === A.rowRightClickHandling) return !1;
            var t = this.row,
              n = A.en(t),
              i = {};
            if (
              ((i.ctrl = e.ctrlKey),
              (i.shift = e.shiftKey),
              (i.meta = e.metaKey),
              (i.originalEvent = e),
              (i.row = n),
              (i.preventDefault = function () {
                this.preventDefault.value = !0;
              }),
              "function" != typeof A.onRowRightClick ||
                (A.onRowRightClick(i), !i.preventDefault.value))
            ) {
              switch (A.rowRightClickHandling) {
                case "ContextMenu":
                  t.contextMenu && t.contextMenu.show(n);
              }
              return (
                "function" == typeof A.onRowRightClicked &&
                  A.onRowRightClicked(i),
                !1
              );
            }
          }),
          (this.qq = function (e) {
            if (!U.cancelClick) {
              var t = this.row,
                n = this.column,
                i = A.en(t, this.index);
              return t.isNewRow ? void A.nn.mn(t) : void A.jn(i, e, n);
            }
          }),
          (this.rq = function (e) {
            if (A.im.resClick) {
              for (var t in A.im.resClick)
                window.clearTimeout(A.im.resClick[t]);
              A.im.resClick = null;
            }
            var n = this.row,
              i = A.en(n, this.index),
              a = this.column;
            if (A.Kb()) {
              var r = {};
              if (
                ((r.resource = i),
                (r.row = i),
                (r.x = a),
                (r.ctrl = e.ctrlKey),
                (r.shift = e.shiftKey),
                (r.meta = e.metaKey),
                (r.originalEvent = e),
                (r.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof A.onRowDoubleClick &&
                  (A.onRowDoubleClick(r), r.preventDefault.value))
              )
                return;
              switch (A.rowDoubleClickHandling) {
                case "PostBack":
                  A.rowDoubleClickPostBack(i);
                  break;
                case "CallBack":
                  A.rowDoubleClickCallBack(i);
                  break;
                case "Select":
                  A.ln(n, e.ctrlKey, e.shiftKey, e.metaKey);
                  break;
                case "Edit":
                  A.nn.mn(n, a);
              }
              "function" == typeof A.onRowDoubleClicked &&
                A.onRowDoubleClicked(r);
            } else
              switch (A.rowDoubleClickHandling) {
                case "PostBack":
                  A.rowDoubleClickPostBack(i);
                  break;
                case "CallBack":
                  A.rowDoubleClickCallBack(i);
                  break;
                case "JavaScript":
                  A.onRowDoubleClick(i);
                  break;
                case "Select":
                  A.ln(n, e.ctrlKey, e.shiftKey, e.metaKey);
                  break;
                case "Edit":
                  A.nn.mn(n, a);
              }
          }),
          (this.rowDoubleClickPostBack = function (e, t) {
            var n = {};
            (n.resource = e), this.Na("RowDoubleClick", n, t);
          }),
          (this.rowDoubleClickCallBack = function (e, t) {
            var n = {};
            (n.resource = e), this.Pa("RowDoubleClick", n, t);
          }),
          (this.tq = function (e) {
            if ("Disabled" !== A.timeHeaderClickHandling) {
              var t = {};
              (t.start = this.cell.start),
                (t.level = this.cell.level),
                (t.end = this.cell.end),
                t.end ||
                  (t.end = new DayPilot.Date(t.start).addMinutes(
                    A.cellDuration
                  )),
                A.on(t);
            }
          }),
          (this.uq = function (t) {
            if ("Disabled" !== A.timeHeaderRightClickHandling) {
              (t.cancelBubble = !0), t.preventDefault();
              var n = {};
              if (
                ((n.start = this.cell.start),
                (n.level = this.cell.level),
                (n.end = this.cell.end),
                n.end ||
                  (n.end = new DayPilot.Date(n.start).addMinutes(
                    A.cellDuration
                  )),
                A.Kb())
              ) {
                var i = {};
                if (
                  ((i.header = n),
                  (i.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  "function" == typeof A.onTimeHeaderRightClick &&
                    (A.onTimeHeaderRightClick(i), i.preventDefault.value))
                )
                  return;
                switch (this.timeHeaderRightClickHandling) {
                  case "PostBack":
                    A.timeHeaderRightClickPostBack(e);
                    break;
                  case "CallBack":
                    A.timeHeaderRightClickCallBack(e);
                }
                "function" == typeof A.onTimeHeaderRightClicked &&
                  A.onTimeHeaderRightClicked(i);
              }
            }
          }),
          (this.vq = function (e) {
            var t = A.rowlist[e];
            if (t.hidden) return 0;
            var n = t.height;
            return "number" == typeof t.forcedHeight && (n = t.forcedHeight), n;
          }),
          (this.wq = function (e, t, n) {
            A.divHeader, A.elements.cells, A.ra.cells;
            e.forEach(function (e) {});
          }),
          (this.xq = function (e, t, n) {
            function i(e) {
              var n = A.vq(e),
                i = t;
              "hide" === t
                ? (i = 0)
                : "show" === t && (i = A.rowlist[e].height);
              var a = i - n;
              o.push({ i: e, now: n, dist: a });
            }
            function a(e) {
              s || (s = e);
              var t = e - s,
                i = Math.min(1, t / r);
              0 === i && (i = 0.1),
                o.forEach(function (e) {
                  var t = e.now + e.dist * i;
                  A.rowlist[e.i].forcedHeight = t;
                }),
                A.yq(),
                i < 1
                  ? window.requestAnimationFrame(a)
                  : ((l.style.overflowX = d),
                    (l.style.overflowY = c),
                    "function" == typeof n && n());
            }
            var r = 200,
              o = [];
            if ("number" == typeof e) i(e);
            else {
              if (!DayPilot.isArray(e))
                throw new DayPilot.Exception(
                  "Unexpected param (must be number/array)."
                );
              e.forEach(function (e) {
                i(e);
              });
            }
            var s = 0,
              l = A.nav.scroll,
              d = l.style.overflowX,
              c = l.style.overflowY;
            0 === DayPilot.sw(l) && (l.style.overflowY = "hidden"),
              window.requestAnimationFrame(a);
          }),
          (this.en = function (e) {
            return new DayPilot.Row(e, A);
          }),
          (this.Wl = function (e, t) {
            t = t || "main";
            var n = A.jl[t],
              i = n.rowlist,
              a = i[e];
            if ((a.events || a.zq(), !a.data)) {
              (a.data = {}),
                (a.data.start = new DayPilot.Date(a.start)),
                (a.data.startTicks = a.data.start.getTime());
              var r = this.Xd().getTime() - this.Tb().getTime();
              (a.data.end = Z.Aq()
                ? a.data.start.addTime(r)
                : a.data.start.addDays(1)),
                (a.data.endTicks = a.data.end.getTime()),
                (a.data.offset = a.start.getTime() - this.Tb().getTime()),
                (a.data.i = e),
                (a.data.grid = t);
            }
          }),
          (this.Bq = {}),
          (this.tb = function (e) {
            if (
              (e
                ? (this.events.list = e)
                : this.events.list || (this.events.list = []),
              null != this.events.list && !DayPilot.isArray(this.events.list))
            )
              throw new DayPilot.Exception(
                "DayPilot.Scheduler.events.list expects an array object"
              );
            O.Oi(!0);
            var t,
              n = this.events.list,
              i = "function" == typeof this.onBeforeEventRender,
              a = "Resources" === A.viewType;
            A.Bq = {};
            for (var r = 0; r < n.length; r++) {
              var o = n[r];
              if (o) {
                if ("object" != typeof o)
                  throw new DayPilot.Exception(
                    "Event data item must be an object"
                  );
                if (!o.start)
                  throw new DayPilot.Exception(
                    "Event data item must specify 'start' property"
                  );
                if (o instanceof DayPilot.Event)
                  throw new DayPilot.Exception(
                    "DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead."
                  );
                var s = "string" == typeof o.id || "number" == typeof o.id,
                  l =
                    "string" == typeof o.recurrentMasterId ||
                    "number" == typeof o.recurrentMasterId;
                if (!s) {
                  var l =
                    "string" == typeof o.recurrentMasterId ||
                    "number" == typeof o.recurrentMasterId;
                  if (!l)
                    throw new DayPilot.Exception(
                      "All events must have an id property (string or number)"
                    );
                }
                if (!A.temp.allowDuplicateEventIds) {
                  var d = "_" + o.id;
                  if (
                    (!s &&
                      l &&
                      (d =
                        "#" +
                        o.recurrentMasterId +
                        "#" +
                        new DayPilot.Date(o.start)),
                    A.Bq[d])
                  )
                    throw new DayPilot.Exception(
                      "Duplicate event IDs are not allowed: " + d
                    );
                  A.Bq[d] = !0;
                }
                "Milestone" === o.type && (o.end = o.start),
                  i && this.pg(r),
                  "*" === o.resource
                    ? (t = A.rowlist)
                    : a
                    ? (t = A.Cq(o.resource).concat(A.Cq("*")))
                    : "Days" === A.viewType
                    ? (t = A.rowlist)
                    : "Gantt" === A.viewType && (t = A.Cq(o.id));
                for (var c = 0; t && c < t.length; c++) {
                  var u = t[c],
                    h = this.so(o, u);
                  h && i && (h.cache = this.ra.events[r]);
                }
              }
            }
            A.Vl().forEach(function (e) {
              A.yo(e);
            }),
              A.rm();
          }),
          (this.Dq = {});
        var O = this.Dq;
        (O.Eq = {}),
          (O.Oi = function (e) {
            O.Eq = {};
            for (var t = A.Vl(), n = 0; n < t.length; n++) {
              var i = t[n];
              if ((e && i.zq(), A.Wl(i.index, i.grid), i.id)) {
                var a = typeof i.id + "_" + i.id;
                O.Eq[a] || (O.Eq[a] = x()), O.Eq[a].push(i);
              }
            }
          }),
          (O.loadEvent = function (e) {}),
          (this.Cq = function (e) {
            var t = typeof e + "_" + e;
            return x(O.Eq[t]);
          }),
          (this.ro = function () {
            var e = {};
            if ("Resources" !== A.viewType) return !1;
            for (var t = 0; t < A.rowlist.length; t++) {
              var n = A.rowlist[t],
                i = n.id;
              if (e[i]) return !0;
              e[i] = !0;
            }
            return !1;
          }),
          (this.pg = function (e) {
            var t = this.ra.events,
              n = this.events.list[e],
              i = {};
            n instanceof DayPilot.Event && (n = n.data);
            for (var a in n) i[a] = n[a];
            if (
              ("string" == typeof i.start &&
                (i.start = new DayPilot.Date(i.start)),
              "string" == typeof i.end && (i.end = new DayPilot.Date(i.end)),
              "function" == typeof this.onBeforeEventRender)
            ) {
              var r = {};
              (r.e = i), (r.data = i), this.onBeforeEventRender(r);
            }
            t[e] = i;
          }),
          (this.Fq = function (e) {
            var t = e.data.container,
              n = typeof t;
            return "string" !== n && "number" !== n ? null : typeof t + "_" + t;
          }),
          (this.yo = function (e) {
            if (((e.lines = []), (e.sections = null), !e.isNewRow)) {
              this.sortDirections
                ? e.events.sort(this.Lg)
                : A.zk || e.events.sort(this.Kg),
                (e.containerCache = {}),
                (e.containers = []),
                e.events.forEach(function (t) {
                  var n = A.Fq(t);
                  if (n) {
                    var i = e.containerCache[n];
                    i ||
                      ((i = {
                        events: [],
                        line: null,
                        start: null,
                        end: null,
                        left: null,
                        width: null,
                      }),
                      (e.containerCache[n] = i),
                      e.containers.push(i)),
                      (t.part.container = i),
                      i.events.push(t);
                  }
                }),
                e.containers.forEach(function (e) {
                  var t = e.events[0],
                    n = e.events[e.events.length - 1];
                  (e.start = t.part.start),
                    (e.end = n.part.end),
                    (e.left = t.part.left),
                    (e.width = n.part.right - t.part.left),
                    (e.right = n.part.right);
                });
              if (A.zk) return void q.yo(e);
              var t = A.groupConcurrentEvents;
              if (t)
                for (var n = 0; n < e.blocks.length; n++) e.blocks[n].clear();
              x(e.events).forEach(function (t) {
                if (!t.part.height)
                  return e.eventHeight
                    ? void (t.part.height = e.eventHeight)
                    : void (t.part.height = Z.Qn());
              });
              var i = function (e) {
                return "number" == typeof e.data.line;
              };
              e.events.filter(i).forEach(function (t) {
                e.Vd(t);
              });
              for (var a = 0; a < e.events.length; a++) {
                var r = e.events[a];
                e.Vd(r), t && e.Td(r);
              }
              for (var o = 0, n = 0; n < e.lines.length; n++) {
                var s = e.lines[n];
                (s.top = o),
                  (o +=
                    ((s.height || e.eventHeight) * e.eventStackingLineHeight) /
                    100);
              }
              if (t)
                for (var a = 0; a < e.blocks.length; a++) {
                  var l = e.blocks[a];
                  (l.lines = []), l.events.sort(this.Lg);
                  for (var d = 0; d < l.events.length; d++) {
                    var r = l.events[d];
                    l.Vd(r);
                  }
                  l.lines.length <= A.groupConcurrentEventsLimit &&
                    (l.expanded = !0);
                  var c = x(l.events)
                    .map(function (e) {
                      return e.id();
                    })
                    .some(function (e) {
                      return k(A.Gq, e);
                    });
                  c && (l.expanded = !0);
                  for (var o = 0, n = 0; n < l.lines.length; n++) {
                    var s = l.lines[n];
                    (s.top = o),
                      (o +=
                        ((s.height || e.eventHeight) *
                          e.eventStackingLineHeight) /
                        100);
                  }
                }
            }
          }),
          (this.qm = function (e) {
            (e = DayPilot.ua(e)),
              (e = A.Qm(e)),
              e.forEach(function (e) {
                A.yo(e);
              }),
              A.zk
                ? q.Hq()
                : e.forEach(function (e) {
                    A.pp(e);
                  });
          }),
          (this.Ko = function () {
            var e = "Manual" === A.scale ? A.itline[0].start : A.startDate;
            return x(A.rowlist).some(function (t) {
              return (
                !!t.start &&
                t.start.getTime() !== new DayPilot.Date(e).getTime()
              );
            });
          }),
          (this.so = function (e, t) {
            if (!t.hideEvents) {
              var n = DayPilot.Util.isNullOrUndefined,
                i = new DayPilot.Date(e.start),
                a = new DayPilot.Date(e.end);
              a = A.Ti(a);
              var r = i.ticks,
                o = a.ticks;
              if (o < r) return null;
              var s = null;
              if ("function" == typeof A.onBeforeEventRender) {
                var l = D(A.events.list, e);
                s = A.ra.events[l];
              }
              if (s) {
                if (s.hidden) return null;
              } else if (e.hidden) return null;
              var d = !1;
              switch (this.viewType) {
                case "Days":
                  var c =
                      !(o <= t.data.startTicks || r >= t.data.endTicks) ||
                      (r === o && r === t.data.startTicks),
                    u = (n(t.id) && n(e.resource)) || t.id === e.resource;
                  d = c && u;
                  break;
                case "Resources":
                  d =
                    (t.id === e.resource ||
                      "*" === t.id ||
                      "*" === e.resource) &&
                    (!(o <= t.data.startTicks || r >= t.data.endTicks) ||
                      (r === o && r === t.data.startTicks));
                  break;
                case "Gantt":
                  d =
                    t.id === e.id &&
                    !(o <= t.data.startTicks || r >= t.data.endTicks);
              }
              if (!d) return null;
              var h = new DayPilot.Event(e, A);
              (h.part.dayIndex = t.data.i),
                (h.part.grid = t.data.grid),
                (h.part.start = t.data.startTicks < r ? i : t.data.start),
                (h.part.end = t.data.endTicks > o ? a : t.data.end);
              var f = this.getPixels(h.part.start.addTime(-t.data.offset)),
                v = this.getPixels(h.part.end.addTime(-t.data.offset));
              h.part.start === h.part.end &&
                (v = this.getPixels(
                  h.part.end.addTime(-t.data.offset).addMilliseconds(1)
                )),
                s && s.height
                  ? (h.part.height = s.height)
                  : e.height && (h.part.height = e.height);
              s || h.data;
              h.part.Iq = function () {
                var e = this.height;
                if (A.eventVersionsEnabled && !x(h.versions).isEmpty()) {
                  var t = h.versions.length;
                  (e += t * A.eventVersionHeight),
                    (e += t * A.eventVersionMargin);
                }
                return e + A.eventMarginBottom;
              };
              var m = f.left,
                g = v.left;
              if (((h.part.startPixels = f), (h.part.endPixels = v), m === g)) {
                if (f.cut || v.cut) return null;
                var y =
                  (h.part.start.addTime(-t.data.offset).getTime() +
                    h.part.end.addTime(-t.data.offset).getTime()) /
                  2;
                if (A.getPixels(new DayPilot.Date(Math.floor(y))).cut)
                  return null;
              }
              h.part.box = Z.Jg(o - r);
              var b = A.eventHeight;
              if ("Milestone" === e.type) {
                var w = e.width || b;
                (h.part.end = h.part.start),
                  (h.part.left = m - w / 2),
                  (h.part.width = w),
                  (h.part.barLeft = 0),
                  (h.part.barWidth = w);
              } else if (h.part.box) {
                var k = f.boxLeft,
                  C = v.boxRight;
                (h.part.left = k),
                  (h.part.width = C - k),
                  (h.part.barLeft = p(m - h.part.left, 0)),
                  (h.part.barWidth = p(g - m, 1));
              } else
                (h.part.left = m),
                  (h.part.width = p(g - m, 1)),
                  (h.part.barLeft = 0),
                  (h.part.barWidth = p(g - m - 1, 1));
              var S = A.eventMinWidth;
              if (
                ((h.part.width = Math.max(h.part.width, S)),
                (h.part.right = h.part.left + h.part.width),
                (h.cache = s),
                A.eventVersionsEnabled && A.Jq(h, t),
                "function" == typeof A.onEventFilter && A.events.Ig)
              ) {
                var _ = {};
                if (
                  ((_.filter = A.events.Ig),
                  (_.filterParam = A.events.Ig),
                  (_.visible = !0),
                  (_.e = h),
                  A.onEventFilter(_),
                  !_.visible)
                )
                  return null;
              }
              return t.events.push(h), h;
            }
          }),
          (this.Jq = function (e, t) {
            e.versions = [];
            var n = e.cache || e.data,
              i = x(n.versions);
            if (!i.isEmpty()) {
              var a = e.part.left,
                r = e.part.left + e.part.width;
              i.forEach(function (n) {
                var i = new DayPilot.Date(n.start),
                  o = new DayPilot.Date(n.end),
                  s = A.getPixels(i.addTime(-t.data.offset)),
                  l = A.getPixels(o.addTime(-t.data.offset));
                i.ticks === o.ticks &&
                  (l = A.getPixels(o.addTime(-t.data.offset).addTime(1)));
                var d = s.left,
                  c = l.left;
                if (d === c && (s.cut || l.cut)) return null;
                var u = {};
                (u.left = d),
                  (u.continueLeft = i < t.data.start),
                  (u.right = c),
                  (u.continueRight = o > t.data.end),
                  (u.width = c - d),
                  e.versions.push(u),
                  u.left < a && (a = u.left),
                  u.right > r && (r = u.right);
              }),
                A.eventVersionsReserveSpace
                  ? ((e.part.versionsLeft = a),
                    (e.part.versionsRight = r),
                    (e.part.versionsWidth = r - a))
                  : ((e.part.versionsLeft = e.part.left),
                    (e.part.versionsRight = e.part.left + e.part.width),
                    (e.part.versionsWidth = e.part.width));
            }
          }),
          (this.Kg = function (e, t) {
            if (!(e && t && e.start && t.start)) return 0;
            var n = e.start().ticks - t.start().ticks;
            return 0 !== n ? n : t.end().ticks - e.end().ticks;
          }),
          (this.Lg = function (e, t) {
            if (!e || !t) return 0;
            var n = e.cache || e.data,
              i = t.cache || t.data;
            if (!(n.sort && n.sort.length > 0 && i.sort && i.sort.length > 0))
              return A.Kg(e, t);
            for (
              var a = 0, r = 0;
              0 === a &&
              "undefined" != typeof n.sort[r] &&
              "undefined" != typeof i.sort[r];

            )
              (a =
                n.sort[r] === i.sort[r]
                  ? 0
                  : "number" == typeof n.sort[r] && "number" == typeof i.sort[r]
                  ? n.sort[r] - i.sort[r]
                  : A.Mg(n.sort[r], i.sort[r], A.sortDirections[r])),
                r++;
            return a;
          }),
          (this.Mg = function (e, t, n) {
            var i = "desc" !== n,
              a = i ? -1 : 1,
              r = -a;
            if (null === e && null === t) return 0;
            if (null === t) return r;
            if (null === e) return a;
            var o = [];
            return (o[0] = e), (o[1] = t), o.sort(), e === o[0] ? a : r;
          }),
          (this.ln = function (e, t, n, i) {
            if (A.Kb()) {
              var a = D(A.rowlist, e),
                r = A.en(e, a),
                o = D(U.si, e) !== -1,
                s = o ? "deselected" : "selected",
                l = {};
              if (
                ((l.row = r),
                (l.selected = o),
                (l.ctrl = t),
                (l.shift = n),
                (l.meta = i),
                (l.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof A.onRowSelect &&
                  (A.onRowSelect(l), l.preventDefault.value))
              )
                return;
              var d = n && !t && !i;
              if ((n || (U.Kq = { row: e, index: a }), d)) {
                U.Lq();
                var c = U.Kq.index,
                  u = a;
                U.Mq(c, u);
              }
              switch (A.rowSelectHandling) {
                case "PostBack":
                  A.rowSelectPostBack(r, s);
                  break;
                case "CallBack":
                  A.rowSelectCallBack(r, s);
                  break;
                case "Notify":
                  !d && U.L(e, t, n, i), A.rowSelectNotify(r, s);
                  break;
                case "Update":
                  !d && U.L(e, t, n, i);
              }
              "function" == typeof A.onRowSelected &&
                ((l.selected = D(U.si, e) !== -1), A.onRowSelected(l));
            } else {
              U.L(e, t, n);
              var a = D(A.rowlist, e),
                r = A.en(e, a),
                o = D(U.si, e) !== -1,
                s = o ? "deselected" : "selected";
              switch (A.rowSelectHandling) {
                case "PostBack":
                  A.rowSelectPostBack(r, s);
                  break;
                case "CallBack":
                  A.rowSelectCallBack(r, s);
                  break;
                case "Notify":
                  A.rowSelectNotify(r, s);
                  break;
                case "JavaScript":
                  A.onRowSelect(r, s);
              }
            }
          }),
          (this.rowSelectPostBack = function (e, t, n) {
            var i = {};
            (i.resource = e), (i.change = t), this.Na("RowSelect", i, n);
          }),
          (this.rowSelectCallBack = function (e, t, n) {
            var i = {};
            (i.resource = e), (i.change = t), this.Pa("RowSelect", i, n);
          }),
          (this.rowSelectNotify = function (e, t, n) {
            var i = {};
            (i.resource = e),
              (i.change = t),
              this.Pa("RowSelect", i, n, "Notify");
          }),
          (this.rows = {}),
          (this.rows.selection = {});
        var j = this.rows.selection;
        (j.ra = []),
          (j.get = function () {
            var e = [];
            return (
              x(U.si).forEach(function (t) {
                e.push(A.en(t));
              }),
              e
            );
          }),
          (j.clear = function () {
            U.Nq();
          }),
          (j.add = function (e) {
            if (!e || !e.isRow)
              throw new DayPilot.Exception(
                "DayPilot.Scheduler.rows.selection.add(): DayPilot.Row object expected"
              );
            x(U.si).some(function (t) {
              return t === e.$.row;
            }) || (U.si.push(e.$.row), j.Oq(), U.ek(e.$.row));
          }),
          (j.remove = function (e) {
            if (!e || !e.isRow)
              throw new DayPilot.Exception(
                "DayPilot.Scheduler.rows.selection.remove(): DayPilot.Row object expected"
              );
            j.isSelected(e) &&
              (DayPilot.rfa(U.si, e.$.row), j.Oq(), U.ek(e.$.row));
          }),
          (j.isSelected = function (e) {
            if (!e || !e.isRow)
              throw new DayPilot.Exception(
                "DayPilot.Scheduler.rows.selection.isSelected(): DayPilot.Row object expected"
              );
            return D(U.si, e.$.row) !== -1;
          }),
          (j.Oq = function () {
            (A.selectedRows = x(U.si).map(function (e) {
              return e.id;
            })),
              (j.ra = []),
              U.si.forEach(function (e) {
                j.ra[e.index] = !0;
              });
          }),
          (this.rows.all = function () {
            for (var e = x(), t = 0; t < A.rowlist.length; t++) {
              var n = A.en(A.rowlist[t]);
              e.push(n);
            }
            return e;
          }),
          (this.rows.visible = function () {
            for (var e = x(), t = 0; t < A.rowlist.length; t++) {
              var n = A.rowlist[t];
              if (!n.hidden) {
                var n = A.en(A.rowlist[t]);
                e.push(n);
              }
            }
            return e;
          }),
          (this.rows.each = function (e) {
            A.rows.all().forEach(e);
          }),
          (this.rows.forEach = function (e) {
            A.rows.all().forEach(e);
          }),
          (this.rows.filter = function (e, t) {
            (A.rows.Ig = e), t || (A.va && A.Cd({ immediateEvents: !0 }));
          }),
          Object.defineProperty(A.rows, "filterParam", {
            get: function () {
              return A.rows.Ig;
            },
          }),
          (this.rows.sort = function (e) {
            var t = A.rows.sortParam;
            if ("string" == typeof e) A.rows.Pq = { field: e, order: "asc" };
            else if ("object" == typeof e) {
              var n = g(e);
              n.order || (n.order = "asc"), (A.rows.Pq = n);
            } else A.rows.Pq = null;
            if (
              (A.va && A.Cd({ immediateEvents: !0 }),
              "function" == typeof A.onRowSorted)
            ) {
              var i = {};
              (i.oldSortParam = t), A.onRowSorted(i);
            }
          }),
          Object.defineProperty(A.rows, "sortParam", {
            get: function () {
              return { order: A.rows.Qq(), field: A.rows.Rq() };
            },
          }),
          (this.rows.Rq = function () {
            var e = A.rows.Pq;
            return e ? e.field : null;
          }),
          (this.rows.Qq = function () {
            var e = A.rows.Pq;
            return e ? e.order : "asc";
          }),
          (this.rows.find = function (e, t) {
            if ("string" == typeof e || "number" == typeof e || (!e && t)) {
              var n = A.Cq(e);
              e || (n = A.rowlist);
              var i = null;
              return (
                "string" == typeof t || t instanceof DayPilot.Date
                  ? ((t = new DayPilot.Date(t)),
                    (i = n.find(function (e) {
                      return t === e.start;
                    })))
                  : (i = n.first()),
                i ? new DayPilot.Row(i, A) : null
              );
            }
            if ("function" != typeof e)
              throw new DayPilot.Exception(
                "Invalid rows.find() argument: id or function expected"
              );
            var a = t || 0,
              r = A.rowlist.find(function (t, n) {
                return !(n < a) && e(A.en(t));
              });
            if (r) return A.en(r);
          }),
          (this.rows.load = function (e, t, n) {
            if (!e)
              throw new DayPilot.Exception(
                "rows.load(): 'url' parameter required"
              );
            var i = function (e) {
                var t = {};
                (t.exception = e.exception),
                  (t.request = e.request),
                  "function" == typeof n && n(t);
              },
              a = function (e) {
                var n,
                  a = e.request;
                try {
                  n = JSON.parse(a.responseText);
                } catch (e) {
                  var r = {};
                  return (r.exception = e), void i(r);
                }
                if (DayPilot.isArray(n)) {
                  var o = {};
                  if (
                    ((o.preventDefault = function () {
                      this.preventDefault.value = !0;
                    }),
                    (o.data = n),
                    "function" == typeof t && t(o),
                    o.preventDefault.value)
                  )
                    return;
                  (A.resources = o.data), A.va && A.update();
                }
              };
            A.rowsLoadMethod && "POST" === A.rowsLoadMethod.toUpperCase()
              ? DayPilot.ajax({ method: "POST", url: e, success: a, error: i })
              : DayPilot.ajax({ method: "GET", url: e, success: a, error: i });
          }),
          (this.rows.expand = function (e) {
            for (var t = [], n = e || 1, i = 0; i < A.rowlist.length; i++) {
              var a = A.rowlist[i],
                r = n === -1;
              a.level < n && (r = !0),
                r &&
                  !a.expanded &&
                  a.children &&
                  a.children.length > 0 &&
                  t.push(a.index);
            }
            if (0 !== t.length)
              if (1 === t.length) A.ap(t[0]);
              else {
                for (var i = 0; i < t.length; i++) {
                  var o = t[i],
                    s = A.rowlist[o].resource;
                  s.expanded = !0;
                }
                A.Cd();
              }
          }),
          (this.rows.expandAll = function () {
            A.rows.expand(-1);
          }),
          (this.rows.collapseAll = function () {
            A.rowlist.forEach(function (e) {
              e.resource.expanded = !1;
            }),
              A.Cd();
          }),
          (this.rows.headerHide = function () {
            (A.Sq = !0), A.Tq(), A._p(), A.Ml();
          }),
          (this.rows.headerShow = function () {
            (A.Sq = !1), A.Tq(), A._p(), A.Ml();
          }),
          (this.rows.headerToggle = function () {
            A.Sq ? A.rows.headerShow() : A.rows.headerHide();
          }),
          (this.rows.edit = function (e, t) {
            var n = A.rowHeaderColumns,
              i = n && n.length - 1;
            if ("undefined" != typeof t && (t < 0 || t > i))
              throw new DayPilot.Exception("Invalid column index: " + t);
            U.mn(e.$.row, t);
          }),
          (this.rows.remove = function (e) {
            if ("number" == typeof e || "string" == typeof e) {
              var t = A.rows.find(e);
              if (!t)
                throw new DayPilot.Exception(
                  "The row to be removed was not found"
                );
              return void A.rows.remove(t);
            }
            var n = e.$.row.resource,
              i = F.Uq(n);
            if (!i)
              throw new DayPilot.Exception("Cannot find source node parent");
            var a = D(i, n);
            i.splice(a, 1), A.update();
          }),
          (this.rows.add = function (e) {
            A.resources.push(e), A.Cd();
          }),
          (this.rows.addChild = function (e, t) {
            if (
              (("number" != typeof e && "string" != typeof e) ||
                (e = A.rows.find(e)),
              e)
            ) {
              if (!(e instanceof DayPilot.Row)) {
                var t = e;
                if (((e = A.rows.find(t.id)), !e)) return;
              }
              e.data.children || (e.data.children = []),
                e.data.children.push(t),
                A.Cd();
            }
          }),
          (this.rows.update = function (e) {
            if (!(e instanceof DayPilot.Row || "object" == typeof e))
              throw new DayPilot.Exception(
                "DayPilot.Scheduler.rows.update() expects a DayPilot.Row object or a data object."
              );
            if (!(e instanceof DayPilot.Row)) {
              var t = e;
              if (((e = A.rows.find(t.id)), !e)) return;
              e.data = t;
            }
            !x(A.events.qo.rows).isEmpty() &&
              ((K.po = !0), A.events.Xm({ dontResetFocus: !0 }));
            var n = A.rows.selection.isSelected(e),
              i = e,
              a = e.index,
              r = A.Mn(e.grid).rowlist,
              o = r[a],
              s = e.data,
              l = e.parent() ? e.parent().$.row : null,
              d = A.Vq(s),
              e = A.Wq(d, l);
            (e.hidden = o.hidden),
              (e.level = o.level),
              (e.children = o.children),
              (e.index = a),
              (e.top = o.top),
              (e.height = o.height),
              (e.grid = o.grid),
              (r[a] = e),
              n && (DayPilot.rfa(U.si, i.$.row), U.si.push(e)),
              e.zq(),
              A.Wl(e.index, e.grid),
              A.Nk(),
              A.Xq(e),
              A.yo(e),
              A.rm(),
              A.Yq(),
              A.sm([e]),
              A.Bb(),
              (A.Zq = !0),
              (A.$q = setTimeout(function () {
                A.Zq = !1;
              }, 500));
          }),
          (this.Xq = function (e) {
            for (
              var t = A.events.list,
                n = t.length,
                i = "function" == typeof A.onBeforeEventRender,
                a = 0;
              a < n;
              a++
            ) {
              var r = t[a];
              if (r) {
                if (r instanceof DayPilot.Event)
                  throw new DayPilot.Exception(
                    "DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead."
                  );
                if ("Days" === A.viewType)
                  throw new DayPilot.Exception(
                    ".rows.update() not supported for viewType = 'Days'."
                  );
                if ("Gantt" === A.viewType)
                  throw new DayPilot.Exception(
                    ".rows.update() not supported for viewType = 'Gantt'."
                  );
                if ("*" === r.resource || "*" === e.id || r.resource === e.id) {
                  i && this.pg(a);
                  var o = this.so(r, e);
                  o && i && (o.cache = this.ra.events[a]);
                }
              }
            }
          }),
          (this._q = function () {
            var e = S.source,
              t = S.target,
              n = S.position,
              i = S.sourceCalendar;
            if ((U.ar(), A.Kb())) {
              var a = {};
              if (
                ((a.source = A.en(e)),
                (a.source.calendar = i),
                (a.target = A.en(t)),
                (a.position = n),
                (a.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof A.onRowMove &&
                  (A.onRowMove(a), a.preventDefault.value))
              )
                return;
              switch (A.rowMoveHandling) {
                case "Update":
                  U.br(a);
                  break;
                case "CallBack":
                  A.rowMoveCallBack(a.source, a.target, a.position);
                  break;
                case "PostBack":
                  A.rowMovePostBack(a.source, a.target, a.position);
                  break;
                case "Notify":
                  U.br(a), A.rowMoveNotify(a.source, a.target, a.position);
              }
              "function" == typeof A.onRowMoved && A.onRowMoved(a);
            } else {
              var e = A.en(e),
                t = A.en(t),
                n = n;
              switch (A.rowMoveHandling) {
                case "CallBack":
                  A.rowMoveCallBack(e, t, n);
                  break;
                case "PostBack":
                  A.rowMovePostBack(e, t, n);
                  break;
                case "JavaScript":
                  A.onRowMove(e, t, n);
              }
            }
          }),
          (this.al = function (e) {
            var t = x(e);
            (U.si = []),
              t.isEmpty() || ((A.xk = !1), A.sb()),
              t.forEach(function (e) {
                var t = A.nl(e);
                t && U.si.push(t);
              }),
              U.cr();
          }),
          (this.nn = {});
        var U = this.nn;
        (U.mn = function (e, t) {
          U.dr(e, t);
        }),
          (U.er = function () {
            U.Kq = { row: A.rowlist[0], index: 0 };
          }),
          (U.fr = function (e) {
            var t = D(A.rowlist, e);
            if (t === -1)
              throw new DayPilot.Exception(
                "DayPilot.Scheduler: Row not found when selecting a range"
              );
            U.Kq = { row: e, index: t };
          }),
          (U.Lq = function () {
            U.Kq || U.er();
            var e = D(A.rowlist, U.Kq.row);
            if (!(e > -1)) {
              var t = A.nl(U.Kq.row.id);
              t
                ? ((e = D(A.rowlist, t)), (U.Kq = { row: t, index: e }))
                : U.er();
            }
          }),
          (U.gr = function (e) {
            var t = A.Wp(),
              n = A.ca("_rowmove_source"),
              i = e.top,
              a = e.height;
            e.split.list.length > 0 &&
              ((i = e.split.list[0].top), (a = e.split.totalHeight()));
            var r = v(A.divHeader, 0, i, t, a);
            (r.className = n), (e.moveOverlay = r);
          }),
          (U.hr = function (e) {
            e && (C(e.moveOverlay), (e.moveOverlay = null));
          }),
          (U.ir = function () {
            var e = U.jr;
            if (e) {
              U.jr = null;
              try {
                e.input.parentNode.removeChild(e.input);
              } catch (e) {
                s();
              }
              e.input = null;
            }
          }),
          (U.dr = function (e, t) {
            (t = t || 0), e.isNewRow && (t = 0);
            var n = U.kr(e),
              i = n.cells[t];
            if (i.input) return i.input;
            U.ir(), DayPilot.Areas.disable(i.firstChild);
            var a = i.clientWidth;
            e.isNewRow && (a = A.El());
            var r = 0;
            0 === t && (r = e.level * A.treeIndent);
            var o = document.createElement("input");
            (o.style.position = "absolute"),
              (o.style.top = "0px"),
              (o.style.left = "0px"),
              (o.style.width = a + "px"),
              (o.style.height = e.height - 1 + "px"),
              (o.style.border = "0px none"),
              (o.style.overflow = "hidden"),
              (o.style.boxSizing = "border-box"),
              (o.style.resize = "none"),
              (o.style.paddingLeft = r + "px"),
              (o.style.outline = "none");
            var s = i.textDiv;
            (o.style.fontFamily =
              DayPilot.gs(s, "fontFamily") || DayPilot.gs(s, "font-family")),
              (o.style.fontSize =
                DayPilot.gs(s, "fontSize") || DayPilot.gs(s, "font-size"));
            var l = e.name;
            if (!e.isNewRow && A.rowHeaderColumns) {
              var d = A.rowHeaderColumns[t] || {},
                c = d.display;
              (l = A.iq(e.resource, c)), 0 !== t || c || (l = e.name);
            }
            (o.value = l || ""), i.firstChild.appendChild(o), (i.input = o);
            var u = U.ir;
            return (
              o.focus(),
              (o.onblur = function () {
                o.onblur = null;
                var n = o.value;
                u(),
                  DayPilot.Areas.enable(i.firstChild),
                  A.in(e, n, o.canceled, t);
              }),
              (o.onkeydown = function (e) {
                var t = e.keyCode;
                return (
                  27 === t && ((o.canceled = !0), u()),
                  13 !== t || (o.onblur(), !1)
                );
              }),
              o.setSelectionRange ? o.setSelectionRange(0, 9999) : o.select(),
              (U.jr = i),
              o
            );
          }),
          (U.si = []),
          (U.L = function (e, t, n, i) {
            var a = D(U.si, e) !== -1;
            if (t || i) {
              if (a) return DayPilot.rfa(U.si, e), j.Oq(), void U.ek(e);
            } else (a = !1), U.Nq();
            a || U.si.push(e), j.Oq(), U.ek(e);
          }),
          (U.Mq = function (e, t) {
            U.Nq();
            for (
              var n = Math.min(e, t), i = Math.max(e, t), a = n;
              a <= i;
              a++
            ) {
              var r = A.rowlist[a];
              U.si.push(r);
            }
            j.Oq();
            for (var a = n; a <= i; a++) {
              var r = A.rowlist[a];
              U.ek(r);
            }
          }),
          (U.cr = function () {
            for (var e = 0; e < U.si.length; e++) {
              var t = U.si[e];
              U.ek(t);
            }
          }),
          (U.ek = function (e) {
            var t = D(A.rowlist, e);
            if (t === -1) {
              var n = A.nl(e.id);
              if (!n) return;
              t = n.index;
            }
            A.Vm(t), A.Xk(), A.Nn(t), A.cq(t);
          }),
          (U.un = function () {
            var e = [];
            if (!U.si) return e;
            for (var t = 0; t < U.si.length; t++) {
              var n = U.si[t],
                i = D(A.rowlist, n),
                a = A.en(n, i);
              e.push(a.toJSON());
            }
            return e;
          }),
          (U.Kq = null),
          (U.Nq = function () {
            var e = U.si;
            if (
              ((U.si = []), (A.selectedRows = []), (j.ra = []), e.length <= 5)
            )
              e.forEach(function (e) {
                U.ek(e);
              });
            else {
              A.Uk(), A.Xk();
              for (var t = 0; t < A.rowlist.length; t++)
                A.divHeader.rows[t] && A.Pm(t);
            }
          }),
          (U.kr = function (e) {
            for (var t = A.divHeader, n = 0; n < t.rows.length; n++) {
              var i = t.rows[n];
              if (
                i &&
                i.cells[0] &&
                i.cells[0].row &&
                i.cells[0].row.resource === e.resource
              )
                return i;
            }
            return null;
          }),
          (U.ae = function (e) {
            var t = w.rowmoving,
              n = e.split.parent ? e.split.parent : e;
            (t.row = n),
              (t.sourceCalendar = A),
              (t.cursor = A.divResScroll.style.cursor),
              (A.divResScroll.style.cursor = "move"),
              U.gr(n);
          }),
          (U.ar = function () {
            (A.divResScroll.style.cursor = S.cursor),
              C(S.div),
              U.hr(S.row),
              (w.rowmoving = S = {});
          }),
          (U.lr = function (e) {
            var t = DayPilot.mo3(A.divHeader, e),
              n = A.Bn(t.y, "main", !0),
              i = A.rowlist[n.i];
            if (i && !i.isNewRow) {
              i.split.parent && (i = i.split.parent);
              var a = A.rowMoveSameLevelOnly,
                r = t.y - n.top,
                o = n.bottom - n.top,
                s = o / 3,
                l = 2 * s,
                d = o / 2,
                u = "before",
                h = i.children && i.children.length > 0,
                f = h && i.expanded,
                v = (function () {
                  for (var e = n.i, t = i.level; e >= 0; ) {
                    var a = A.rowlist[e];
                    if ((e--, !(t <= a.level))) {
                      if (a === S.row) return !0;
                      if (0 === a.level) return !1;
                      t = a.level;
                    }
                  }
                  return !1;
                })(),
                p = i,
                m = A.treeEnabled;
              if (v || (n.i === S.row.index && !a)) u = "forbidden";
              else if (m)
                if (a) {
                  var g = S.row.level,
                    y = i.level;
                  if (y === g - 1) u = "child";
                  else if (g !== y)
                    if (g === y - 1) {
                      var b = i.mr,
                        w = b.children.length - 1;
                      i.index === b.children[w]
                        ? ((p = b), (u = "after"))
                        : (u = "forbidden");
                    } else u = "forbidden";
                  else u = r < d ? "before" : h && f ? "before" : "after";
                } else
                  u =
                    h && f
                      ? r < d
                        ? "before"
                        : "child"
                      : r < s
                      ? "before"
                      : r < l
                      ? "child"
                      : "after";
              else u = h ? "before" : r < d ? "before" : "after";
              S.row.moveDisabled && (u = "forbidden"),
                (S.calendar = A),
                (S.source = S.row),
                (S.target = p),
                (S.position = u);
              if (
                (function () {
                  return (
                    !S.last ||
                    S.last.target !== S.target ||
                    S.last.position !== S.position
                  );
                })()
              ) {
                if ("function" == typeof A.onRowMoving) {
                  var x = {};
                  (x.source = A.en(S.source)),
                    (x.target = A.en(S.target)),
                    (x.position = u),
                    A.onRowMoving(x),
                    (S.position = x.position);
                }
              } else S.last && (S.position = S.last.position);
              (S.last = {}),
                (S.last.target = S.target),
                (S.last.position = S.position),
                (function () {
                  S.div && C(S.div);
                  var e = n.top,
                    t = S.position,
                    i = A.rowlist[n.i],
                    a = i.level,
                    r = a * A.treeIndent;
                  switch (t) {
                    case "before":
                      e = n.top;
                      break;
                    case "child":
                      e = n.top + d;
                      break;
                    case "after":
                      e = n.bottom;
                      break;
                    case "forbidden":
                      e = n.top + d;
                  }
                  var o = A.Wp() - r,
                    s = c();
                  (s.style.position = "absolute"),
                    (s.style.left = r + "px"),
                    (s.style.width = o + "px"),
                    (s.style.top = e + "px"),
                    (s.className = A.ca("_rowmove_position_" + t)),
                    (S.div = s),
                    A.divResScroll.appendChild(s);
                })();
            }
          }),
          (U.br = function (e) {
            var t = e.source.$.row.resource,
              n = e.target.$.row.resource,
              i = e.position;
            if (t !== n && "forbidden" !== i) {
              var a = e.source.calendar.nr.Uq(t);
              if (!a)
                throw new DayPilot.Exception("Cannot find source node parent");
              var r = D(a, t);
              a.splice(r, 1);
              var o = F.Uq(n);
              if (!o)
                throw new DayPilot.Exception("Cannot find target node parent");
              var s = D(o, n);
              switch (i) {
                case "before":
                  o.splice(s, 0, t);
                  break;
                case "after":
                  o.splice(s + 1, 0, t);
                  break;
                case "child":
                  n.children || ((n.children = []), (n.expanded = !0)),
                    n.children.push(t);
              }
              A.update();
            }
          });
        var W = {};
        (this.or = W), (W.Oh = function (e) {});
        var F = {};
        (this.nr = F),
          (F.Uq = function (e) {
            return F.pr(A.resources, e);
          }),
          (F.pr = function (e, t) {
            if (D(e, t) !== -1) return e;
            for (var n = 0; n < e.length; n++) {
              var i = e[n];
              if (i.children && i.children.length > 0) {
                var a = F.pr(i.children, t);
                if (a) return a;
              }
            }
            return null;
          }),
          (this.Mk = function () {
            var e = this.resources,
              t = this.ia();
            t ||
              ("Gantt" === this.viewType
                ? (e = this.qr())
                : "Days" === this.viewType && (e = this.rr())),
              !t ||
                "Days" !== this.viewType ||
                (e && 0 !== e.length) ||
                (e = this.rr());
            var n = {};
            if (((n.i = 0), null != e && !DayPilot.isArray(e)))
              throw new DayPilot.Exception(
                "DayPilot.Scheduler.resources expects an array object"
              );
            (e = e || []), (A.sr = !1);
            var i = e.filter(function (e) {
              var t =
                "string" == typeof e.frozen ? e.frozen.toLowerCase() : null;
              return "top" !== t && "bottom" !== t;
            });
            (A.rowlist = x()),
              this.ur(i, n, 0, null, this.treeEnabled, !1, "main");
            var a = e.filter(function (e) {
              return (
                "string" == typeof e.frozen && "top" === e.frozen.toLowerCase()
              );
            });
            (A.jl.top.rowlist = x()),
              (A.jl.top.height = 0),
              this.ur(a, { i: 0 }, 0, null, !1, !1, "top");
            var r = e.filter(function (e) {
              return (
                "string" == typeof e.frozen &&
                "bottom" === e.frozen.toLowerCase()
              );
            });
            (A.jl.bottom.rowlist = x()),
              (A.jl.bottom.height = 0),
              this.ur(r, { i: 0 }, 0, null, !1, !1, "bottom"),
              "Disabled" !== A.rowCreateHandling && this.vr();
          }),
          (this.vr = function () {
            var e = {};
            (e.id = "NEW"),
              (e.isNewRow = !0),
              (e.html = ""),
              (e.index = A.rowlist.length),
              (e.loaded = !0),
              (e.start = this.startDate),
              (e.children = []),
              (e.height = A.eventHeight),
              (e.marginBottom = 0),
              (e.marginTop = 0),
              (e.getHeight = function () {
                return A.rowCreateHeight
                  ? A.rowCreateHeight
                  : A.eventHeight + A.rowMarginBottom + A.rowMarginTop;
              }),
              (e.Vd = function () {}),
              (e.zq = function () {}),
              this.rowlist.push(e);
          }),
          (this.Nk = function (e) {
            function t(e, t) {
              if (((e.cells = []), !e.hidden || n)) {
                var i = e.split && e.split.parent;
                (A.rowHeaderColumns || [{}]).forEach(function (n, a) {
                  var r = {};
                  (r.row = n.split ? e : i || e),
                    (r.y = t),
                    (r.x = a),
                    (r.rowspan = 1);
                  var o = !n.split && i,
                    s = i && e.split.jq(),
                    l =
                      (n.split && !i,
                      i &&
                        i.split.list.filter(function (e) {
                          return !e.hidden;
                        }).length),
                    d = 0;
                  if (i) {
                    var c = i.split.list.find(function (e) {
                        return e.split.jq();
                      }),
                      u = i.split.list.indexOf(c);
                    u > 0 && (d = u);
                  }
                  o &&
                    (s
                      ? ((r.rowspan = l),
                        (r.totalHeight = function () {
                          return i.split.totalHeight();
                        }))
                      : (r.refCell = i.split.list[d].cells[a])),
                    e.cells.push(r);
                });
              }
            }
            e = e || {};
            var n = e.includeHidden;
            A.rowlist.forEach(function (e, n) {
              t(e, n);
            }),
              A.jl.top.rowlist.forEach(function (e, n) {
                t(e, n);
              }),
              A.jl.bottom.rowlist.forEach(function (e, n) {
                t(e, n);
              });
          }),
          (this.qr = function () {
            var e = [];
            if (this.Ek && this.resources)
              for (var t = 0; t < this.resources.length; t++)
                e.push(this.resources[t]);
            if (this.events.list) {
              for (var t = 0; t < this.events.list.length; t++) {
                var n = this.events.list[t],
                  i = {};
                (i.id = n.id),
                  (i.name = n.text),
                  (i.columns = n.columns),
                  e.push(i);
              }
              return e;
            }
          }),
          (this.rr = function () {
            var e = [],
              t = A.Tb(),
              n = this.Ma.Oc(),
              i = A.resources || [],
              a = i.filter(function (e) {
                return (
                  "string" == typeof e.frozen &&
                  "top" === e.frozen.toLowerCase()
                );
              }),
              r = i.filter(function (e) {
                return (
                  "string" == typeof e.frozen &&
                  "bottom" === e.frozen.toLowerCase()
                );
              });
            e = e.concat(a).concat(r);
            for (var o = 0; o < this.days; o++) {
              var s = t.addDays(o);
              if (
                A.showNonBusiness ||
                A.businessWeekends ||
                (0 != s.dayOfWeek() && 6 != s.dayOfWeek())
              ) {
                var l = {};
                (l.name = s.toString(n.datePattern, n)),
                  (l.start = s),
                  e.push(l);
              }
            }
            return e;
          }),
          (this.Tb = function () {
            return this.itline && this.itline.length > 0
              ? this.itline[0].start
              : new DayPilot.Date(this.startDate);
          }),
          (this.Xd = function () {
            if (this.itline && this.itline.length > 0) {
              var e = A.itline[this.itline.length - 1].end;
              return "Days" !== A.viewType ? e : e.addDays(A.days - 1);
            }
            return new DayPilot.Date(A.startDate).addDays(A.days);
          }),
          (this.visibleStart = function () {
            return this.Tb();
          }),
          (this.visibleEnd = function () {
            return this.Xd();
          }),
          (this.Wq = function (e, t) {
            var n = {};
            if (
              ((n.backColor = e.backColor),
              (n.fontColor = e.fontColor),
              (n.cssClass = e.cssClass),
              (n.expanded = e.expanded),
              (n.name = e.name),
              (n.html = A.Ka(e.name, e.html)),
              (n.emptyHeight =
                "undefined" != typeof e.emptyHeight
                  ? e.emptyHeight
                  : A.rowEmptyHeight),
              (n.eventHeight =
                "undefined" != typeof e.eventHeight
                  ? e.eventHeight
                  : A.Ma.Qn()),
              (n.minHeight =
                "undefined" != typeof e.minHeight
                  ? e.minHeight
                  : A.rowMinHeight),
              (n.marginBottom =
                "undefined" != typeof e.marginBottom
                  ? e.marginBottom
                  : A.rowMarginBottom),
              (n.marginTop =
                "undefined" != typeof e.marginTop
                  ? e.marginTop
                  : A.rowMarginTop),
              (n.eventStackingLineHeight =
                "undefined" != typeof e.eventStackingLineHeight
                  ? e.eventStackingLineHeight
                  : A.eventStackingLineHeight),
              (n.loaded = !e.dynamicChildren),
              (n.id = e.id || e.value),
              (n.toolTip = e.toolTip),
              (n.children = []),
              (n.columns = []),
              (n.start = e.start ? new DayPilot.Date(e.start) : this.Tb()),
              (n.isParent = e.isParent),
              (n.contextMenu = e.contextMenu
                ? DayPilot.Util.evalVariable(e.contextMenu)
                : this.contextMenuResource),
              (n.areas = e.areas),
              (n.moveDisabled = e.moveDisabled),
              (n.bubbleHtml = e.bubbleHtml),
              (n.cellsDisabled = e.cellsDisabled),
              (n.tags = e.tags),
              (n.task = e.task),
              (n.swimlane = e.swimlane),
              (n.hideEvents = e.hideEvents),
              (n.height = n.eventHeight),
              (n.level = 0),
              (n.resource = e.wr),
              (n.lines = []),
              (n.blocks = []),
              (n.containers = []),
              (n.containerCache = {}),
              (n.isRow = !0),
              (n.split = {}),
              (n.split.list = []),
              (n.split.totalHeight = function () {
                var e = 0;
                return (
                  this.list.forEach(function (t) {
                    t.hidden || (e += t.height);
                  }),
                  e
                );
              }),
              (n.getHeight = function () {
                var e = 0,
                  t = Math.max(0, (n.resource && n.resource.maxLines) || 1e5);
                if (A.groupConcurrentEvents)
                  for (var i = 0; i < this.blocks.length; i++) {
                    var a = this.blocks[i];
                    e = Math.max(e, a.getHeight());
                  }
                else if (this.lines.length > 0) {
                  var r = Math.min(this.lines.length, t),
                    o = r - 1,
                    s = this.lines[o],
                    l = s.height || this.eventHeight,
                    d = s.top || 0;
                  e = d + l;
                }
                if (0 === e) {
                  if ("number" == typeof this.emptyHeight)
                    return this.emptyHeight;
                  e = this.eventHeight;
                }
                return e > this.minHeight ? e : this.minHeight;
              }),
              (n.Qo = function () {
                var e = n.start.getTime() - A.Tb().getTime();
                return A.itline[A.itline.length - 1].end.addTime(e);
              }),
              (n.zq = function () {
                var e = this;
                (e.events = x()),
                  (e.events.forRange = function (t, n) {
                    (t = new DayPilot.Date(t)),
                      (n = n ? new DayPilot.Date(n) : e.Qo());
                    for (var i = x(), a = 0; a < e.events.length; a++) {
                      var r = e.events[a],
                        o = A.Ti(r.end());
                      u(r.start(), o, t, n) && i.push(r);
                    }
                    return i;
                  });
              }),
              (n.Do = function () {
                function e() {
                  for (var e = [], t = 0; t < n.events.length; t++) {
                    var i = n.events[t];
                    k(e, i.start().toString()) || e.push(i.start().toString()),
                      k(e, i.rawend().toString()) ||
                        e.push(i.rawend().toString());
                  }
                  return e.sort(), e;
                }
                function t() {
                  for (
                    var t = e(), i = [], a = { start: n.data.start }, r = 0;
                    r < t.length;
                    r++
                  )
                    (a.end = new DayPilot.Date(t[r])),
                      i.push(a),
                      (a = { start: new DayPilot.Date(t[r]) });
                  return (
                    (a.end = n.data.end),
                    i.push(a),
                    (i.forRange = function (e, t) {
                      for (var n = x(), i = 0; i < this.length; i++) {
                        var a = this[i];
                        u(e, t, a.start, a.end) && n.push(a);
                      }
                      return (
                        (n.maxSum = function (e) {
                          for (var t = 0, n = 0; n < this.length; n++) {
                            var i = this[n],
                              a = i.sum(e);
                            a > t && (t = a);
                          }
                          return t;
                        }),
                        n
                      );
                    }),
                    i
                  );
                }
                for (
                  var n = this, i = (n.sections = t()), a = 0;
                  a < i.length;
                  a++
                ) {
                  var r = i[a];
                  r.events = x();
                  for (var o = 0; o < n.events.length; o++) {
                    var s = n.events[o];
                    u(r.start, r.end, s.start(), s.rawend()) &&
                      r.events.push(s);
                  }
                  r.sum = function (e) {
                    for (var t = 0, n = 0; n < this.events.length; n++) {
                      var i = this.events[n],
                        a = 0;
                      "undefined" == typeof e
                        ? (a = 1)
                        : i.tag(e)
                        ? (a = i.tag(e))
                        : i.data[e] && (a = i.data[e]),
                        "number" == typeof a && (t += a);
                    }
                    return t;
                  };
                }
              }),
              (n.xr = function () {
                var e = [];
                return (
                  (e.height = 0),
                  (e.add = function (t) {
                    this.push(t);
                    var n = t.part.Iq();
                    n > e.height && (e.height = n);
                  }),
                  (e.Wd = function (e, t, n) {
                    for (
                      var i = e + t - 1, a = this.length, r = 0;
                      r < a;
                      r++
                    ) {
                      var o = this[r];
                      if (!o.data.nonBlocking) {
                        if (
                          !(
                            i < o.part.left ||
                            e > o.part.left + o.part.width - 1
                          )
                        ) {
                          if (k(n, o.data)) continue;
                          return !1;
                        }
                        if (
                          o.part.container &&
                          !(
                            i < o.part.container.left ||
                            e >
                              o.part.container.left + o.part.container.width - 1
                          )
                        )
                          return !1;
                        if (
                          A.eventVersionsReserveSpace &&
                          !(
                            i < o.part.versionsLeft ||
                            e > o.part.versionsRight - 1
                          )
                        )
                          return !1;
                      }
                    }
                    return !0;
                  }),
                  e
                );
              }),
              (n.yr = function (e, t, i) {
                if ("number" == typeof i) {
                  for (var a = 0; a <= i; a++)
                    this.lines[a] || (this.lines[a] = n.xr());
                  return i;
                }
                if ("dedicated" === i) {
                  var r = n.xr();
                  return (
                    (r.Wd = function () {
                      return !1;
                    }),
                    this.lines.push(r),
                    this.lines.length - 1
                  );
                }
                for (var a = 0; a < this.lines.length; a++) {
                  var r = this.lines[a];
                  if (r.Wd(e, t)) return a;
                }
                var r = n.xr();
                return this.lines.push(r), this.lines.length - 1;
              }),
              (n.Vd = function (e) {
                var t = e.data,
                  i = e.part,
                  a = e.part.container;
                if (a) {
                  if (
                    null === a.line &&
                    ("number" == typeof t.line || "dedicated" === t.line)
                  )
                    return (
                      (r = n.yr(a.left, a.width, t.line)),
                      (i.line = r),
                      this.lines[r].add(e),
                      (a.line = r),
                      r
                    );
                } else if ("number" == typeof t.line || "dedicated" === t.line)
                  return (
                    (r = n.yr(i.left, i.width, t.line)),
                    (i.line = r),
                    this.lines[r].add(e),
                    r
                  );
                var r = -1;
                if (a) {
                  if (null !== a.line) return this.lines[a.line].add(e), a.line;
                  (r = n.yr(a.left, a.width)), (a.line = r);
                } else
                  r = A.eventVersionsReserveSpace
                    ? n.yr(i.versionsLeft, i.versionsWidth)
                    : n.yr(i.left, i.width);
                return (i.line = r), this.lines[r].add(e), r;
              }),
              (n.Td = function (e) {
                for (
                  var t = A.eventVersionsReserveSpace, n = 0;
                  n < this.blocks.length;
                  n++
                ) {
                  var i = this.blocks[n];
                  if (D(i.events, e) !== -1) return;
                  var a = t ? e.part.versionsLeft : e.part.left,
                    r = t ? e.part.versionsWidth : e.part.width;
                  if (i.Ud(a, r))
                    return (
                      i.events.push(e),
                      (e.part.block = i),
                      (i.min = Math.min(i.min, a)),
                      (i.max = Math.max(i.max, a + r)),
                      n
                    );
                }
                var i = {};
                (i.expanded = !1),
                  (i.row = this),
                  (i.events = x()),
                  (i.lines = x()),
                  (i.Vd = function (e) {
                    for (var n = 0; n < this.lines.length; n++) {
                      var i = this.lines[n],
                        a = t ? e.part.versionsLeft : e.part.left,
                        r = t ? e.part.versionsWidth : e.part.width;
                      if (i.Wd(a, r)) return i.add(e), n;
                    }
                    var i = [];
                    (i.height = 0),
                      (i.add = function (e) {
                        this.push(e),
                          e.part.height > i.height &&
                            (i.height = e.part.height),
                          e.data.versions &&
                            (i.height =
                              e.part.height +
                              e.data.versions.length *
                                (A.eventVersionHeight + A.eventVersionMargin));
                      }),
                      (i.Wd = function (e, n) {
                        for (
                          var i = e + n - 1, a = this.length, r = 0;
                          r < a;
                          r++
                        ) {
                          var o = this[r],
                            s = t ? o.part.versionsLeft : o.part.left,
                            l = t ? o.part.versionsWidth : o.part.width;
                          if (!(i < s || e > s + l - 1)) return !1;
                        }
                        return !0;
                      }),
                      i.add(e),
                      this.lines.push(i);
                  }),
                  (i.Ud = function (e, t) {
                    return !(e + t - 1 < this.min || e > this.max - 1);
                  }),
                  (i.getHeight = function () {
                    if (!this.expanded) return A.eventHeight;
                    if (this.lines.length > 0) {
                      var e = this.lines.length - 1,
                        t = this.lines[e],
                        n = t.height || A.eventHeight;
                      return (t.top || 0) + n;
                    }
                    return A.eventHeight;
                  }),
                  (i.clear = function () {
                    (i.events = x()), (i.min = null), (i.max = null);
                  }),
                  i.events.push(e),
                  (e.part.block = i),
                  (i.min = t ? e.part.versionsLeft : e.part.left),
                  (i.max = i.min + (t ? e.part.versionsWidth : e.part.width)),
                  this.blocks.push(i);
              }),
              (n.zr = !1),
              (n.mr = t),
              (n.Pd = function () {
                (this.hidden = !this.Ar()),
                  (this.zr = !1),
                  this.mr && this.mr.Pd();
              }),
              (n.Ar = function () {
                return !this.mr || (this.mr.Ar() && this.mr.expanded);
              }),
              e.columns)
            )
              for (var i = 0; i < e.columns.length; i++)
                n.columns.push(e.columns[i]);
            return n;
          }),
          (this.Fm = function () {
            A.Vl().forEach(function (e) {
              if (
                !e.isNewRow &&
                "function" == typeof A.onRowFilter &&
                A.rows.Ig
              ) {
                var t = e.mr,
                  n = {};
                (n.visible = !0),
                  (n.row = A.en(e)),
                  (n.filter = A.rows.Ig),
                  (n.filterParam = A.rows.Ig),
                  (n.control = A),
                  A.onRowFilter(n),
                  (e.zr = !n.visible),
                  n.visible
                    ? A.rowFilterParentsAlwaysVisible && t && t.Pd()
                    : (e.hidden = !0);
              }
            });
          }),
          (this.Br = function (e) {
            return !e.some(function (e) {
              return e.children && e.children.length;
            });
          }),
          (this.Cr = function (e) {
            return !e.some(function (e) {
              return !e.children || 0 === e.children.length;
            });
          }),
          (this.Mn = function (e) {
            return (e = e || "main"), A.jl[e];
          }),
          (this.ur = function (e, t, n, i, a, r, o) {
            function s(e, a) {
              for (var s = 0; s < e.split.length; s++)
                !(function () {
                  var l = e.split[s],
                    d = A.Vq(l, v),
                    c = A.Wq(d, i);
                  (c.level = n),
                    (c.index = t.i),
                    (c.grid = o || "main"),
                    r && (c.hidden = !0),
                    (c.split = {}),
                    (c.split.parent = a),
                    (c.split.y = s),
                    (c.split.jq = function () {
                      return (
                        c ===
                        c.split.parent.split.list.find(function (e) {
                          return !e.hidden;
                        })
                      );
                    }),
                    (c.mr = a),
                    a.split.list.push(c),
                    null !== i && i.children.push(t.i),
                    h.push(c),
                    t.i++,
                    (A.sr = !0);
                })();
            }
            if (e) {
              var l = !1;
              if (A.rows.Pq)
                switch (A.rowSortingMode) {
                  case "LeavesOnly":
                    l = A.Br(e);
                    break;
                  case "ParentsOnly":
                    l = A.Cr(e);
                }
              if (l) {
                var d = A.rows.Rq(),
                  c = "desc" === A.rows.Qq(),
                  u = x(e, !0);
                u.sort(function (e, t) {
                  var n = A.iq(e, d),
                    i = A.iq(t, d),
                    a = 0;
                  return (
                    (a =
                      n === i
                        ? 0
                        : "number" == typeof n && "number" == typeof i
                        ? n - i
                        : A.Mg(n, i, "asc")),
                    c ? -a : a
                  );
                }),
                  (e = u);
              }
              for (var h = A.Mn(o).rowlist, f = 0; f < e.length; f++)
                if (e[f]) {
                  var v = {};
                  if (
                    ((v.level = n),
                    (v.hidden = r),
                    (v.index = t.i),
                    !e[f].hidden)
                  ) {
                    var p = this.Vq(e[f], v),
                      m = A.Wq(p, i);
                    r && (m.hidden = !0),
                      (m.level = n),
                      (m.index = t.i),
                      (m.grid = o || "main");
                    var g = !p.children || 0 === p.children.length,
                      y = g && p.split;
                    if (
                      (y
                        ? s(p, m)
                        : (null !== i && i.children.push(t.i),
                          h.push(m),
                          t.i++),
                      a && p.children && p.children.length)
                    ) {
                      var b = r || !m.expanded;
                      this.ur(p.children, t, n + 1, m, !0, b, o);
                    }
                  }
                }
            }
          }),
          (this.Dr = [
            "text",
            "html",
            "backColor",
            "cssClass",
            "areas",
            "horizontalAlignment",
            "hidden",
          ]),
          (this.rp = function (e) {
            if (e.isNewRow)
              return {
                row: {
                  cssClass: A.ca("_row_new"),
                  moveDisabled: !0,
                  html: A.Ka(A.rowCreateText, A.rowCreateHtml),
                },
              };
            var t = {};
            (t.row = this.en(e)),
              g(e, t.row, [
                "html",
                "backColor",
                "fontColor",
                "cssClass",
                "toolTip",
                "contextMenu",
                "moveDisabled",
              ]),
              (t.row.areas = DayPilot.Util.createArrayCopy(e.areas)),
              (t.row.columns = DayPilot.Util.createArrayCopy(e.columns, A.Dr)),
              e.split &&
                DayPilot.isArray(A.rowHeaderColumns) &&
                A.rowHeaderColumns.forEach(function (n, i) {
                  !e.split.parent && 0 === e.split.list.length && n.split
                    ? (t.row.columns[i].text = "")
                    : !e.split.parent && n.split
                    ? (t.row.columns[i] = null)
                    : e.split.parent && !n.split && (t.row.columns[i] = null);
                });
            var n = A.rowHeaderColumns;
            if ("undefined" == typeof t.row.columns && n.length > 0) {
              r.columns = [];
              for (var i = 0; i < n.length; i++) r.columns.push({});
            }
            return (
              t.row.children().length > 0 &&
                A.rowHeaderColumnsMergeParents &&
                A.rowHeaderColumns &&
                A.rowHeaderColumns.forEach(function (e, n) {
                  n > 0 && delete t.row.columns[n];
                }),
              "function" == typeof this.onBeforeRowHeaderRender &&
                this.onBeforeRowHeaderRender(t),
              t
            );
          }),
          (this.Vq = function (e, t) {
            var n = this.Er(e, t);
            if ("function" == typeof this.onBeforeResHeaderRender) {
              var i = {};
              (i.resource = n), this.onBeforeResHeaderRender(i);
            }
            return n;
          }),
          (this.Er = function (e, t) {
            var n = {
              get $data() {
                return this.wr;
              },
            };
            for (var i in t) n[i] = t[i];
            for (var i in e) n[i] = e[i];
            if (
              ((n.html = A.Ka(e.name, e.html)),
              A.rowHeaderColumns &&
                A.rowHeaderColumns.length > 0 &&
                "undefined" == typeof n.columns)
            ) {
              n.columns = [];
              var a = A.rowHeaderColumns;
              if (A.Nm()) {
                for (var r = 0; r < a.length; r++) {
                  var o = a[r],
                    s = A.iq(e, o.display);
                  n.columns.push({ text: s });
                }
                n.columns[0] &&
                  a[0] &&
                  !a[0].display &&
                  (n.columns[0].text = n.name);
              } else for (var r = 0; r < a.length; r++) n.columns.push({});
            }
            return (n.wr = e), n;
          }),
          (this.Bm = function () {
            (this.nav.top.dp = this),
              (this.nav.top.innerHTML = ""),
              f(this.nav.top, this.ca("_main")),
              this.nav.top.setAttribute("role", "region"),
              this.nav.top.setAttribute("aria-label", "scheduler"),
              (this.nav.top.style.MozUserSelect = "none"),
              (this.nav.top.style.KhtmlUserSelect = "none"),
              (this.nav.top.style.webkitUserSelect = "none"),
              (this.nav.top.style.WebkitTapHighlightColor = "rgba(0,0,0,0)"),
              (this.nav.top.style.WebkitTouchCallout = "none"),
              this.width && (this.nav.top.style.width = this.width),
              "Parent100Pct" === this.heightSpec &&
                (this.nav.top.style.height = "100%"),
              (this.nav.top.style.lineHeight = "1.2"),
              (this.nav.top.style.position = "relative"),
              this.visible || (this.nav.top.style.display = "none"),
              (this.nav.top.onmousemove = this.Rj),
              (this.nav.top.onmouseout = function () {
                A.cp();
              }),
              DayPilot.reNonPassive(this.nav.top, "touchstart", J.$e),
              DayPilot.reNonPassive(this.nav.top, "touchmove", J._e),
              DayPilot.reNonPassive(this.nav.top, "touchend", J.af),
              this.hideUntilInit &&
                this.backendUrl &&
                (this.nav.top.style.visibility = "hidden");
            var e = this.El(),
              t = "Top" === A.timeHeaderPosition;
            if (((A.Am = A.timeHeaderPosition), "DivBased" === this.Ma.Fr())) {
              var n = c();
              (n.style.position = "absolute"),
                (n.style.left = "0px"),
                (n.style.width = e + "px");
              var i = c();
              (i.style.height = "0px"),
                (i.style.boxSizing = "content-box"),
                (i.style.borderTop = "1px solid transparent"),
                (i.className = this.ca("_divider_horizontal")),
                (this.nav.dh1 = i),
                (this.nav.left = n),
                "Top" === A.timeHeaderPosition
                  ? (n.appendChild(this.sf()),
                    n.appendChild(i),
                    n.appendChild(this.Gr()),
                    A.jl.top.enabled(),
                    n.appendChild(this.Hr()),
                    n.appendChild(this.Ir()))
                  : "Bottom" === A.timeHeaderPosition
                  ? (n.appendChild(this.Gr()),
                    n.appendChild(i),
                    n.appendChild(this.sf()))
                  : n.appendChild(this.Gr());
              var a = c();
              (a.style.position = "absolute"),
                (a.style.left = e + "px"),
                (a.style.width = Z.Fl() + "px"),
                (a.style.height = this.Gl() + this.Re() + "px"),
                (a.className =
                  this.ca("_divider") + " " + this.ca("_splitter")),
                a.setAttribute("unselectable", "on"),
                (this.nav.divider = a),
                this.rowHeaderScrolling && this.Jr();
              var r = c();
              (r.style.marginLeft = e + Z.Fl() + "px"),
                (r.style.marginRight = "1px"),
                (r.style.position = "relative"),
                (this.nav.right = r);
              var o = c();
              t &&
                ((o.style.position = "absolute"),
                (o.style.top = this.Gl() + "px")),
                (o.style.width = "100%"),
                (o.style.height = "0px"),
                (o.style.boxSizing = "content-box"),
                (o.style.borderBottom = "1px solid transparent"),
                o.setAttribute("data-dh2", "true"),
                (o.className = this.ca("_divider_horizontal")),
                (this.nav.dh2 = o),
                "Top" === A.timeHeaderPosition
                  ? (r.appendChild(A.Kr()),
                    r.appendChild(A.Lr()),
                    r.appendChild(o),
                    A.jl.top.enabled(),
                    r.appendChild(A.Mr()),
                    r.appendChild(A.Nr()))
                  : "Bottom" === A.timeHeaderPosition
                  ? (r.appendChild(A.Lr()),
                    r.appendChild(o),
                    r.appendChild(A.Kr()))
                  : r.appendChild(A.Lr());
              var s = c();
              s.style.clear = "left";
              var l = c();
              (l.style.height = "1px"),
                (l.style.position = "absolute"),
                (l.style.left = "0px"),
                (l.style.right = "0px"),
                (l.style.display = "none"),
                (l.className =
                  this.ca("_divider_horizontal") +
                  " " +
                  this.ca("_divider_horizontal_frozen_top")),
                (l.onmousemove = function (e) {
                  e.cancelBubble = !0;
                }),
                (this.nav.dividerTop = l);
              var d = c();
              (d.style.height = "1px"),
                (d.style.position = "absolute"),
                (d.style.left = "0px"),
                (d.style.right = "0px"),
                (d.style.display = "none"),
                (d.className =
                  this.ca("_divider_horizontal") +
                  " " +
                  this.ca("_divider_horizontal_frozen_bottom")),
                (d.onmousemove = function (e) {
                  e.cancelBubble = !0;
                }),
                (this.nav.dividerBottom = d),
                this.nav.top.appendChild(n),
                this.nav.top.appendChild(a),
                this.nav.top.appendChild(r),
                this.nav.top.appendChild(s),
                this.nav.top.appendChild(l),
                this.nav.top.appendChild(d);
            } else {
              var u = document.createElement("table");
              (u.cellPadding = 0),
                (u.cellSpacing = 0),
                (u.border = 0),
                (u.style.position = "absolute");
              var h = u.insertRow(-1);
              h.insertCell(-1).appendChild(this.sf()),
                h.insertCell(-1).appendChild(this.Kr());
              var v = u.insertRow(-1);
              v.insertCell(-1).appendChild(this.Gr()),
                v.insertCell(-1).appendChild(this.Lr()),
                this.nav.top.appendChild(u);
            }
            if (
              ((this.Ni = c()),
              (this.Ni.style.display = "none"),
              this.nav.top.appendChild(this.Ni),
              this.Ua())
            ) {
              var p = document.createElement("input");
              (p.type = "hidden"),
                (p.id = this.id + "_state"),
                (p.name = this.id + "_state"),
                (this.nav.state = p),
                this.nav.top.appendChild(p);
            }
            var m = c();
            (m.style.position = "absolute"),
              (m.style.left = this.El() + Z.Fl() + 5 + "px"),
              (m.style.top = this.Gl() + 5 + "px"),
              (m.style.display = "none"),
              (m.innerHTML = A.Ka(
                this.loadingLabelText,
                this.loadingLabelHtml
              )),
              f(m, this.ca("_loading")),
              (this.nav.loading = m),
              this.nav.top.appendChild(m),
              this.Or(),
              A.Pr();
          }),
          (this.Rj = function (e) {
            if (S.row) U.lr(e);
            else if (o.fq) {
              var t = DayPilot.mo3(A.nav.top, e).x,
                n = A.Wp(),
                i = A.rowHeaderWidthMin,
                a = t - 1;
              A.rowHeaderCols && (a = Math.min(n, t - 1)),
                (a = Math.max(i, a)),
                (A.rowHeaderWidth = a),
                (A.Sq = !1),
                A.rowHeaderCols || A.Qr(),
                A.Tq(),
                A.bl(),
                A.hb();
            }
          }),
          (this.ub = function () {
            var e = this.Gl(),
              t = "Top" === A.timeHeaderPosition;
            this.nav.corner && (this.nav.corner.style.height = e + "px"),
              this.divTimeScroll &&
                (this.divTimeScroll.style.height = e + "px"),
              this.divNorth && (this.divNorth.style.height = e + "px"),
              this.nav.dh1 &&
                this.nav.dh2 &&
                t &&
                ((this.nav.dh1.style.top = e + "px"),
                (this.nav.dh2.style.top = e + "px")),
              (this.nav.loading.style.top = e + 5 + "px"),
              t && (this.nav.scroll.style.top = e + 1 + "px");
          }),
          (this.El = function () {
            if (this.Sq) return 0;
            var e = 0,
              t = this.rowHeaderScrolling,
              n = this.Wp();
            return (e = t && this.rowHeaderWidth < n ? this.rowHeaderWidth : n);
          }),
          (this.Jr = function () {
            var e = this.nav.divider;
            A.rowHeaderScrolling
              ? ((e.style.cursor = "col-resize"),
                e.setAttribute("unselectable", "on"),
                (e.onmousedown = function (e) {
                  var t = (o.fq = {});
                  return (
                    (t.cursor = A.nav.top.style.cursor),
                    (t.cleanup = function () {
                      if (
                        (A._p(),
                        (A.nav.top.style.cursor = t.cursor),
                        "function" == typeof A.onRowHeaderResized)
                      ) {
                        var e = {};
                        A.onRowHeaderResized(e);
                      }
                    }),
                    (A.nav.top.style.cursor = "col-resize"),
                    !1
                  );
                }))
              : ((e.style.cursor = null), (e.onmousedown = null));
          }),
          (this.Tq = function () {
            var e = Z.Fl(),
              t = this.El();
            if (
              (this.nav.corner && (this.nav.corner.style.width = t + "px"),
              this.nav.corner && (this.divCorner.style.width = t + "px"),
              (this.divResScroll.style.width = t + "px"),
              "DivBased" === Z.Fr() &&
                ((this.nav.left.style.width = t + "px"),
                (this.nav.divider.style.left = t - e + "px"),
                (this.nav.right.style.marginLeft = t + "px")),
              this.nav.message && (this.nav.message.style.left = A.Dl() + "px"),
              this.nav.loading &&
                (this.nav.loading.style.left = t + e + 5 + "px"),
              this.nav.hideIcon)
            ) {
              var n = this.nav.hideIcon,
                i = A.ca("_header_icon_show"),
                a = A.ca("_header_icon_hide");
              (n.style.left = t - 1 + "px"),
                A.Sq ? (h(n, a), f(n, i)) : (h(n, i), f(n, a));
            }
          }),
          (this.Qr = function () {
            this.Vp();
            var e = this.Wp(),
              t = function (e, t, n) {
                if (e && e.style) {
                  var i = e.firstChild;
                  A.bq
                    ? ((e.style.width = t + "px"),
                      (i.style.width = t + "px"),
                      "number" == typeof n && (e.style.left = n + "px"))
                    : (i.style.width = t + "px");
                }
              },
              n = function (n) {
                var i = n.cells[0];
                if (i && (i.colSpan > 1 || "max" === i.colSpan)) {
                  var i = n.cells[0];
                  t(i, e);
                } else if (A.rowHeaderCols)
                  for (var a = 0, r = 0; r < n.cells.length; r++) {
                    var o = A.rowHeaderCols[r],
                      i = n.cells[r];
                    t(i, o, a), (a += o);
                  }
                else {
                  var o = A.rowHeaderWidth,
                    i = n.cells[0];
                  t(i, o);
                }
              },
              i = this.divHeader;
            i.style.width = e + "px";
            for (var a = A.Xp(), r = a.start; r < a.end; r++) {
              var o = i.rows[r];
              o && n(o);
            }
            if (A.jl.top.enabled())
              for (var r = 0; r < A.jl.top.rowlist.length; r++) {
                var o = A.jl.top.divHeader.rows[r];
                o && n(o);
              }
            if (A.jl.bottom.enabled())
              for (var r = 0; r < A.jl.bottom.rowlist.length; r++) {
                var o = A.jl.bottom.divHeader.rows[r];
                o && n(o);
              }
            if (
              (A.nav.resScrollSpace &&
                (A.nav.resScrollSpace.style.width = e + "px"),
              A.jl.bottom.enabled())
            ) {
              A.jl.bottom.divSpace.style.width = e + "px";
            }
            this.hb();
          }),
          (this.xm = function () {
            this.Tq(), this.Qr();
          }),
          (this.wm = function () {
            var e = A.nav.corner,
              t = Z.qp(),
              n = c();
            (n.style.position = "absolute"),
              (n.style.bottom = "0px"),
              (n.style.left = "0px"),
              (n.style.width = "100%"),
              (n.style.height = Z.Ae() + "px"),
              (n.style.overflow = "hidden"),
              (A.nav.columnScroll = n);
            var i = c();
            (i.style.position = "absolute"),
              (i.style.bottom = "0px"),
              (i.style.left = "0px"),
              (i.style.width = "5000px"),
              (i.style.height = Z.Ae() + "px"),
              (i.style.overflow = "hidden"),
              (i.className = this.ca("_columnheader")),
              n.appendChild(i);
            var a = c();
            (a.style.position = "absolute"),
              (a.style.top = "0px"),
              (a.style.bottom = "0px"),
              (a.style.left = "0px"),
              (a.style.right = "0px"),
              (a.className = this.ca("_columnheader_inner")),
              i.appendChild(a),
              A.Jn && (A.Jn.dispose(), (A.Jn = null));
            var r = [];
            t.forEach(function (e) {
              var t = {};
              (t.column = {}),
                (t.column.html = A.Ka(e.text || e.name || e.title, e.html)),
                (t.column.areas = null),
                (t.column.sortingEnabled = !!e.sort),
                (t.column.data = e),
                (t.column.cssClass = null),
                r.push(t),
                "function" == typeof A.onBeforeRowHeaderColumnRender &&
                  A.onBeforeRowHeaderColumnRender(t);
            });
            var o = new DayPilot.Splitter(a);
            (o.enabled = A.rowHeaderColumnsResizable),
              (o.widths = DayPilot.Util.propArray(
                t,
                "width",
                A.rowHeaderColumnDefaultWidth
              )),
              (o.height = Z.Ae()),
              (o.css.title = this.ca("_columnheader_cell")),
              (o.css.titleInner = this.ca("_columnheader_cell_inner")),
              (o.css.splitter = this.ca("_columnheader_splitter")),
              A.rowHeaderScrolling && (o.splitterWidthLast = 6);
            var s = A.rows.Rq(),
              l = A.rows.Qq();
            (o.titles = x(r).map(function (e) {
              var t = e.column.data,
                n = e.column.html,
                i = e.column.cssClass,
                a = {};
              if (((a.areas = []), t.sort && e.column.sortingEnabled)) {
                var r = A.ca("_sorticon");
                s === t.sort
                  ? ((r += " " + A.ca("_sorticon_active")),
                    (r +=
                      "asc" === l
                        ? " " + A.ca("_sorticon_asc")
                        : " " + A.ca("_sorticon_desc")))
                  : (r += " " + A.ca("_sorticon_asc")),
                  (a.areas = [
                    {
                      right: 5,
                      top: 0,
                      bottom: 0,
                      width: 10,
                      cssClass: r,
                      onClick: function (e) {
                        var n = {};
                        (n.field = t.sort),
                          s === t.sort
                            ? (n.order = "asc" === A.rows.Qq() ? "desc" : "asc")
                            : (n.order = "asc"),
                          A.rows.sort(n);
                      },
                    },
                  ]);
              }
              return (
                DayPilot.isArray(e.column.areas) &&
                  (a.areas = a.areas.concat(e.column.areas)),
                (a.cssClass = i),
                (a.html = n),
                a
              );
            })),
              (o.data = x(t, !0)),
              (o.started = function () {
                var e = o.totalWidth() === A.rowHeaderWidth;
                o.Rr = e;
              }),
              (o.updating = function (e) {
                (A.gl.skip = !0),
                  DayPilot.Util.updatePropsFromArray(
                    Z.qp(),
                    "width",
                    this.widths
                  ),
                  o.Rr &&
                    A.rowHeaderScrolling &&
                    (A.rowHeaderWidth = o.totalWidth()),
                  A.xm(),
                  "Auto" === A.cellWidthSpec;
              }),
              (o.updated = function (e) {
                if ((A._p(), A.Kb())) {
                  if ("function" == typeof A.onRowHeaderColumnResized) {
                    var t = {};
                    (t.column = Z.qp()[e.index]), A.onRowHeaderColumnResized(t);
                  }
                } else
                  switch (A.rowHeaderColumnResizedHandling) {
                    case "CallBack":
                      break;
                    case "PostBack":
                      break;
                    case "JavaScript":
                      if ("function" == typeof A.onRowHeaderColumnResized) {
                        var t = {};
                        (t.column = Z.qp()[e.index]),
                          A.onRowHeaderColumnResized(t);
                      }
                  }
              }),
              (o.color = "#000000"),
              (o.opacity = 30),
              o.init(),
              e.appendChild(n),
              (this.Jn = o);
          }),
          (this.Qk = function () {
            var e = this.nav.corner;
            if (e) {
              A.ab(), (e.innerHTML = ""), (e.className = this.ca("_corner"));
              var t = c();
              if (
                ((t.style.position = "absolute"),
                (t.style.top = "0px"),
                (t.style.left = "0px"),
                (t.style.right = "0px"),
                (t.style.bottom = "0px"),
                (t.className = this.ca("_corner_inner")),
                (this.divCorner = t),
                (t.innerHTML = "&nbsp;"),
                this.rowHeaderColumns && this.rowHeaderColumns.length > 0)
              ) {
                var n = c();
                (n.style.position = "absolute"),
                  (n.style.top = "0px"),
                  (n.style.left = "0px"),
                  (n.style.right = "0px"),
                  (n.style.bottom = Z.Ae() + 1 + "px"),
                  e.appendChild(n);
                var i = c();
                (i.style.position = "absolute"),
                  (i.style.left = "0px"),
                  (i.style.right = "0px"),
                  (i.style.height = "1px"),
                  (i.style.bottom = Z.Ae() + "px"),
                  (i.className = this.ca("_divider")),
                  e.appendChild(i),
                  n.appendChild(t),
                  this.wm();
              } else e.appendChild(t);
              !(function () {
                var e = {};
                (e.control = A),
                  (e.html = A.Ka(A.cornerText, A.cornerHtml)),
                  (e.areas = null);
                var t = null;
                if (
                  ("function" == typeof A.onBeforeCornerRender &&
                    A.onBeforeCornerRender(e),
                  "function" == typeof A.onBeforeCornerDomAdd &&
                    ((e.element = null),
                    A.onBeforeCornerDomAdd(e),
                    (t = e.element)),
                  t)
                ) {
                  var n = A.divCorner;
                  n.domArgs = e;
                  if (y(t)) {
                    if (!A.Y.reactDOM)
                      throw new DayPilot.Exception("Can't reach ReactDOM");
                    A.Y.X(t, n);
                  } else n.appendChild(t);
                } else A.divCorner && (A.divCorner.innerHTML = e.html || "");
                e.areas &&
                  DayPilot.Areas.attach(A.nav.corner, {}, { areas: e.areas });
              })();
              var a = c();
              (a.style.position = "absolute"),
                (a.style.padding = "2px"),
                (a.style.top = "0px"),
                (a.style.left = "1px"),
                (a.style.backgroundColor = "#FF6600"),
                (a.style.color = "white"),
                (a.innerHTML = "\u0044\u0045" + "\u004D\u004F"),
                m(undefined) && e.appendChild(a),
                A.rowHeaderScrolling &&
                  A.nav.columnScroll &&
                  A.Kl &&
                  (A.nav.columnScroll.scrollLeft = A.Kl.scrollLeft);
            }
          }),
          (this.Or = function () {
            var e = 3,
              t = this.El() + Z.Fl() - 1,
              n = 10,
              i = 20,
              a = this.Gl() + e,
              r = v(this.nav.top, t, a, n, i);
            (r.style.cursor = "pointer"),
              (r.className = A.ca("_header_icon")),
              f(r, A.ca("_header_icon_hide")),
              (r.onclick = function () {
                A.rows.headerToggle();
              }),
              (r.ontouchstart = function (e) {
                e.stopPropagation();
              }),
              (this.nav.hideIcon = r);
          }),
          (this.Gm = function () {
            var e = 3,
              t = A.nav.hideIcon,
              n = A.Gl() + e;
            t &&
              (A.rowlist.length > 0 && A.rowHeaderHideIconEnabled
                ? (t.style.display = "")
                : (t.style.display = "none"),
              (t.style.top = n + "px"));
          }),
          (this.sf = function () {
            var e = this.El(),
              t = c();
            return (
              (A.nav.corner = t),
              (t.style.width = e + "px"),
              (t.style.height = this.Gl() + "px"),
              (t.style.overflow = "hidden"),
              (t.style.position = "relative"),
              t.setAttribute("unselectable", "on"),
              (t.onmousemove = function () {
                A.gb();
              }),
              (t.oncontextmenu = function () {
                return !1;
              }),
              this.Qk(),
              t
            );
          }),
          (this.Gl = function () {
            if ("None" === A.timeHeaderPosition) return 0;
            if (A.timeHeaders) {
              var e = Q.up(A.timeHeaders.length - 1);
              return e.top + e.height;
            }
            return this.timeHeader ? A.timeHeader.length * Z.Ae() : 0;
          }),
          (this.Sr = null),
          (this.Tr = function () {
            return A.scrollStep || A.eventHeight;
          }),
          (this.Gr = function () {
            var e = c();
            (e.style.width = this.El() + "px"),
              (e.style.height = this.Re() + "px"),
              (e.style.overflow = "hidden"),
              (e.style.position = "relative"),
              (e.className = A.ca("_rowheader_scroll"));
            var t = A.Tr(),
              n = A.Ma.hq();
            n &&
              ((e.style.overflowY = "auto"),
              A.rowHeaderScrolling && (e.style.overflowX = "auto")),
              (e.onmousemove = function () {
                A.gb();
              }),
              DayPilot.rePassive(e, "touchstart", function () {
                o.Ur = !0;
              }),
              e.addEventListener(
                "wheel",
                function (n) {
                  if (0 !== A.Vr()) {
                    var i;
                    (i =
                      A.overrideWheelScrolling || A.scrollStep
                        ? n.deltaY > 0
                          ? t
                          : -t
                        : 1 === n.deltaMode
                        ? n.deltaY * Z.Wr() * 1.7
                        : n.deltaY),
                      (A.nav.scroll.scrollTop = e.scrollTop + i),
                      n.preventDefault();
                  }
                },
                { passive: !1 }
              ),
              (e.oncontextmenu = function () {
                return !1;
              }),
              (e.onscroll = function () {
                if ((A.Sr && clearTimeout(A.Sr), n)) {
                  var t = function () {
                    var t = A.gp() - A.nav.scroll.offsetHeight;
                    (e.scrollTop = Math.min(e.scrollTop, t)),
                      (A.nav.scroll.scrollTop = e.scrollTop);
                  };
                  a
                    ? o.Ur && (A.Sr = setTimeout(t, 10))
                    : (A.Sr = setTimeout(t, 10));
                } else
                  A.Sr = setTimeout(function () {
                    A.nav.scroll.scrollTop = e.scrollTop;
                  }, 500);
              }),
              A.Xr(e),
              e.setAttribute("role", "region"),
              e.setAttribute("aria-label", "scheduler rows");
            var i = c();
            return (
              (i.onmousemove = function () {
                A.gb();
              }),
              (this.divHeader = i),
              e.appendChild(i),
              (this.divResScroll = e),
              (this.Kl = e),
              e
            );
          }),
          (this.Xr = function (e) {
            e.addEventListener("scroll", function () {
              A.rowHeaderScrolling &&
                (A.nav.columnScroll &&
                  (A.nav.columnScroll.scrollLeft = e.scrollLeft),
                A.jl.top.enabled() &&
                  (A.jl.top.divHeader.scrollLeft = e.scrollLeft),
                this !== A.divResScroll &&
                  (A.divResScroll.scrollLeft = e.scrollLeft));
            }),
              (e.onmouseenter = function () {
                A.rowHeaderScrolling && (e.style.overflowX = "auto");
              }),
              (e.onmouseleave = function () {
                A.rowHeaderScrolling && (e.style.overflowX = "hidden");
              });
          }),
          (this.Yr = function (e) {
            if ("TableBased" === Z.Fr()) {
              var t = parseInt(this.width, 10),
                n = isNaN(t) || this.width.indexOf("%") !== -1,
                i = (/MSIE/i.test(navigator.userAgent), this.Wp());
              n
                ? this.nav.top &&
                  this.nav.top.offsetWidth > 0 &&
                  (e.style.width = this.nav.top.offsetWidth - 6 - i + "px")
                : (e.style.width = t - i + "px");
            }
          }),
          (this.Ln = function (e) {
            if ("function" == typeof A.onEventMoving && o.Jo) {
              var t = A.coords || {};
              (t.shift = e.shiftKey),
                (t.meta = e.metaKey),
                (t.ctrl = e.ctrlKey),
                (t.alt = e.altKey),
                A.Op();
            }
          }),
          (this.Kn = function (e) {
            if ("function" == typeof A.onEventMoving && o.Jo) {
              var t = A.coords || {};
              (t.shift = e.shiftKey),
                (t.meta = e.metaKey),
                (t.ctrl = e.ctrlKey),
                (t.alt = e.altKey),
                A.Op();
            }
          }),
          (this.Zh = function (e) {
            ("function" == typeof ResizeObserver && A.watchWidthChanges) ||
              (o.Jo && (A.Hb(), A.bl()));
          }),
          (this.Hb = function () {
            A.wa ||
              ("TableBased" === A.Ma.Fr() &&
                (A.Yr(A.nav.scroll), A.Yr(A.divTimeScroll)),
              A.Bb(),
              A._p(),
              A.Zr(),
              (A.ra.drawArea = null));
          }),
          (this.hg = null),
          (this.ig = null),
          (this.Wa = null),
          (this.fg = function () {
            var e = function () {
                A.Hb(), A.bl(null, { dontHideBubble: !0 });
              },
              t = function () {
                var t = A.nav.top,
                  n = t.offsetParent,
                  i = n && n.offsetHeight;
                if (!A.hg)
                  return (
                    (A.hg = {}),
                    (A.hg.changed = !1),
                    (A.hg.width = t.offsetWidth),
                    (A.hg.height = t.offsetHeight),
                    void (A.hg.opHeight = i)
                  );
                var a = A.hg.width !== t.offsetWidth,
                  r = A.hg.height !== t.offsetHeight,
                  o = "Max100Pct" === A.heightSpec && A.hg.opHeight !== i;
                (a || r || o) &&
                  ((A.hg.changed = !0),
                  (A.hg.width = t.offsetWidth),
                  (A.hg.height = t.offsetHeight),
                  (A.hg.opHeight = i)),
                  A.hg.changed && ((A.hg.changed = !1), e());
              };
            if (A.watchWidthChanges) {
              if ("function" == typeof ResizeObserver) {
                if (A.Wa) return;
                var n = new ResizeObserver(t);
                return (
                  n.observe(A.nav.top),
                  A.nav.top.offsetParent && n.observe(A.nav.top.offsetParent),
                  void (A.Wa = n)
                );
              }
              if (!A.ig) {
                var i = function () {
                  return A.nav && A.nav.top
                    ? A.hg
                      ? (A.hg.width !== A.nav.top.offsetWidth &&
                          ((A.hg.changed = !0),
                          (A.hg.counter = 0),
                          (A.hg.width = A.nav.top.offsetWidth)),
                        A.hg.changed && (A.hg.counter += 1),
                        void (
                          A.hg.changed &&
                          A.hg.counter > 0 &&
                          ((A.hg.changed = !1), e())
                        ))
                      : ((A.hg = {}),
                        (A.hg.counter = 0),
                        (A.hg.changed = !1),
                        void (A.hg.width = A.nav.top.offsetWidth))
                    : void clearInterval(A.ig);
                };
                (this.ig = setInterval(i, 200)), i();
              }
            }
          }),
          (this.Zr = function () {
            var e = A._m;
            A.clearSelection(), (A._m = e), A.an(e, { justDraw: !0 });
          }),
          (this._p = function () {
            "Auto" === A.cellWidthSpec &&
              (A.Uk(),
              A.va &&
                (A.Kk(),
                A.Lk(),
                A.Rk(),
                A.Vk(),
                A.Ya(),
                A.tb(),
                A.Sk(),
                A.Tk(),
                A.rm(),
                A.Fb(),
                A.Xk(),
                A.Yk(),
                A.Bb()));
          }),
          (this.Kk = function () {
            if ("Auto" === this.cellWidthSpec) {
              var e = this.nav.top.clientWidth,
                t = this.El(),
                n = A.Vr(),
                i = e - t - n;
              if (this.kp()) {
                var a = i / this.kp();
                (this.cellWidth = Math.max(a, A.cellWidthMin)),
                  (A.Jl = a < A.cellWidthMin);
              }
            }
          }),
          (this.Vr = function () {
            if ("Auto" === A.heightSpec) return 0;
            if (
              "Max" === A.heightSpec ||
              "Fixed" === A.heightSpec ||
              "Parent100Pct" === A.heightSpec
            ) {
              if (A.gp() > A.height) {
                return DayPilot.sw(A.nav.scroll) || 1;
              }
              return 0;
            }
            return DayPilot.sw(A.nav.scroll);
          }),
          (this.Ol = function () {
            var e = this.nav.top.clientWidth,
              t = this.El(),
              n = this.Re(),
              i = this.gp(),
              a = "Auto" === A.heightSpec,
              r = 0;
            return i > n && !a && (r = DayPilot.swa()), e - t - 2 - r;
          }),
          (this.Kr = function () {
            var e = "Top" === A.timeHeaderPosition,
              t = c();
            (t.style.overflow = "hidden"),
              (t.style.display = "block"),
              e
                ? ((t.style.position = "absolute"), (t.style.top = "0px"))
                : (t.style.position = "relative"),
              (t.style.width = "100%"),
              (t.style.height = this.Gl() + "px"),
              (t.style.overflow = "hidden"),
              (t.onmousemove = function () {
                A.gb(), A.cellBubble && A.cellBubble.delayedHide();
              }),
              (t.className = A.ca("_timeheader_scroll")),
              this.Yr(t),
              (this.divTimeScroll = t);
            var n = c();
            return (
              (n.style.width = this.Bl() + 5e3 + "px"),
              (this.divNorth = n),
              t.appendChild(n),
              t
            );
          }),
          (this.Re = function () {
            var e = 0,
              t = A.heightSpec;
            return "Fixed" === t || "Parent100Pct" === t
              ? this.height
                ? this.height
                : 0
              : ((e = A.gp()),
                ("Max" === t || "Max100Pct" === t) && e > A.height
                  ? A.height
                  : e);
          }),
          (this.$r = null),
          (this._r = 0),
          (this.as = 0),
          (this.bs = 0),
          (this.Ml = function () {
            if (
              "function" == typeof A.onHeightChanged ||
              "function" == typeof A.onDimensionsChanged
            ) {
              A.$r && clearTimeout(A.$r);
              var e = function () {
                var e = A.nav.top.offsetHeight,
                  t = A._r;
                A._r = e;
                var n = A.nav.top.offsetWidth,
                  i = A.as;
                A.as = n;
                var a = A.El(),
                  r = A.bs;
                if (
                  ((A.bs = a),
                  "function" == typeof A.onHeightChanged && e !== t)
                ) {
                  var o = {};
                  (o.oldHeight = t), (o.newHeight = e), A.onHeightChanged(o);
                }
                if (
                  "function" == typeof A.onDimensionsChanged &&
                  (e !== t || n !== i || a !== r)
                ) {
                  var o = {};
                  (o.oldHeight = t),
                    (o.newHeight = e),
                    (o.oldWidth = i),
                    (o.newWidth = n),
                    (o.oldRowHeaderWidth = r),
                    (o.newRowHeaderWidth = a),
                    A.onDimensionsChanged(o);
                }
              };
              A.$r = setTimeout(e, 100);
            }
          }),
          (this.gp = function () {
            var e;
            return (
              this.Dk !== -1
                ? ((e = this.Dk),
                  this.Dk > 0 &&
                    "auto" === A.nav.scroll.style.overflowX &&
                    (e += DayPilot.sh(A.nav.scroll)))
                : (e = this.rowlist.length * this.Ma.Qn()),
              (e += A.jl.bottom.height)
            );
          }),
          (this.gb = function () {
            this.ib(),
              A.cs &&
                (this.hb(),
                this.es(),
                this.Tp(),
                this.cp(),
                A.cellBubble && A.cellBubble.hideOnMouseOut(),
                A.bubble && A.bubble.hideOnMouseOut(),
                A.groupBubble && A.groupBubble.hideOnMouseOut(),
                (A.cs = !1));
          }),
          (this.jl = {}),
          (this.jl.top = {}),
          (this.jl.top.height = 0),
          (this.jl.top.rowlist = []),
          (this.jl.top.enabled = function () {
            return this.rowlist && this.rowlist.length > 0;
          }),
          Object.defineProperty(A.jl.top, "top", {
            get: function () {
              return A.Gl() + 1;
            },
          }),
          Object.defineProperty(A.jl.top, "right", {
            get: function () {
              return A.Vr();
            },
          }),
          Object.defineProperty(A.jl.top, "heightRes", {
            get: function () {
              return this.height;
            },
          }),
          (this.jl.bottom = {}),
          (this.jl.bottom.height = 0),
          (this.jl.bottom.rowlist = []),
          (this.jl.bottom.enabled = function () {
            return this.rowlist && this.rowlist.length > 0;
          }),
          Object.defineProperty(A.jl.bottom, "top", {
            get: function () {
              return (
                A.Gl() + A.Re() - this.height - DayPilot.sh(A.nav.scroll) + 1
              );
            },
          }),
          Object.defineProperty(A.jl.bottom, "right", {
            get: function () {
              return A.Vr();
            },
          }),
          Object.defineProperty(A.jl.bottom, "heightRes", {
            get: function () {
              return this.height + DayPilot.sh(A.nav.scroll);
            },
          }),
          (this.jl.main = {}),
          (this.Pr = function () {
            var e = A.jl.main;
            (e.divCells = A.divCells),
              (e.divLines = A.divLines),
              (e.divBreaks = A.divBreaks),
              (e.divHeader = A.divHeader),
              (e.divEvents = A.divEvents),
              (e.divShadow = A.divShadow),
              (e.divHover = A.divHover),
              (e.divCrosshair = A.divCrosshair),
              (e.div = A.nav.scroll),
              Object.defineProperty(A.jl.main, "rowlist", {
                get: function () {
                  return A.rowlist;
                },
              }),
              Object.defineProperty(A.jl.main, "top", {
                get: function () {
                  return A.Gl() + 1;
                },
              }),
              Object.defineProperty(A.jl.main, "height", {
                get: function () {
                  return A.Dk;
                },
              });
          }),
          (this.Hr = function () {
            var e = A.jl.top,
              t = e.top,
              n = e.height,
              i = c();
            return (
              (i.style.position = "absolute"),
              (i.style.left = "0px"),
              (i.style.right = "0px"),
              (i.style.top = t + "px"),
              (i.style.height = n + "px"),
              (i.style.overflow = "hidden"),
              (i.style.boxSizing = "border-box"),
              (i.rows = []),
              (e.divHeader = i),
              i
            );
          }),
          (this.Ir = function () {
            var e = A.jl.bottom,
              t = e.top,
              n = e.height,
              i = c();
            (i.style.position = "absolute"),
              (i.style.left = "0px"),
              (i.style.right = "0px"),
              (i.style.top = t + "px"),
              (i.style.height = n + "px"),
              (i.style.overflow = "hidden"),
              (i.style.boxSizing = "border-box");
            var a = c();
            (a.style.position = "absolute"),
              (a.style.height = "500px"),
              (a.style.top = e.height + "px"),
              (a.style.left = "0px"),
              (a.style.width = A.Wp() + "px"),
              (a.className = A.ca("_rowheader")),
              i.appendChild(a),
              (i.rows = []);
            var r = c();
            return (
              i.appendChild(r),
              (i.eq = r),
              A.Xr(i),
              (e.divHeader = i),
              (e.divSpace = a),
              i
            );
          }),
          (this.Mr = function () {
            var e = A.jl.top,
              t = e.top,
              n = e.height,
              i = c();
            return (
              (i.style.position = "absolute"),
              (i.style.left = "0px"),
              (i.style.right = "0px"),
              (i.style.top = t + "px"),
              (i.style.height = n + "px"),
              (i.style.overflow = "hidden"),
              (i.className = A.ca("_grid_top")),
              (i.onmousedown = A.fs),
              (i.onmousemove = A.Up),
              (i.oncontextmenu = A.hs),
              (i.onmouseup = A.ks),
              (i.ondblclick = this.ls),
              (A.nav.fixedTop = i),
              (e.div = i),
              g(A.ms(i), e),
              i
            );
          }),
          (this.Nr = function () {
            var e = A.jl.bottom,
              t = e.top,
              n = e.height,
              i = c();
            return (
              (i.style.position = "absolute"),
              (i.style.left = "0px"),
              (i.style.right = "0px"),
              (i.style.bottom = t + "px"),
              (i.style.height = n + "px"),
              (i.style.overflow = "hidden"),
              (i.className = A.ca("_grid_bottom")),
              (i.onmousedown = A.fs),
              (i.onmousemove = A.Up),
              (i.oncontextmenu = A.hs),
              (i.onmouseup = A.ks),
              (i.ondblclick = this.ls),
              (A.nav.fixedBottom = i),
              (e.div = i),
              g(A.ms(i), e),
              i
            );
          }),
          (this.ms = function (e) {
            var t = c();
            (t.style.position = "absolute"), e.appendChild(t);
            var n = c();
            (n.style.position = "absolute"), e.appendChild(n);
            var i = c();
            (i.style.position = "absolute"), e.appendChild(i);
            var a = c();
            (a.style.position = "absolute"), e.appendChild(a);
            var r = c();
            (r.style.position = "absolute"), e.appendChild(r);
            var o = c();
            (o.style.position = "absolute"),
              (o.style.left = "0px"),
              (o.style.width = "100000px"),
              (o.style.bottom = "0px"),
              (o.style.height = "1px"),
              e.appendChild(o);
            var s = c();
            (s.style.position = "absolute"), e.appendChild(s);
            var l = c();
            return (
              (l.style.position = "absolute"),
              e.appendChild(l),
              {
                divCells: t,
                divLines: n,
                divBreaks: i,
                divEvents: r,
                divShadow: l,
                divHover: s,
                divCrosshair: a,
              }
            );
          }),
          (this.Ll = function () {
            var e = A.jl.top,
              t = A.jl.bottom;
            E(e),
              E(t),
              (A.divStretch.style.height = A.Dk + t.height + "px"),
              (A.nav.dividerTop.style.top = e.top + e.height - 1 + "px"),
              (A.nav.dividerTop.style.right = e.right + "px"),
              A.ns(A.nav.dividerTop, e.enabled()),
              (A.nav.dividerBottom.style.top = t.top - 1 + "px"),
              (A.nav.dividerBottom.style.right = t.right + "px"),
              A.ns(A.nav.dividerBottom, t.enabled());
          }),
          (this.ns = function (e, t) {
            e.style.display = t ? "" : "none";
          }),
          (this.Vl = function () {
            var e = A.rowlist;
            return (
              (e = e.concat(A.jl.top.rowlist)),
              (e = e.concat(A.jl.bottom.rowlist))
            );
          }),
          (this.os = function () {
            return (
              A.rowlist.length > 0 ||
              A.jl.top.rowlist.length > 0 ||
              A.jl.bottom.rowlist.length > 0
            );
          }),
          (this.ps = function () {
            this.Pe(), this.qs();
          }),
          (this.Lr = function () {
            var e = c();
            if (
              ((e.style.overflow = "auto"),
              (e.style.overflowX = "auto"),
              (e.style.overflowY = "auto"),
              (e.style.height = this.Re() + "px"),
              "Top" === A.timeHeaderPosition
                ? ((e.style.top = this.Gl() + 1 + "px"),
                  (e.style.position = "absolute"))
                : (e.style.position = "relative"),
              (e.style.width = "100%"),
              (e.className = this.ca("_scrollable")),
              (e.oncontextmenu = function () {
                return !1;
              }),
              this.Yr(e),
              A.overrideWheelScrolling)
            ) {
              var t = A.Tr();
              (e.onwheel = function (n) {
                var i = n.deltaY > 0 ? t : -t;
                (A.nav.scroll.scrollTop = e.scrollTop + i), n.preventDefault();
              }),
                (e.onmousewheel = function (n) {
                  var i = n.wheelDelta < 0 ? t : -t;
                  (A.nav.scroll.scrollTop = e.scrollTop + i),
                    n.preventDefault(),
                    (n.returnValue = !1);
                });
            }
            DayPilot.rePassive(e, "wheel", A.In),
              (this.nav.scroll = e),
              (this.kl = c());
            var n = this.kl;
            (n.style.MozUserSelect = "none"),
              (n.style.KhtmlUserSelect = "none"),
              (n.style.webkitUserSelect = "none"),
              (n.daypilotMainD = !0),
              (n.calendar = this),
              (n.style.minHeight = "1px"),
              i && (n.style.webkitTransform = "translateZ(0px)"),
              (n.style.position = "absolute");
            var a = this.Bl();
            return (
              a > 0 && !isNaN(a) && (n.style.width = a + "px"),
              n.setAttribute("unselectable", "on"),
              (n.onmousedown = this.fs),
              (n.onmousemove = this.Up),
              (n.onmouseup = this.ks),
              (n.oncontextmenu = this.hs),
              (n.ondblclick = this.ls),
              (n.className = this.ca("_matrix")),
              (this.divStretch = c()),
              (this.divStretch.style.position = "absolute"),
              (this.divStretch.style.height = "1px"),
              n.appendChild(this.divStretch),
              (this.divCells = c()),
              (this.divCells.style.position = "absolute"),
              (this.divCells.oncontextmenu = this.hs),
              n.appendChild(this.divCells),
              (this.divLines = c()),
              (this.divLines.style.position = "absolute"),
              (this.divLines.oncontextmenu = this.hs),
              n.appendChild(this.divLines),
              (this.divBreaks = c()),
              (this.divBreaks.style.position = "absolute"),
              (this.divBreaks.oncontextmenu = this.hs),
              n.appendChild(this.divBreaks),
              (this.divSeparators = c()),
              (this.divSeparators.style.position = "absolute"),
              (this.divSeparators.oncontextmenu = this.hs),
              n.appendChild(this.divSeparators),
              (this.divLinksBelow = c()),
              (this.divLinksBelow.style.position = "absolute"),
              n.appendChild(this.divLinksBelow),
              (this.divCrosshair = c()),
              (this.divCrosshair.style.position = "absolute"),
              (this.divCrosshair.ondblclick = this.ls),
              (this.divCrosshair.onmousedown = this.Vf),
              n.appendChild(this.divCrosshair),
              (this.divRange = c()),
              (this.divRange.style.position = "absolute"),
              (this.divRange.oncontextmenu = this.hs),
              n.appendChild(this.divRange),
              (this.divEvents = c()),
              (this.divEvents.style.position = "absolute"),
              n.appendChild(this.divEvents),
              (this.divSeparatorsAbove = c()),
              (this.divSeparatorsAbove.style.position = "absolute"),
              (this.divSeparatorsAbove.oncontextmenu = this.hs),
              n.appendChild(this.divSeparatorsAbove),
              (this.divLinksAbove = c()),
              (this.divLinksAbove.style.position = "absolute"),
              n.appendChild(this.divLinksAbove),
              (this.divLinkShadow = c()),
              (this.divLinkShadow.style.position = "absolute"),
              n.appendChild(this.divLinkShadow),
              (this.divLinkpoints = c()),
              (this.divLinkpoints.style.position = "absolute"),
              n.appendChild(this.divLinkpoints),
              (this.divRectangle = c()),
              (this.divRectangle.style.position = "absolute"),
              n.appendChild(this.divRectangle),
              (this.divHover = c()),
              (this.divHover.style.position = "absolute"),
              n.appendChild(this.divHover),
              (this.divShadow = c()),
              (this.divShadow.style.position = "absolute"),
              n.appendChild(this.divShadow),
              e.appendChild(n),
              e
            );
          }),
          (A.In = function (e) {
            A.km(e);
          }),
          (this.rs = {});
        var Y = this.rs;
        (Y.Qh = function () {
          if (!A.nav.overlay) {
            var e = document.createElement("div");
            (e.style.position = "absolute"),
              (e.style.left = "0px"),
              (e.style.right = "0px"),
              (e.style.top = "0px"),
              (e.style.bottom = "0px"),
              (e.className = A.ca("_block")),
              A.nav.top.appendChild(e),
              (A.nav.overlay = e);
          }
        }),
          (Y.D = function () {
            Y.Qh(), (A.nav.overlay.style.display = "");
          }),
          (Y.B = function () {
            A.nav.overlay && (A.nav.overlay.style.display = "none");
          }),
          (this.Qa = function (e) {
            e = e || {};
            var t = e.delay || 0,
              n = A.Ka(e.text || this.loadingLabelText, this.loadingLabelHtml),
              i = "undefined" != typeof e.block ? e.block : A.blockOnCallBack;
            A.ts && window.clearTimeout(A.ts);
            var a = function () {
              (A.loadingLabelVisible || e.text) &&
                ((A.nav.loading.innerHTML = n),
                (A.nav.loading.style.display = "")),
                i && Y.D();
            };
            0 === t ? a() : (A.ts = window.setTimeout(a, t));
          }),
          (this.nb = function (e) {
            this.ts && window.clearTimeout(this.ts),
              (this.nav.loading.style.display = "none"),
              (e || A.blockOnCallBack) && Y.B();
          }),
          (this.loadingStart = function (e) {
            A.Qa(e);
          }),
          (this.loadingStop = function () {
            A.nb(!0);
          }),
          (this.uiBlock = function () {
            Y.D();
          }),
          (this.uiUnblock = function () {
            Y.B();
          }),
          (this.Qg = function () {
            this.startDate = new DayPilot.Date(this.startDate).getDatePart();
          }),
          (this.Tg = function (e) {
            var t = c();
            (t.style.position = "absolute"),
              (t.style.top = "-2000px"),
              (t.style.left = "-2000px"),
              (t.className = this.ca(e)),
              d().appendChild(t);
            var n = t.offsetHeight,
              i = t.offsetWidth;
            d().removeChild(t);
            var a = {};
            return (a.height = n), (a.width = i), a;
          }),
          (this.Jb = function (e) {
            if (
              (e && (this.autoRefreshEnabled = !0),
              this.autoRefreshEnabled && !(this.ta >= this.autoRefreshMaxCount))
            ) {
              this.Xa();
              var t = this.autoRefreshInterval;
              if (!t || t < 10)
                throw new DayPilot.Exception(
                  "The minimum autoRefreshInterval is 10 seconds"
                );
              this.autoRefreshTimeout = window.setTimeout(function () {
                A.gg();
              }, 1e3 * this.autoRefreshInterval);
            }
          }),
          (this.Xa = function () {
            this.autoRefreshTimeout &&
              (window.clearTimeout(this.autoRefreshTimeout),
              (this.autoRefreshTimeout = null));
          }),
          (this.autoRefreshStart = function (e) {
            A.Jb(e);
          }),
          (this.autoRefreshPause = function () {
            A.Xa();
          }),
          (this.vs = function () {
            return !(o.Oo || o.hm || o.Pp || o.Po);
          }),
          (this.gg = function () {
            if (A.vs()) {
              var e = !1;
              if ("function" == typeof this.onAutoRefresh) {
                var t = {};
                (t.i = this.ta),
                  (t.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  A.onAutoRefresh(t),
                  t.preventDefault.value && (e = !0);
              }
              !e && this.ia() && this.commandCallBack(this.autoRefreshCommand),
                this.ta++;
            }
            this.ta < this.autoRefreshMaxCount &&
              (this.autoRefreshTimeout = window.setTimeout(function () {
                A.gg();
              }, 1e3 * this.autoRefreshInterval));
          }),
          (this.jg = function () {
            o.kg ||
              ((o.kg = !0),
              DayPilot.re(document, "mousemove", o.lg),
              DayPilot.re(document, "mouseup", o.mg),
              DayPilot.re(document, "mousedown", o.ws),
              DayPilot.re(document, "touchend", o.og),
              DayPilot.reNonPassive(document, "touchmove", o.ng),
              DayPilot.re(window, "keyup", o.xs)),
              DayPilot.re(window, "resize", this.Zh),
              DayPilot.re(document, "keydown", this.Kn),
              DayPilot.re(document, "keyup", this.Ln);
          }),
          (this.ys = function () {
            (this.nav.scroll.root = this),
              (this.nav.scroll.onscroll = this.bl),
              (A.lp = this.nav.scroll.scrollLeft),
              (A.jp = this.nav.scroll.scrollTop),
              this.divNorth && (A.zs = this.divNorth.clientWidth);
          }),
          (this.Gj = function () {
            if (this.nav.state) {
              var e = {};
              (e.scrollX = this.nav.scroll.scrollLeft),
                (e.scrollY = this.nav.scroll.scrollTop);
              var t = A.vn(e.scrollX, e.scrollY),
                n = A.wn(t),
                i = A.xn(t);
              (e.rangeStart = n.start),
                (e.rangeEnd = n.end),
                (e.resources = i),
                this.syncResourceTree && (e.tree = this.fb()),
                (this.nav.state.value = DayPilot.he(JSON.stringify(e)));
            }
          }),
          (this.Yk = function () {
            if (this.separators)
              for (var e = 0; e < this.separators.length; e++) this.Hg(e);
          }),
          (this.As = {}),
          (this.As.step = 300),
          (this.As.delay = 10),
          (this.As.mode = "display"),
          (this.As.layers = !1),
          (this.pp = function (e) {
            if (A.zk) return void q.Bs(e);
            for (var t = 0, n = 0; n < e.lines.length; n++) {
              var i = e.lines[n];
              (i.height = 0), (i.top = t);
              for (var a = 0; a < i.length; a++) {
                var r = i[a];
                if ((!r.part.top, !0)) {
                  (r.part.line = n),
                    r.part.height || (r.part.height = e.eventHeight);
                  var o = r.part.Iq();
                  o > i.height && (i.height = o),
                    (r.part.top = t + e.marginTop);
                  var s = "Above" === A.eventVersionPosition;
                  if (A.eventVersionsEnabled && !x(r.versions).isEmpty()) {
                    var l = r.cache || r.data,
                      d = (l.versions.length, r.part.top);
                    s || (d += r.part.height + A.eventVersionMargin),
                      x(l.versions).forEach(function (e, t) {
                        if (r.versions[t]) {
                          var n =
                            t * (A.eventVersionHeight + A.eventVersionMargin);
                          (r.versions[t].top = d + n),
                            s &&
                              ((r.part.top += A.eventVersionHeight),
                              (r.part.top += A.eventVersionMargin));
                        }
                      });
                  }
                  (r.part.right = r.part.left + r.part.width),
                    (r.part.fullTop = e.top + r.part.top),
                    (r.part.fullBottom = r.part.fullTop + r.part.height);
                }
              }
              t +=
                ((i.height || e.eventHeight) * e.eventStackingLineHeight) / 100;
            }
          });
        var q = {};
        (q.yo = function (e) {
          (e.evColumns = x(A.itline).map(function (e, t) {
            return { events: x() };
          })),
            x(e.events).forEach(function (t) {
              var n = t.start(),
                i = A.fm(n);
              e.evColumns[i.i].events.push(t);
            });
        }),
          (q.Hq = function () {
            var e = A.Ak,
              t = 0;
            x(A.rowlist).forEach(function (n) {
              var i = 0;
              n.evColumns.forEach(function (t, a) {
                var r = A.itline[a],
                  o = A.rowMarginTop;
                t.events.forEach(function (t) {
                  (t.part.left = r.left),
                    (t.part.width = r.width),
                    (t.part.top = o),
                    t.part.height ||
                      (e
                        ? (t.part.height = q.Cs(t) + Z.tp())
                        : (t.part.height = n.eventHeight)),
                    (o += t.part.height + A.eventMarginBottom);
                }),
                  (t.height = o),
                  t.height > i && (i = t.height);
              }),
                (n.maxColumnHeight = i),
                (n.top = t);
              var a = n.height;
              (n.height = n.getHeight()),
                i > A.rowMarginTop && (n.height = i + A.rowMarginBottom),
                a !== n.height && (A.Rm = !0),
                (t += n.height);
            }),
              (A.Dk = t);
          }),
          (q.Cs = function (e) {
            var t = e.client.html(),
              n = c();
            (n.style.position = "absolute"),
              (n.style.top = "-2000px"),
              (n.style.left = "-2000px"),
              (n.style.width = e.part.width + "px"),
              (n.className = A.ca(G.event));
            var i = c();
            (i.className = A.ca(G.eventInner)),
              (i.innerHTML = t),
              (i.style.position = "static"),
              (i.style.overflow = "auto"),
              n.appendChild(i);
            var a = A.divEvents;
            a.appendChild(n);
            var r = n.offsetHeight;
            return a.removeChild(n), r;
          }),
          (q.Bs = function (e) {
            q.Hq();
          }),
          (q.Ds = function () {
            x(A.rowlist).forEach(function (e) {
              q.Es(e);
            });
          }),
          (q.Fb = function () {
            q.Ds(), q.Fs(), A.Tk(), A.Bb();
          }),
          (q.Fs = function () {
            if (A.Ak) {
              var e = !1;
              x(A.elements.events).forEach(function (t) {
                var n = t.firstChild,
                  i =
                    n.offsetHeight -
                    n.clientHeight +
                    t.offsetHeight -
                    t.clientHeight,
                  a = n.scrollHeight + i,
                  r = t.event.part.height;
                (t.event.part.height = a), r !== a && (e = !0);
              }),
                e && (A.Ya(), q.Hq(), q.Ds(), A.Uk(), A.Xk());
            }
          }),
          (q.Es = function (e) {
            e.evColumns.forEach(function (e, t) {
              e.events.forEach(function (e) {
                A.Fe(e);
              });
            });
          }),
          (this.zm = null),
          (this.Fb = function (e) {
            if (!A.wa) {
              if (A.zk) return void q.Fb();
              var t = this.As.step;
              this.As.layers;
              "display" === this.As.mode
                ? (this.divEvents.style.display = "none")
                : "visibility" === this.As.mode &&
                  (this.divEvents.style.visibility = "hidden"),
                this.divEvents.setAttribute("role", "region"),
                this.divEvents.setAttribute("aria-label", "scheduler events");
              var n = "Progressive" === this.dynamicEventRendering,
                i = this.Da(),
                a = i.pixels.top,
                r = i.pixels.bottom,
                o = A.allowMultiMove || A.allowMultiResize,
                s = A.rowlist.filter(function (e) {
                  var t = e.top - A.dynamicEventRenderingMargin,
                    i = t + e.height + 2 * A.dynamicEventRenderingMargin;
                  return !(n && !o && (r <= t || a >= i));
                });
              A.jl.top.enabled() && (s = s.concat(A.jl.top.rowlist)),
                A.jl.bottom.enabled() && (s = s.concat(A.jl.bottom.rowlist)),
                s.forEach(function (n) {
                  A.pp(n);
                  for (
                    var i = Math.max(
                        0,
                        (n.resource && n.resource.maxLines) || 1e5
                      ),
                      a = 0;
                    a < n.lines.length;
                    a++
                  ) {
                    var r = n.lines[a];
                    if (!(a >= i))
                      for (var o = 0; o < r.length; o++) {
                        var s = r[o],
                          l = A.Fe(s);
                        if (e && l && (t--, t <= 0))
                          return (
                            (A.divEvents.style.visibility = ""),
                            (A.divEvents.style.display = ""),
                            void (A.zm = window.setTimeout(function () {
                              A.Fb(e);
                            }, A.As.delay))
                          );
                      }
                  }
                }),
                (this.divEvents.style.display = ""),
                x(A.multiselect.Ec).isEmpty() || A.multiselect.redraw(),
                this.ul(),
                B.Wm(),
                this.vo();
            }
          }),
          (this.Tm = function (e, t) {
            var n = A.Mn(t),
              i = n.rowlist[e];
            if (A.zk) return void q.Es(i);
            this.kl.insertBefore(this.divEvents, this.divSeparatorsAbove),
              A.ra.Ik.push(this.divEvents),
              this.pp(i);
            for (var a = 0; a < i.lines.length; a++)
              for (var r = i.lines[a], o = 0; o < r.length; o++) {
                var s = r[o];
                this.Fe(s);
              }
            this.divEvents.style.display = "";
          }),
          (this.Gs = function () {
            var e = A.ra.Ik,
              t = [];
            e.forEach(function (e) {
              0 === e.childNodes.length ? e.remove() : t.push(e);
            }),
              (A.ra.Ik = t);
          }),
          (this.Ya = function () {
            if (this.elements.events)
              for (var e = this.elements.events.length, t = 0; t < e; t++) {
                var n = this.elements.events[t];
                this.De(n);
              }
            this.elements.events = [];
          }),
          (this.Sm = function (e, t) {
            if (((t = t || "main"), this.elements.events)) {
              for (
                var n = this.elements.events.length, i = [], a = 0;
                a < n;
                a++
              ) {
                var r = this.elements.events[a],
                  o = r.event;
                o.part.dayIndex === e &&
                  o.part.grid === t &&
                  (this.De(r), i.push(a));
              }
              for (var a = i.length - 1; a >= 0; a--)
                this.elements.events.splice(i[a], 1);
            }
          }),
          (this.De = function (e) {
            var t = e.domArgs;
            if (
              ((e.domArgs = null),
              t &&
                "function" == typeof A.onDomRemoveEvent &&
                A.onDomRemoveEvent(t),
              t &&
                "function" == typeof A.onBeforeEventDomRemove &&
                A.onBeforeEventDomRemove(t),
              t && "function" == typeof A.onBeforeEventDomAdd && A.Y.reactDOM)
            ) {
              var n = t && t.Be;
              if (n) {
                if (y(t.element)) {
                  if (!A.Y.reactDOM)
                    throw new DayPilot.Exception("Can't reach ReactDOM");
                  A.Y.ja(n);
                }
              }
            }
            e.parentNode && e.parentNode.removeChild(e),
              (e.onclick = null),
              (e.oncontextmenu = null),
              (e.onmouseover = null),
              (e.onmouseout = null),
              (e.onmousemove = null),
              (e.onmousedown = null),
              (e.ondblclick = null),
              e.event && ((e.event.rendered = null), (e.event = null)),
              e.related && C(e.related);
          }),
          (this.Hs = function (e) {
            e.event && (e.event.rendered = !1),
              (e.onclick = null),
              (e.onmousedown = null),
              (e.event = null),
              e.parentNode && e.parentNode.removeChild(e);
          }),
          (this.Is = function () {
            if ("Progressive" === this.dynamicEventRendering) {
              if (A.dynamicEventRenderingCacheSweeping) {
                var e = A.dynamicEventRenderingCacheSize || 0;
                this.divEvents.style.display = "none";
                for (
                  var t = [], n = 0, i = this.elements.events.length, a = i - 1;
                  a >= 0;
                  a--
                ) {
                  var r = this.elements.events[a];
                  this.Js(r.event)
                    ? e > 0
                      ? (e--, t.unshift(r))
                      : (this.De(r), n++)
                    : t.unshift(r);
                }
                (this.elements.events = t), (this.divEvents.style.display = "");
              }
            }
          }),
          (this.Ks = function (e) {
            for (
              var t = [],
                n = 0,
                i = this.Da(),
                a = this.elements.cells.length,
                r = a - 1;
              r >= 0;
              r--
            ) {
              var o = this.elements.cells[r];
              i.xStart < o.coords.x &&
              o.coords.x <= i.xEnd &&
              i.yStart < o.coords.y &&
              o.coords.y <= i.yEnd
                ? t.unshift(o)
                : e > 0
                ? (e--, t.unshift(o))
                : (this.Co(o), n++);
            }
          }),
          (this.Co = function (e) {
            if (e && e.coords) {
              var t = e.coords.x,
                n = e.coords.y,
                i = e.coords.grid;
              !(function () {
                var t = e.domArgs;
                if (
                  ((e.domArgs = null),
                  t &&
                    "function" == typeof A.onBeforeCellDomRemove &&
                    A.onBeforeCellDomRemove(t),
                  t &&
                    "function" == typeof A.onBeforeCellDomAdd &&
                    A.Y.reactDOM)
                ) {
                  var n = t && t.Be;
                  if (n) {
                    if (y(t.element)) {
                      if (!A.Y.reactDOM)
                        throw new DayPilot.Exception("Can't reach ReactDOM");
                      A.Y.ja(n);
                    }
                  }
                }
              })(),
                DayPilot.rfa(A.elements.cells, e),
                C(e),
                (A.ra.cells[i + "_" + t + "_" + n] = null);
            }
          }),
          (this.Vk = function () {
            if (this.elements.separators)
              for (var e = 0; e < this.elements.separators.length; e++) {
                var t = this.elements.separators[e];
                C(t);
              }
            this.elements.separators = [];
          }),
          (this.Ls = function () {
            var e = "Progressive" === this.dynamicEventRendering;
            if (!this.nav.scroll) return !1;
            for (
              var t = this.nav.scroll.scrollTop,
                n = t + this.nav.scroll.clientHeight,
                i = 0;
              i < this.rowlist.length;
              i++
            ) {
              var a = this.rowlist[i],
                r = a.top,
                o = a.top + a.height;
              if (!e || !(n <= r || t >= o))
                for (var s = 0; s < a.lines.length; s++)
                  for (var l = a.lines[s], d = 0; d < l.length; d++) {
                    var c = l[d];
                    if (this.Ms(c)) return !0;
                  }
            }
            return !1;
          }),
          (this.Ms = function (e) {
            if (e.rendered) return !1;
            var t = "Progressive" === this.dynamicEventRendering,
              n = this.nav.scroll.scrollLeft,
              i = n + this.nav.scroll.clientWidth,
              a = e.part.left,
              r = e.part.left + e.part.width;
            return !t || !(i <= a || n >= r);
          }),
          (this.Js = function (e) {
            if (!e.rendered) return !0;
            var t = this.Da(),
              n = t.pixels.top,
              i = t.pixels.bottom,
              a = t.pixels.left - this.dynamicEventRenderingMargin,
              r = t.pixels.right + this.dynamicEventRenderingMargin,
              o = e.part.left,
              s = e.part.right,
              l = e.part.fullTop,
              d = e.part.fullBottom;
            return r <= o || a >= s || i <= l || n >= d;
          }),
          (this.Gq = x()),
          (this.Ns = function (e) {
            if (e.rendered) return !1;
            var t = e.row;
            if (t.hidden) return !1;
            var n = e.min,
              i = e.max - e.min,
              a = A.eventHeight,
              r = e.row.top;
            "number" == typeof t.forcedHeight &&
              (a = Math.min(t.forcedHeight, A.eventHeight));
            var o = c();
            (o.style.position = "absolute"),
              (o.style.left = n + "px"),
              (o.style.top = r + "px"),
              (o.style.width = i + "px"),
              (o.style.height = a + "px"),
              (o.className = A.ca("_event_group")),
              (o.style.cursor = "pointer");
            var s = {};
            (s.group = {}),
              (s.group.count = e.events.length),
              (s.group.events = x(e.events, !0)),
              (s.group.html = "&#x1F7A7; " + e.events.length + " events"),
              (s.group.bubbleHtml = null),
              "function" == typeof A.onBeforeGroupRender &&
                A.onBeforeGroupRender(s);
            var l = c();
            return (
              (l.innerHTML = s.group.html),
              o.appendChild(l),
              (o.onmousedown = function (e) {
                e.cancelBubble = !0;
              }),
              (o.onclick = function (e) {
                var n = o.event;
                (n.expanded = !0), A.Hs(o);
                var i = D(A.elements.events, o);
                i !== -1 && A.elements.events.splice(i, 1);
                var a = A.Gq;
                x(n.events).forEach(function (e) {
                  a.push(e.id());
                }),
                  "undefined" != typeof DayPilot.Bubble &&
                    (DayPilot.Bubble.hideActive(),
                    DayPilot.Bubble.cancelShowing()),
                  A.rm(),
                  A.sm([t]),
                  A.Bb(),
                  A.Fb(),
                  (e.cancelBubble = !0);
              }),
              (o.onmousemove = function (t) {
                if (A.groupBubble) {
                  var n = {};
                  (n.calendar = A),
                    (n.type = "Group"),
                    (n.object = { events: x(e.events, !0) }),
                    (n.staticHTML = s.group.bubbleHtml),
                    (n.div = o),
                    (n.toJSON = function () {
                      var e = {};
                      return (
                        (e.uid = A.uniqueID),
                        (e.type = "Group"),
                        (e.object = n.object),
                        e
                      );
                    }),
                    A.groupBubble.showGroup(n);
                }
              }),
              (o.onmouseout = function (e) {
                A.groupBubble && A.groupBubble.hideOnMouseOut();
              }),
              (e.part = {}),
              (e.part.left = n),
              (e.part.width = i),
              (e.part.height = A.eventHeight),
              (e.part.dayIndex = D(A.rowlist, e.row)),
              (e.part.top = 0),
              (e.part.isBlock = !0),
              (e.part.grid = e.row.grid),
              (e.client = {}),
              (e.client.html = function () {
                return s.group.html;
              }),
              (e.data = {}),
              (o.event = e),
              this.elements.events.push(o),
              this.divEvents.appendChild(o),
              (e.rendered = !0),
              !0
            );
          }),
          (this.Fe = function (e, t) {
            t = t || {};
            var n = t.forced;
            if (e.rendered) return !1;
            if (A.groupConcurrentEvents) {
              var i = e.part.block;
              if (i.events.length > 1 && !i.expanded) return A.Ns(i);
            }
            var a = "Progressive" === this.dynamicEventRendering,
              r = e.part.dayIndex,
              o = e.part.grid || "main",
              s = A.jl[o],
              l = s.divEvents,
              d = s.rowlist,
              u = d[r];
            if (u.hidden) return !1;
            var h = Math.max(0, u.resource.maxLines || 1e5);
            if (e.part.line >= h) return !1;
            var v = u.top,
              m = this.Da(),
              g = m.pixels.left - this.dynamicEventRenderingMargin,
              b = m.pixels.right + this.dynamicEventRenderingMargin,
              w = m.pixels.top,
              k = m.pixels.bottom,
              C = e.part.left,
              D = e.part.left + e.part.width,
              S = e.part.top + v,
              _ = S + e.part.height,
              E = A.multiselect.pd(e),
              T = b <= C || g >= D,
              H = "main" === o && (k <= S || w >= _);
            if (!n && !E && a && (T || H)) return !1;
            var M = "Milestone" === e.data.type,
              R = e.part.width,
              B = e.part.height,
              P = e.cache || e.data;
            (R = p(0, R)), (B = p(0, B));
            var N = c();
            if (
              ((N.related = []),
              (function (t) {
                A.eventVersionsEnabled &&
                  x(P.versions).forEach(function (n, i) {
                    if (n) {
                      var a = e.versions[i];
                      if (a) {
                        var r = c();
                        (r.style.position = "absolute"),
                          (r.style.overflow = "hidden"),
                          (r.style.left = a.left + "px"),
                          (r.style.top = v + a.top + "px"),
                          (r.style.width = a.width + "px"),
                          (r.style.height = A.eventVersionHeight + "px"),
                          (r.className =
                            A.ca(G.event) +
                            " " +
                            A.ca("_event_previous") +
                            " " +
                            A.ca("_event_version")),
                          (r.onmousedown = function (e) {
                            e.preventDefault(), e.stopPropagation();
                          }),
                          n.toolTip && (r.title = n.toolTip),
                          n.cssClass && f(r, n.cssClass);
                        var o = c();
                        o.setAttribute("unselectable", "on"),
                          (o.className = A.ca(G.eventInner)),
                          (o.innerHTML = A.Ka(n.text, n.html)),
                          n.backColor && (o.style.background = n.backColor),
                          n.fontColor && (o.style.color = n.fontColor),
                          n.borderColor &&
                            (o.style.borderColor = n.borderColor),
                          n.backImage &&
                            ((o.style.backgroundImage =
                              "url(" + n.backImage + ")"),
                            n.backRepeat &&
                              (o.style.backgroundRepeat = n.backRepeat)),
                          r.appendChild(o),
                          a.continueLeft &&
                            !M &&
                            f(r, A.ca("_event_continueleft")),
                          a.continueRight &&
                            !M &&
                            f(r, A.ca("_event_continueright"));
                        var s = A.durationBarVisible && !n.barHidden,
                          d = a.width;
                        if (s && d > 0) {
                          var u = (100 * a.barLeft) / d,
                            h = Math.ceil((100 * a.barWidth) / d);
                          "PercentComplete" === A.durationBarMode &&
                            ((u = 0), (h = n.complete || 0));
                          var p = c();
                          p.setAttribute("unselectable", "on"),
                            (p.className = A.ca(G.eventBar)),
                            (p.style.position = "absolute"),
                            n.barBackColor &&
                              (p.style.backgroundColor = n.barBackColor);
                          var m = c();
                          m.setAttribute("unselectable", "on"),
                            (m.className = A.ca(G.eventBarInner)),
                            (m.style.left = u + "%"),
                            0 < h && h <= 1
                              ? (m.style.width = "1px")
                              : (m.style.width = h + "%"),
                            n.barColor &&
                              (m.style.backgroundColor = n.barColor),
                            n.barImageUrl &&
                              (m.style.backgroundImage =
                                "url(" + n.barImageUrl + ")"),
                            p.appendChild(m),
                            r.appendChild(p);
                        }
                        if (n.htmlLeft) {
                          var g = A.eventHtmlLeftMargin,
                            y = c();
                          (y.style.position = "absolute"),
                            (y.style.right = -(a.left - g) + "px"),
                            (y.style.top = v + a.top + "px"),
                            (y.style.height = A.eventVersionHeight + "px"),
                            (y.style.boxSizing = "border-box"),
                            (y.innerHTML = n.htmlLeft),
                            (y.className = A.ca("_event_left")),
                            (y.type = "divLeft"),
                            (y.versionPart = a),
                            t.related.push(y),
                            l.appendChild(y);
                        }
                        if (n.htmlRight) {
                          var g = A.eventHtmlRightMargin,
                            b = c();
                          (b.style.position = "absolute"),
                            (b.style.left = a.left + a.width + g + "px"),
                            (b.style.top = v + a.top + "px"),
                            (b.style.height = A.eventVersionHeight + "px"),
                            (b.style.boxSizing = "border-box"),
                            (b.innerHTML = n.htmlRight),
                            (b.className = A.ca("_event_right")),
                            (b.type = "divRight"),
                            (b.versionPart = a),
                            t.related.push(b),
                            l.appendChild(b);
                        }
                        (r.versionPart = a), (r.type = "version");
                        var w = DayPilot.Areas.resolvePosition(
                          n.areas,
                          A,
                          a.left,
                          a.width
                        );
                        DayPilot.Areas.attach(r, n, { areas: w }),
                          t.related.push(r),
                          l.appendChild(r);
                      }
                    }
                  });
              })(N),
              P.htmlLeft)
            ) {
              var L = A.eventHtmlLeftMargin,
                I = c();
              (I.style.position = "absolute"),
                (I.style.right = -(e.part.left - L) + "px"),
                (I.style.top = v + e.part.top + "px"),
                (I.style.height = A.eventHeight + "px"),
                (I.style.boxSizing = "border-box"),
                (I.innerHTML = P.htmlLeft),
                (I.className = A.ca("_event_left")),
                (I.type = "divLeft"),
                N.related.push(I),
                l.appendChild(I);
            }
            if (P.htmlRight) {
              var L = A.eventHtmlRightMargin,
                z = c();
              (z.style.position = "absolute"),
                (z.style.left = e.part.left + e.part.width + L + "px"),
                (z.style.top = v + e.part.top + "px"),
                (z.style.height = A.eventHeight + "px"),
                (z.style.boxSizing = "border-box"),
                (z.innerHTML = P.htmlRight),
                (z.className = A.ca("_event_right")),
                (z.type = "divRight"),
                N.related.push(z),
                l.appendChild(z);
            }
            var w = v + e.part.top;
            if (A.treeAnimation) {
              var O =
                "number" == typeof u.forcedHeight ? u.forcedHeight : u.height;
              e.part.top + e.part.height > O &&
                (B = Math.max(0, O - e.part.top));
            }
            (N.style.position = "absolute"),
              (N.style.left = e.part.left + A.eventMarginLeft + "px"),
              (N.style.top = v + e.part.top + "px"),
              (N.style.width =
                R - A.eventMarginLeft - A.eventMarginRight + "px"),
              (N.style.height = B + "px"),
              A.eventTextWrappingEnabled || (N.style.whiteSpace = "nowrap"),
              (N.style.overflow = "hidden"),
              (N.className = this.ca(G.event)),
              M && f(N, A.ca("_task_milestone")),
              "Group" === e.data.type &&
                (f(N, A.ca("_task_parent")), f(N, A.ca("_task_group"))),
              P.cssClass && f(N, P.cssClass);
            "number" == typeof e.part.line &&
              f(N, this.ca(G.eventLine + e.part.line)),
              N.setAttribute("unselectable", "on"),
              this.showToolTip &&
                !this.bubble &&
                (N.title = e.client.toolTip() || ""),
              (N.onmousemove = this.Ge),
              (N.onmouseout = this.He),
              (N.onmousedown = this.Ie),
              (N.onmouseup = this.Os),
              DayPilot.reNonPassive(N, "touchstart", J.Ps),
              DayPilot.rePassive(N, "touchmove", J.Qs),
              DayPilot.reNonPassive(N, "touchend", J.Rs),
              e.client.clickEnabled() && (N.onclick = this.bj),
              e.client.doubleClickEnabled() && (N.ondblclick = this._b),
              (N.oncontextmenu = function (e) {
                A.allowDefaultContextMenu || e.preventDefault();
              }),
              "undefined" != typeof P.ariaLabel
                ? N.setAttribute("aria-label", P.ariaLabel)
                : N.setAttribute("aria-label", P.text),
              N.setAttribute("tabindex", "-1");
            var j = c();
            j.setAttribute("unselectable", "on"),
              (j.className = A.ca(G.eventInner)),
              P.backColor && (j.style.background = P.backColor),
              "contrasting" === P.fontColor && P.backColor
                ? (j.style.color = DayPilot.ColorUtil.contrasting(P.backColor))
                : (j.style.color = P.fontColor),
              "darker" === P.borderColor && P.backColor
                ? (j.style.borderColor = DayPilot.ColorUtil.darker(
                    P.backColor,
                    2
                  ))
                : (j.style.borderColor = P.borderColor),
              P.backImage &&
                ((j.style.backgroundImage = "url(" + P.backImage + ")"),
                P.backRepeat && (j.style.backgroundRepeat = P.backRepeat)),
              N.appendChild(j);
            var U = e.start().getTime() === e.part.start.getTime(),
              W = e.rawend().getTime() === e.part.end.getTime();
            if (
              (U || M || f(N, this.ca("_event_continueleft")),
              W || M || f(N, this.ca("_event_continueright")),
              e.client.barVisible() && R > 0 && !M)
            ) {
              var F = (100 * e.part.barLeft) / R,
                Y = Math.ceil((100 * e.part.barWidth) / R);
              "PercentComplete" === this.durationBarMode &&
                ((F = 0), (Y = P.complete || 0)),
                A.durationBarHeight &&
                  (j.style.paddingTop = A.durationBarHeight + "px");
              var q = c();
              q.setAttribute("unselectable", "on"),
                (q.className = this.ca(G.eventBar)),
                (q.style.position = "absolute"),
                A.durationBarHeight &&
                  (q.style.height = A.durationBarHeight + "px"),
                P.barBackColor && (q.style.backgroundColor = P.barBackColor);
              var X = c();
              X.setAttribute("unselectable", "on"),
                (X.className = this.ca(G.eventBarInner)),
                (X.style.left = F + "%"),
                A.durationBarHeight &&
                  (X.style.height = A.durationBarHeight + "px"),
                0 < Y && Y <= 1
                  ? (X.style.width = "1px")
                  : (X.style.width = Y + "%"),
                P.barColor && (X.style.backgroundColor = P.barColor),
                P.barImageUrl &&
                  (X.style.backgroundImage = "url(" + P.barImageUrl + ")"),
                q.appendChild(X),
                N.appendChild(q);
            }
            if (((N.row = r), P.areas)) {
              var V = DayPilot.Areas.resolvePosition(
                P.areas,
                A,
                e.part.left,
                e.part.width
              );
              (V = V.filter(function (e) {
                return DayPilot.Areas.isVisible(e);
              })),
                V.forEach(function (t) {
                  var n = DayPilot.Areas.createArea(N, e, t);
                  N.appendChild(n);
                });
            }
            if (
              ((N.event = e),
              E && (A.multiselect.add(N.event, !0), A.multiselect.Cd(N)),
              (function () {
                if (
                  "function" != typeof A.onBeforeEventDomAdd &&
                  "function" != typeof A.onBeforeEventDomRemove
                )
                  return void (M || (j.innerHTML = e.client.innerHTML()));
                var t = {};
                if (
                  ((t.control = A),
                  (t.e = e),
                  (t.element = null),
                  (N.domArgs = t),
                  "function" == typeof A.onDomAddEvent && A.onDomAddEvent(t),
                  "function" == typeof A.onBeforeEventDomAdd &&
                    A.onBeforeEventDomAdd(t),
                  t.element)
                ) {
                  var n = j;
                  if (n) {
                    t.Be = n;
                    if (y(t.element)) {
                      if (!A.Y.reactDOM)
                        throw new DayPilot.Exception("Can't reach ReactDOM");
                      A.Y.X(t.element, n);
                    } else n.appendChild(t.element);
                  }
                } else M || (j.innerHTML = e.client.innerHTML());
              })(),
              this.elements.events.push(N),
              l.appendChild(N),
              (e.rendered = !0),
              A.Kb())
            ) {
              if ("function" == typeof A.onAfterEventRender) {
                var K = {};
                (K.e = N.event), (K.div = N), A.onAfterEventRender(K);
              }
            } else A.afterEventRender && A.afterEventRender(N.event, N);
            return !0;
          }),
          (this.Ka = function (e, t) {
            return A.Ma.La()
              ? DayPilot.Util.escapeTextHtml(e, t)
              : m(t)
              ? m(e)
                ? ""
                : e
              : t;
          }),
          (this.Kb = function () {
            return 2 === A.api;
          }),
          (this.Um = function () {
            for (var e = 0; e < this.elements.events.length; e++) {
              var t = this.elements.events[e],
                n = t.event,
                i = n.part.dayIndex,
                a = A.Mn(n.part.grid),
                r = a.rowlist[i],
                o = r.top,
                s = o + n.part.top,
                l =
                  "number" == typeof r.forcedHeight ? r.forcedHeight : r.height,
                d = n.part.height,
                c = !1;
              n.part.top + n.part.height > l &&
                ((d = Math.max(0, l - n.part.top)), (c = !0)),
                (t.style.top = s + "px"),
                (t.style.height = d + "px"),
                x(t.related)
                  .filter(function (e) {
                    return !!e.versionPart;
                  })
                  .forEach(function (e) {
                    var t = e.versionPart;
                    e.style.top = o + t.top + "px";
                  }),
                x(t.related)
                  .filter(function (e) {
                    return (
                      !e.versionPart &&
                      ("divLeft" === e.type || "divRight" === e.type)
                    );
                  })
                  .forEach(function (e) {
                    e.style.top = s + "px";
                  });
            }
          }),
          (this.Ng = function (e) {
            if (!e) return null;
            for (var t = 0; t < A.elements.events.length; t++) {
              var n = A.elements.events[t];
              if (A.yd(n.event, e)) return n;
            }
            return null;
          }),
          (this.mo = function (e) {
            var t = A.events.eo(e.data);
            if (!t) return null;
            var n = A.rowlist[t.part.dayIndex];
            return A.pp(n), A.Fe(t, { forced: !0 }), A.Ng(t);
          }),
          (this.He = function (e) {
            var t = this;
            DayPilot.Areas.hideAreas(t, e),
              t.active ||
                (h(t, A.ca("_event_hover")),
                A.Ss(t),
                _.source || B.co(),
                A.bubble &&
                  "Bubble" === A.eventHoverHandling &&
                  A.bubble.hideOnMouseOut());
          }),
          (this.Ts = function (e) {
            var t = {};
            (t.div = e),
              (t.e = e.event),
              "function" == typeof this.onEventMouseOver &&
                this.onEventMouseOver(t),
              "function" == typeof this.onEventMouseEnter &&
                this.onEventMouseEnter(t);
          }),
          (this.Ss = function (e) {
            var t = {};
            (t.div = e),
              (t.e = e.event),
              "function" == typeof this.onEventMouseOut &&
                this.onEventMouseOut(t),
              "function" == typeof this.onEventMouseLeave &&
                this.onEventMouseLeave(t);
          }),
          (this.Us = function (e) {
            var t = e.row,
              n = {};
            (n.div = e),
              (n.row = A.en(t)),
              "function" == typeof this.onRowMouseOver &&
                this.onRowMouseOver(n);
          }),
          (this.Vs = function (e) {
            var t = e.row,
              n = {};
            (n.div = e),
              (n.row = A.en(t)),
              "function" == typeof this.onRowMouseOut && this.onRowMouseOut(n);
          }),
          (this.Ge = function (e) {
            A.cellBubble && A.cellBubble.delayedHide();
            for (var t = this; t && !t.event; ) t = t.parentNode;
            var n = t.event;
            A.Ws(t, e);
            var i = t.event.cache
              ? t.event.cache.deleteDisabled
              : t.event.data.deleteDisabled;
            if (!t.active) {
              var a = [];
              if ("Disabled" !== A.eventDeleteHandling && !i) {
                var r = A.durationBarVisible ? Z.tp() : 0;
                a.push({
                  action: "JavaScript",
                  v: "Hover",
                  w: 17,
                  h: 17,
                  top: r + 2,
                  right: 2,
                  css: A.ca(G.eventDelete),
                  js: function (e) {
                    A.hc(e);
                  },
                });
              }
              var o = t.event.cache ? t.event.cache.areas : t.event.data.areas;
              o &&
                o.length > 0 &&
                ((o = DayPilot.Areas.resolvePosition(
                  o,
                  A,
                  n.part.left,
                  n.part.width
                )),
                (a = a.concat(o))),
                DayPilot.Areas.showAreas(t, t.event, null, a),
                f(t, A.ca("_event_hover")),
                A.Ts(t);
            }
            "Disabled" === A.linkCreateHandling ||
              _.source ||
              (B.Zn(), B.Hm(), A.vs() && B.Xn(t)),
              A.km(e),
              (A.coords.insideEvent = t.event);
          }),
          (this.hm = {}),
          (this.Os = function (e) {
            var t = A.hm;
            if (b(e).right) return void A.bc.call(this, e);
            if (A.ionicEventClickFix) {
              var n = t.Kf;
              if (n) {
                var i = DayPilot.mc(e);
                n.x === i.x &&
                  n.y === i.y &&
                  (A.bj.call(this, e), e.preventDefault(), e.stopPropagation());
              }
            }
          }),
          (this.Ie = function (e) {
            A.gb(),
              "undefined" != typeof DayPilot.Bubble &&
                (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing()),
              A.km(e);
            var t = b(e);
            if ((e.preventDefault(), e.stopPropagation(), t.left)) {
              var n = e.shiftKey;
              if ("Disabled" !== Z.lm() && n) return X.start(), !1;
              "w-resize" === this.style.cursor ||
              "e-resize" === this.style.cursor
                ? ((o.gm = !0),
                  (o.Oo = this),
                  (o.fp = this.event),
                  (o.Kf = DayPilot.mc(e)),
                  (d().style.cursor = this.style.cursor),
                  B.Hm())
                : ("move" === this.style.cursor ||
                    ("Full" === A.moveBy && this.event.client.moveEnabled())) &&
                  A.ae(this, e);
            }
            DayPilot.Menu &&
              DayPilot.Menu.active &&
              (DayPilot.Menu.active.hide(), (DayPilot.Menu.active = null));
          }),
          (this.ae = function (e, t) {
            var n = A.hm;
            A.km(t),
              (n.Xs = !0),
              (n.hm = e),
              (n.Jo = e.event),
              (n.Kf = DayPilot.mc(t)),
              (n.Io = DayPilot.mo3(e, t).x),
              (n.No = A.getDate(A.coords.x, !0)),
              B.Hm();
          }),
          (this.Je = {});
        var J = A.Je;
        "undefined" == typeof w.touch && (w.touch = {}),
          (w.touch.active = !1),
          (w.touch.start = !1),
          (J.im = []),
          (J.relativeCoords = function (e) {
            return J.xg(e);
          }),
          (J.startResizing = function (e, t) {
            J.oe(e, t);
          }),
          (J.startMoving = function (e, t) {
            J.ae(e, t);
          }),
          (J.Ps = function (e) {
            if (!w.touch.active && !w.touch.start) {
              DayPilot.Menu && DayPilot.Menu.touchPosition(e),
                e.stopPropagation(),
                J.Ys(),
                (w.touch.start = !0),
                (w.touch.active = !1);
              var t = this;
              A.coords = J.xg(e);
              var i = A.tapAndHoldTimeout;
              J.im.push(
                window.setTimeout(function () {
                  (w.touch.active = !0),
                    (w.touch.start = !1),
                    e.preventDefault();
                  var i = t.event;
                  switch (A.eventTapAndHoldHandling) {
                    case "Move":
                      if (i.client.moveEnabled()) {
                        var a = n(e);
                        J.ae(t, a);
                      }
                      break;
                    case "ContextMenu":
                      DayPilot.Menu && DayPilot.Menu.touchPosition(e);
                      var r = i.client.contextMenu();
                      r ? r.show(i) : A.contextMenu && A.contextMenu.show(i);
                  }
                }, i)
              );
            }
          }),
          (J.Qs = function (e) {
            J.Ys(), (w.touch.start = !1);
          }),
          (J.Rs = function (e) {
            if (!DayPilot.Util.isMouseEvent(e)) {
              if ((J.Ys(), w.touch.start)) {
                (w.touch.start = !1), e.preventDefault(), e.stopPropagation();
                var t = this;
                window.setTimeout(function () {
                  A.Yb(t, e);
                });
              }
              window.setTimeout(function () {
                (w.touch.start = !1), (w.touch.active = !1);
              }, 500);
            }
          }),
          (J.$e = function (e) {
            if (
              !(
                w.touch.active ||
                w.touch.start ||
                e.touches.length > 1 ||
                "Disabled" === A.timeRangeSelectedHandling
              )
            ) {
              J.Ys(), (w.touch.start = !0), (w.touch.active = !1);
              var t = A.tapAndHoldTimeout;
              J.im.push(
                window.setTimeout(function () {
                  (w.touch.active = !0),
                    (w.touch.start = !1),
                    e.preventDefault(),
                    (A.coords = J.xg(e)),
                    A.Zs(A.coords) ? A.$s(e) : (J.Po = A._s());
                }, t)
              );
              A.coords = J.xg(e);
            }
          }),
          (J._e = function (e) {
            if ((J.Ys(), (w.touch.start = !1), o.Oo))
              return e.preventDefault(), void J.Bg();
            if (w.touch.active) {
              if ((e.preventDefault(), (A.coords = J.xg(e)), o.hm))
                return void J.Cg();
              if (J.Po) {
                var t = J.Po;
                (t.end = {
                  x: Math.floor(A.coords.x / A.cellWidth),
                  time: A.getDate(A.coords.x, !0),
                }),
                  A.an(t);
              }
            }
          }),
          (J.debug = function (e) {}),
          (J.af = function (e) {
            J.Ys();
            if (w.touch.active) {
              if (o.hm) {
                e.preventDefault();
                var t = o.Jo;
                if (A !== o.Lp.calendar) return;
                var n = o.Lp.start,
                  i = o.Lp.end,
                  a = "Days" !== A.viewType ? o.Lp.row.id : null,
                  r = o.Pp && t.part.external,
                  s = o.Lp.overlapping,
                  l = !o.Lp.allowed;
                if (
                  (h(o.hm, A.ca(A.at.eventMovingSource)),
                  C(o.Lp),
                  A.Tp(),
                  (o.Lp.calendar = null),
                  (d().style.cursor = ""),
                  (o.hm = null),
                  (o.Jo = null),
                  (o.Lp = null),
                  A.Jp.clear(),
                  s || l || A.Jp.forbidden || A.Jp.invalid)
                )
                  return;
                A.sc(t, n, i, a, r);
              }
              if (J.Po) {
                var c = J.Po;
                J.Po = null;
                var u = A.elements.range2;
                u && u.overlapping ? A.clearSelection() : ((A._m = c), A.Ym(c));
              }
            } else if (w.touch.start) {
              if (A.coords.x < A.getScrollX()) return;
              var c = A._s();
              A.an(c);
              var u = A.elements.range2;
              u && u.overlapping ? A.clearSelection() : ((A._m = c), A.Ym(c));
            }
            window.setTimeout(function () {
              (w.touch.start = !1), (w.touch.active = !1);
            }, 500);
          }),
          (J.Ys = function () {
            for (var e = 0; e < J.im.length; e++) clearTimeout(J.im[e]);
            J.im = [];
          }),
          (J.xg = function (e) {
            function t(e, t, n) {
              var i = DayPilot.abs(n);
              return {
                x: e - i.x,
                y: t - i.y,
                toString: function () {
                  return "x: " + this.x + ", y:" + this.y;
                },
              };
            }
            var n = A.kl,
              i = e.touches ? e.touches[0] : e,
              a = i.pageX,
              r = i.pageY,
              o = t(a, r, n);
            if (((o.grid = "main"), A.jl.top.enabled())) {
              var s = A.jl.top,
                l = t(a, r, s.divCells);
              l.y > 0 && l.y <= s.height && ((o = l), (o.grid = "top"));
            }
            if (A.jl.bottom.enabled()) {
              var d = A.jl.bottom,
                c = t(a, r, d.divCells);
              c.y > 0 && c.y <= s.height && ((o = c), (o.grid = "bottom"));
            }
            return o;
          }),
          (J.ae = function (e, t) {
            (o.hm = e), (o.Jo = e.event), (o.Kf = t);
            var n = DayPilot.abs(e);
            (o.Io = t.x - n.x),
              (o.No = A.getDate(A.coords.x, !0)),
              (o.Lp = A.Lb(e)),
              A.bp();
          }),
          (J.oe = function (e, t) {
            (o.Oo = e),
              (o.fp = e.event),
              (o.Oo.dpBorder = t),
              o.ep || (o.ep = A.Lb(e)),
              A.Mp();
          }),
          (J.Bg = function () {
            if (!o.ep) {
              var e = o.Oo;
              o.ep = A.Lb(e);
            }
            A.Mp();
            var t = { x: A.coords.x, y: A.coords.y, grid: A.coords.grid };
            A.Of(t);
          }),
          (J.Cg = function () {
            if ((o.Lp && o.Lp.calendar !== A && A.Tp(), !o.Lp)) {
              var e = o.hm;
              o.Lp = A.Lb(e);
            }
            o.Lp.calendar.bp();
            var t = { x: A.coords.x, y: A.coords.y, grid: A.coords.grid };
            A.Of(t);
          }),
          (this.Ws = function (e, t) {
            var n = this.eventResizeMargin,
              i = this.eventMoveMargin,
              a = e;
            if ("undefined" != typeof o) {
              var r = DayPilot.mo3(e, t);
              if (r && ((A.eventOffset = r), !o.Oo && !o.hm)) {
                var s =
                    a.event.part.start.toString() ===
                    a.event.start().toString(),
                  l =
                    a.event.part.end.toString() === a.event.rawend().toString();
                if (
                  ("Top" === A.moveBy &&
                  r.y <= i &&
                  a.event.client.moveEnabled() &&
                  "Disabled" !== A.eventMoveHandling
                    ? (e.style.cursor = "move")
                    : ("Top" === A.moveBy || "Full" === A.moveBy) &&
                      r.x <= n &&
                      a.event.client.resizeEnabled() &&
                      "Disabled" !== A.eventResizeHandling
                    ? s
                      ? ((e.style.cursor = "w-resize"), (e.dpBorder = "left"))
                      : (e.style.cursor = "not-allowed")
                    : "Left" === A.moveBy &&
                      r.x <= i &&
                      a.event.client.moveEnabled() &&
                      "Disabled" !== A.eventMoveHandling
                    ? (e.style.cursor = "move")
                    : e.offsetWidth - r.x <= n &&
                      a.event.client.resizeEnabled() &&
                      "Disabled" !== A.eventResizeHandling
                    ? l
                      ? ((e.style.cursor = "e-resize"), (e.dpBorder = "right"))
                      : (e.style.cursor = "not-allowed")
                    : o.Oo ||
                      o.hm ||
                      (a.event.client.clickEnabled() &&
                      "Disabled" !== A.eventClickHandling
                        ? (e.style.cursor = "pointer")
                        : (e.style.cursor = "default")),
                  "undefined" != typeof DayPilot.Bubble &&
                    A.bubble &&
                    "Bubble" === A.eventHoverHandling &&
                    ("default" === e.style.cursor ||
                      "pointer" === e.style.cursor))
                ) {
                  this.Dg && r.x === this.Dg.x && r.y === this.Dg.y;
                  (this.Dg = r), A.bubble.showEvent(e.event);
                }
              }
            }
          }),
          (this.kp = function () {
            return "Days" !== this.viewType
              ? this.itline.length
              : Math.floor(1440 / this.cellDuration);
          }),
          (this.Zm = function (e) {
            var e = e || o.Po || A._m;
            if (!e) return null;
            var t = A.Mn(e.start.grid),
              n = t.rowlist[e.start.y];
            if (!n) return null;
            var i = e.bt ? e.bt : e,
              a = i.end.time > i.start.time,
              r = n.id,
              s = a ? i.start.x : i.end.x,
              l = a ? i.end.x : i.start.x,
              d = n.start.getTime() - this.Tb().getTime(),
              c = A.snapToGrid && A.snapToGridTimeRangeSelecting;
            e.forceSnap && (c = !0);
            var u, h;
            c
              ? ((u = this.itline[s].start.addTime(d)),
                (h = this.itline[l].end.addTime(d)))
              : a
              ? ((u = i.start.time), (h = i.end.time))
              : ((u = i.end.time), (h = i.start.time));
            var f = new DayPilot.Selection(u, h, r, A);
            return (f.allowed = !e.div || !e.div.overlapping), f;
          }),
          (this.fd = function (e) {
            var t = e.parentNode,
              n = A.eventEditMinWidth,
              i = (e.event.text() || "").trim(),
              a = document.createElement("textarea");
            return (
              (a.style.position = "absolute"),
              (a.style.width =
                (e.offsetWidth < n ? n : e.offsetWidth - 2) + "px"),
              (a.style.height = e.offsetHeight - 2 + "px"),
              (a.style.fontFamily =
                DayPilot.gs(e, "fontFamily") || DayPilot.gs(e, "font-family")),
              (a.style.fontSize =
                DayPilot.gs(e, "fontSize") || DayPilot.gs(e, "font-size")),
              (a.style.left = e.offsetLeft + "px"),
              (a.style.top = e.offsetTop + "px"),
              (a.style.border = "1px solid black"),
              (a.style.padding = "1px"),
              (a.style.marginTop = "0px"),
              (a.style.backgroundColor = "white"),
              (a.value = i),
              (a.event = e.event),
              t.appendChild(a),
              a
            );
          }),
          (this.ct = function (e) {
            var t = H.Yj();
            t.sort(function (e, t) {
              var n = e.event,
                i = t.event;
              return n.part.dayIndex !== i.part.dayIndex
                ? n.part.dayIndex - i.part.dayIndex
                : n.start() !== i.start()
                ? n.start().getTime() - i.start().getTime()
                : i.end().getTime() - n.end().getTime();
            });
            var n = t.indexOf(e);
            return n === -1 ? null : n + 1 < t.length ? t[n + 1] : t[0];
          }),
          (this.Zb = function (e) {
            if (e) {
              if ((o.no && o.no.blur(), e.event)) {
                var t = e.event;
                K.oo();
                var n = this.fd(e);
                if (
                  ((o.no = n),
                  DayPilot.rePassive(n, DayPilot.touch.start, function (e) {
                    e.stopPropagation();
                  }),
                  (n.onblur = function () {
                    if (
                      ((n.onblur = null),
                      o.no === n && (o.no = null),
                      n.parentNode && n.parentNode.removeChild(n),
                      e.event)
                    ) {
                      var t = (e.event.text(), n.value);
                      A.Cc(e.event, t, n.canceling);
                    }
                  }),
                  (n.onmousedown = function (e) {
                    e.stopPropagation && e.stopPropagation();
                  }),
                  (n.cancel = function () {
                    o.no && ((o.no.canceling = !0), o.no.blur());
                  }),
                  (n.onkeydown = function (i) {
                    if ("function" == typeof A.onEventEditKeyDown) {
                      var a = {};
                      if (
                        ((a.e = e.event),
                        (a.element = n),
                        (a.preventDefault = function () {
                          a.preventDefault.value = !0;
                        }),
                        (a.submit = function () {
                          n.onblur();
                        }),
                        (a.cancel = function () {
                          o.no.cancel();
                        }),
                        (a.originalEvent = i),
                        A.onEventEditKeyDown(a),
                        a.preventDefault.value)
                      )
                        return;
                    }
                    var r = o.no,
                      s = i.keyCode;
                    if (
                      (13 === s && (i.stopPropagation(), this.onblur()),
                      27 === s)
                    )
                      r.cancel();
                    else if (9 === s && A.eventEditTabNext) {
                      var l = A.Ng(t),
                        d = A.ct(l);
                      return (
                        r && r.cancel(),
                        d &&
                          setTimeout(function () {
                            A.Zb(d);
                          }, 0),
                        !1
                      );
                    }
                  }),
                  "function" == typeof A.onAfterEventEditRender)
                ) {
                  var i = {};
                  (i.element = n), (i.e = e.event), A.onAfterEventEditRender(i);
                }
                n.select(), n.focus();
              }
            }
          }),
          (this.dt = {}),
          (this.dt.resource = (function () {
            return "undefined" != typeof DayPilot.Bubble
              ? new DayPilot.Bubble()
              : {
                  showResource: function () {},
                  hideOnMouseOut: function () {},
                };
          })()),
          (this.dt.cell = (function () {
            return "undefined" != typeof DayPilot.Bubble
              ? new DayPilot.Bubble()
              : {
                  showResource: function () {},
                  hideOnMouseOut: function () {},
                };
          })()),
          (this.mq = function (e) {
            var t = this,
              n = t.row;
            if (
              (A.ib(),
              (A.et = !0),
              clearTimeout(A.ft),
              (A.ft = setTimeout(function () {
                A.et = !1;
              }, 500)),
              "undefined" != typeof DayPilot.Bubble)
            ) {
              A.cellBubble;
              var i = A.en(n);
              (i.div = t),
                A.resourceBubble
                  ? A.resourceBubble.showResource(i)
                  : n.bubbleHtml && A.dt.resource.showResource(i);
            }
          }),
          (this.kq = function (e) {
            var t = this;
            t.active || ((t.active = !0), A.Us(t));
          }),
          (this.lq = function (e) {
            var t = this;
            delete t.active, A.Vs(t);
          }),
          (this.nq = function (e) {
            var t = this;
            "undefined" != typeof DayPilot.Bubble && A.resourceBubble
              ? A.resourceBubble.hideOnMouseOut()
              : A.dt.resource.hideOnMouseOut();
            var n = t.firstChild;
            DayPilot.Areas.hideAreas(n, e), (n.data = null);
          }),
          (this.oq = function (e) {
            S.row &&
              ((U.cancelClick = !0),
              setTimeout(function () {
                U.cancelClick = !1;
              }, 100)),
              A.Zq && ((A.Zq = !1), clearTimeout(A.$q), A.qq.call(this, e));
          }),
          (this.Rk = function () {
            if ("None" !== A.timeHeaderPosition && this.timeHeader) {
              (this.ra.timeHeader = {}),
                A.elements.timeHeader.length > 0 &&
                  (A.Fn(), (A.elements.timeHeader = []));
              var e = c();
              (e.style.position = "relative"), (this.nav.timeHeader = e);
              for (var t = 0; t < this.timeHeader.length; t++)
                for (var n = this.timeHeader[t], i = 0; i < n.length; i++)
                  this.gt(i, t);
              var a = this.divNorth;
              if (1 === a.childNodes.length) a.replaceChild(e, a.childNodes[0]);
              else {
                if (DayPilot.browser.ie && a && a.firstChild) {
                  for (
                    var r = [], o = 0;
                    o < a.firstChild.childNodes.length;
                    o++
                  )
                    r.push(a.firstChild.childNodes[o]);
                  C(r);
                }
                (a.innerHTML = ""), a.appendChild(e);
              }
              var s = this.Bl();
              (a.style.width = s + 5e3 + "px"),
                s > 0 && (this.divStretch.style.width = s + "px"),
                A.ht();
            }
          }),
          (this.ab = function () {
            if (A.divCorner) {
              var e = A.divCorner && A.divCorner.domArgs;
              if (
                ((A.divCorner.domArgs = null),
                e &&
                  ("function" == typeof A.onBeforeCornerDomRemove &&
                    A.onBeforeCornerDomRemove(e),
                  "function" == typeof A.onBeforeCornerDomAdd && A.Y.reactDOM))
              ) {
                var t = A.divCorner;
                if (t) {
                  if (y(e.element)) {
                    if (!A.Y.reactDOM)
                      throw new DayPilot.Exception("Can't reach ReactDOM");
                    A.Y.ja(t);
                  }
                }
              }
            }
          }),
          (this.bm = function (e, t) {
            var n = null,
              i = this.Ma.Oc(),
              t = t || this.cellGroupBy,
              a = e.start;
            e.end;
            switch (t) {
              case "Minute":
                n = a.toString("m");
                break;
              case "Hour":
                n =
                  "Clock12Hours" === A.Ma.Nc()
                    ? a.toString("h tt", i)
                    : a.toString("H", i);
                break;
              case "Day":
                n = a.toString(i.datePattern);
                break;
              case "Week":
                n = 1 === Z.Kd() ? a.weekNumberISO() : a.weekNumber();
                break;
              case "Month":
                n = a.toString("MMMM yyyy", i);
                break;
              case "Quarter":
                n = "Q" + Math.floor(a.getMonth() / 3 + 1);
                break;
              case "Year":
                n = a.toString("yyyy");
                break;
              case "None":
                n = "";
                break;
              case "Cell":
                var r = (e.end.ticks - e.start.ticks) / 6e4;
                n = this.it(a, r);
                break;
              default:
                throw new DayPilot.Exception("Invalid groupBy value: " + t);
            }
            return n;
          }),
          (this.it = function (e, t) {
            var n = this.Ma.Oc(),
              t = t || this.cellDuration;
            return t < 1
              ? e.toString("ss")
              : t < 60
              ? e.toString("mm")
              : t < 1440
              ? "Clock12Hours" === A.Ma.Nc()
                ? e.toString("h tt", n)
                : e.toString("H", n)
              : t < 10080
              ? e.toString("d")
              : 10080 === t
              ? 1 === Z.Kd()
                ? e.weekNumberISO()
                : e.weekNumber()
              : e.toString("MMMM yyyy", n);
          }),
          (this.Zl = function (e) {
            var t = this.scale;
            switch (t) {
              case "Cell":
                throw new DayPilot.Exception("Invalid scale: Cell");
              case "Manual":
                throw new DayPilot.Exception(
                  "Internal error (addScaleSize in Manual mode)"
                );
              case "CellDuration":
                return e.addMinutes(this.cellDuration);
              default:
                return this._l(e, t, !0);
            }
          }),
          (this._l = function (e, t, n) {
            var i, a;
            if (n) {
              var r = "Days" !== this.viewType ? this.days : 1;
              (a = this.startDate.addDays(r)),
                "Manual" === A.scale && (a = A.Xd());
            } else
              (a = A.Xd()),
                "Days" === A.viewType && (a = A.startDate.addDays(1));
            var t = t || this.cellGroupBy,
              o = 60;
            switch (t) {
              case "Minute":
                e.getMinutes() + e.getSeconds() + e.getMilliseconds() > 0 &&
                  (e = e
                    .getDatePart()
                    .addHours(e.getHours())
                    .addMinutes(e.getMinutes())),
                  (i = e.addMinutes(1));
                break;
              case "Hour":
                e.getHours() +
                  e.getMinutes() +
                  e.getSeconds() +
                  e.getMilliseconds() >
                  0 && (e = e.getDatePart().addHours(e.getHours())),
                  (i = e.addHours(1));
                break;
              case "Day":
                i = e.getDatePart().addDays(1);
                break;
              case "Week":
                for (i = e.getDatePart().addDays(1); i.dayOfWeek() !== Z.Kd(); )
                  i = i.addDays(1);
                break;
              case "Month":
                (e = e.getDatePart()),
                  (i = e.addMonths(1)),
                  (i = i.firstDayOfMonth());
                for (
                  var s = (DayPilot.DateUtil.diff(i, e) / 6e4) % o === 0;
                  !s;

                )
                  (i = i.addHours(1)),
                    (s = (DayPilot.DateUtil.diff(i, e) / 6e4) % o === 0);
                break;
              case "Quarter":
                for (
                  e = e.getDatePart(),
                    i = e.addMonths(1),
                    i = i.firstDayOfMonth();
                  i.getMonth() % 3;

                )
                  i = i.addMonths(1);
                for (
                  var s = (DayPilot.DateUtil.diff(i, e) / 6e4) % o === 0;
                  !s;

                )
                  (i = i.addHours(1)),
                    (s = (DayPilot.DateUtil.diff(i, e) / 6e4) % o === 0);
                break;
              case "Year":
                (e = e.getDatePart()),
                  (i = e.addYears(1)),
                  (i = i.firstDayOfYear());
                for (
                  var s = (DayPilot.DateUtil.diff(i, e) / 6e4) % o === 0;
                  !s;

                )
                  (i = i.addHours(1)),
                    (s = (DayPilot.DateUtil.diff(i, e) / 6e4) % o === 0);
                break;
              case "None":
                i = a;
                break;
              case "Cell":
                var l = this.fm(e);
                i = l.current
                  ? l.current.end
                  : l.past
                  ? l.previous.end
                  : l.next.start;
                break;
              default:
                throw n
                  ? new DayPilot.Exception("Invalid scale value: " + t)
                  : new DayPilot.Exception("Invalid groupBy value: " + t);
            }
            return i.getTime() > a.getTime() && (i = a), i;
          }),
          (this.at = {}),
          (this.at.timeheadercol = "_timeheadercol"),
          (this.at.timeheadercolInner = "_timeheadercol_inner"),
          (this.at.resourcedivider = "_resourcedivider"),
          (this.at.eventFloat = "_event_float"),
          (this.at.eventFloatInner = "_event_float_inner"),
          (this.at.event = "_event"),
          (this.at.eventInner = "_event_inner"),
          (this.at.eventBar = "_event_bar"),
          (this.at.eventBarInner = "_event_bar_inner"),
          (this.at.eventDelete = "_event_delete"),
          (this.at.eventLine = "_event_line"),
          (this.at.eventMovingSource = "_event_moving_source");
        var G = this.at;
        (this.gt = function (e, t) {
          var n = this.nav.timeHeader,
            i = this.timeHeader[t][e],
            a = e === this.timeHeader[t].length - 1,
            r = t < this.timeHeader.length - 1,
            o = i.left,
            s = i.width,
            l = Q.up(t),
            d = l.top,
            u = l.height,
            h = c();
          (h.style.position = "absolute"),
            (h.style.top = d + "px"),
            (h.style.left = o + "px"),
            (h.style.width = s + "px"),
            (h.style.height = u + "px"),
            i.toolTip && (h.title = i.toolTip),
            h.setAttribute("aria-hidden", "true"),
            i.cssClass && f(h, i.cssClass),
            h.setAttribute("unselectable", "on"),
            (h.style.KhtmlUserSelect = "none"),
            (h.style.MozUserSelect = "none"),
            (h.style.webkitUserSelect = "none"),
            (h.oncontextmenu = function () {
              return !1;
            }),
            (h.cell = {}),
            (h.cell.start = i.start),
            (h.cell.end = i.end),
            (h.cell.level = t),
            (h.cell.th = i),
            (h.onclick = this.tq),
            (h.oncontextmenu = this.uq),
            DayPilot.rePassive(h, DayPilot.touch.start, function (e) {
              e.stopPropagation();
            }),
            (h.style.overflow = "hidden"),
            A.timeHeaderTextWrappingEnabled || (h.style.whiteSpace = "nowrap");
          var v = c();
          v.setAttribute("unselectable", "on"),
            (v.innerHTML = A.Ka(i.text, i.innerHTML)),
            i.backColor && (v.style.background = i.backColor),
            i.fontColor && (v.style.color = i.fontColor);
          var p = this.ca(G.timeheadercol),
            m = this.ca(G.timeheadercolInner);
          r &&
            ((p = this.ca("_timeheadergroup")),
            (m = this.ca("_timeheadergroup_inner"))),
            f(h, p),
            f(v, m),
            f(h, A.ca("_timeheader_cell")),
            f(v, A.ca("_timeheader_cell_inner")),
            a && f(h, A.ca("_timeheader_cell_last")),
            (function () {
              if (
                "function" == typeof A.onBeforeTimeHeaderDomAdd ||
                "function" == typeof A.onBeforeTimeHeaderDomRemove
              ) {
                var e = {};
                if (
                  ((e.control = A),
                  (e.header = {}),
                  (e.header.start = i.start),
                  (e.header.end = i.end),
                  (e.header.level = t),
                  (e.element = null),
                  (h.domArgs = e),
                  "function" == typeof A.onBeforeTimeHeaderDomAdd)
                ) {
                  A.onBeforeTimeHeaderDomAdd(e);
                  var n = e.element;
                  if (n) {
                    v.innerHTML = "";
                    var a = c();
                    v.appendChild(a), (e.Be = a);
                    if (y(n)) {
                      if (!A.Y.reactDOM)
                        throw new DayPilot.Exception("Can't reach ReactDOM");
                      A.Y.X(n, a);
                    } else a.appendChild(n);
                  }
                }
              }
            })(),
            h.appendChild(v);
          var g = DayPilot.Areas.resolvePosition(i.areas, A, o, s);
          DayPilot.Areas.attach(h, i, { areas: g }),
            (this.ra.timeHeader[e + "_" + t] = h),
            this.elements.timeHeader.push(h),
            n.appendChild(h);
        }),
          (this.jt = function () {
            var e = A.timeHeader,
              t = e.length - 1;
            if (t < 0) return null;
            for (
              var n = e[t], i = DayPilot.Date.now(), a = 0;
              a < n.length;
              a++
            ) {
              var r = n[a];
              if (r.start <= i && i <= r.end)
                return A.ra.timeHeader[a + "_" + t];
            }
            return null;
          }),
          (this.kt = null),
          (this.ht = function () {
            var e = A.ca("_timeheader_cell_now"),
              t = A.kt,
              n = A.jt();
            t !== n && (h(t, e), f(n, e), (A.kt = n));
          }),
          (this.lt = null),
          (this.mt = function () {
            clearTimeout(A.lt),
              (A.lt = setTimeout(function () {
                A.ht(), A.mt();
              }, 5e3));
          }),
          (this.Gn = function () {
            clearTimeout(A.lt);
          }),
          (this.Km = function () {
            clearTimeout(A.lt), A.showCurrentTimeHeader && (A.ht(), A.mt());
          }),
          (this.rm = function () {
            return A.zk
              ? void q.Hq()
              : (A.Vl().forEach(function (e) {
                  var t = e.getHeight() + e.marginBottom + e.marginTop;
                  e.height !== t && (A.Rm = !0), (e.height = t);
                }),
                void (A.Rm && (A.ra.drawArea = null)));
          }),
          (this.Tk = function () {
            A.Vl().forEach(function (e) {
              if (!e.hidden) {
                var t = A.Mn(e.grid),
                  n = t.divHeader;
                if (n) {
                  var i = e.index;
                  if (n.rows[i])
                    for (var a = 0; a < n.rows[i].cells.length; a++) {
                      var r = n.rows[i].cells[a],
                        o = t.rowlist[i].cells[a];
                      A.bq && r && (r.style.top = e.top + "px");
                      var s = e.height;
                      o.rowspan > 1 && (s = o.totalHeight()),
                        r &&
                          r.firstChild &&
                          parseInt(r.firstChild.style.height, 10) !== s &&
                          (r.firstChild.style.height = s + "px");
                    }
                }
              }
            }),
              A.bq &&
                A.nav.resScrollSpace &&
                (A.nav.resScrollSpace.style.top = A.Dk + "px");
          }),
          (this.Hg = function (e) {
            var t = this.separators[e];
            (t.location = t.location || t.Location),
              (t.color = t.color || t.Color),
              (t.layer = t.layer || t.Layer),
              (t.width = t.width || t.Width),
              (t.opacity = t.opacity || t.Opacity);
            var n = new DayPilot.Date(t.location),
              i = t.color,
              a = t.width ? t.width : 1,
              r = !!t.layer && "AboveEvents" === t.layer,
              o = t.opacity ? t.opacity : 100;
            if (
              !(
                n.getTime() < A.Tb().getTime() ||
                n.getTime() >= A.Xd().getTime()
              )
            ) {
              var s = this.getPixels(n);
              if (!s.cut && !(s.left < 0 || s.left > A.Bl())) {
                var l = c();
                (l.style.width = a + "px"),
                  (l.style.height = A.Dk + "px"),
                  (l.style.position = "absolute"),
                  (l.style.left = s.left - 1 + "px"),
                  (l.style.top = "0px"),
                  (l.style.backgroundColor = i),
                  (l.style.opacity = o / 100),
                  (l.style.filter = "alpha(opacity=" + o + ")"),
                  (l.className = A.ca("_separator")),
                  t.cssClass && (l.className += " " + t.cssClass),
                  r
                    ? this.divSeparatorsAbove.appendChild(l)
                    : this.divSeparators.appendChild(l),
                  this.elements.separators.push(l);
              }
            }
          }),
          (this.Vf = function (e) {}),
          (this.ls = function (e) {
            if ("Disabled" === A.timeRangeDoubleClickHandling) return !1;
            o.nt && (clearTimeout(o.nt), (o.nt = null));
            if (
              (A.km(e),
              e.stopPropagation && e.stopPropagation(),
              (e.cancelBubble = !0),
              A.Zs(A.coords))
            ) {
              var t = A.Zm(A._m);
              A.Bc(t.start, t.end, t.resource);
            } else if (((o.Po = A._s()), o.Po)) {
              o.ot = A;
              var t = A.Zm(o.Po);
              A.Bc(t.start, t.end, t.resource), (A._m = o.Po);
            }
            o.Po = null;
          }),
          (this.fs = function (e) {
            if (!w.touch.start && !w.touch.active) {
              if ((o.nt, 1, A.pt(), A.ib(), A.km(e), o.qt)) return !1;
              var t = b(e);
              if (A.rt()) return !1;
              if (t.middle || (t.right && A.Zs(A.coords))) return !1;
              if (A.Zs(A.coords)) return !1;
              var n = t.left
                ? "left"
                : t.right
                ? "right"
                : t.middle
                ? "middle"
                : "unknown";
              A.st = n;
              var i = e.ctrlKey,
                a = e.metaKey,
                r = e.shiftKey,
                s = i || a,
                l = {};
              if (
                ((l.action = "None"),
                "Disabled" !== Z.lm() && r
                  ? (l.action = "RectangleSelect")
                  : "Disabled" !== A.timeRangeSelectedHandling &&
                    (l.action = "TimeRangeSelect"),
                (l.shift = r),
                (l.ctrl = r),
                (l.meta = a),
                (l.originalEvent = e),
                (l.button = n),
                (l.preventDefault = function () {
                  l.action = "None";
                }),
                "function" == typeof A.onGridMouseDown && A.onGridMouseDown(l),
                "None" === l.action)
              )
                return (
                  "undefined" != typeof DayPilot.Menu &&
                    DayPilot.Menu.hide({ calendar: A }),
                  e.preventDefault(),
                  e.stopPropagation(),
                  !1
                );
              if ("RectangleSelect" === l.action) {
                var d = {};
                return (d.start = A.coords), (d.calendar = A), (o.qt = d), !1;
              }
              A.allowMultiRange && !s && V.clear();
              return (
                !A.Bn(A.coords.y, A.coords.grid).element.isNewRow &&
                ((o.Po = A._s()), o.Po && ((o.Po.ctrl = s), (o.ot = A)), !1)
              );
            }
          }),
          (this._s = function () {
            var e = {},
              t = A.dm(A.coords.x).x,
              n = A.getDate(A.coords.x, !0);
            return (
              (e.start = {
                y: A.Bn(A.coords.y, A.coords.grid).i,
                x: t,
                grid: A.coords.grid,
                time: n,
              }),
              (e.end = { x: t, time: n }),
              A.Pn(A.Bn(A.coords.y, A.coords.grid).i, A.coords.grid)
                ? null
                : ((e.calendar = A), A.an(e), e)
            );
          }),
          (this.Np = function () {
            A.Jf();
            var e = o.ep,
              t = o.Oo;
            !(function () {
              var n = A.tt,
                i = { start: e.start, end: A.oj(e.end) };
              e.original = i;
              var a = "left" === o.Oo.dpBorder ? "start" : "end",
                r = e.original;
              if (!r || !n || n.start !== r.start || n.end !== r.end) {
                I.clear(),
                  I.zp(),
                  n && (h(e, n.cssClass), (e.firstChild.innerHTML = ""));
                var s = t.event.part.dayIndex,
                  l = A.rowlist[s],
                  d = {};
                (d.start = i.start),
                  (d.end = i.end),
                  (d.duration = new DayPilot.Duration(d.start, d.end)),
                  (d.row = A.en(l)),
                  (d.e = t.event),
                  (d.allowed = !0),
                  (d.resizing = a),
                  (d.what = a),
                  (d.anchor = "end" === d.what ? i.start : i.end),
                  (d.left = {}),
                  (d.left.html = d.start.toString(
                    A.eventResizingStartEndFormat,
                    Z.Oc()
                  )),
                  (d.left.enabled = A.eventResizingStartEndEnabled),
                  (d.left.space = 5),
                  (d.left.width = null),
                  (d.left.height = A.eventHeight),
                  (d.right = {}),
                  (d.right.html = d.end.toString(
                    A.eventResizingStartEndFormat,
                    Z.Oc()
                  )),
                  (d.right.enabled = A.eventResizingStartEndEnabled),
                  (d.right.space = 5),
                  (d.right.width = null),
                  (d.right.height = A.eventHeight),
                  (d.cssClass = null),
                  (d.html = null),
                  (d.overlapping =
                    d.row.events.forRange(d.start, d.end).filter(function (e) {
                      return !A.yd(e, d.e);
                    }).length > 0),
                  (d.shift = A.coords.shift),
                  (d.ctrl = A.coords.ctrl),
                  (d.meta = A.coords.meta),
                  (d.alt = A.coords.alt),
                  (d.multiresize = I.xp());
                var c = {};
                (c.event = t.event),
                  (c.start = d.start),
                  (c.end = d.end),
                  d.multiresize.splice(0, 0, c),
                  (A.tt = i),
                  "function" == typeof A.onEventResizing &&
                    A.onEventResizing(d),
                  (I.list = x(d.multiresize, !0)),
                  I.list.splice(0, 1),
                  I.Fp(),
                  (e.allowed = d.allowed),
                  f(e, d.cssClass),
                  d.html && (e.firstChild.innerHTML = d.html);
                var u = d.start,
                  v = A.Ti(d.end);
                if (
                  ((e.finalStart = u), (e.finalEnd = v), "Days" === A.viewType)
                ) {
                  var m = l.start.getTime() - A.Tb().getTime();
                  (u = u.addTime(-m)), (v = v.addTime(-m));
                }
                var g = DayPilot.DateUtil.diff(u, v);
                g = p(g, 1);
                var y = (Z.Jg(g), A.snapToGrid && A.snapToGridEventResizing),
                  b = y ? A.getPixels(u).boxLeft : A.getPixels(u).left,
                  w = y ? A.getPixels(v).boxRight : A.getPixels(v).left;
                (e.style.left = b + "px"),
                  (e.style.width = w - b + "px"),
                  (e.left = b),
                  (e.width = w - b),
                  A.Qp(o.ep, d),
                  A.Rp(o.ep, d);
              }
            })();
          }),
          (this.ks = function (e) {
            if (o.qt)
              return (e.cancelBubble = !0), e.preventDefault(), o.mg(e), !1;
            if (((A.hm = {}), A._m)) {
              var t = b(e);
              if (t.left) {
                var n = A._m;
                if (A.Zs(A.coords)) {
                  var i = function (e) {
                    return function () {
                      o.nt = null;
                      var t = A.Zm(e);
                      if (t) {
                        var n = {};
                        (n.start = t.start),
                          (n.end = t.end),
                          (n.resource = t.resource),
                          (n.preventDefault = function () {
                            n.preventDefault.value = !0;
                          }),
                          "function" == typeof A.onTimeRangeClick &&
                            A.onTimeRangeClick(n),
                          n.preventDefault.value ||
                            ("function" == typeof A.onTimeRangeClicked &&
                              A.onTimeRangeClicked(n));
                      }
                    };
                  };
                  "Disabled" != A.timeRangeClickHandling &&
                    ("Disabled" === A.timeRangeDoubleClickHandling
                      ? i(n)()
                      : (clearTimeout(o.nt),
                        (o.nt = setTimeout(i(n), A.doubleClickTimeout))));
                }
              }
            }
            var t = b(e);
            t.right && A.$s(e);
          }),
          (this.$s = function (e) {
            if (
              "Disabled" !== A.timeRangeSelectedHandling &&
              "Disabled" !== A.timeRangeRightClickHandling
            ) {
              var t = o.Po || A._m;
              if (t) {
                var n = t.args,
                  i = A.Bn(A.coords.y, A.coords.grid);
                if (A.Pn(i.i)) return void (o.Po = null);
                var a = null;
                if (((a = A.Zs(A.coords) ? A.Zm(A._m) : A.Zm()), !a))
                  return void (o.Po = null);
                if (
                  n &&
                  !n.ignoreDisabledCells &&
                  A.Qc(a.start, a.end, a.resource)
                )
                  return (o.Po = null), void A.clearSelection();
                a.end = A.oj(a.end);
                var n = {};
                (n.start = a.start),
                  (n.end = a.end),
                  (n.resource = a.resource),
                  (n.ctrl = e.ctrlKey),
                  (n.shift = e.shiftKey),
                  (n.meta = e.metaKey),
                  (n.preventDefault = function () {
                    this.preventDefault.value = !0;
                  }),
                  ("function" == typeof A.onTimeRangeRightClick &&
                    (A.onTimeRangeRightClick(n), n.preventDefault.value)) ||
                    ("ContextMenu" === A.timeRangeRightClickHandling &&
                      A.contextMenuSelection &&
                      A.contextMenuSelection.show(a),
                    "function" == typeof A.onTimeRangeRightClicked &&
                      A.onTimeRangeRightClicked(n));
              }
            }
          }),
          (this.rt = function () {
            return !!(o.Oo || o.hm || o.Po || o.Pp) || !!A.hm.Xs;
          }),
          (this.dragInProgress = function () {
            return A.rt();
          }),
          (this.km = function (e) {
            var t = DayPilot.mo3(A.kl, e);
            if (((t = t || {}), (t.grid = "main"), A.jl.top.enabled())) {
              var n = A.jl.top,
                i = DayPilot.mo3(n.divCells, e);
              i && i.y > 0 && i.y <= n.height && ((t = i), (t.grid = "top"));
            }
            if (A.jl.bottom.enabled()) {
              var a = A.jl.bottom,
                r = DayPilot.mo3(a.divCells, e);
              r && r.y > 0 && r.y <= a.height && ((t = r), (t.grid = "bottom"));
            }
            (t.stamp = t.grid + "_" + t.x + "_" + t.y),
              (A.coords && A.coords.stamp === t.stamp) || (A.coords = t);
          }),
          (this.getCoords = function () {
            if (!A.coords) return null;
            var e = {};
            (e.x = A.coords.x), (e.y = A.coords.y), (e.grid = A.coords.grid);
            var t = A.Bn(e.y, e.grid).element;
            return (
              (e.row = t),
              (e.time = A.getDate(e.x, !0)),
              (e.cell = A.cells.findByPixels(e.x, e.y, e.grid)[0]),
              (e.event = A.coords.insideEvent ? A.coords.insideEvent : null),
              (e.eventOffset = null),
              e.event && (e.eventOffset = g(A.eventOffset, {}, ["x", "y"])),
              e
            );
          }),
          (this.cs = !0),
          (this.Up = function (e) {
            if (!w.touch.active) {
              var t = DayPilot.mc(e);
              if (
                (A.km(e),
                (e.insideMainD = !0),
                (A.cs = !0),
                window.event &&
                  window.event.srcElement &&
                  (window.event.srcElement.inside = !0),
                A.hm.Xs)
              ) {
                DayPilot.distance(A.hm.Kf, t) > 2 &&
                  (g(A.hm, o), (d().style.cursor = "move"), (A.hm = {}));
              }
              if (o.Oo && o.fp.calendar === A)
                o.Oo.event || (o.Oo.event = o.fp), A.ut();
              else if (o.Jo) {
                var n = o.Jo.calendar,
                  i = n !== A;
                i && n && o.Jo.calendar.gb(), (o.Jo.part.external = i), A.vt();
              } else if (o.Po && o.Po.calendar === A) (o.Po.moved = !0), A.wt();
              else if (_.source) {
                var a = _.source;
                B.Xi(a.coords, A.coords);
              } else
                o.qt &&
                  ((o.qt.moved = !0),
                  clearTimeout(X.xt),
                  (X.xt = setTimeout(function () {
                    X.draw();
                  }, 0)));
              "Disabled" !== A.crosshairType && A.yt(), A.zt();
              var r = A.coords.insideEvent;
              if (
                A.cellBubble &&
                A.coords &&
                A.rowlist &&
                A.rowlist.length > 0 &&
                !r
              ) {
                var s = A.dm(A.coords.x).x,
                  l = A.Bn(A.coords.y).i;
                if (
                  0 <= l &&
                  l < A.rowlist.length &&
                  0 <= s &&
                  s < A.itline.length
                ) {
                  var c = {};
                  (c.calendar = A),
                    (c.start = A.itline[s].start),
                    (c.end = A.itline[s].end),
                    (c.resource = A.rowlist[l].id),
                    (c.toJSON = function () {
                      var e = {};
                      return (
                        (e.start = this.start),
                        (e.end = this.end),
                        (e.resource = this.resource),
                        e
                      );
                    }),
                    A.cellBubble.showCell(c);
                }
              }
              if (o.Pp) {
                if (
                  (A.pt(),
                  o.At && d().removeChild(o.At),
                  (o.At = null),
                  !o.Lp && A.coords && A.rowlist.length > 0)
                ) {
                  if (!o.Jo) {
                    o.hm = o.Pp.Bt || {};
                    var u = o.Pp.Bt ? o.Pp.Bt.event : null,
                      h = u || o.Pp.event;
                    if (h)
                      if (A !== h.calendar) {
                        var n = h.calendar,
                          f = h,
                          v = g(h.data);
                        (h = new DayPilot.Event(v)),
                          (h.calendar = n),
                          (h.part.duration = n.So(f)),
                          (h.part.external = !0);
                      } else h.part.external = !1;
                    else {
                      var e = A.Ct();
                      (h = new DayPilot.Event(e)),
                        (h.calendar = A),
                        (h.calendar = null),
                        (h.part.duration = 1e3 * o.Pp.duration),
                        (h.part.external = !0);
                    }
                    o.hm.event || (o.hm.event = h), (o.Jo = h);
                  }
                  o.Lp = A.Lb(o.Jo);
                }
                e.cancelBubble = !0;
              }
              var p = { x: A.coords.x, y: A.coords.y, grid: A.coords.grid };
              A.Of(p);
            }
          }),
          (this.Ct = function () {
            var e,
              t = A.itline[0].start,
              n = o.Pp.Nf;
            if (n)
              (e = g(n, {})),
                (e.start = t),
                (e.end = t.addSeconds(o.Pp.duration));
            else {
              e = {
                id: o.Pp.id,
                start: t,
                end: t.addSeconds(o.Pp.duration),
                text: o.Pp.text,
              };
              var i = o.Pp.Mf;
              if (i) {
                var a = ["duration", "element", "remove", "id", "text"];
                for (var r in i) k(a, r) || (e[r] = i[r]);
              }
            }
            return e;
          }),
          (this.Of = function (e) {
            var t = e.grid,
              n = o.hm || o.Oo || o.Po || o.qt,
              i = "Always" === A.autoScroll,
              a = "Drag" === A.autoScroll && n,
              r = i || a,
              s = o.Oo || o.Po || "main" !== t;
            if (r) {
              var l = A.nav.scroll;
              (e.x -= l.scrollLeft), (e.x += M.rl), (e.y -= l.scrollTop);
              var d = l.clientWidth,
                c = l.clientHeight,
                u = 30,
                h = e.x < u ? e.x : 0,
                f = d - e.x < u ? d - e.x : 0,
                v = A.jl.top.height,
                p = e.y - v,
                m = p < u && p > 0 ? p : 0,
                g = c - A.jl.bottom.height - A.jl.top.height,
                y = g - p < u ? c - e.y : 0,
                b = 0,
                w = 0,
                x = 50;
              h && (b = -50 * T(h, u)),
                f && (b = x * T(f, u)),
                m && (w = (-50 * T(m, u)) / 2),
                y && (w = (x * T(m, u)) / 2),
                s && (w = 0),
                b || w
                  ? (A.Dt = setTimeout(function () {
                      A.rg(b, w);
                    }, 200))
                  : (clearTimeout(A.Dt), A.ib());
            }
          }),
          (this.wt = function () {
            var e = o.Po,
              t = A.dm(A.coords.x).x,
              n = A.getDate(A.coords.x, !0);
            (e.end = { x: t, time: n }), A.an(e);
          }),
          (this.ut = function () {
            o.ep || (o.ep = A.Lb(o.Oo)), A.Mp();
          }),
          (this.vt = function () {
            if (
              (o.Lp &&
                o.Lp.calendar !== A &&
                o.Lp.calendar &&
                (o.Lp.calendar.gb(),
                (o.Lp.calendar = null),
                C(o.Lp),
                (o.Lp = null)),
              !o.Lp)
            ) {
              f(o.hm, A.ca(G.eventMovingSource));
              var e = o.Jo;
              o.Lp = A.Lb(e);
            }
            A._o(), A.bp();
          }),
          (this.Et = {});
        var X = this.Et;
        (X.start = function () {
          var e = {};
          (e.start = A.coords), (e.calendar = A), (o.qt = e);
        }),
          (X.draw = function () {
            var e = o.qt;
            if (e) {
              var t = o.qt.start,
                n = A.coords;
              X.clear();
              var i,
                a,
                r,
                s,
                l,
                d,
                c,
                u,
                h = { x: e.x, y: e.y, width: e.width, height: e.height };
              if (
                ((function () {
                  (l = Math.min(t.x, n.x)),
                    (c = Math.max(t.x, n.x)),
                    "Free" === Z.lm()
                      ? ((d = Math.min(t.y, n.y)), (u = Math.max(t.y, n.y)))
                      : "Row" === Z.lm() && ((d = t.y), (u = t.y));
                })(),
                "Free" === Z.lm())
              )
                (i = l), (a = d), (r = c - l), (s = u - d);
              else {
                if ("Row" !== Z.lm())
                  throw new DayPilot.Exception(
                    "Invalid DayPilot.Scheduler.rectangleSelectMode value: " +
                      A.rectangleSelectMode
                  );
                var f = A.Bn(d).i,
                  p = A.rowlist[f];
                (a = p.top), (s = p.height);
                if (A.snapToGrid && A.snapToGridRectangleSelecting) {
                  i = A.dm(l).cell.left;
                  var m = A.dm(c).cell;
                  r = m.left + m.width - i;
                } else (i = l), (r = c - l);
              }
              var g = v(A.divRectangle, i, a, r, s);
              if (
                ((g.style.boxSizing = "border-box"),
                (g.className = A.ca("_selectionrectangle")),
                (e.x = i),
                (e.y = a),
                (e.width = r),
                (e.height = s),
                !(
                  (e.x === h.x &&
                    e.y === h.y &&
                    e.width === h.width &&
                    e.height === h.height) ||
                  ("function" != typeof A.onRectangleEventSelecting &&
                    "function" != typeof A.onRectangleSelecting)
                ))
              ) {
                var y = A.Bn(e.y).i,
                  b = A.Bn(e.y + e.height).i,
                  w = { start: { y: y }, end: { y: b } },
                  x = A.xn(w),
                  k = {};
                (k.events = H.wl(e.x, e.y, e.width, e.height).map(function (e) {
                  return e.event;
                })),
                  (k.start = A.getDate(e.x, !0)),
                  (k.end = A.getDate(e.x + e.width, !0)),
                  (k.resources = x),
                  (k.visible = !0),
                  "function" == typeof A.onRectangleEventSelecting &&
                    A.onRectangleEventSelecting(k),
                  "function" == typeof A.onRectangleSelecting &&
                    A.onRectangleSelecting(k),
                  k.visible || (g.style.display = "none");
              }
            }
          }),
          (X.clear = function () {
            (A.divRectangle.innerHTML = ""), (A.elements.rectangle = []);
          }),
          (this.Ft = function () {
            if (!A.coords) return null;
            if (!A.os()) return null;
            if (!A.itline || 0 === A.itline.length) return null;
            var e = A.dm(A.coords.x).x,
              t = A.Bn(A.coords.y, A.coords.grid).element;
            if (!t) return null;
            var n = t.index;
            return A.cells.findXy(e, n, A.coords.grid)[0];
          }),
          (this.zt = function () {
            var e = this.Ft();
            if (this.hover.cell) {
              if (
                this.hover.cell.x === e.x &&
                this.hover.cell.y === e.y &&
                this.hover.cell.grid === e.grid
              )
                return;
              this.es();
            }
            this.hover.cell = e;
            var t = {};
            (t.cell = e),
              "function" == typeof this.onCellMouseOver &&
                this.onCellMouseOver(t),
              "function" == typeof this.onCellMouseEnter &&
                this.onCellMouseEnter(t);
          }),
          (this.es = function () {
            if (this.hover.cell) {
              var e = {};
              (e.cell = this.hover.cell),
                "function" == typeof this.onCellMouseOut &&
                  this.onCellMouseOut(e),
                "function" == typeof this.onCellMouseLeave &&
                  this.onCellMouseLeave(e),
                (this.hover.cell = null);
            }
          }),
          (this.hover = {}),
          (this.yt = function () {
            var e = A.Gt();
            if (e) {
              var t = A.hover.crosshair;
              (t &&
                t.x === e.x &&
                t.y === e.y &&
                t.grid === e.grid &&
                t.thX === e.thX) ||
                ((A.hover.crosshair = e), this.If());
            }
          }),
          (this.Gt = function () {
            if (!A.coords) return null;
            if (!A.os()) return null;
            if (!A.itline || 0 === A.itline.length) return null;
            var e = A.Bn(A.coords.y, A.coords.grid).element;
            if (!e) return null;
            var t = e.index,
              n = null,
              i = A.dm(A.coords.x);
            i && (n = i.x);
            var a = A.Ht(),
              r = null,
              o = A.mp(a, A.coords.x);
            return o && (r = o.x), { x: n, thX: r, y: t, grid: A.coords.grid };
          }),
          (this.pt = function () {
            (this.jl.top.divCrosshair.innerHTML = ""),
              (this.jl.main.divCrosshair.innerHTML = ""),
              (this.jl.bottom.divCrosshair.innerHTML = ""),
              (this.It = null),
              (this.Jt = null);
          }),
          (this.hb = function () {
            if (
              (this.pt(),
              (A.hover.crosshair = null),
              this.Kt &&
                this.Kt.parentNode &&
                (this.Kt.parentNode.removeChild(this.Kt), (this.Kt = null)),
              this.Lt)
            ) {
              for (var e = 0; e < this.Lt.length; e++) {
                var t = this.Lt[e];
                t.parentNode && t.parentNode.removeChild(t);
              }
              this.Lt = null;
            }
            (this.Ck = -1), (this.Bk = -1), (this.Mt = null);
          }),
          (this.Ht = function () {
            var e = this.timeHeader ? this.timeHeader.length - 1 : 1;
            return (
              "number" == typeof A.crosshairTimeHeaderLevel &&
                A.crosshairTimeHeaderLevel < e &&
                A.crosshairTimeHeaderLevel >= 0 &&
                (e = A.crosshairTimeHeaderLevel),
              e
            );
          }),
          (this.If = function () {
            function e(e, t) {
              var n = A.jl[e],
                i = n.height,
                a = t.left,
                r = A.It[e];
              if (!r) {
                var r = c();
                (r.style.height = i + "px"),
                  (r.style.position = "absolute"),
                  (r.style.top = "0px"),
                  (r.className = A.ca("_crosshair_vertical")),
                  (A.It[e] = r),
                  n.divCrosshair.appendChild(r);
              }
              (r.style.left = a + "px"), (r.style.width = t.width + "px");
            }
            if (A.coords && A.os()) {
              var t = A.Bn(A.coords.y, A.coords.grid).element;
              if (t) {
                var n = A.dm(A.coords.x).x,
                  i = t.index,
                  a = t.grid,
                  r = A.Mn(a),
                  o = ["top", "main", "bottom"],
                  s = this.crosshairType;
                if ((this.It || (this.It = {}), "Full" === s)) {
                  var l = this.itline[n];
                  o.forEach(function (t) {
                    e(t, l);
                  });
                  var d = t.top,
                    u = t.height,
                    h = A.Bl(),
                    f = A.Jt;
                  if (
                    (f &&
                      f.parentNode &&
                      A.Mt !== a &&
                      (f.parentNode.removeChild(f), (f = null)),
                    !f)
                  ) {
                    var f = c();
                    (f.style.width = h + "px"),
                      (f.style.height = u + "px"),
                      (f.style.position = "absolute"),
                      (f.style.top = d + "px"),
                      (f.style.left = "0px"),
                      (f.className = A.ca("_crosshair_horizontal")),
                      (A.Jt = f),
                      r.divCrosshair.appendChild(f);
                  }
                  (f.style.top = d + "px"), (f.style.height = u + "px");
                }
                var v = A.Ht(),
                  p = A.mp(v, A.coords.x);
                if (p && A.Ck !== p.x) {
                  A.Kt &&
                    this.Kt.parentNode &&
                    (A.Kt.parentNode.removeChild(A.Kt), (A.Kt = null));
                  var u = Q.up(v).height,
                    f = c();
                  (f.style.width = p.cell.width + "px"),
                    (f.style.height = u + "px"),
                    (f.style.left = "0px"),
                    (f.style.top = "0px"),
                    (f.style.position = "absolute"),
                    (f.className = A.ca("_crosshair_top")),
                    (A.Kt = f);
                  var m = this.divNorth,
                    g = v;
                  A.nav.timeHeader
                    ? A.ra.timeHeader[p.x + "_" + g].appendChild(f)
                    : m &&
                      m.firstChild.rows[g].cells[n] &&
                      m.firstChild.rows[g].cells[n].firstChild.appendChild(f);
                }
                if (A.Bk !== i || A.Mt !== a) {
                  if (A.Lt) {
                    for (var y = 0; y < A.Lt.length; y++) {
                      var b = A.Lt[y];
                      b.parentNode && b.parentNode.removeChild(b);
                    }
                    A.Lt = null;
                  }
                  this.rowHeaderCols ? this.rowHeaderCols.length : 1;
                  if (((A.Lt = []), r.rowlist[i]))
                    for (var y = 0; y < r.rowlist[i].cells.length; y++) {
                      var w = r.rowlist[i].cells[y],
                        x = w.refCell,
                        u = t.height,
                        k = i;
                      x
                        ? ((u = x.row.split.totalHeight()), (k = x.y))
                        : w.rowspan > 1 && (u = w.totalHeight());
                      var C =
                        r.divHeader.rows[k] && r.divHeader.rows[k].cells[y];
                      if (C) {
                        var h = A.El(),
                          f = c();
                        (f.style.width = h + "px"),
                          (f.style.height = u + "px"),
                          (f.style.left = "0px"),
                          (f.style.top = "0px"),
                          (f.style.position = "absolute"),
                          (f.className = A.ca("_crosshair_left")),
                          A.Lt.push(f),
                          r.divHeader.rows[k].cells[y].firstChild.appendChild(
                            f
                          );
                      }
                    }
                }
                p && (A.Ck = p.x), (A.Bk = i), (A.Mt = a);
              }
            }
          }),
          (this.mp = function (e, t) {
            var n = A.timeHeader[e];
            if (!n) return null;
            for (var i = 0; i < n.length; i++) {
              var a = n[i];
              if (t >= a.left && t < a.left + a.width) {
                var r = {};
                return (r.cell = a), (r.x = i), r;
              }
            }
            return null;
          }),
          (this.Nt = function (e) {
            return A.mp(A.timeHeader.length - 1, e);
          }),
          (this.hs = function (e) {
            if (((e.cancelBubble = !0), !A.allowDefaultContextMenu)) return !1;
          }),
          (this.Zs = function (e) {
            var t = A._m;
            if (!t || !t.start || !t.end) return !1;
            t = t.bt ? t.bt : t;
            var n = t.start.grid,
              i = this.ko(t.start.y, t.start.grid),
              a = 0;
            "main" === n && (a = A.jl.top.height);
            var r = t.start.time.getTime() < t.end.time.getTime(),
              o = r ? t.start.time : t.end.time,
              s = r ? t.end.time : t.start.time,
              l = A.getPixels(o).left,
              d = A.getPixels(s).left,
              c = i.top + a,
              u = i.bottom + a,
              h = e.x >= l && e.x <= d,
              f = e.y >= c && e.y <= u,
              v = e.grid === t.start.grid;
            return !!(h && f && v);
          }),
          (this.an = function (e, t) {
            function n(e, t) {
              var n,
                i,
                a,
                o,
                d = e.end.time > e.start.time,
                u = e.start.y,
                h = e.start.time && e.end.time;
              if (r || !h) {
                var f = d ? e.start.x : e.end.x,
                  v = d ? e.end.x : e.start.x,
                  p = A.itline[f],
                  m = A.itline[v];
                (n = p.left), (i = m.left + m.width);
              } else
                d
                  ? ((a = e.start.time), (o = e.end.time))
                  : ((a = e.end.time), (o = e.start.time)),
                  (n = A.getPixels(a).left),
                  (i = A.getPixels(o).left);
              var g = i - n,
                y = A.elements.range2;
              if (!y) {
                (y = c()),
                  (y.style.position = "absolute"),
                  y.setAttribute("unselectable", "on");
                var b = c();
                (b.className = A.ca("_shadow_inner")),
                  y.appendChild(b),
                  s.divShadow.appendChild(y);
              }
              return (
                y.grid !== e.start.grid &&
                  (y.parentNode.removeChild(y), s.divShadow.appendChild(y)),
                (y.className = A.ca("_shadow")),
                (y.firstChild.innerHTML = ""),
                (y.style.left = n + "px"),
                (y.style.top = l[u].top + "px"),
                (y.style.width = g + "px"),
                (y.style.height = l[u].height - 1 + "px"),
                (y.calendar = A),
                (y.grid = e.start.grid),
                (A.elements.range2 = y),
                (function () {
                  y.overlapping = !1;
                  var i = l[u];
                  A.Gp(y, i, n, g, null);
                  var a = d ? e.start.time : e.end.time,
                    r = d ? e.end.time : e.start.time;
                  t.ignoreDisabledCells || A.Hp(y, a, r, i.id);
                })(),
                y
              );
            }
            var e = e || o.Po;
            if (e && e.calendar === A) {
              o.no && o.no.blur(), (t = t || {});
              var i = t.justDraw,
                a = e.forceSnap,
                r = A.snapToGrid && A.snapToGridTimeRangeSelecting;
              a && (r = !0);
              var s = A.Mn(e.start.grid),
                l = s.rowlist;
              !(function () {
                var t = e.end.time >= e.start.time,
                  a = t ? e.start.x : e.end.x,
                  o = t ? e.end.x : e.start.x,
                  s = e.start.y,
                  d = l[s];
                if (d && !d.hidden) {
                  var c = A.itline[a],
                    u = A.itline[o],
                    h = A.Ot,
                    v = c.start.addTime(d.data.offset),
                    p = u.end.addTime(d.data.offset);
                  if (
                    (r ||
                      (t
                        ? ((v = e.start.time), (p = e.end.time))
                        : ((v = e.end.time), (p = e.start.time))),
                    i ||
                      !h ||
                      h.start.getTime() !== v.getTime() ||
                      h.rawend.getTime() !== p.getTime() ||
                      h.resource !== l[s].id)
                  ) {
                    var m = {
                        start: v,
                        end: A.oj(p),
                        rawend: p,
                        resource: l[s].id,
                      },
                      g = {};
                    (g.anchor = t ? m.start : m.end),
                      (g.start = m.start),
                      (g.end = m.end),
                      (g.duration = new DayPilot.Duration(v, p)),
                      (g.resource = l[s].id),
                      (g.row = A.en(d)),
                      (g.allowed = !0),
                      (g.control = A),
                      (g.ignoreDisabledCells = !1),
                      (g.left = {}),
                      (g.left.html = g.start.toString(
                        A.timeRangeSelectingStartEndFormat,
                        Z.Oc()
                      )),
                      (g.left.enabled = A.timeRangeSelectingStartEndEnabled),
                      (g.left.space = 5),
                      (g.left.width = null),
                      (g.left.height = A.eventHeight),
                      (g.right = {}),
                      (g.right.html = g.end.toString(
                        A.timeRangeSelectingStartEndFormat,
                        Z.Oc()
                      )),
                      (g.right.enabled = A.timeRangeSelectingStartEndEnabled),
                      (g.right.space = 5),
                      (g.right.width = null),
                      (g.right.height = A.eventHeight),
                      (g.overlapping = g.row.events.forRange(v, p).length > 0),
                      (g.html = null),
                      (g.cssClass = null),
                      (g.button = A.st),
                      (A.Ot = m),
                      "function" != typeof A.onTimeRangeSelecting ||
                        i ||
                        (A.onTimeRangeSelecting(g), (g.resource = m.resource)),
                      (g.end = A.Ti(g.end)),
                      (e.args = g);
                    var y = A.Pt(e);
                    A.$m(y, g.start, g.end);
                    var b = n(y, g);
                    g.html && (b.firstChild.innerHTML = g.html),
                      g.cssClass && f(b, g.cssClass),
                      A.Qp(b, g),
                      (e.bt = y),
                      (e.disabled = !g.allowed),
                      A.Rp(b, g);
                  }
                }
              })();
            }
          }),
          (this.Pt = function (e) {
            return {
              start: {
                x: e.start.x,
                y: e.start.y,
                time: e.start.time,
                grid: e.start.grid,
              },
              end: { x: e.end.x, time: e.end.time },
              disabled: e.disabled,
              calendar: e.calendar,
              args: e.args,
              forceSnap: e.forceSnap,
            };
          }),
          (this.range = {}),
          (this.range.all = function () {
            return A.multirange.get();
          }),
          (this.multirange = {}),
          (this.multirange.get = function () {
            return V.get(!0);
          }),
          (this.multirange.add = function (e) {
            if (!e) throw new DayPilot.Exception("Range not specified");
            if (!e.start || !e.end || !e.resource)
              throw new DayPilot.Exception("Invalid range specified");
            if (x(V.list).isEmpty()) {
              var t = A.Zm();
              if (t) {
                var n = A.Qt(t.start, t.end, t.resource);
                A.Rt.add(n);
              }
            }
            var n = A.Qt(e.start, e.end, e.resource);
            A.an(n), A.Rt.add(n);
          }),
          (this.multirange.clear = function () {
            V.clear(), A.clearSelection(), (A.Ot = null);
          }),
          (this.Rt = {});
        var V = this.Rt;
        (this.Rt.list = []),
          (this.Rt.drawLaterTimeout = null),
          (this.Rt.drawLater = function () {
            clearTimeout(A.Rt.drawLaterTimeout),
              (A.Rt.drawLaterTimeout = setTimeout(function () {
                V.list.forEach(function (e) {
                  (A.elements.range2 = null), A.an(e);
                });
              }, 0));
          }),
          (this.Rt.clear = function () {
            C(
              x(V.list).map(function (e) {
                return e.div;
              })
            ),
              (V.list = []);
          }),
          (this.Rt.add = function (e) {
            (e.div = A.elements.range2),
              (A.elements.range2 = null),
              A.Tp(),
              V.list.push(e);
          }),
          (this.Rt.get = function (e) {
            var t = x(V.list).map(function (e) {
              return A.Zm(e);
            });
            if (e && t.isEmpty()) {
              var n = A.Zm();
              n && t.push(n);
            }
            return t;
          }),
          (this.Rt.dispatch = function () {
            if (A.allowMultiRange && !o.Po) {
              var e = x(V.list).last();
              A.Ym(e);
            }
          }),
          (this.St = function (e) {
            if ("Disabled" === A.timeRangeSelectedHandling) return !1;
            if (!w.touch.active && !w.touch.start) {
              var t = b(e);
              if (
                !o.Po &&
                !o.qt &&
                !(
                  (A._m && A.Zs(A.coords) && (t.right || t.middle)) ||
                  A.Pn(A.Bn(A.coords.y).i)
                )
              ) {
                var n = {},
                  i = A.dm(A.coords.x).x;
                (n.start = {
                  y: A.Bn(A.coords.y).i,
                  x: i,
                  grid: A.coords.grid,
                }),
                  (n.end = { x: i }),
                  (n.calendar = A),
                  (A._m = n),
                  A.Ym(n);
              }
            }
          }),
          (this.im = {}),
          (this.im.Fb = null),
          (this.im.drawCells = null),
          (this.im.drawRows = null),
          (this.im.click = null),
          (this.im.resClick = []),
          (this.im.updateFloats = null),
          (this.bl = function (e, t) {
            if (!A.wa) {
              (t = t || {}),
                "undefined" == typeof DayPilot.Bubble ||
                  t.dontHideBubble ||
                  DayPilot.Bubble.hideActive(),
                A.Ja();
              var n = A.nav.scroll;
              if (
                ((A.lp = n.scrollLeft),
                (A.jp = n.scrollTop),
                (A.zs = n.clientWidth),
                A.divTimeScroll && (A.divTimeScroll.scrollLeft = A.lp),
                A.jl.top.enabled() && (A.jl.top.div.scrollLeft = A.lp),
                A.jl.bottom.enabled() && (A.jl.bottom.div.scrollLeft = A.lp),
                a && o.Ur ? s() : (A.divResScroll.scrollTop = A.jp),
                M.Xl() && A.va && "Auto" != A.cellWidthSpec && !A.hl)
              )
                if (M.s) s();
                else {
                  if (A.nav.scroll.scrollLeft < A.infiniteScrollingMargin)
                    return (
                      (M.s = !0),
                      (A.nav.scroll.style.overflowX = "hidden"),
                      void setTimeout(function () {
                        M.Rl(-A.infiniteScrollingStepDays);
                      }, 100)
                    );
                  if (
                    A.nav.scroll.scrollWidth -
                      (A.nav.scroll.scrollLeft + A.nav.scroll.clientWidth) <
                    A.infiniteScrollingMargin
                  )
                    return (
                      (M.s = !0),
                      (A.nav.scroll.style.overflowX = "hidden"),
                      void setTimeout(function () {
                        M.Rl(A.infiniteScrollingStepDays);
                      }, 100)
                    );
                }
              if (
                (A.navigatorBackSync &&
                  !(function () {
                    var e = DayPilot.Util.evalVariable(A.navigatorBackSync),
                      t = A.getViewPort().start;
                    e.select(t, { dontNotify: !0, dontFocus: !0 });
                  })(),
                A.progressiveRowRendering &&
                  (A.im.drawRows &&
                    (clearTimeout(A.im.drawRows), (A.im.drawRows = null)),
                  A.scrollDelayRows > 0
                    ? (A.im.drawRows = setTimeout(function () {
                        A.ym();
                      }, A.scrollDelayRows))
                    : A.ym()),
                A.im.drawCells &&
                  (clearTimeout(A.im.drawCells), (A.im.drawCells = null)),
                A.scrollDelayCells > 0)
              )
                A.im.drawCells = setTimeout(A.Tt(), A.scrollDelayCells);
              else {
                A.Tt()();
              }
              if (A.dynamicLoading) return A.Gj(), void A.Ut();
              A.im.Fb && (clearTimeout(A.im.Fb), (A.im.Fb = null)),
                A.scrollDelayEvents > 0
                  ? (A.im.Fb = setTimeout(A.Vt(), A.scrollDelayEvents))
                  : A.Fb(),
                A.im.updateFloats &&
                  (clearTimeout(A.im.updateFloats), (A.im.updateFloats = null)),
                A.scrollDelayFloats > 0
                  ? (A.im.updateFloats = setTimeout(function () {
                      A._k();
                    }, A.scrollDelayFloats))
                  : A._k(),
                (A.onScrollCalled = !0);
            }
          }),
          (this.Tt = function () {
            return function () {
              A && (A.Gj(), A.Xk());
            };
          }),
          (this.Vt = function () {
            return function () {
              A &&
                (A.Ls()
                  ? window.setTimeout(function () {
                      A.Is(),
                        window.setTimeout(function () {
                          A.Fb(!0);
                        }, 50);
                    }, 50)
                  : A.ul());
            };
          }),
          (this.Ja = function () {
            (A.ra.eventHeight = null), (A.ra.drawArea = null);
          }),
          (this.show = function () {
            (A.visible = !0),
              (A.Fk = !0),
              (A.nav.top.style.display = ""),
              A.D(),
              A.Hb(),
              A.vo(),
              A.bl();
          }),
          (this.hide = function () {
            (A.visible = !1), (A.Fk = !1), (A.nav.top.style.display = "none");
          }),
          (this.Ut = function () {
            var e = A.nav.scroll;
            (A.lp = e.scrollLeft),
              (A.jp = e.scrollTop),
              (A.zs = e.clientWidth),
              (A.divTimeScroll.scrollLeft = A.lp),
              (A.divResScroll.scrollTop = A.jp),
              A.refreshTimeout && window.clearTimeout(A.refreshTimeout);
            var t = A.scrollDelayDynamic;
            (A.refreshTimeout = window.setTimeout(
              A.Wt(e.scrollLeft, e.scrollTop),
              t
            )),
              A._k();
          }),
          (this.xo = function (e) {
            if (!A.events.list) return null;
            for (var t = 0; t < this.events.list.length; t++) {
              var n = this.events.list[t];
              if (A.yd(n, e)) {
                var i = {};
                return (i.ex = n), (i.index = t), (i.modified = !A.Xt(e, n)), i;
              }
            }
            return null;
          }),
          (this.Xt = function (e, t) {
            for (var n in e)
              if (
                ("object" != typeof e[n] || e[n] instanceof DayPilot.Date) &&
                e[n] !== t[n]
              )
                return !1;
            for (var n in t)
              if ("object" != typeof t[n] && e[n] !== t[n]) return !1;
            return !0;
          }),
          (this.Zk = function (e, t, n) {
            var i = n && n.clearEvents,
              a = n && n.remove,
              r = n && n.dontForceCellRendering,
              o = [];
            if ((A.events.list || (A.events.list = []), i)) A.tb(e);
            else {
              var s = [];
              x(a).forEach(function (e) {
                var t = x(A.events.list).find(function (t) {
                  return t.id === e;
                });
                t && s.push(t);
              }),
                s.forEach(function (e) {
                  var t = A.events.om(e);
                  (o = o.concat(t)), DayPilot.rfa(A.events.list, e);
                });
              for (var l = [], d = 0; d < e.length; d++) {
                var c = e[d];
                l[d] = A.xo(c);
              }
              for (var d = 0; d < e.length; d++) {
                var c = e[d],
                  u = l[d],
                  h = u && u.modified,
                  f = !u;
                if (h) {
                  this.events.list[u.index] = c;
                  var v = A.events.om(u.ex);
                  o = o.concat(v);
                } else f && this.events.list.push(c);
                (h || f) && (o = o.concat(A.events.pm(c)));
              }
              A.qm(o), A.rm();
            }
            A.Sk(), A.Bb();
            if (i || r) {
              A.Ya();
              var p = A.Rm || !A.beforeCellRenderCaching;
              p && A.Uk(), A.Tk(), p ? A.Xk() : A.vo(), A.Fb(), t && t();
            } else
              A.sm(o, !1, function () {
                t && t(), A.Is(), A.Fb();
              }),
                A.vo();
          }),
          (this.Wt = function (e, t) {
            return A.ia()
              ? function () {
                  (A.scrollX = e), (A.scrollY = t), A.Pa("Scroll");
                }
              : function () {
                  if ("function" == typeof A.onScroll) {
                    var e = function (e) {
                        var t = function () {
                          if (A.Kb() && "function" == typeof A.onAfterRender) {
                            var e = {};
                            (e.isCallBack = !1),
                              (e.isScroll = !0),
                              (e.data = null),
                              A.onAfterRender(e);
                          }
                        };
                        A.Zk(e.events, t, e);
                      },
                      t = {};
                    (t.viewport = A.getViewPort()),
                      (t.async = !0),
                      (t.events = []),
                      (t.remove = []),
                      (t.clearEvents = !0),
                      (t.dontForceCellRendering = !1),
                      (t.loaded = function () {
                        this.async && e(t);
                      }),
                      A.onScroll(t),
                      t.async || e(t);
                  }
                };
          }),
          (this.Yt = function () {
            var e = this.Da(),
              t = e.xStart,
              n = e.xEnd - e.xStart,
              i = e.yStart,
              a = e.yEnd - e.yStart;
            this.cellProperties || (this.cellProperties = {});
            for (var r = A.jl.top, o = A.jl.bottom, s = 0; s <= n; s++) {
              for (var l = t + s, d = 0; d < a; d++) {
                var c = i + d;
                this.rowlist[c].hidden || this.Me(l, c);
              }
              if ((this.Zt(l), r.enabled())) {
                for (var c = 0; c < r.rowlist.length; c++) this.Me(l, c, "top");
                this.Zt(l, "top");
              }
              if (o.enabled()) {
                for (var c = 0; c < o.rowlist.length; c++)
                  this.Me(l, c, "bottom");
                this.Zt(l, "bottom");
              }
            }
            for (var u = this.Xp(), c = u.start; c < u.end; c++)
              this.rowlist[c].hidden || this.$t(c);
            if (r.enabled())
              for (var c = 0; c < r.rowlist.length; c++)
                r.rowlist[c].hidden || this.$t(c, "top");
            if (o.enabled())
              for (var c = 0; c < o.rowlist.length; c++)
                o.rowlist[c].hidden || this.$t(c, "bottom");
          }),
          (this.Xk = function () {
            if (!A.wa) {
              var e = A.Vl();
              if (e && e.length > 0) {
                if (this.cellSweeping) {
                  var t = this.cellSweepingCacheSize;
                  this.Ks(t);
                }
                K.oo(), this.Yt(), this._t(), K.rn({ dontFocus: !0 });
              }
              this.Rm = !1;
            }
          }),
          (this._t = function () {
            for (
              var e = this.Da(), t = A.jl.top, n = A.jl.bottom, i = e.xStart;
              i < e.xEnd;
              i++
            ) {
              i < this.itline.length - 1 &&
                this.itline[i + 1].breakBefore &&
                (this.au(i),
                t.enabled() && this.au(i, "top"),
                n.enabled() && this.au(i, "bottom"));
            }
          }),
          (this.au = function (e, t) {
            t = t || "main";
            var n = A.jl[t],
              i = n.divBreaks,
              a = "main" === t,
              r = a ? A.Dk : n.height,
              o = t + "_x_" + e;
            if (!this.ra.breaks[o]) {
              var s = {};
              if ("function" == typeof A.onBeforeGridLineRender) {
                var l = A.itline[e],
                  d = A.itline[e + 1];
                if (
                  ((s.start = l && l.end),
                  (s.end = d && d.start),
                  (s.hidden = !1),
                  (s.cssClass = null),
                  (s.type = "VerticalBreak"),
                  (s.grid = t),
                  (s.color = null),
                  A.onBeforeGridLineRender(s),
                  s.hidden)
                )
                  return;
              }
              var u = A.itline[e + 1].left - 1,
                h = c();
              (h.style.left = u + "px"),
                (h.style.top = "0px"),
                (h.style.width = "1px"),
                (h.style.height = r + "px"),
                (h.style.fontSize = "1px"),
                (h.style.lineHeight = "1px"),
                (h.style.overflow = "hidden"),
                (h.style.position = "absolute"),
                h.setAttribute("unselectable", "on"),
                (h.className = this.ca("_matrix_vertical_break")),
                s.cssClass && (h.className += " " + s.cssClass),
                s.color && (h.style.backgroundColor = s.color),
                i.appendChild(h),
                this.elements.breaks.push(h),
                (this.ra.breaks[o] = h);
            }
          }),
          (this.Da = function () {
            if (A.ra.drawArea) return A.ra.drawArea;
            if (!this.nav.scroll) return null;
            var e = A.jp,
              t = {},
              n =
                null != this.dynamicEventRenderingMarginX
                  ? this.dynamicEventRenderingMarginX
                  : this.dynamicEventRenderingMargin,
              i =
                null != this.dynamicEventRenderingMarginY
                  ? this.dynamicEventRenderingMarginY
                  : this.dynamicEventRenderingMargin,
              a = A.lp - n - M.rl,
              r = a + A.zs + 2 * n,
              o = 0,
              s = 0;
            if (A.itline && A.itline.length > 0) {
              (o = A.dm(a).x), (s = A.dm(r, !0).x);
              var l = this.kp();
              (s = Math.min(s, l)), (o = p(o, 0));
            }
            var d = e - i,
              c = e + this.nav.scroll.offsetHeight + 2 * i,
              u = this.Bn(d).i,
              h = this.Bn(c).i;
            h < this.rowlist.length && h++,
              (t.xStart = o),
              (t.xEnd = s),
              (t.yStart = u),
              (t.yEnd = h);
            var f = A.nav.scroll;
            return (
              0 === f.clientWidth && (f = A.divTimeScroll),
              (t.pixels = {}),
              (t.pixels.left = f.scrollLeft - M.rl),
              (t.pixels.right = f.scrollLeft - M.rl + f.clientWidth),
              (t.pixels.top = f.scrollTop),
              (t.pixels.bottom = f.scrollTop + f.clientHeight),
              (t.pixels.width = f.scrollWidth),
              (t.sw = DayPilot.sw(A.nav.scroll)),
              (A.ra.drawArea = t),
              t
            );
          }),
          (this.Bl = function () {
            var e = 0,
              t = this.itline[this.itline.length - 1];
            return (
              (e = t ? t.left + t.width : 0), (e < 0 || isNaN(e)) && (e = 0), e
            );
          }),
          (this.$t = function (e, t) {
            t = t || "main";
            var n = A.jl[t],
              i = n.rowlist,
              a = n.divLines,
              r = t + "_y_" + e;
            if (!this.ra.Hk[r]) {
              var o = i[e],
                s = {};
              if (
                "function" != typeof A.onBeforeGridLineRender ||
                ((s.row = A.en(o)),
                (s.hidden = !1),
                (s.cssClass = null),
                (s.type = "HorizontalLine"),
                (s.color = null),
                A.onBeforeGridLineRender(s),
                !s.hidden)
              ) {
                var l =
                    "number" == typeof o.forcedHeight
                      ? o.forcedHeight
                      : o.height,
                  d = o.top + l - 1,
                  u = this.Bl(),
                  h = c(),
                  f = h.style;
                (f.left = "0px"),
                  (f.top = d + "px"),
                  (f.width = u + "px"),
                  (f.height = "1px"),
                  (f.fontSize = "1px"),
                  (f.lineHeight = "1px"),
                  (f.overflow = "hidden"),
                  (f.position = "absolute"),
                  h.setAttribute("unselectable", "on"),
                  (h.className = this.ca("_matrix_horizontal_line")),
                  s.cssClass && (h.className += " " + s.cssClass),
                  s.color && (f.backgroundColor = s.color),
                  a.appendChild(h),
                  (this.ra.Hk[r] = h);
              }
            }
          }),
          (this.Zt = function (e, t) {
            var n = this.itline[e];
            if (n) {
              t = t || "main";
              var i = A.jl[t],
                a = i.divLines,
                r = "main" === t,
                o = r ? A.Dk : i.height,
                s = t + "_x_" + e;
              if (!this.ra.Gk[s]) {
                var l = {};
                if (
                  "function" != typeof A.onBeforeGridLineRender ||
                  ((l.start = n.start),
                  (l.end = n.end),
                  (l.hidden = !1),
                  (l.cssClass = null),
                  (l.type = "VerticalLine"),
                  (l.color = null),
                  A.onBeforeGridLineRender(l),
                  !l.hidden)
                ) {
                  var d = n.left + n.width - 1,
                    u = c(),
                    h = u.style;
                  (h.left = d + "px"),
                    (h.top = "0px"),
                    (h.width = "1px"),
                    (h.height = o + "px"),
                    (h.fontSize = "1px"),
                    (h.lineHeight = "1px"),
                    (h.overflow = "hidden"),
                    (h.position = "absolute"),
                    u.setAttribute("unselectable", "on"),
                    (u.className = this.ca("_matrix_vertical_line")),
                    l.cssClass && (u.className += " " + l.cssClass),
                    l.color && (h.backgroundColor = l.color),
                    a.appendChild(u),
                    this.elements.linesVertical.push(u),
                    (this.ra.Gk[s] = u);
                }
              }
            }
          }),
          (this.ap = function (e, t) {
            function n() {
              var t = A.bu(e, i.expanded, !1);
              if (!a)
                for (var n = 0; n < t.length; n++) {
                  var r = t[n];
                  A.Sm(r);
                }
              A.yq(), A.Bb(), A.Gj();
              var o = A.en(i, e);
              a ? A.qn(o) : A.pn(o);
            }
            A.gl.Bo && (A.gl.skip = !0);
            var i = this.rowlist[e],
              a = !i.expanded;
            if (
              ((i.expanded = a),
              i.resource && (i.resource.expanded = a),
              (t = t || {}),
              A.Nk({ includeHidden: !0 }),
              A.treeAnimation && !t.notAnimated)
            ) {
              var r = this.bu(e, i.expanded, !0);
              A.xq(r, a ? "show" : "hide", function () {
                n();
              });
            } else n();
          }),
          (this.yq = function () {
            A.Sk(),
              A.Ok(),
              A.Pk(),
              A.Bb(),
              A.Ja(),
              A.Um(),
              B.Wm(),
              A.Uk(),
              A.Xk(),
              A.ym(),
              A.Fb(),
              A.Ja();
          }),
          (this.sq = function (e) {
            var t = {};
            if (((t.index = e), "function" == typeof this.onLoadNode)) {
              var n = {},
                i = this.rowlist[e].resource;
              (n.resource = i),
                (n.async = !1),
                (n.loaded = function () {
                  this.async &&
                    ((i.dynamicChildren = !1), (i.expanded = !0), A.update());
                }),
                this.onLoadNode(n),
                n.async ||
                  ((i.dynamicChildren = !1), (i.expanded = !0), this.update());
            } else this.Pa("LoadNode", t);
          }),
          (this.bu = function (e, t, n) {
            var i = this.rowlist[e],
              a = [];
            if (null === i.children || 0 === i.children.length) return a;
            for (var r = 0; r < i.children.length; r++) {
              var o = i.children[r],
                s = this.rowlist[o],
                l = t && i.expanded && !s.zr;
              t && s.hidden && (s.forcedHeight = 0),
                (n && !t) || (s.hidden = !l),
                n || delete s.forcedHeight,
                t === l && a.push(o);
              var d = this.bu(o, t && !s.hidden);
              d.length > 0 && (a = a.concat(d));
            }
            return a;
          }),
          (this.rg = function (e, t) {
            this.ib(), this.sg(e, t);
          }),
          (this.tg = function (e) {
            if (!e) return !1;
            var t = this.nav.scroll,
              n = t.scrollWidth,
              i = t.scrollLeft,
              a = t.clientWidth,
              r = i + a;
            return (
              !(e < 0 && i <= 0) &&
              !(e > 0 && r >= n) &&
              ((t.scrollLeft += e), (A.coords.x += e), A.ug(), !0)
            );
          }),
          (this.vg = function (e) {
            if (!e) return !1;
            var t = this.nav.scroll,
              n = t.scrollHeight,
              i = t.scrollTop,
              a = t.clientHeight,
              r = i + a;
            return (
              !(e < 0 && i <= 0) &&
              !(e > 0 && r >= n) &&
              ((t.scrollTop += e), (A.coords.y += e), A.ug(), !0)
            );
          }),
          (this.ug = function () {
            o.Oo && o.Oo.event.calendar === A
              ? A.ut()
              : o.hm &&
                (o.Jo.calendar === A ||
                  (o.Jo.calendar && o.Jo.calendar.dragOutAllowed))
              ? (o.hm.event || (o.hm.event = o.Jo), A.vt())
              : o.Po && o.Po.calendar === A && A.wt();
          }),
          (this.sg = function (e, t) {
            if (!A.et) {
              if (!(this.tg(e) || this.vg(t))) return;
            }
            var n = function (e, t) {
              return function () {
                A.sg(e, t);
              };
            };
            this.wg = window.setTimeout(n(e, t), 100);
          }),
          (this.ib = function () {
            A.wg && (window.clearTimeout(A.wg), (A.wg = null));
          }),
          (this.Sk = function () {
            A.jl.top.enabled() && (A.jl.top.height = A.cu(A.jl.top.rowlist, 0)),
              A.jl.bottom.enabled() &&
                (A.jl.bottom.height = A.cu(A.jl.bottom.rowlist, 0)),
              (A.Dk = A.cu(A.rowlist, A.jl.top.height));
          }),
          (this.cu = function (e, t) {
            for (var n = 0, i = t || 0, t = t || 0, a = 0; a < e.length; a++) {
              var r = e[a];
              r.hidden ||
                ((r.top = t),
                (r.displayY = n),
                (t +=
                  "number" == typeof r.forcedHeight
                    ? r.forcedHeight
                    : r.height),
                (n += 1)),
                (r.absTop = i),
                (i += r.height);
            }
            return t;
          }),
          (this.Uk = function () {
            var e =
              "function" == typeof A.onBeforeRowHeaderDomAdd && A.Y.reactDOM;
            (DayPilot.browser.ie || e) && A.du(),
              (A.elements.cells = []),
              (A.elements.breaks = []),
              (A.ra.cells = []),
              (A.ra.breaks = []),
              (A.divBreaks.innerHTML = ""),
              (A.jl.top.divBreaks.innerHTML = ""),
              (A.jl.bottom.divBreaks.innerHTML = ""),
              (A.divCells.innerHTML = ""),
              (A.jl.top.divCells.innerHTML = ""),
              (A.jl.bottom.divCells.innerHTML = ""),
              A.gq();
          }),
          (this.gq = function () {
            (A.divLines.innerHTML = ""),
              (A.jl.top.divLines.innerHTML = ""),
              (A.jl.bottom.divLines.innerHTML = ""),
              (A.ra.Gk = {}),
              (A.ra.Hk = {}),
              (A.elements.linesVertical = []);
          }),
          (this.du = function (e) {
            var t = x();
            for (var n in A.ra.cells) t.push(A.ra.cells[n]);
            t.forEach(function (e) {
              A.Co(e);
            });
          }),
          (this.Vm = function (e, t) {
            t = t || "main";
            var n = x();
            for (var i in A.ra.cells) n.push(A.ra.cells[i]);
            n.filter(function (n) {
              return n && n.coords && n.coords.y === e && n.coords.grid === t;
            }).forEach(function (e) {
              A.Co(e);
            });
          }),
          (this.eu = 0),
          (this.fu = x([
            "html",
            "cssClass",
            "backColor",
            "backImage",
            "backRepeat",
            "areas",
            "disabled",
          ])),
          (this.gu = A.fu.add("business")),
          (this.Me = function (e, t, n) {
            if (this.va) {
              var i = A.jm(e);
              if (i) {
                n = n || "main";
                var a = this.jl[n],
                  r = a.rowlist,
                  o = a.divCells,
                  s = "main" === n,
                  l = n + "_" + e + "_" + t;
                if (!this.ra.cells[l]) {
                  var d = this.Eo(e, t, n);
                  if ((A.sp(e, t, n), !this.drawBlankCells)) {
                    var u = !1;
                    if (
                      (s && this.Yo(t)
                        ? (u = !1)
                        : this.hu(d, A.fu) || (u = !0),
                      u)
                    )
                      return;
                  }
                  var h = c();
                  (h.style.left = i.left + "px"),
                    (h.style.top = r[t].top + "px"),
                    (h.style.width = i.width + "px"),
                    (h.style.height = r[t].height + "px"),
                    (h.style.position = "absolute"),
                    d && d.backColor && (h.style.backgroundColor = d.backColor),
                    h.setAttribute("unselectable", "on"),
                    (h.className = this.ca("_cell")),
                    (h.coords = {}),
                    (h.coords.x = e),
                    (h.coords.y = t),
                    (h.coords.grid = n),
                    s && A.Yo(t) && f(h, this.ca("_cellparent")),
                    j.ra[t] && f(h, this.ca("_cell_selected"));
                  var v = A.cells.findXy(e, t, n)[0];
                  if (d) {
                    d.cssClass && f(h, d.cssClass),
                      m(d.html) || (h.innerHTML = d.html),
                      d.backImage &&
                        (h.style.backgroundImage =
                          'url("' + d.backImage + '")'),
                      d.backRepeat && (h.style.backgroundRepeat = d.backRepeat),
                      d.business &&
                        A.cellsMarkBusiness &&
                        f(h, A.ca("_cell_business")),
                      d.disabled && f(h, A.ca("_cell_disabled"));
                    var p = DayPilot.Areas.resolvePosition(
                      d.areas,
                      A,
                      i.left,
                      i.width
                    );
                    DayPilot.Areas.attach(h, v, { areas: p });
                  }
                  if (
                    ((function () {
                      if (
                        "function" == typeof A.onBeforeCellDomAdd ||
                        "function" == typeof A.onBeforeCellDomRemove
                      ) {
                        var e = {};
                        if (
                          ((e.control = A),
                          (e.cell = v),
                          (e.element = null),
                          (h.domArgs = e),
                          "function" == typeof A.onBeforeCellDomAdd &&
                            A.onBeforeCellDomAdd(e),
                          e.element)
                        ) {
                          var t = h;
                          if (t) {
                            e.Be = t;
                            if (y(e.element)) {
                              if (!A.Y.reactDOM)
                                throw new DayPilot.Exception(
                                  "Can't reach ReactDOM"
                                );
                              A.Y.X(e.element, t);
                            } else t.appendChild(e.element);
                          }
                        }
                      }
                    })(),
                    o.appendChild(h),
                    this.elements.cells.push(h),
                    (this.ra.cells[l] = h),
                    "function" == typeof A.onAfterCellRender)
                  ) {
                    var b = {};
                    (b.cell = g(v, {}, [
                      "x",
                      "y",
                      "displayY",
                      "start",
                      "end",
                      "resource",
                      "grid",
                    ])),
                      (b.div = h),
                      A.onAfterCellRender(b);
                  }
                }
              }
            }
          }),
          (this.Yl = {}),
          (this.vo = function () {
            A.Yq(),
              A.iu().forEach(function (e) {
                A.Vm(e.y, e.grid);
              }),
              A.Xk();
          }),
          (this.Yq = function () {
            function e(e) {
              A.jl[e].rowlist.forEach(function (t, n) {
                t.isNewRow ||
                  (t.resource.cellsAutoUpdated &&
                    A.itline.forEach(function (t, i) {
                      var a = e + "_" + i + "_" + n;
                      delete A.Yl[a];
                    }));
              });
            }
            e("main"), e("top"), e("bottom");
          }),
          (this.iu = function () {
            function e(e, n, r) {
              for (var o = 0; o < r; o++)
                for (
                  var s = n + o, l = A.jl[e].rowlist[s], d = 0;
                  d <= a;
                  d++
                ) {
                  var c = i + d;
                  if (!l.hidden && !A.Yl[e + "_" + c + "_" + s]) {
                    t.push({ grid: e, y: s });
                    break;
                  }
                }
            }
            var t = x(),
              n = this.Da(),
              i = n.xStart,
              a = n.xEnd - n.xStart;
            return (
              e("main", n.yStart, n.yEnd - n.yStart),
              e("top", 0, A.jl.top.rowlist.length),
              e("bottom", 0, A.jl.bottom.rowlist.length),
              t
            );
          }),
          (this.sp = function (e, t, n) {
            if ("function" == typeof this.onBeforeCellRender) {
              n = n || "main";
              var i = n + "_" + e + "_" + t;
              if (A.beforeCellRenderCaching && A.Yl[i]) return;
              A.Yl[i] = !0;
              var a = A.jm(e);
              if (!a) return;
              var r = A.cells.findXy(e, t, n)[0],
                o = {};
              return (
                (o.cell = r),
                (o.control = A),
                (o.getPixels = function (e) {
                  var e = new DayPilot.Date(e);
                  return A.getPixels(e).left - a.left;
                }),
                this.onBeforeCellRender(o),
                g(o.cell, o.cell.properties, A.gu),
                o.cell.properties.disabled && (A.Yl.Sp = !0),
                o
              );
            }
          }),
          (this.hu = function (e, t) {
            if (t) {
              for (var n = 0; n < t.length; n++) if (!m(e[t[n]])) return !0;
            } else for (var i in e) if (!m(e[i])) return !0;
            return !1;
          }),
          (this.clearSelection = function () {
            this.$k(), V.clear();
          }),
          (this.cleanSelection = this.clearSelection),
          (this.Qt = function (e, t, n) {
            (e = new DayPilot.Date(e)), (t = new DayPilot.Date(t));
            var i = A.nl(n),
              a = A.fm(e),
              r = a.current || a.next;
            if (!r)
              throw new DayPilot.Exception(
                "Time range selection 'start' out of timeline"
              );
            var o = A.fm(new DayPilot.Date(t).addMilliseconds(-1)),
              s = o.current || o.previous;
            if (!s)
              throw new DayPilot.Exception(
                "Time range selection 'end' out of timeline"
              );
            var l = {};
            return (
              (l.start = {
                y: i.index,
                x: D(A.itline, r),
                time: e,
                grid: i.grid,
              }),
              (l.end = { x: D(A.itline, s), time: t }),
              (l.calendar = this),
              l
            );
          }),
          (this.selectTimeRange = function (e, t, n, i) {
            var a = A.Qt(e, t, n);
            A.an(a),
              i ||
                setTimeout(function () {
                  A.Ym(a);
                }, 0);
          }),
          (this.tc = function () {
            var e = o.Lp && o.Lp.source;
            e && h(e, A.ca(A.at.eventMovingSource)),
              C(o.Lp),
              (o.Lp = null),
              A.Tp(),
              A.Jp.clear(),
              w.movingLink && (w.movingLink.clear(), (w.movingLink = null));
          }),
          (this.$k = function () {
            A.divShadow && (A.divShadow.innerHTML = ""),
              A.jl.top.divShadow && (A.jl.top.divShadow.innerHTML = ""),
              A.jl.bottom.divShadow && (A.jl.bottom.divShadow.innerHTML = ""),
              (A.elements.range = []),
              (A.elements.range2 = null),
              A.Tp(),
              (A._m = null),
              (A.Ot = null);
          });
        var K = {};
        (K.kk = null),
          (K.po = !1),
          (K.ju = function (e) {
            if (!e) return null;
            var t = {};
            if ("event" === e.type) t.e = e.event;
            else if ("cell" === e.type) {
              var n = K.ku(e.x, e.y);
              (t.cell = {}),
                (t.cell.start = n.thc.start),
                (t.cell.end = n.thc.end),
                (t.cell.resource = n.row.id);
            }
            return t;
          }),
          (K.rn = function (e) {
            if (!o.no && !K.po) {
              e = e || {};
              var t = e.dontFocus,
                n = K.kk;
              if (n) {
                var i = n.x,
                  a = n.y;
                if ("cell" === n.type) {
                  var r = K.ku(i, a),
                    s = r.row,
                    l = K.lu(i, a);
                  l && f(l, A.ca("_cell_focus")),
                    "top" === n.line &&
                      s.marginTop &&
                      f(l, A.ca("_cell_focus_top")),
                    "bottom" === n.line &&
                      s.marginBottom &&
                      f(l, A.ca("_cell_focus_bottom"));
                } else {
                  var l = A.Ng(n.event);
                  l && f(l, A.ca("_event_focus"));
                }
                if (!t) {
                  var d = A.Cn();
                  if (d.start.x >= i) {
                    var c = A.itline[i].start;
                    A.scrollTo(c);
                  } else if (d.end.x <= i) {
                    var u = A.itline[i].end;
                    A.scrollTo(u, !1, "right");
                  }
                  if (d.start.y >= a)
                    A.nav.scroll.scrollTop = A.rowlist[a].top - A.jl.top.height;
                  else if (d.end.y <= a) {
                    var s = A.rowlist[a],
                      h = s.top + s.height;
                    A.nav.scroll.scrollTop =
                      h - A.nav.scroll.clientHeight + A.jl.bottom.height;
                  }
                }
              }
            }
          }),
          (K.oo = function () {
            var e = K.kk;
            if (e)
              if ("cell" === e.type) {
                var t = K.lu(K.kk.x, K.kk.y);
                t &&
                  (h(t, A.ca("_cell_focus")),
                  h(t, A.ca("_cell_focus_top")),
                  h(t, A.ca("_cell_focus_bottom")));
              } else {
                var t = A.Ng(e.event);
                t && h(t, A.ca("_event_focus"));
              }
          }),
          (K.ku = function (e, t) {
            var n = {},
              i = A.rowlist[t],
              a = A.itline[e],
              r = [],
              o = i.lines.map(function (e) {
                var t = e.filter(function (e) {
                  return u(e.part.start, e.part.end, a.start, a.end);
                });
                return (r = r.concat(t)), t;
              });
            return (n.lines = o), (n.thc = a), (n.row = i), (n.events = r), n;
          }),
          (K.Mm = function () {
            var e = K.kk;
            e &&
              (K.oo(),
              (K.kk = K.mu(e.x, e.y, e.pixels, e.line)),
              K.rn({ dontFocus: !0 }));
          }),
          (K.mu = function (e, t, n, i) {
            var a = {};
            (n = n || A.itline[e].left), (i = m(i) ? "top" : i);
            var r = K.ku(e, t),
              o = r.lines,
              s = r.row,
              l = r.events,
              d = s.marginTop || s.marginBottom,
              c = !1,
              h = l.length > 0,
              f = i,
              v = null,
              p = null;
            if (h)
              if (s.marginTop && "top" === i) (c = !0), (f = "top");
              else if (s.marginBottom && "bottom" === i)
                (c = !0), (f = "bottom");
              else {
                if ("top" === i)
                  if (s.marginBottom) {
                    var g = r.lines.find(function (e) {
                      return e.find(function (e) {
                        return e.part.left <= n && n <= e.part.right;
                      });
                    });
                    if (g) f = r.lines.indexOf(g);
                    else {
                      var y = r.lines.find(function (e) {
                        return e.find(function (e) {
                          return u(
                            e.part.left,
                            e.part.right,
                            r.thc.left,
                            r.thc.left + r.thc.right
                          );
                        });
                      });
                      y
                        ? ((f = r.lines.indexOf(y)), (p = y[0]))
                        : (f = "bottom");
                    }
                  } else f = s.marginTop ? "top" : 0;
                else if ("bottom" === i)
                  if (d) {
                    var g = r.lines
                      .slice()
                      .reverse()
                      .find(function (e) {
                        return e.find(function (e) {
                          return e.part.left <= n && n <= e.part.right;
                        });
                      });
                    (f = r.lines.indexOf(g)), f === -1 && (f = K.nu(i, s));
                  } else f = o.length - 1;
                else f = i;
                var b = o[f];
                p ||
                  (p =
                    b &&
                    b.find(function (e) {
                      return e.part.left <= n && n <= e.part.right;
                    })),
                  p || ((c = !0), (f = K.nu(f, s))),
                  (v = p);
              }
            else (c = !0), (f = d ? K.nu(i, s) : 0);
            return (
              (a.x = e),
              (a.y = t),
              c
                ? ((a.type = "cell"), (a.pixels = n), (a.line = f), a)
                : ((a.type = "event"),
                  (a.event = v),
                  (a.pixels = v.part.left),
                  (a.x = A.dm(v.part.left).x),
                  (a.line = f),
                  a)
            );
          }),
          (K.ou = function (e) {
            var t = {},
              n = K.kk,
              i = A.rowlist[n.y],
              a = i.lines[n.line],
              r = K.ku(n.x, n.y),
              o = i.marginTop || i.marginBottom;
            if ("right" === e) {
              if ("event" === n.type) {
                var s = n.event.part.end,
                  l = n.event.part.right,
                  d = A.fm(s),
                  c = d.i,
                  h = d.current.left + d.current.width,
                  f = a.indexOf(n.event) + 1,
                  v = a[f],
                  p = r.lines[n.line],
                  m = p[p.indexOf(n.event) + 1];
                if (v && v.part.left === l)
                  return (
                    (t.x = c + 1),
                    (t.y = n.y),
                    (t.type = "event"),
                    (t.line = n.line),
                    (t.pixels = v.part.left),
                    (t.event = v),
                    t
                  );
                if (m && o)
                  return (
                    (t.x = c),
                    (t.y = n.y),
                    (t.type = "event"),
                    (t.line = n.line),
                    (t.pixels = m.part.left),
                    (t.event = m),
                    t
                  );
                if (h === l) {
                  var g = K.qu(c);
                  return g === c
                    ? n
                    : ((t.x = c + 1),
                      (t.y = n.y),
                      (t.type = "cell"),
                      (t.pixels = A.itline[t.x].left),
                      (t.line = n.line),
                      i.marginTop
                        ? (t.line = "top")
                        : i.marginBottom && (t.line = "bottom"),
                      t);
                }
                return (
                  (t.x = c),
                  (t.y = n.y),
                  (t.type = "cell"),
                  (t.line = n.line),
                  (t.pixels = n.event.part.right),
                  o && (t.line = K.nu(n.line, i)),
                  t
                );
              }
              var r = K.ku(n.x, n.y),
                a = r.lines[n.line],
                v =
                  a &&
                  a.find(function (e) {
                    return e.part.left > n.pixels;
                  });
              if (v)
                return (
                  (t.x = n.x),
                  (t.y = n.y),
                  (t.type = "event"),
                  (t.event = v),
                  (t.pixels = v.part.left),
                  (t.line = n.line),
                  t
                );
              var g = K.qu(n.x);
              return g === n.x ? n : K.mu(n.x + 1, n.y, null, n.line);
            }
            if ("left" === e) {
              var y = n.x;
              if ("event" === n.type) {
                y = A.dm(n.event.part.left).x;
                var d = A.itline[y];
                if (n.event.part.left !== d.left) {
                  var f = a.indexOf(n.event) - 1,
                    v = a[f];
                  return v && v.part.right === n.event.part.left
                    ? ((d = A.dm(v.part.right, !0)),
                      (t.x = d.x),
                      (t.y = n.y),
                      (t.type = "event"),
                      (t.line = n.line),
                      (t.pixels = v.part.right),
                      (t.event = v),
                      t)
                    : ((d = A.dm(n.event.part.left)),
                      (t.x = d.x),
                      (t.y = n.y),
                      (t.type = "cell"),
                      (t.line = n.line),
                      (t.pixels = n.event.part.left),
                      o && (t.line = K.nu(n.line, i)),
                      t);
                }
                t = K.mu(y - 1, n.y, d.right, n.line);
              } else {
                var r = K.ku(n.x, n.y),
                  a = r.lines[n.line],
                  v =
                    a &&
                    a
                      .slice()
                      .reverse()
                      .find(function (e) {
                        return e.part.right < n.pixels;
                      });
                if (v)
                  return (
                    (t.x = n.x),
                    (t.y = n.y),
                    (t.type = "event"),
                    (t.event = v),
                    (t.pixels = v.part.right),
                    (t.line = n.line),
                    t
                  );
                var g = K.ru(n.x);
                if (g === n.x) return n;
                var d = A.itline[y - 1],
                  h = d.left + d.width;
                t = K.mu(y - 1, n.y, h, n.line);
              }
              return t;
            }
            if ("down" === e) {
              var r = K.ku(n.x, n.y),
                b = r.lines.find(function (e) {
                  return e.find(function (e) {
                    return e.part.left <= n.pixels && n.pixels <= e.part.right;
                  });
                });
              if ("top" === n.line && i.marginTop) {
                if (b) {
                  var w = r.lines.indexOf(b);
                  return (
                    (t = K.mu(n.x, n.y, n.pixels, w)),
                    (t.pixels = n.pixels),
                    (t.x = n.x),
                    t
                  );
                }
                var x = r.lines.find(function (e) {
                  return e.find(function (e) {
                    return u(
                      e.part.left,
                      e.part.right,
                      r.thc.left,
                      r.thc.left + r.thc.right
                    );
                  });
                });
                if (x) {
                  var k = x[0];
                  return (
                    (t = K.mu(n.x, n.y, k.part.left, r.lines.indexOf(x))),
                    (t.pixels = n.pixels),
                    (t.x = n.x),
                    t
                  );
                }
                var C = K.su(n.y);
                return C === n.y
                  ? n
                  : ((t = K.mu(n.x, n.y + 1, n.pixels, "top")),
                    (t.pixels = n.pixels),
                    (t.x = n.x),
                    t);
              }
              if ("bottom" === n.line && i.marginBottom) {
                var C = K.su(n.y);
                return C === n.y
                  ? n
                  : ((t = K.mu(n.x, n.y + 1, n.pixels, "top")),
                    (t.pixels = n.pixels),
                    (t.x = n.x),
                    t);
              }
              if (n.line < i.lines.length - 1) {
                var D = n.y,
                  S = n.line + 1;
                i.marginTop && "top" === n.line && (S = 0);
                var b = r.lines.slice(S).find(function (e) {
                  return e.find(function (e) {
                    return e.part.left <= n.pixels && n.pixels <= e.part.right;
                  });
                });
                if (b) S = r.lines.indexOf(b);
                else if (i.marginBottom) S = "bottom";
                else if (i.marginTop) {
                  var x = r.lines.slice(n.line + 1).find(function (e) {
                    return e.find(function (e) {
                      return u(
                        e.part.left,
                        e.part.right,
                        r.thc.left,
                        r.thc.left + r.thc.right
                      );
                    });
                  });
                  if (x) {
                    var k = x[0];
                    return (t = K.mu(
                      n.x,
                      n.y,
                      k.part.left,
                      r.lines.indexOf(x)
                    ));
                  }
                  (S = "top"), (D += 1);
                } else n.event ? (S = i.lines.length - 1) : ((S = 0), (D += 1));
                return (
                  (t = K.mu(n.x, D, n.pixels, S)),
                  (t.pixels = n.pixels),
                  (t.x = n.x),
                  t
                );
              }
              if (n.line === i.lines.length - 1 && i.marginBottom)
                return (
                  (t = K.mu(n.x, n.y, n.pixels, "bottom")),
                  (t.pixels = n.pixels),
                  (t.x = n.x),
                  t
                );
              var C = K.su(n.y);
              return C === n.y
                ? n
                : ((t = K.mu(n.x, n.y + 1, n.pixels, "top")),
                  (t.pixels = n.pixels),
                  (t.x = n.x),
                  t);
            }
            if ("up" === e) {
              var r = K.ku(n.x, n.y),
                b = r.lines
                  .slice()
                  .reverse()
                  .find(function (e) {
                    return e.find(function (e) {
                      return (
                        e.part.left <= n.pixels && n.pixels <= e.part.right
                      );
                    });
                  });
              if ("bottom" === n.line && i.marginBottom && b) {
                var w = r.lines.indexOf(b);
                t = K.mu(n.x, n.y, n.pixels, w);
              } else if (0 === n.line && i.marginTop)
                t = K.mu(n.x, n.y, n.pixels, "top");
              else if (n.line > 0) {
                var S = "bottom",
                  D = n.y,
                  b = r.lines
                    .slice(0, n.line)
                    .reverse()
                    .find(function (e) {
                      return e.find(function (e) {
                        return (
                          e.part.left <= n.pixels && n.pixels <= e.part.right
                        );
                      });
                    });
                b
                  ? (S = r.lines.indexOf(b))
                  : i.marginTop
                  ? (S = "top")
                  : i.marginBottom
                  ? (D -= 1)
                  : (S = 0);
                var C = K.tu(D);
                if (C === D) return n;
                t = K.mu(n.x, D, n.pixels, S);
              } else {
                var C = K.tu(n.y);
                if (C === n.y) return n;
                t = K.mu(n.x, n.y - 1, n.pixels, "bottom");
              }
              return (t.x = n.x), (t.pixels = n.pixels), t;
            }
            return null;
          }),
          (K.nu = function (e, t) {
            var n =
              ("top" === e && t.marginTop) ||
              ("bottom" === e && t.marginBottom);
            if ("number" == typeof e || !n) {
              if (t.marginTop) return "top";
              if (t.marginBottom) return "bottom";
            }
            return e;
          }),
          (K.lu = function (e, t, n) {
            n = n || "main";
            var i = n + "_" + e + "_" + t;
            return A.ra.cells[i];
          }),
          (K.uu = function () {
            return K.kk;
          }),
          (K.yh = function () {
            var e = A.keyboardTarget;
            switch (e) {
              case "component":
                return A.nav.top;
              case "document":
                return document;
            }
            throw new DayPilot.Exception("Invalid keyboardTarget value: " + e);
          }),
          (K.Po = null),
          (K.vu = function (e) {
            if (16 === e.keyCode) {
              var t = K.Po;
              if (((K.Po = null), !t || !t.end)) return;
              var n = t.start.x < t.end.x,
                i = n ? t.start.x : t.end.x,
                a = n ? t.end.x : t.start.x;
              K.wu(i, t.start.y, a, { forceSnap: !0 });
            }
          }),
          (K.xu = function (e) {
            var t = 37,
              n = 38,
              i = 39,
              a = 40,
              r = 13,
              s = {};
            (s["_37"] = "left"),
              (s["_39"] = "right"),
              (s["_38"] = "up"),
              (s["_40"] = "down");
            var l = [t, n, i, a],
              d = l.indexOf(e.keyCode) !== -1,
              c = [t, n, i, a, r],
              u = c.indexOf(e.keyCode) !== -1;
            if (!o.no) {
              if ("function" == typeof A.onKeyDown) {
                var h = {};
                if (
                  ((h.originalEvent = e),
                  (h.preventDefault = function () {
                    h.preventDefault.value = !0;
                  }),
                  A.onKeyDown(h),
                  h.preventDefault.value)
                )
                  return;
              }
              if (d && (e.preventDefault(), !K.kk)) return void K.yu();
              if (u) {
                var f = e.shiftKey;
                if (K.kk) {
                  var v = A.Yo(K.kk.y),
                    p = !(v && A.treePreventParentUsage);
                  f &&
                    !K.kk.event &&
                    !K.Po &&
                    p &&
                    (K.Po = {
                      calendar: A,
                      forceSnap: !0,
                      start: {
                        x: K.kk.x,
                        y: K.kk.y,
                        time: A.itline[K.kk.x].start,
                      },
                    });
                }
                if (!K.Po || (e.keyCode !== n && e.keyCode !== a)) {
                  var m = K.ou(s["_" + e.keyCode]),
                    h = {};
                  if (
                    ((h.previous = A.keyboard.getFocus()),
                    (h.focus = K.ju(m)),
                    (h.preventDefault = function () {
                      h.preventDefault.value = !0;
                    }),
                    !d ||
                      "function" != typeof A.onKeyboardFocusChange ||
                      (A.onKeyboardFocusChange(h), !h.preventDefault.value))
                  ) {
                    if (d) K.oo(), (K.kk = m), K.rn();
                    else
                      switch (e.keyCode) {
                        case r:
                          if ((e.preventDefault(), K.kk && K.kk.event)) {
                            var g = A.Ng(K.kk.event);
                            K.zu(g, e);
                          } else p && K.wu(K.kk.x, K.kk.y);
                      }
                    (d &&
                      "function" == typeof A.onKeyboardFocusChanged &&
                      (A.onKeyboardFocusChanged(h), h.preventDefault.value)) ||
                      ((e.keyCode !== t && e.keyCode !== i) ||
                        (K.Po &&
                          ((K.Po.end = {
                            x: K.kk.x,
                            y: K.kk.y,
                            time: A.itline[K.kk.x].start,
                          }),
                          A.an(K.Po))),
                      K.Po);
                  }
                }
              }
            }
          }),
          (K.Hn = function () {
            var e = K.yh();
            e.removeEventListener("keyup", K.vu),
              e.removeEventListener("keydown", K.xu);
          }),
          (K.Au = function () {
            var e = K.yh();
            e !== document && A.nav.top.setAttribute("tabindex", "-1"),
              A.ia() ||
                (e.addEventListener("keyup", K.vu),
                e.addEventListener("keydown", K.xu));
          }),
          (K.zu = function (e, t) {
            A.Yb(e, t);
          }),
          (K.wu = function (e, t, n) {
            l = l || {};
            var i = {};
            (i.forceSnap = !0),
              (i.start = { y: t, x: e, time: A.itline[e].start }),
              (i.end = { x: "undefined" == typeof n ? e : n }),
              (i.end.time = A.itline[i.end.x].start),
              (i.calendar = A),
              (A._m = i),
              A.Ym(i);
          }),
          (K.yu = function () {
            var e = A.Cn();
            K.oo(), (K.kk = K.mu(e.start.x, e.start.y)), K.rn();
          }),
          (K.Bu = function () {
            var e = "Always" === A.useEventBoxes;
            (e = e && !A.ia()),
              e && (K.Au(), K.yh() !== document && A.nav.top.focus());
          }),
          (K.tu = function (e) {
            if (e <= 0) return e;
            for (var t = e; t > 0; )
              if (((t -= 1), !A.rowlist[t].hidden)) return t;
            return e;
          }),
          (K.su = function (e) {
            var t = A.rowlist.length - 1;
            if (e >= t) return e;
            for (var n = e; n < t; )
              if (((n += 1), !A.rowlist[n].hidden)) return n;
            return e;
          }),
          (K.qu = function (e) {
            return e >= A.itline.length - 1 ? e : e + 1;
          }),
          (K.ru = function (e) {
            return e <= 0 ? e : e + 1;
          }),
          (K.Dm = function () {
            K.kk = null;
          }),
          (this.Em = K),
          (this.keyboard = {}),
          (this.keyboard.focusCell = function (e, t) {
            var n = A.Im(e, t);
            if (!n)
              throw new DayPilot.Exception("Can't find the specified cell");
            if ("main" !== n.grid)
              throw new DayPilot.Exception(
                "Can't focus a cell in a frozen row"
              );
            K.oo(), (K.kk = K.mu(n.x, n.y)), K.rn();
          }),
          (this.keyboard.focusEvent = function (e) {
            e instanceof DayPilot.Event && (e = e.id());
            var t = A.events.find(e);
            if (!t) throw new DayPilot.Exception("Event not found");
            t = A.events.eo(t.data);
            var n = (A.rowlist[t.part.dayIndex], {});
            (n.type = "event"),
              (n.event = t),
              (n.pixels = t.part.left),
              (n.x = A.dm(t.part.left).x),
              (n.y = t.part.dayIndex),
              (n.line = t.part.line),
              K.oo(),
              (K.kk = n),
              K.rn();
          }),
          (this.keyboard.resetFocus = function () {
            K.yu();
          }),
          (this.keyboard.getFocus = function () {
            return K.ju(K.kk);
          }),
          (this.keyboard.move = function (e, t) {
            t = t || {};
            var n = t.dontFireEvent;
            K.oo();
            var i = K.ou(e),
              a = {};
            return (
              (a.previous = A.keyboard.getFocus()),
              (a.focus = K.ju(i)),
              (a.preventDefault = function () {
                a.preventDefault.value = !0;
              }),
              "function" == typeof A.onKeyboardFocusChange &&
              !n &&
              (A.onKeyboardFocusChange(a), a.preventDefault.value)
                ? void K.rn()
                : ((K.kk = i),
                  K.rn(),
                  void (
                    "function" != typeof A.onKeyboardFocusChanged ||
                    n ||
                    A.onKeyboardFocusChanged(a)
                  ))
            );
          }),
          (this.Ma = {});
        var Z = this.Ma;
        (Z.Pg = function () {
          delete A.ra.eventHeight, delete A.ra.headerHeight;
        }),
          (Z.La = function () {
            return "Disabled" !== A.xssProtection;
          }),
          (Z.Oc = function () {
            return DayPilot.Locale.find(A.locale);
          }),
          (Z.Nc = function () {
            return "Auto" !== A.timeFormat ? A.timeFormat : Z.Oc().timeFormat;
          }),
          (Z.Kd = function () {
            if ("Auto" === A.weekStarts) {
              var e = Z.Oc();
              return e ? e.weekStarts : 0;
            }
            return A.weekStarts || 0;
          }),
          (Z.hq = function () {
            var e = navigator.userAgent.toLowerCase();
            return e.indexOf("mobile") !== -1 || e.indexOf("android") != -1;
          }),
          (Z.Fr = function () {
            var e = /MSIE 6/i.test(navigator.userAgent);
            return "Auto" === A.layout
              ? e
                ? "TableBased"
                : "DivBased"
              : A.layout;
          }),
          (Z.jc = function () {
            var e;
            if ("Immediate" === A.notifyCommit) e = "Notify";
            else {
              if ("Queue" !== A.notifyCommit)
                throw new DayPilot.Exception(
                  "Invalid notifyCommit value: " + A.notifyCommit
                );
              e = "Queue";
            }
            return e;
          }),
          (Z.Aq = function () {
            return "Days" !== A.viewType;
          }),
          (Z.Jg = function (e) {
            return (
              "Always" === A.useEventBoxes ||
              ("Never" !== A.useEventBoxes && e < 60 * A.Mo() * 1e3)
            );
          }),
          (Z.tp = function () {
            return "number" == typeof A.durationBarHeight
              ? A.durationBarHeight
              : 4;
          }),
          (Z.Qn = function () {
            if (A.ra.eventHeight) return A.ra.eventHeight;
            var e = A.Tg("_event_height").height;
            return e || (e = A.eventHeight), (A.ra.eventHeight = e), e;
          }),
          (Z.Ae = function () {
            if (A.ra.headerHeight) return A.ra.headerHeight;
            var e = A.Tg("_header_height").height;
            return e || (e = A.headerHeight), (A.ra.headerHeight = e), e;
          }),
          (Z.Wr = function () {
            if (A.ra.scrollLineHeight) return A.ra.scrollLineHeight;
            var e = c();
            (e.style.fontSize = "initial"),
              (e.style.display = "none"),
              d().appendChild(e);
            var t = parseInt(window.getComputedStyle(e).fontSize) || 16;
            return d().removeChild(e), (A.ra.scrollLineHeight = t), t;
          }),
          (Z.Fl = function () {
            return A.rowHeaderScrolling ? A.rowHeaderSplitterWidth : 1;
          }),
          (Z.lm = function () {
            return "string" == typeof A.multiSelectRectangle
              ? A.multiSelectRectangle
              : "Disabled" === A.rectangleSelectHandling
              ? "Disabled"
              : A.rectangleSelectMode;
          }),
          (Z.Cu = function () {
            return "string" == typeof A.multiSelectRectangle
              ? "Free" === A.multiSelectRectangle ||
                "Row" === A.multiSelectRectangle
                ? "EventSelect"
                : "Disabled"
              : A.rectangleSelectHandling;
          }),
          (Z.qp = function () {
            return x(A.rowHeaderColumns).filter(function (e) {
              return !e.hidden;
            });
          }),
          (this.Du = {});
        var Q = this.Du;
        (Q.up = function (e) {
          var t = {};
          (t.top = 0), (t.height = 0);
          for (var n = Z.Ae(), i = 0; i <= e; i++) {
            var a = A.timeHeaders[i];
            (t.top += t.height), (t.height = a.height || n);
          }
          return t;
        }),
          (this.Eo = function (e, t, n) {
            n = n || "main";
            var i = n + "_" + e + "_" + t,
              a = A.jl[n],
              r = a.rowlist;
            if (A.cellConfig) {
              i = e + "_" + t;
              for (var o = 0, s = 0; s < A.resources.length; s++)
                if (!A.resources[s].hidden) {
                  if (o === t) {
                    t = s;
                    break;
                  }
                  o += 1;
                }
            }
            if (
              (this.cellProperties || (this.cellProperties = {}),
              this.cellProperties[i])
            )
              return this.cellProperties[i];
            if (
              (this.xk && (this.cellProperties[i] = A.Eu(e, t)),
              !this.cellProperties[i])
            ) {
              var l = r[t],
                d = l.id,
                c = l.start.getTime() - A.Tb().getTime(),
                u = A.jm(e),
                h = u.start.addTime(c),
                f = u.end.addTime(c),
                v = {};
              (v.start = h), (v.end = f), (v.resource = d);
              var p = {};
              (p.business = A.isBusiness(v)),
                l.cellsDisabled && ((A.Yl.Sp = !0), (p.disabled = !0)),
                (this.cellProperties[i] = p);
            }
            return this.cellProperties[i];
          }),
          (this.Fu = function (e, t, n) {
            var i = t + "_" + n;
            return (
              (this.cellProperties[i] = {}),
              g(e, this.cellProperties[i], A.gu),
              this.cellProperties[i]
            );
          }),
          (this.Eu = function (e, t) {
            if (!this.cellConfig) return null;
            var n = this.cellConfig,
              i = this.cellProperties[e + "_" + t];
            !i && n.vertical && (i = this.cellProperties[e + "_0"]),
              !i && n.horizontal && (i = this.cellProperties["0_" + t]),
              !i && n["default"] && (i = n["default"]);
            var a = {};
            return g(i, a, A.gu), a;
          }),
          (this.sb = function () {
            if (!this.xk && !this.yk && ((this.yk = !0), this.cellConfig)) {
              var e = this.cellConfig;
              if (e.vertical)
                for (var t = 0; t < e.x; t++) {
                  var n = this.cellProperties[t + "_0"];
                  if (n) for (var i = 1; i < e.y; i++) this.Fu(n, t, i);
                }
              if (e.horizontal)
                for (var i = 0; i < e.y; i++) {
                  var n = this.cellProperties["0_" + i];
                  if (n) for (var t = 1; t < e.x; t++) this.Fu(n, t, i);
                }
              if (e["default"])
                for (var n = e["default"], i = 0; i < e.y; i++)
                  for (var t = 0; t < e.x; t++)
                    this.cellProperties[t + "_" + i] || this.Fu(n, t, i);
            }
          }),
          (this.isBusiness = function (e, t) {
            var n = e.start,
              i = e.end,
              a = (i.getTime() - n.getTime()) / 6e4;
            if (
              a <= 1440 &&
              !(
                A.businessWeekends ||
                t ||
                (0 !== e.start.dayOfWeek() && 6 !== e.start.dayOfWeek())
              )
            )
              return !1;
            if (a < 720) {
              var r = n.getHours();
              (r += n.getMinutes() / 60),
                (r += n.getSeconds() / 3600),
                (r += n.getMilliseconds() / 36e5);
              var o = this.businessBeginsHour,
                s = this.businessEndsHour;
              if ((0 === s && (s = 24), o === s)) return !1;
              if (!(o < s)) return r < s || r >= o;
              if (r < o) return !1;
              if (s >= 24) return !0;
              if (r >= s) return !1;
            }
            return !0;
          }),
          (this.Pe = function () {
            switch (A.xa) {
              case "aspnet":
                if (!this.Ua())
                  throw new DayPilot.Exception(
                    "ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/"
                  );
                break;
              case "netmvc":
                if (!this.backendUrl)
                  throw new DayPilot.Exception(
                    "DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/"
                  );
                break;
              case "javaxx":
                if (!this.backendUrl)
                  throw new DayPilot.Exception(
                    "DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/"
                  );
            }
          }),
          (this.D = function () {
            "hidden" === this.nav.top.style.visibility &&
              (this.nav.top.style.visibility = "visible");
          }),
          (this.dg = function () {
            var e = A.nav.top;
            return !!e && e.offsetWidth > 0 && e.offsetHeight > 0;
          }),
          (this.eg = function () {
            var e = A.dg;
            return e()
              ? void A.fg()
              : void (
                  A.Va ||
                  (A.Va = setInterval(function () {
                    e() && (clearInterval(A.Va), A.show(), A.Zp(), A.fg());
                  }, 100))
                );
          }),
          (this.Gu = function (e) {
            "Parent100Pct" !== this.heightSpec && (this.heightSpec = "Fixed"),
              (this.height = e - (this.Gl() + 2)),
              this.Bb();
          }),
          (this.setHeight = this.Gu),
          (this.nl = function (e) {
            return A.Cq(e).first();
          }),
          (this.eh = function () {
            if (this.id && this.id.tagName) this.nav.top = this.id;
            else {
              if ("string" != typeof this.id)
                throw new DayPilot.Exception(
                  "DayPilot.Scheduler() constructor requires the target element or its ID as a parameter"
                );
              if (
                ((this.nav.top = document.getElementById(this.id)),
                !this.nav.top)
              )
                throw new DayPilot.Exception(
                  "DayPilot.Scheduler: The placeholder element not found: '" +
                    t +
                    "'."
                );
            }
          }),
          (this.Hu = function () {
            (this.rowHeaderColumnsMode = "Legacy"),
              this.Qg(),
              this.Mk(),
              this.Nk(),
              this.Gm(),
              this.Hb(),
              this.jg(),
              this.eb(),
              o.gh(this),
              this.ob(this.afterRenderData, !1),
              this.ys(),
              this.Jb(),
              this.Pa("Init");
          }),
          (this.init = function () {
            if (this.va)
              throw new DayPilot.Exception(
                "This instance is already initialized. Use update() to change properties."
              );
            if ((this.eh(), this.nav.top.dp)) {
              if (this.nav.top.dp === A) return A;
              if (this.Ua()) return A;
              throw new DayPilot.Exception(
                "The target placeholder was already initialized by another DayPilot component instance."
              );
            }
            return this.ps(), this.Iu(), this.eg(), this.Ju(), this;
          }),
          (this.Ju = function () {
            A.keyboardEnabled && K.Bu();
          }),
          (this.Ku = function () {
            A.multiselect.Wk(A.selectedEvents);
          }),
          (this.Iu = function () {
            if ((this.Bm(), this.dh()))
              return this.Hu(), (this.va = !0), void this.Ja();
            this.jg(),
              this.eb(),
              o.gh(this),
              this.ys(),
              this.Ku(),
              A.zoomLevels &&
                A.zoomLevels[A.zoom.active] &&
                A.zoom.setActive(A.zoom.active),
              !A.va && M.Xl() && (A.hl || (A.hl = { date: A.startDate })),
              this.Cd();
            var angular = A.Og.scope || A.gl.enabled;
            A.scrollToDate
              ? A.scrollTo(A.scrollToDate)
              : A.scrollX || A.scrollY
              ? A.setScroll(A.scrollX, A.scrollY)
              : angular || A.bl(),
              A.scrollToResourceId &&
                (A.scrollToResource(A.scrollToResourceId),
                (A.scrollToResourceId = null));
            var e = function () {
              A.scrollY && A.setScroll(A.scrollX, A.scrollY);
            };
            window.setTimeout(e, 200),
              this.messageHTML &&
                window.setTimeout(function () {
                  A.message(A.messageHTML);
                }, 0),
              this.Jb(),
              this.Ja(),
              this.ob(this.afterRenderData, !1),
              A.initEventEnabled &&
                setTimeout(function () {
                  A.Pa("Init");
                }),
              this.hh(),
              (this.va = !0),
              (this.Lu = !0);
            var t = A.hl;
            t ? A.scrollTo(t.date, t.animated, t.position) : A.bl(),
              (A.hl = null);
          }),
          (this.qs = function () {
            A.ia() && delete A.infinite;
          }),
          (this.ih = null),
          (this.Sg = function (e) {
            if (e) {
              var t = {
                resources: {
                  preInit: function () {
                    var e = this.data;
                    e && (A.resources = e);
                  },
                },
                events: {
                  preInit: function () {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (A.events.list = e.list)
                        : (A.events.list = e));
                  },
                  postInit: function () {},
                },
                links: {
                  preInit: function () {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (A.links.list = e.list)
                        : (A.links.list = e));
                  },
                  postInit: function () {},
                },
                scrollTo: {
                  preInit: function () {},
                  postInit: function () {
                    this.data &&
                      A.fl(this.data, e.scrollToAnimated, e.scrollToPosition);
                  },
                },
                scrollX: {
                  postInit: function () {
                    this.data && A.ll(this.data);
                  },
                },
                scrollY: {
                  postInit: function () {
                    this.data && A.Cl(this.data);
                  },
                },
                zoom: {
                  preInit: function () {
                    var e = this.data;
                    if ("string" == typeof e) {
                      var t = e;
                      e = A.zoom.gd(t);
                    }
                    var n = e !== A.zoom.active,
                      i = A.zoom.Pj();
                    A.zoom.jd(e, i);
                    n ? (this.date = i) : (this.date = null);
                  },
                  postInit: function () {
                    this.date && A.fl(this.date, !1, A.zoomPosition);
                  },
                },
              };
              (A.ih = t),
                A.gl.scrollToRequested &&
                  ((t.scrollTo.data = A.gl.scrollToRequested),
                  (A.gl.scrollToRequested = null)),
                A.gl.scrollXRequested &&
                  ((t.scrollX.data = A.gl.scrollXRequested),
                  (A.gl.scrollXRequested = null)),
                A.gl.scrollYRequested &&
                  ((t.scrollY.data = A.gl.scrollYRequested),
                  (A.gl.scrollYRequested = null));
              for (var n in e) t[n] || (A[n] = e[n]);
              for (var n in e)
                if (t[n]) {
                  var i = t[n];
                  (i.data = e[n]), i.preInit && i.preInit();
                }
            }
          }),
          (this.hh = function () {
            var e = A.ih;
            for (var t in e) {
              var n = e[t];
              n.postInit && n.postInit();
            }
            A.ih = {};
          }),
          (this.diag = function () {
            var e = {};
            return (
              (e.dataEvents = A.events.list && A.events.list.length),
              (e.dataRows = A.rowlist && A.rowlist.length),
              (e.dataTimeline = A.itline && A.itline.length),
              (e.dataCells = e.dataTimeline * e.dataRows),
              (e.renderedEvents = A.elements.events.length),
              (e.renderedCells = A.elements.cells.length),
              (e.renderedRows =
                A.divResScroll.firstChild.childNodes.length - 1),
              (e.domEvents = A.divEvents.getElementsByTagName("*").length),
              (e.domCells = A.divCells.getElementsByTagName("*").length),
              (e.domRows = A.divResScroll.getElementsByTagName("*").length),
              e
            );
          }),
          (this.temp = {}),
          (this.temp.allowDuplicateEventIds = !1),
          (this.internal = {}),
          (this.internal.initialized = function () {
            return A.va;
          }),
          (this.internal.dragInProgress = this.rt),
          (this.internal.startMoving = this.ae),
          (this.internal.invokeEvent = this.ic),
          (this.internal.eventMenuClick = this.yc),
          (this.internal.timeRangeMenuClick = this.zc),
          (this.internal.resourceHeaderMenuClick = this.cn),
          (this.internal.linkMenuClick = this.bn),
          (this.internal.bubbleCallBack = this.wc),
          (this.internal.findEventDiv = this.Ng),
          (this.internal.rowStartMoving = this.nn.ae),
          (this.internal.getNodeChildren = this.mb),
          (this.internal.callback = function () {
            A.Pa.apply(A, arguments);
          }),
          (this.internal.createRowObject = this.en),
          (this.internal.restools = this.nr),
          (this.internal.gantt = null),
          (this.internal.adjustEndIn = A.Ti),
          (this.internal.adjustEndNormalize = A.rj),
          (this.internal.xssTextHtml = A.Ka),
          (this.internal.touch = A.Je),
          (this.internal.cssNames = A.at),
          (this.internal.enableCellStacking = function (e) {
            (A.zk = !0), (A.Ak = e);
          }),
          (this.internal.deleteDragSource = function () {
            A.uc();
          }),
          (this.internal.skipUpdate = A.gl.skipUpdate),
          (this.internal.skipped = A.gl.skipped),
          (this.internal.loadOptions = A.Sg),
          (this.internal.postInit = A.hh),
          (this.internal.enableAngular2 = function () {
            A.gl.enabled = !0;
          }),
          (this.internal.eventsFromAttr = function () {
            A.gl.uo = !0;
          }),
          (this.internal.resourcesFromAttr = function () {
            A.gl.Bo = !0;
          }),
          (this.internal.evImmediateRefresh = function () {
            A.events.Xm();
          }),
          (this.internal.enableReact = function (e, t) {
            (A.Y.react = e), (A.Y.reactDOM = t);
          }),
          (this.internal.reactRefs = function () {
            return g(A.Y, {}, ["react", "reactDOM"]);
          }),
          (this.Init = this.init),
          this.Sg(l);
      }),
        (l = "2023.2.5574" === new DayPilot.Scheduler().v),
        (DayPilot.Row = function (e, t) {
          if (!e)
            throw new DayPilot.Exception(
              "No row object supplied when creating DayPilot.Row"
            );
          if (!t)
            throw new DayPilot.Exception(
              "No parent control supplied when creating DayPilot.Row"
            );
          this.Mu = {};
          var n = this.Mu;
          (n.id = e.id),
            (n.name = e.name),
            (n.data = e.resource),
            (n.tags = e.tags);
          var i = this;
          (i.isRow = !0),
            (i.menuType = "resource"),
            (i.start = e.start),
            (i.name = e.name),
            (i.value = e.id),
            (i.id = e.id),
            (i.tags = e.tags),
            (i.bubbleHtml = e.bubbleHtml),
            (i.index = e.index),
            (i.displayY = e.displayY),
            (i.level = e.level),
            (i.calendar = t),
            (i.data = e.resource),
            (i.grid = e.grid),
            (i.Ep = e),
            (i.$ = {}),
            (i.$.row = e),
            (i.toJSON = function (e) {
              var t = {};
              return (
                (t.start = this.start),
                (t.name = this.name),
                (t.value = this.value),
                (t.id = this.id),
                (t.index = this.index),
                t
              );
            }),
            (i.parent = function () {
              return i.Ep.mr ? t.en(i.Ep.mr) : null;
            }),
            (i.children = function () {
              var e = x(i.$.row.children).map(function (e) {
                return t.en(t.rowlist[e]);
              });
              return (
                (e.add = function (e) {
                  var t = i.$.row.resource;
                  t.children || (t.children = []), t.children.push(e);
                }),
                e
              );
            }),
            (i.splitParent = function () {
              return i.Ep.split.parent ? t.en(i.Ep.split.parent) : null;
            }),
            (i.splitChildren = function () {
              return (i.Ep.split.list || []).map(function (e) {
                return t.en(e);
              });
            }),
            (i.loaded = function () {
              return i.Ep.loaded;
            }),
            Object.defineProperty(i, "hidden", {
              get: function () {
                return i.Ep.hidden;
              },
            }),
            Object.defineProperty(i, "hiddenUsingFilter", {
              get: function () {
                return i.Ep.zr;
              },
              set: function (e) {
                (i.Ep.zr = e), e || (i.Ep.hidden = !i.Ep.Ar());
              },
            }),
            (i.cells = {}),
            (i.cells.all = function () {
              for (
                var e = [], n = t.itline.length, a = i.index, r = 0;
                r < n;
                r++
              ) {
                var o = t.cells.findXy(r, a, i.grid);
                e.push(o[0]);
              }
              return t.Fo(e);
            }),
            (i.cells.forRange = function (e, n) {
              var a = i,
                r = a.start.getTime() - t.Tb().getTime();
              (e = new DayPilot.Date(e)), (n = new DayPilot.Date(n));
              var o = t.Tb().addTime(r),
                s = t.Xd().addTime(r);
              e < o && (e = o), n > s && (n = s);
              var l = t.cells.find(e, i)[0],
                d = t.cells.find(n.addTime(-1), i)[0];
              if (!l) return null;
              if (!d) return null;
              if (l.y !== d.y) return null;
              for (var c = l.y, u = [], h = l.x; h <= d.x; h++)
                u.push(t.cells.ee(h, c, l.grid));
              return t.Fo(u);
            }),
            (i.cells.totalDuration = function () {
              return new DayPilot.Duration(
                i.cells
                  .all()
                  .map(function (e) {
                    return e.end.getTime() - e.start.getTime();
                  })
                  .reduce(function (e, t) {
                    return e + t;
                  }, 0)
              );
            }),
            (i.events = {}),
            (i.events.all = function () {
              for (var e = x(), t = 0; t < i.Ep.events.length; t++)
                e.push(i.Ep.events[t]);
              return e;
            }),
            (i.events.isEmpty = function () {
              return 0 === i.Ep.events.length;
            }),
            (i.events.forRange = function (e, t) {
              return i.Ep.events.forRange(e, t);
            }),
            (i.events.totalDuration = function () {
              var e = 0;
              return (
                i.events.all().forEach(function (t) {
                  e += t.part.end.getTime() - t.part.start.getTime();
                }),
                new DayPilot.Duration(e)
              );
            }),
            (i.groups = {}),
            (i.groups.collapseAll = function () {
              for (var e = 0; e < i.Ep.blocks.length; e++) {
                new a(i.Ep.blocks[e]).Nu();
              }
              t.rm(), t.sm([i.Ep]), t.Bb();
            }),
            (i.groups.expandAll = function () {
              for (var e = 0; e < i.Ep.blocks.length; e++) {
                new a(i.Ep.blocks[e]).Ou();
              }
              t.rm(), t.sm([i.Ep]), t.Bb(), t.Fb();
            }),
            (i.groups.expanded = function () {
              for (var e = [], n = 0; n < i.Ep.blocks.length; n++) {
                var r = i.Ep.blocks[n];
                r.expanded &&
                  r.lines.length > t.groupConcurrentEventsLimit &&
                  e.push(new a(r));
              }
              return x(e);
            }),
            (i.groups.collapsed = function () {
              for (var e = [], t = 0; t < i.Ep.blocks.length; t++) {
                var n = i.Ep.blocks[t];
                n.expanded || e.push(new a(n));
              }
              return x(e);
            }),
            (i.groups.all = function () {
              for (var e = [], t = 0; t < i.Ep.blocks.length; t++) {
                var n = i.Ep.blocks[t];
                e.push(new a(n));
              }
              return x(e);
            }),
            (i.events.collapseGroups = i.groups.collapseAll),
            (i.events.expandGroups = i.groups.expandAll),
            (i.column = function (e) {
              return new r(i, e);
            }),
            (i.toggle = function () {
              t.ap(i.index);
            }),
            (i.collapse = function () {
              i.$.row.expanded && i.toggle();
            }),
            (i.expand = function () {
              i.$.row.expanded || i.toggle();
            }),
            (i.remove = function () {
              t.rows.remove(i);
            }),
            (i.edit = function () {
              t.rows.edit(i);
            }),
            (i.addClass = function (e) {
              var n = i,
                a = t.divHeader,
                n = a.rows[n.index];
              if (n) {
                f(
                  x(n.cells).map(function (e) {
                    return e.cellDiv;
                  }),
                  e
                );
              }
              (i.$.row.cssClass = DayPilot.Util.addClassToString(
                i.$.row.cssClass,
                e
              )),
                (i.data.cssClass = e);
            }),
            (i.removeClass = function (e) {
              var n = i,
                a = t.divHeader,
                n = a.rows[n.index];
              if (n) {
                h(
                  x(n.cells).map(function (e) {
                    return e.cellDiv;
                  }),
                  e
                );
              }
              (i.$.row.cssClass = DayPilot.Util.removeClassFromString(
                i.$.row.cssClass,
                e
              )),
                (i.data.cssClass = DayPilot.Util.removeClassFromString(
                  i.data.cssClass,
                  e
                ));
            });
          var a = function (e) {
              var n = function (e) {
                for (var n = 0; n < t.elements.events.length; n++) {
                  var i = t.elements.events[n];
                  if (i.event === e) return i;
                }
                return null;
              };
              (this.Ou = function () {
                e.expanded = !0;
                var i = t.Gq;
                x(e.events).forEach(function (e) {
                  i.push(e.id());
                });
                var a = n(e);
                if (a) {
                  t.Hs(a);
                  var r = D(t.elements.events, a);
                  r !== -1 && t.elements.events.splice(r, 1);
                }
              }),
                (this.expand = function () {
                  this.Ou(), t.rm(), t.sm([e.row]), t.Bb(), t.Fb();
                }),
                (this.Nu = function () {
                  if (e.lines.length > t.groupConcurrentEventsLimit) {
                    e.expanded = !1;
                    var n = x(e.events).map(function (e) {
                      return e.id();
                    });
                    t.Gq = t.Gq.filter(function (e) {
                      return !k(n, e);
                    });
                  }
                }),
                (this.collapse = function () {
                  this.Nu(), t.rm(), t.sm([e.row]), t.Bb();
                });
            },
            r = function (e, t) {
              this.html = function (e) {
                var n = i.calendar.divHeader,
                  i = n.rows[i.index];
                if (!i) throw new DayPilot.Exception("Row not rendered");
                var a = i.cells[t],
                  r = a.textDiv;
                return "undefined" == typeof e
                  ? r.innerHTML
                  : void (r.innerHTML = e);
              };
            };
        }),
        (o.hm = null),
        (o.Jo = null),
        (o.Kf = null),
        (o.Oo = null),
        (o.fp = null),
        (o.gm = !1),
        (o.kg = !1),
        (o.nt = null),
        (o.za = null),
        (o.Pu = function (e, t, n, i) {
          DayPilot.us(e);
          var a = (o.Pp = {});
          return (
            (a.element = e),
            (a.duration = t),
            (a.text = i),
            (a.id = n),
            (a.data = { id: n, text: i, duration: t, externalHtml: i }),
            !1
          );
        }),
        (DayPilot.Scheduler.def = {}),
        (DayPilot.Scheduler.startDragging = function (e) {
          var e = e || {},
            t = e.element,
            n = e.keepElement ? null : t;
          DayPilot.us(t);
          var i = (o.Pp = {});
          return (
            (i.element = n),
            (i.id = e.id),
            (i.duration = e.duration || 60),
            (i.text = e.text || ""),
            (i.data = e),
            (i.Mf = e),
            (i.Nf = e.data),
            !1
          );
        }),
        (DayPilot.Scheduler.makeDraggable = function (e) {
          function t() {
            var t = (o.Pp = {});
            (t.element = i),
              (t.id = r),
              (t.duration = l),
              (t.text = s),
              (t.data = e),
              (t.Mf = e),
              (t.Nf = e.data);
          }
          e = e || {};
          var n = e.element,
            i = e.keepElement ? null : e.remove || n,
            a = e.data || {},
            r = "undefined" != typeof e.id ? e.id : a.id,
            s = "string" == typeof e.text ? e.text : a.text || "",
            l = e.duration || a.duration;
          if (
            (l instanceof DayPilot.Duration && (l = l.totalSeconds()),
            l ||
              (l =
                a.start && a.end
                  ? new DayPilot.Duration(a.start, a.end).totalSeconds()
                  : 60),
            !n)
          )
            throw new DayPilot.Exception(
              "makeDraggable(options): options.element must be specified"
            );
          DayPilot.us(n),
            DayPilot.re(n, "mousedown", function (e) {
              if (b(e).left) {
                t();
                var n = e.target || e.srcElement;
                if (n.tagName) {
                  var i = n.tagName.toLowerCase();
                  if ("textarea" === i || "select" === i || "input" === i)
                    return !1;
                }
                return e.preventDefault(), !1;
              }
            }),
            DayPilot.reNonPassive(n, "touchstart", function (e) {
              window.setTimeout(function () {
                t(), o.ng(e), e.preventDefault();
              }, 0),
                e.preventDefault();
            });
        }),
        (DayPilot.Scheduler.stopDragging = function () {
          if (o.Pp && o.Pp.Bt) {
            var e = o.Pp.Bt,
              t = e.event.calendar;
            t && h(e, t.ca(n.at.eventMovingSource));
          }
          if (
            (o.Qu(),
            o.Oo && (C(o.ep), (o.Oo = null), (o.fp = null), (o.ep = null)),
            o.hm)
          ) {
            var n = o.Jo.calendar;
            n && (n.tc(), (n.jb = null), h(o.hm, n.ca(n.at.eventMovingSource))),
              C(o.Lp),
              (o.hm = null),
              (o.Jo = null),
              (o.Lp = null);
          }
          if (o.Po) {
            var n = o.Po.calendar;
            n.clearSelection(), (o.Po = null);
          }
          (d().style.cursor = ""),
            x(o.Hf).forEach(function (e) {
              e.ib(), e.Tp(), e.nn.ar(), e.Jp.clear();
            });
        }),
        (DayPilot.Scheduler.registerDropTarget = function (e) {
          e = e || {};
          var t = e.element,
            n = e.onDragOver,
            i = "function" == typeof n,
            a = e.onDrop,
            r = "function" == typeof a,
            s = e.onDragLeave,
            l = "function" == typeof s;
          if (!t)
            throw new DayPilot.Exception(
              "registerDropTarget(options): options.element must be specified"
            );
          t.addEventListener("mousemove", function (e) {
            if (o.Pp) {
              var t = o.Pp.event;
              if (t && i) {
                var a = {};
                (a.e = t), n(a);
              }
            }
          }),
            t.addEventListener("mouseleave", function (e) {
              if (o.Pp) {
                var t = o.Pp.event;
                if (t && l) {
                  var n = {};
                  (n.e = t), s(n);
                }
              }
            }),
            t.addEventListener("mouseup", function (e) {
              if (o.Pp) {
                var t = o.Pp.event;
                if (t && r) {
                  var n = {};
                  (n.e = t), a(n);
                }
              }
            });
        }),
        (o.Qu = function () {
          o.At && (d().removeChild(o.At), (o.At = null)), (o.Pp = null);
        }),
        (o.Ru = function () {
          var e = o.Pp;
          if (e) {
            var t = e && e.Mf,
              n = t && t.onDrop;
            if ("function" == typeof n) {
              var i = {};
              (i.options = t), n(i);
            }
          }
        }),
        (o.gh = function (e) {
          o.Hf ||
            ((o.Hf = x()),
            (o.Hf.out = function () {
              o.Hf.forEach(function (e) {
                e.gb();
              });
            }));
          for (var t = 0; t < o.Hf.length; t++) if (o.Hf[t] === e) return;
          o.Hf.push(e);
        }),
        (o.db = function (e) {
          var t = o.Hf;
          if (t) {
            var n = D(t, e);
            n !== -1 && t.splice(n, 1), 0 === t.length && (t = null);
          }
          t ||
            (DayPilot.ue(document, "mousemove", o.lg),
            DayPilot.ue(document, "mouseup", o.mg),
            DayPilot.ue(document, "mousedown", o.ws),
            DayPilot.ue(document, "touchmove", o.ng),
            DayPilot.ue(document, "touchend", o.og),
            DayPilot.ue(window, "keyup", o.xs),
            (o.kg = !1));
        }),
        (o.ng = function (e) {
          if (o.Oo) {
            var i = o.Oo.event.calendar;
            (i.coords = i.Je.xg(e)), i.Je.Bg();
          }
          if (o.hm && !o.Pp) {
            var i = o.Jo.calendar;
            (i.coords = i.Je.xg(e)),
              i.Je.Cg(),
              (function () {
                if (i.dragOutAllowed) {
                  var n = t(e);
                  if (!n || n !== i) {
                    var a = o.Jo;
                    o.Pp = {};
                    var r = o.Pp;
                    (r.id = a.id()),
                      (r.text = a.text()),
                      (r.Bt = o.hm),
                      (r.element = null),
                      (r.duration =
                        (a.rawend().getTime() - a.start().getTime()) / 1e3),
                      (r.text = a.text()),
                      (r.id = a.id()),
                      (r.event = g(a, new DayPilot.Event())),
                      i.Tp(),
                      C(o.Lp),
                      (o.Lp.calendar = null),
                      (o.Lp = null),
                      (o.No = null),
                      o.Hf.out();
                  }
                }
              })();
          }
          if (o.Pp) {
            var a = n(e),
              i = t(e);
            if (i) {
              if (
                (o.At && d().removeChild(o.At),
                (o.At = null),
                (i.coords = i.Je.xg(e)),
                !o.Lp && i.rowlist.length > 0)
              ) {
                if (!o.hm) {
                  o.hm = {};
                  var r = o.Pp.event;
                  if (!r) {
                    var e = i.Ct();
                    (r = new DayPilot.Event(e)),
                      (r.calendar = i),
                      (r.part.duration = 1e3 * o.Pp.duration);
                  }
                  r.part.external = !0;
                  var s = o.Pp.Bt;
                  s &&
                    s.event &&
                    s.event.calendar === i &&
                    (r.part.external = !1),
                    (o.Jo = r);
                }
                o.Lp = i.Lb(o.Jo);
              }
              o.hm && i.Je.Cg();
            } else {
              C(o.Lp);
              var l = o.hm;
              (o.hm = null),
                (o.Jo = null),
                (o.Lp = null),
                o.At || ((o.At = o.Su(o.Pp.Mf)), (o.At.source = l));
              var c = o.At;
              (c.style.left = a.x + "px"),
                (c.style.top = a.y + "px"),
                o.Hf.out();
            }
          }
        }),
        (o.og = function (e) {
          (o.Ur = !1), o.mg(e);
        }),
        (o.lg = function (e) {
          if (
            "undefined" != typeof o &&
            !w.touch.active &&
            !w.touch.start &&
            !(e.insideMainD || (e.srcElement && e.srcElement.inside))
          ) {
            var t = DayPilot.mc(e);
            if (o.Pp) {
              if (!o.Pp.Tu) {
                var n = o.Pp.Mf || {},
                  i = n.onDragStart,
                  a = !1;
                if ("function" == typeof i) {
                  var r = {};
                  (r.options = n),
                    (r.preventDefault = function () {
                      r.preventDefault.value = !0;
                    }),
                    i(r),
                    (a = r.preventDefault.value);
                }
                if (((o.Pp.Tu = !0), a)) return o.Ru(), void (o.Pp = null);
              }
              (d().style.cursor = "move"), o.At || (o.At = o.Su(o.Pp.Mf));
              var s = o.At;
              if (
                ((s.style.left = t.x + "px"),
                (s.style.top = t.y + "px"),
                (o.hm = null),
                (o.Jo = null),
                o.Lp)
              ) {
                var l = o.Lp.calendar;
                l && l.Tp(), (o.Lp.calendar = null), C(o.Lp), (o.Lp = null);
              }
            } else if (o.hm && o.Jo && o.Jo.calendar.dragOutAllowed && !o.Pp) {
              var l = o.Jo.calendar,
                e = o.Jo;
              (d().style.cursor = "move"),
                o.At || ((o.At = o.Su(e.data)), (o.At.source = o.hm));
              var s = o.At;
              (s.style.left = t.x + "px"),
                (s.style.top = t.y + "px"),
                (o.Pp = {});
              var c = o.Pp;
              (c.Bt = o.hm),
                (c.element = null),
                (c.duration =
                  (e.rawend().getTime() - e.start().getTime()) / 1e3),
                (c.text = e.text()),
                (c.id = e.value()),
                (c.event = g(e, new DayPilot.Event())),
                l.Tp(),
                C(o.Lp),
                (o.Lp.calendar = null),
                (o.Lp = null);
            }
            if (o.fq && 0 === e.buttons) {
              o.fq.cleanup(), (o.fq = null);
            }
            o.Hf.out();
          }
        }),
        (o.jh = function (e) {
          if (o.Hf)
            for (var t = 0; t < o.Hf.length; t++) {
              var n = o.Hf[t];
              o.db(n);
            }
        }),
        (o.ws = function (e) {
          o.no && o.no.blur();
        }),
        (o.xs = function (e) {
          17 === e.keyCode && o.ot && o.ot.Rt.dispatch();
        }),
        (o.mg = function (e) {
          if (
            (x(o.Hf).forEach(function (e) {
              e.ib(), (e.hm = {}), (e.st = null);
            }),
            o.Oo)
          ) {
            var t = function () {
              var e = o.fp,
                t = e.calendar;
              (d().style.cursor = ""),
                (o.Oo = null),
                (o.fp = null),
                C(o.ep),
                (o.ep = null),
                t && (t.tt = null);
            };
            if (
              (setTimeout(function () {
                o.gm = !1;
              }),
              !o.ep)
            )
              return void t();
            var n = o.fp,
              i = n.calendar,
              a = o.ep.finalStart,
              r = o.ep.finalEnd,
              l = o.ep.overlapping,
              c = !o.ep.allowed,
              u = i.wp.isInvalid();
            i.Tp(), i.wp.clear();
            var f = "left" === o.Oo.dpBorder ? "start" : "end";
            if ((t(), l || c || u || i.wp.forbidden)) return;
            i.oc(n, a, r, f);
          } else if (o.Jo) {
            var t = function () {
              w.movingAreaData = null;
              var e = o.Lp && o.Lp.calendar;
              o.Lp && (C(o.Lp), (o.Lp.calendar = null)),
                (d().style.cursor = ""),
                (o.hm = null),
                (o.Jo = null),
                o.Ru(),
                (o.Pp = null),
                e && (e.jb = null);
            };
            if (
              (setTimeout(function () {
                o.gm = !1;
              }),
              !o.Lp)
            )
              return void t();
            var v = o.Pp && o.Pp.Bt,
              n = v ? v.event : o.Jo,
              i = o.Lp.calendar;
            if (!i) return void t();
            if (n.calendar && n.calendar !== i) {
              var p = n.calendar,
                m = n,
                y = g(n.data);
              (n = new DayPilot.Event(y, p)),
                (n.part = { external: !0, duration: p.So(m) });
            }
            if (
              ((o.Lp.source = o.hm),
              (function () {
                if (o.Pp && o.Pp.Bt) {
                  var e = o.Pp.Bt;
                  if (e && e.event) {
                    h(e, e.event.calendar.ca(i.at.eventMovingSource));
                  }
                }
              })(),
              !o.Lp.row)
            )
              return void t();
            clearTimeout(i.$o.timeout);
            var a = o.Lp.start,
              r = o.Lp.end,
              k = "Days" !== i.viewType ? o.Lp.row.id : null,
              D = n.part.external,
              E = o.Lp.line,
              l = o.Lp.overlapping,
              c = !o.Lp.allowed;
            if (
              (o.Pp &&
                (i.cl || (i.cl = {}),
                (i.cl.dl = o.Pp.element),
                o.Ru(),
                (o.Pp = null)),
              (o.Lp.calendar = null),
              (d().style.cursor = ""),
              (o.hm = null),
              (o.Jo = null),
              l || c || i.Jp.forbidden || i.Jp.invalid)
            )
              return void i.tc();
            i.sc(n, a, r, k, D, e, E), (w.movingAreaData = null);
          } else if (o.Po) {
            var T = b(e),
              A = o.Po,
              i = A.calendar,
              t = function () {};
            i.Ot = null;
            var H = e.ctrlKey || e.metaKey;
            if (i.allowMultiRange)
              return (
                i.elements.range2.overlapping
                  ? (C(i.elements.range2), (i.elements.range2 = null), i.Tp())
                  : i.Rt.add(A),
                (o.Po = null),
                H || (T.left && i.Rt.dispatch()),
                void t()
              );
            if (o.nt) return clearTimeout(o.nt), (o.nt = null), void t();
            (i._m = A), (o.Po = null);
            var M = function (e) {
                return function () {
                  o.nt = null;
                  var t = i.elements.range2;
                  return t && t.overlapping
                    ? void i.clearSelection()
                    : void i.Ym(e);
                };
              },
              R = i.Pt(A);
            if ((t(), !T.left)) return void (o.nt = null);
            if (A.moved || "Disabled" === i.timeRangeDoubleClickHandling)
              return M(R)(), (e.cancelBubble = !0), !1;
            o.nt = setTimeout(M(R), i.doubleClickTimeout);
          } else if (S.row) {
            var i = S.calendar;
            i && i._q();
          } else if (_.source) {
            var i = _.calendar;
            i.Sn._i(), i.Sn.Hm(), (_.source = null), (_.calendar = null);
          } else if (o.fq) {
            var B = o.fq;
            B.cleanup(), (o.fq = null);
          } else if (o.qt) {
            var P = o.qt,
              i = P.calendar;
            if (!P.moved)
              return (o.qt = null), void (i.Zs(i.coords) || i.St(e));
            var N = P.x,
              L = P.y,
              I = P.width,
              z = P.height,
              O = !1,
              j = i.vl.wl(N, L, I, z).map(function (e) {
                return e.event;
              }),
              U = function () {
                setTimeout(function () {
                  i.Et.clear(), (o.qt = null);
                }, 0),
                  i.Tp();
              };
            if (
              "function" == typeof i.onRectangleEventSelect ||
              "function" == typeof i.onRectangleSelect
            ) {
              var W = i.Bn(L).i,
                F = i.Bn(L + z).i,
                Y = { start: { y: W }, end: { y: F } },
                q = i.xn(Y),
                J = {};
              if (
                ((J.events = j),
                (J.append = !1),
                (J.start = i.getDate(N, !0)),
                (J.end = i.getDate(N + I, !0)),
                (J.resources = q),
                (J.preventDefault = function () {
                  this.preventDefault.value = !0;
                }),
                "function" == typeof i.onRectangleEventSelect &&
                  i.onRectangleEventSelect(J),
                "function" == typeof i.onRectangleSelect &&
                  i.onRectangleSelect(J),
                J.preventDefault.value)
              )
                return i.Et.clear(), (o.qt = null), void U();
              O = J.append;
            }
            if (
              ("EventSelect" === i.Ma.Cu() &&
                (O || i.multiselect.clear(!0),
                j.forEach(function (e) {
                  i.multiselect.add(e, !0);
                }),
                i.multiselect.redraw()),
              U(),
              "function" == typeof i.onRectangleEventSelected ||
                "function" == typeof i.onRectangleSelected)
            ) {
              var J = {};
              (J.events = j),
                "function" == typeof i.onRectangleEventSelected &&
                  i.onRectangleEventSelected(J),
                "function" == typeof i.onRectangleSelected &&
                  i.onRectangleSelected(J);
            }
          }
          if (
            (o.Pp &&
              (o.Pp.event && o.Pp.event.part && delete o.Pp.event.part.external,
              o.Ru(),
              (o.Pp = null),
              (d().style.cursor = "")),
            o.At)
          ) {
            if (o.At.source) {
              var v = o.At.source;
              if (v.event) {
                var i = o.At.source.event.calendar;
                h(o.At.source, i.ca(i.at.eventMovingSource));
              } else s();
            }
            d().removeChild(o.At), (o.At = null);
          }
          (o.Io = null), (o.No = null);
        }),
        (o.Su = function (e) {
          e = e || {};
          var t = document.createElement("div");
          return (
            t.setAttribute("unselectable", "on"),
            (t.style.position = "absolute"),
            (t.style.width = "100px"),
            (t.style.height = "20px"),
            (t.style.zIndex = 101),
            (t.style.pointerEvents = "none"),
            (t.style.backgroundColor = "#aaaaaa"),
            (t.style.opacity = 0.5),
            (t.style.overflow = "hidden"),
            (t.className = e.externalCssClass),
            e.externalHtml && (t.innerHTML = e.externalHtml),
            d().appendChild(t),
            t
          );
        });
      var S = {};
      w.rowmoving = S;
      var _ = {};
      (w.linking = _),
        "undefined" != typeof jQuery &&
          !(function (e) {
            e.fn.daypilotScheduler = function (e) {
              var t = null,
                n = this.each(function () {
                  if (!this.daypilot) {
                    var n = new DayPilot.Scheduler(this.id || this, e);
                    n.init(), (this.daypilot = n), t || (t = n);
                  }
                });
              return 1 === this.length ? t : n;
            };
          })(jQuery),
        (function () {
          var e = DayPilot.am();
          e &&
            e.directive("daypilotScheduler", [
              "$parse",
              function (e) {
                return {
                  restrict: "E",
                  template: "<div id='{{id}}'></div>",
                  compile: function (t, n) {
                    return (
                      t[0].removeAttribute("id"),
                      (t[0].innerHTML = this["template"].replace(
                        "{{id}}",
                        n["id"]
                      )),
                      function (t, n, i) {
                        var a = new DayPilot.Scheduler(n[0].firstChild);
                        a.Og.scope = t;
                        var r = i["id"];
                        r && (t[r] = a);
                        var o = i["publishAs"];
                        if (o) {
                          (0, e(o).assign)(t, a);
                        }
                        for (var s in i)
                          if (0 === s.indexOf("on")) {
                            var l = DayPilot.Util.shouldApply(s);
                            l
                              ? !(function (n) {
                                  a[n] = function (a) {
                                    var r = e(i[n]);
                                    DayPilot.Util.safeApply(t, function () {
                                      r(t, { args: a });
                                    });
                                  };
                                })(s)
                              : !(function (n) {
                                  a[n] = function (a) {
                                    e(i[n])(t, { args: a });
                                  };
                                })(s);
                          }
                        var d = t["$watch"],
                          c = i["config"] || i["daypilotConfig"],
                          u = i["events"] || i["daypilotEvents"];
                        c || a.init(),
                          d.call(
                            t,
                            c,
                            function (e, t) {
                              a.Sg(e), a.va ? (a.update(), a.hh()) : a.init();
                            },
                            !0
                          ),
                          u &&
                            d.call(
                              t,
                              u,
                              function (e) {
                                (a.events.list = e), a.Cd({ eventsOnly: !0 });
                              },
                              !0
                            ),
                          t.$on("$destroy", function () {
                            a.dispose();
                          });
                      }
                    );
                  },
                };
              },
            ]);
        })(),
        "undefined" != typeof Sys &&
          Sys.Application &&
          Sys.Application.notifyScriptLoaded &&
          Sys.Application.notifyScriptLoaded();
    }
  })(DayPilot),
  "undefined" == typeof DayPilot)
)
  var DayPilot = {};
"undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function (DayPilot) {
    "undefined" == typeof DayPilot.Year &&
      (DayPilot.Year = function (e, t) {
        this.v = "2023.2.5574";
        (this.startDate = new DayPilot.Date()),
          (this.cssOnly = !0),
          (this.cssClassPrefix = null),
          (this.columns = 4),
          (this.cellWidth = 20),
          (this.showWeekNumbers = !1),
          (this.Uu = []),
          (this.sj = function () {
            (this.root.dp = this),
              (this.Oh = new DayPilot.Date(
                this.startDate.toString("yyyy-01-01", "en-us")
              ));
          }),
          (this.ca = function (e) {
            return this.cssClassPrefix ? this.cssClassPrefix + e : "";
          }),
          (this.tj = function () {
            return this.showWeekNumbers ? this.cellWidth : 0;
          }),
          (this.Fp = function () {
            this.Uu = [];
            var e = this.columns,
              t = 12 / e;
            (this.root.className = this.ca("_main")),
              (this.root.style.width =
                e * (7 * this.cellWidth + this.tj()) + "px");
            for (var n = 0; n < t; n++) {
              for (var i = 0; i < e; i++) {
                var a = n * e + i,
                  r = r + "_nav_" + a,
                  o = document.createElement("div");
                (o.id = r), (o.style.float = "left"), this.root.appendChild(o);
                var s = new DayPilot.Navigator(r);
                (s.startDate = this.Oh.addMonths(a)),
                  (s.cssOnly = this.cssOnly),
                  (s.cssClassPrefix = this.cssClassPrefix),
                  (s.cellWidth = this.cellWidth),
                  (s.showWeekNumbers = this.showWeekNumbers),
                  (s.internal.showLinks = {}),
                  (s.selectMode = "none"),
                  (s.timeRangeSelectedHandling = "JavaScript"),
                  (s.onTimeRangeSelected = this.Vu),
                  s.init(),
                  (s.root.className = ""),
                  this.Uu.push(s);
              }
              var l = document.createElement("div");
              (l.style.clear = "left"), this.root.appendChild(l);
            }
          }),
          (this.Vu = function (e) {
            alert("clicked: " + e.day);
          }),
          (this.init = function () {
            if (((this.root = document.getElementById(e)), !this.root.dp))
              return this.sj(), this.Fp(), this;
          });
      });
  })(DayPilot);
